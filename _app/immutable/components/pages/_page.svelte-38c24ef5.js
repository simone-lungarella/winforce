import{S as tt,i as rt,s as at,k as d,q as M,a as I,F as q,l as p,m as c,r as T,c as k,h as o,G as Y,n as e,b as ge,D as r,H as Ee,P as Mt,u as Q,Q as Ue,R as Ze,B as xe,I as qe,E as dt,T as Bt,U as $t,f as ue,V as Xt,O as Kt,o as Gt,W as et,d as ct,t as ze,X as Tt,e as It,w as pt,x as mt,y as ft,z as ht,g as ut,Y as jt}from"../../chunks/index-f01ecd9e.js";import{w as Rt}from"../../chunks/index-c4d40313.js";function Ut(n){const t=n-1;return t*t*t+1}function Ke(n,{delay:t=0,duration:a=400,easing:i=Ut}={}){const u=getComputedStyle(n),l=+u.opacity,s=parseFloat(u.height),f=parseFloat(u.paddingTop),_=parseFloat(u.paddingBottom),O=parseFloat(u.marginTop),C=parseFloat(u.marginBottom),z=parseFloat(u.borderTopWidth),w=parseFloat(u.borderBottomWidth);return{delay:t,duration:a,easing:i,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*l};height: ${m*s}px;padding-top: ${m*f}px;padding-bottom: ${m*_}px;margin-top: ${m*O}px;margin-bottom: ${m*C}px;border-top-width: ${m*z}px;border-bottom-width: ${m*w}px;`}}const Ht={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Jt(n){let t;return{c(){t=d("div"),this.h()},l(a){t=p(a,"DIV",{class:!0}),c(t).forEach(o),this.h()},h(){e(t,"class","hidden md:flex col-span-2 md:col-span-1")},m(a,i){ge(a,t,i)},p:xe,d(a){a&&o(t)}}}function Zt(n){let t,a,i,u=n[0].odlNumber+"",l;return{c(){t=d("p"),a=M("ODL: "),i=d("span"),l=M(u),this.h()},l(s){t=p(s,"P",{class:!0});var f=c(t);a=T(f,"ODL: "),i=p(f,"SPAN",{class:!0});var _=c(i);l=T(_,u),_.forEach(o),f.forEach(o),this.h()},h(){e(i,"class","text-amber-400"),e(t,"class","hidden md:group-hover:flex justify-end mr-5 col-span-1")},m(s,f){ge(s,t,f),r(t,a),r(t,i),r(i,l)},p(s,f){f&1&&u!==(u=s[0].odlNumber+"")&&Q(l,u)},d(s){s&&o(t)}}}function qt(n){let t,a,i,u=n[0].turbineName+"",l,s,f,_,O=n[0].turbineNumber+"",C,z,w,m,y,g,$=n[0].creationDate+"",S,b,B,W,ee,U,H,ae,J=n[0].description+"",ve,ie,de,P,D,E,h,N,K,G=n[0].operation[0]+"",_e,pe,te,me=n[0].turbineState+"",Z,oe,Ne,ne,fe,X,De,re,Pe,ce,V,we,ke,le,he,Le,Oe,Re;function Se(R,F){return R[0].odlNumber!==0?Zt:Jt}let Ce=Se(n),se=Ce(n);return{c(){t=d("div"),a=d("grid"),i=d("h1"),l=M(u),s=I(),f=d("span"),_=M("- "),C=M(O),z=I(),w=d("span"),m=M(n[1]),y=I(),g=d("span"),S=M($),b=I(),B=d("div"),W=q("svg"),ee=q("path"),U=q("circle"),H=I(),ae=d("span"),ve=M(J),ie=I(),se.c(),de=I(),P=d("div"),D=q("svg"),E=q("path"),h=q("rect"),N=I(),K=d("span"),_e=M(G),pe=I(),te=d("span"),Z=M(me),oe=I(),Ne=d("div"),ne=d("div"),fe=d("button"),X=q("svg"),De=q("circle"),re=q("line"),Pe=I(),ce=d("button"),V=q("svg"),we=q("polyline"),ke=q("path"),le=q("line"),he=q("line"),this.h()},l(R){t=p(R,"DIV",{class:!0});var F=c(t);a=p(F,"GRID",{class:!0});var L=c(a);i=p(L,"H1",{class:!0});var We=c(i);l=T(We,u),s=k(We),f=p(We,"SPAN",{class:!0});var Fe=c(f);_=T(Fe,"- "),C=T(Fe,O),Fe.forEach(o),We.forEach(o),z=k(L),w=p(L,"SPAN",{class:!0});var $e=c(w);m=T($e,n[1]),$e.forEach(o),y=k(L),g=p(L,"SPAN",{class:!0});var Xe=c(g);S=T(Xe,$),Xe.forEach(o),b=k(L),B=p(L,"DIV",{class:!0});var Ve=c(B);W=Y(Ve,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Me=c(W);ee=Y(Me,"path",{d:!0}),c(ee).forEach(o),U=Y(Me,"circle",{cx:!0,cy:!0,r:!0}),c(U).forEach(o),Me.forEach(o),H=k(Ve),ae=p(Ve,"SPAN",{});var j=c(ae);ve=T(j,J),j.forEach(o),Ve.forEach(o),ie=k(L),se.l(L),de=k(L),P=p(L,"DIV",{class:!0});var Te=c(P);D=Y(Te,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ge=c(D);E=Y(Ge,"path",{d:!0}),c(E).forEach(o),h=Y(Ge,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),c(h).forEach(o),Ge.forEach(o),N=k(Te),K=p(Te,"SPAN",{class:!0});var v=c(K);_e=T(v,G),v.forEach(o),Te.forEach(o),pe=k(L),te=p(L,"SPAN",{class:!0});var A=c(te);Z=T(A,me),A.forEach(o),L.forEach(o),oe=k(F),Ne=p(F,"DIV",{class:!0});var x=c(Ne);ne=p(x,"DIV",{class:!0});var be=c(ne);fe=p(be,"BUTTON",{class:!0});var He=c(fe);X=Y(He,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var je=c(X);De=Y(je,"circle",{cx:!0,cy:!0,r:!0}),c(De).forEach(o),re=Y(je,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),c(re).forEach(o),je.forEach(o),He.forEach(o),Pe=k(be),ce=p(be,"BUTTON",{class:!0});var Je=c(ce);V=Y(Je,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ye=c(V);we=Y(ye,"polyline",{points:!0}),c(we).forEach(o),ke=Y(ye,"path",{d:!0}),c(ke).forEach(o),le=Y(ye,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),c(le).forEach(o),he=Y(ye,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),c(he).forEach(o),ye.forEach(o),Je.forEach(o),be.forEach(o),x.forEach(o),F.forEach(o),this.h()},h(){e(f,"class","hidden md:inline-block"),e(i,"class","font-bold text-4xl mt-5 col-span-1 md:col-span-2"),e(w,"class","col-span-2 md:col-span-1 font-bold hidden group-hover:flex"),e(g,"class","col-span-2 md:col-span-1 hidden group-hover:flex md:justify-end md:mr-5"),e(ee,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),e(U,"cx","12"),e(U,"cy","10"),e(U,"r","3"),e(W,"xmlns","http://www.w3.org/2000/svg"),e(W,"width","24"),e(W,"height","24"),e(W,"viewBox","0 0 24 24"),e(W,"fill","none"),e(W,"stroke","currentColor"),e(W,"stroke-width","2"),e(W,"stroke-linecap","round"),e(W,"stroke-linejoin","round"),e(W,"class","feather feather-map-pin col-span-1"),e(B,"class","col-span-2 md:col-span-1 hidden group-hover:flex gap-2"),e(E,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),e(h,"x","8"),e(h,"y","2"),e(h,"width","8"),e(h,"height","4"),e(h,"rx","1"),e(h,"ry","1"),e(D,"xmlns","http://www.w3.org/2000/svg"),e(D,"width","24"),e(D,"height","24"),e(D,"viewBox","0 0 24 24"),e(D,"fill","none"),e(D,"stroke","currentColor"),e(D,"stroke-width","2"),e(D,"stroke-linecap","round"),e(D,"stroke-linejoin","round"),e(D,"class","feather feather-clipboard"),e(K,"class","col-span-2 md:col-span-1 hidden group-hover:flex"),e(P,"class","hidden group-hover:flex gap-2"),e(te,"class","col-span-2 md:col-span-1 hidden group-hover:flex md:justify-end md:mr-5 font-bold"),e(a,"class","grid grid-cols-1 md:grid-cols-2 text-white font-mono gap-4"),e(De,"cx","11"),e(De,"cy","11"),e(De,"r","8"),e(re,"x1","21"),e(re,"y1","21"),e(re,"x2","16.65"),e(re,"y2","16.65"),e(X,"xmlns","http://www.w3.org/2000/svg"),e(X,"width","20"),e(X,"height","20"),e(X,"viewBox","0 0 24 24"),e(X,"fill","none"),e(X,"stroke","currentColor"),e(X,"stroke-width","2"),e(X,"stroke-linecap","round"),e(X,"stroke-linejoin","round"),e(X,"class","feather feather-search"),e(fe,"class","bg-gray-700 hover:bg-gray-600 py-2 px-4 rounded-sm md:rounded-l"),e(we,"points","3 6 5 6 21 6"),e(ke,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),e(le,"x1","10"),e(le,"y1","11"),e(le,"x2","10"),e(le,"y2","17"),e(he,"x1","14"),e(he,"y1","11"),e(he,"x2","14"),e(he,"y2","17"),e(V,"xmlns","http://www.w3.org/2000/svg"),e(V,"width","20"),e(V,"height","20"),e(V,"viewBox","0 0 24 24"),e(V,"fill","none"),e(V,"stroke","currentColor"),e(V,"stroke-width","2"),e(V,"stroke-linecap","round"),e(V,"stroke-linejoin","round"),e(V,"class","feather feather-trash-2"),e(ce,"class","bg-red-700 hover:bg-red-600 py-2 px-4 rounded-sm md:rounded-r flex justify-center w-auto"),e(ne,"class","flex flex-col md:flex-row gap-2 md:gap-0"),e(Ne,"class","absolute top-0 right-0 mr-5 md:mr-9 mt-5"),e(t,"class","bg-gray-800 h-32 md:h-20 px-4 my-4 mx-2 md:mx-0 rounded-sm shadow-md content-center hover:ring-2 ring-amber-500 transition duration-300 ease-in-out transform hover:h-auto pb-5 md:hover:h-48 hover:content-start group")},m(R,F){ge(R,t,F),r(t,a),r(a,i),r(i,l),r(i,s),r(i,f),r(f,_),r(f,C),r(a,z),r(a,w),r(w,m),r(a,y),r(a,g),r(g,S),r(a,b),r(a,B),r(B,W),r(W,ee),r(W,U),r(B,H),r(B,ae),r(ae,ve),r(a,ie),se.m(a,null),r(a,de),r(a,P),r(P,D),r(D,E),r(D,h),r(P,N),r(P,K),r(K,_e),r(a,pe),r(a,te),r(te,Z),r(t,oe),r(t,Ne),r(Ne,ne),r(ne,fe),r(fe,X),r(X,De),r(X,re),r(ne,Pe),r(ne,ce),r(ce,V),r(V,we),r(V,ke),r(V,le),r(V,he),Oe||(Re=[Ee(fe,"click",Mt(n[2])),Ee(ce,"click",Mt(n[3]))],Oe=!0)},p(R,[F]){F&1&&u!==(u=R[0].turbineName+"")&&Q(l,u),F&1&&O!==(O=R[0].turbineNumber+"")&&Q(C,O),F&1&&$!==($=R[0].creationDate+"")&&Q(S,$),F&1&&J!==(J=R[0].description+"")&&Q(ve,J),Ce===(Ce=Se(R))&&se?se.p(R,F):(se.d(1),se=Ce(R),se&&(se.c(),se.m(a,de))),F&1&&G!==(G=R[0].operation[0]+"")&&Q(_e,G),F&1&&me!==(me=R[0].turbineState+"")&&Q(Z,me)},i(R){Le||Ue(()=>{Le=Ze(t,Ke,{duration:1e3}),Le.start()})},o:xe,d(R){R&&o(t),se.d(),Oe=!1,qe(Re)}}}function Yt(n,t,a){let{turbine:i={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",mailSent:!1}}=t,u=Ht[i.completedSteps+1];const l=dt(),s=()=>{l("showDetails",i.id)},f=()=>{l("deleteTurbine",i.id)};return n.$$set=_=>{"turbine"in _&&a(0,i=_.turbine)},[i,u,s,f]}class Qt extends tt{constructor(t){super(),rt(this,t,Yt,qt,at,{turbine:0})}}let bt=Rt([{id:1135,turbineName:"PL17",turbineNumber:"2044",description:"Ploaghe",odlNumber:2393596,power:"KILOWATT",operation:["Sostituzione generatore"],creationDate:"13-12-2022 11:55",turbineState:"Ferma",completedSteps:0,startingDateOOCC:"2022-12-01",mailSent:!1},{id:1160,turbineName:"RO09",turbineNumber:"2061",description:"Roseto Valfortore",odlNumber:2394955,power:"KILOWATT",operation:["Sostituzione generatore"],creationDate:"03-01-2023 13:03",turbineState:"Ferma",completedSteps:1,startingDateEEMM:"2023-01-03",startingDateOOCC:"2023-01-04",permittingDate:"2023-01-01",mailSent:!1},{id:1169,turbineName:"PC15",turbineNumber:"2062",description:"Pietracatella",odlNumber:0,power:"KILOWATT",operation:["Attività Varie"],creationDate:"03-01-2023 13:23",turbineState:"In marcia",completedSteps:1,startingDateOOCC:"2023-01-11",mailSent:!1},{id:991,turbineName:"MC02",turbineNumber:"XXXX",description:"Macchia",odlNumber:0,power:"KILOWATT",operation:["Riparazione pale"],creationDate:"05-10-2022 09:44",turbineState:"In marcia",completedSteps:2,startingDateOOCC:"2022-10-10",mailSent:!1},{id:999,turbineName:"MC11",turbineNumber:"XXXX",description:"Macchia",odlNumber:0,power:"KILOWATT",operation:["Riparazione pale"],creationDate:"05-10-2022 09:44",turbineState:"In marcia",completedSteps:2,startingDateOOCC:"2022-10-10",mailSent:!1},{id:1007,turbineName:"MC12",turbineNumber:"XXXX",description:"Macchia",odlNumber:0,power:"KILOWATT",operation:["Riparazione pale"],creationDate:"05-10-2022 09:45",turbineState:"In marcia",completedSteps:2,startingDateOOCC:"2022-10-10",mailSent:!1},{id:927,turbineName:"MC05",turbineNumber:"XXXX",description:"Macchia",odlNumber:2445094,power:"KILOWATT",operation:["Riparazione pale"],creationDate:"08-09-2022 12:07",turbineState:"In marcia",completedSteps:2,mailSent:!1},{id:1127,turbineName:"PL19",turbineNumber:"2049",description:"Ploaghe",odlNumber:2394345,power:"KILOWATT",operation:["Sostituzione generatore"],creationDate:"13-12-2022 11:54",turbineState:"Ferma",completedSteps:2,startingDateOOCC:"2022-12-19",mailSent:!1},{id:1095,turbineName:"CA13",turbineNumber:"2039",description:"Carlentini",odlNumber:2392374,power:"MEGAWATT",operation:["Sostituzione Blade Bearing"],creationDate:"07-11-2022 13:40",turbineState:"Ferma",completedSteps:3,startingDateEEMM:"2022-11-13",startingDateOOCC:"2022-11-07",mailSent:!1},{id:943,turbineName:"CA14",turbineNumber:"2019",description:"Carlentini",odlNumber:0,power:"KILOWATT",operation:["Sostituzione cuscinetto"],creationDate:"28-09-2022 06:22",turbineState:"In marcia",completedSteps:3,startingDateOOCC:"2022-10-03",permittingDate:"2022-09-26",mailSent:!0},{id:863,turbineName:"GAS59",turbineNumber:"2000",description:"Fossa del Lupo",odlNumber:244389,power:"MEGAWATT",operation:["Sostituzione Blade Bearing"],creationDate:"05-09-2022 12:48",turbineState:"In marcia",completedSteps:4,startingDateOOCC:"2022-09-12",completionDateOOCC:"2022-09-12",permittingDate:"2022-09-08",mailSent:!0},{id:871,turbineName:"PAL37",turbineNumber:"2000",description:"Fossa del Lupo",odlNumber:0,power:"MEGAWATT",operation:["Sostituzione Blade Bearing"],creationDate:"05-09-2022 12:50",turbineState:"In marcia",completedSteps:4,startingDateOOCC:"2022-09-12",completionDateOOCC:"2022-09-12",permittingDate:"2022-09-08",mailSent:!0},{id:1023,turbineName:"AM01",turbineNumber:"1969",description:"Amaroni",odlNumber:2434422,power:"MEGAWATT",operation:["Riparazione pale"],creationDate:"13-10-2022 10:59",turbineState:"In marcia",completedSteps:4,startingDateOOCC:"2022-10-20",completionDateOOCC:"2022-10-19",mailSent:!1},{id:1015,turbineName:"VAL07",turbineNumber:"1969",description:"Fossa del Lupo",odlNumber:2445306,power:"MEGAWATT",operation:["Riparazione pale"],creationDate:"13-10-2022 10:59",turbineState:"In marcia",completedSteps:4,startingDateOOCC:"2022-10-20",completionDateOOCC:"2022-10-18",mailSent:!1},{id:1031,turbineName:"AM11",turbineNumber:"1969",description:"Amaroni",odlNumber:2444968,power:"MEGAWATT",operation:["Riparazione pale"],creationDate:"13-10-2022 11:00",turbineState:"In marcia",completedSteps:4,startingDateOOCC:"2022-10-20",completionDateOOCC:"2022-11-03",mailSent:!1},{id:951,turbineName:"PC02",turbineNumber:"2025",description:"Pietracatella",odlNumber:2392092,power:"KILOWATT",operation:["Sostituzione generatore"],creationDate:"03-10-2022 10:42",turbineState:"Ferma",completedSteps:5,startingDateEEMM:"2022-10-11",startingDateOOCC:"2022-10-08",completionDateEEMM:"2022-10-19",completionDateOOCC:"2022-10-18",mailSent:!1},{id:959,turbineName:"MT03",turbineNumber:"2023",description:"Motta",odlNumber:0,power:"KILOWATT",operation:["Sostituzione Main Bearing"],creationDate:"03-10-2022 10:43",turbineState:"Ferma",completedSteps:5,startingDateEEMM:"2022-10-11",startingDateOOCC:"2022-10-09",completionDateEEMM:"2022-11-14",completionDateOOCC:"2022-10-31",mailSent:!1},{id:967,turbineName:"PL30",turbineNumber:"2028",description:"Ploaghe",odlNumber:2392264,power:"KILOWATT",operation:["Sostituzione generatore"],creationDate:"03-10-2022 13:09",turbineState:"Ferma",completedSteps:5,startingDateEEMM:"2022-10-11",startingDateOOCC:"2022-10-10",completionDateEEMM:"2022-10-21",completionDateOOCC:"2022-10-20",mailSent:!1},{id:975,turbineName:"RO15",turbineNumber:"2023",description:"Roseto",odlNumber:2392092,power:"KILOWATT",operation:["Sostituzione Blade Bearing"],creationDate:"04-10-2022 13:04",turbineState:"Ferma",completedSteps:5,startingDateEEMM:"2022-10-04",startingDateOOCC:"2022-10-10",completionDateEEMM:"2022-10-21",completionDateOOCC:"2022-10-06",mailSent:!1},{id:983,turbineName:"SV14",turbineNumber:"2021",description:"San Vincenzo",odlNumber:2391872,power:"MEGAWATT",operation:["Sostituzione generatore"],creationDate:"04-10-2022 13:06",turbineState:"Ferma",completedSteps:5,startingDateEEMM:"2022-10-04",startingDateOOCC:"2022-10-02",completionDateEEMM:"2022-10-21",completionDateOOCC:"2022-10-04",mailSent:!1},{id:855,turbineName:"GAS58",turbineNumber:"2000",description:"Fossa del Lupo",odlNumber:2443868,power:"MEGAWATT",operation:["Sostituzione Blade Bearing"],creationDate:"05-09-2022 12:48",turbineState:"In marcia",completedSteps:5,completionDateEEMM:"2022-09-29",completionDateOOCC:"2022-09-12",permittingDate:"2022-09-08",mailSent:!0},{id:879,turbineName:"PAL64",turbineNumber:"XXXX",description:"Fossa del Lupo",odlNumber:0,power:"MEGAWATT",operation:["Sostituzione Main Bearing"],creationDate:"05-09-2022 12:50",turbineState:"In marcia",completedSteps:5,startingDateOOCC:"2022-09-12",completionDateEEMM:"2023-01-06",completionDateOOCC:"2022-11-29",mailSent:!1},{id:919,turbineName:"LC24",turbineNumber:"2001",description:"Lacedonia Wind",odlNumber:0,power:"KILOWATT",operation:["Manutenzione ordinaria viabilità"],creationDate:"05-09-2022 13:33",turbineState:"In marcia",completedSteps:5,completionDateEEMM:"2022-10-22",completionDateOOCC:"2022-10-22",permittingDate:"2022-09-05",mailSent:!0},{id:1103,turbineName:"SV13",turbineNumber:"2037",description:"San Vincenzo",odlNumber:2392012,power:"MEGAWATT",operation:["Sostituzione generatore"],creationDate:"07-11-2022 13:44",turbineState:"Ferma",completedSteps:5,startingDateEEMM:"2022-11-15",startingDateOOCC:"2022-11-03",completionDateEEMM:"2023-01-06",completionDateOOCC:"2022-11-14",mailSent:!1},{id:1111,turbineName:"SA04",turbineNumber:"XXXX",description:"Salemi",odlNumber:2393143,power:"KILOWATT",operation:["Sostituzione generatore"],creationDate:"10-11-2022 15:15",turbineState:"Ferma",completedSteps:5,startingDateEEMM:"2022-11-20",startingDateOOCC:"2022-11-15",completionDateEEMM:"2023-01-06",completionDateOOCC:"2023-01-06",mailSent:!1},{id:935,turbineName:"MT06",turbineNumber:"2009",description:"Motta",odlNumber:2391634,power:"KILOWATT",operation:["Sostituzione Pala RJ"],creationDate:"12-09-2022 08:32",turbineState:"Ferma",completedSteps:5,startingDateOOCC:"2022-09-17",completionDateEEMM:"2022-09-29",completionDateOOCC:"2022-09-22",mailSent:!1},{id:1039,turbineName:"BO21",turbineNumber:"2027",description:"Bortigiadas",odlNumber:2444964,power:"MEGAWATT",operation:["Sostituzione Pala RJ"],creationDate:"13-10-2022 11:02",turbineState:"In marcia",completedSteps:5,startingDateOOCC:"2022-10-20",completionDateEEMM:"2022-11-07",completionDateOOCC:"2022-10-20",mailSent:!1},{id:1119,turbineName:"BI11",turbineNumber:"2043",description:"Bisaccia",odlNumber:2393410,power:"MEGAWATT",operation:["Sostituzione trafo"],creationDate:"18-11-2022 10:29",turbineState:"Ferma",completedSteps:5,startingDateEEMM:"2022-11-27",startingDateOOCC:"2022-11-25",completionDateEEMM:"2022-12-05",completionDateOOCC:"2022-11-28",mailSent:!1},{id:763,turbineName:"FZ05",turbineNumber:"1958",description:"Forenza",odlNumber:2390507,power:"KILOWATT",operation:["Riparazione pale"],creationDate:"21-08-2022 10:15",turbineState:"In marcia",completedSteps:5,startingDateOOCC:"2022-08-26",completionDateEEMM:"2022-08-21",completionDateOOCC:"2022-08-21",permittingDate:"2022-08-21",mailSent:!0},{id:771,turbineName:"MV01",turbineNumber:"1981",description:"Monteverde",odlNumber:2390553,power:"KILOWATT",operation:["Riparazione pale"],creationDate:"21-08-2022 10:18",turbineState:"Ferma",completedSteps:5,startingDateOOCC:"2022-08-26",completionDateEEMM:"2022-08-29",completionDateOOCC:"2022-08-21",permittingDate:"2022-08-21",mailSent:!0},{id:779,turbineName:"BS40",turbineNumber:"1989",description:"Bisaccia Wind",odlNumber:2444615,power:"KILOWATT",operation:["Sostituzione Pala RJ"],creationDate:"21-08-2022 10:19",turbineState:"In marcia",completedSteps:5,startingDateOOCC:"2022-08-26",completionDateEEMM:"2022-09-01",completionDateOOCC:"2022-08-23",permittingDate:"2022-08-22",mailSent:!0},{id:787,turbineName:"FZ10",turbineNumber:"1993",description:"Forenza",odlNumber:0,power:"KILOWATT",operation:["Riparazione pale"],creationDate:"21-08-2022 10:20",turbineState:"In marcia",completedSteps:5,startingDateOOCC:"2022-08-26",completionDateOOCC:"2022-08-26",permittingDate:"2022-08-22",mailSent:!0},{id:795,turbineName:"R04",turbineNumber:"1988",description:"Rocca San Felice",odlNumber:2390646,power:"KILOWATT",operation:["Sostituzione generatore"],creationDate:"21-08-2022 10:21",turbineState:"In marcia",completedSteps:5,startingDateOOCC:"2022-08-26",completionDateEEMM:"2022-08-29",completionDateOOCC:"2022-08-21",permittingDate:"2022-08-21",mailSent:!0},{id:803,turbineName:"VC04",turbineNumber:"1991",description:"Vicari",odlNumber:2442127,power:"MEGAWATT",operation:["Sostituzione Traversa"],creationDate:"23-08-2022 07:34",turbineState:"In marcia",completedSteps:5,startingDateEEMM:"2022-09-03",startingDateOOCC:"2022-08-30",completionDateEEMM:"2022-10-31",completionDateOOCC:"2022-10-31",mailSent:!1},{id:811,turbineName:"FZ36",turbineNumber:"2002",description:"Forenza",odlNumber:2444853,power:"KILOWATT",operation:["Sostituzione Pala RJ"],creationDate:"25-08-2022 07:24",turbineState:"In marcia",completedSteps:5,startingDateEEMM:"2022-09-10",startingDateOOCC:"2022-08-30",completionDateEEMM:"2022-11-07",completionDateOOCC:"2022-09-15",permittingDate:"2022-09-06",mailSent:!0},{id:1071,turbineName:"NU15",turbineNumber:"2035",description:"Nulvi",odlNumber:2392586,power:"KILOWATT",operation:["Sostituzione generatore"],creationDate:"25-10-2022 07:03",turbineState:"Ferma",completedSteps:5,startingDateOOCC:"2022-10-25",completionDateEEMM:"2022-10-31",completionDateOOCC:"2022-10-31",mailSent:!1},{id:847,turbineName:"GR09",turbineNumber:"1999",description:"Greci",odlNumber:2444925,power:"KILOWATT",operation:["Sostituzione Gearbox"],creationDate:"29-08-2022 14:25",turbineState:"In marcia",completedSteps:5,startingDateOOCC:"2022-09-05",completionDateEEMM:"2022-10-21",completionDateOOCC:"2022-09-07",permittingDate:"2022-09-05",mailSent:!0},{id:1079,turbineName:"PG05",turbineNumber:"2040",description:"Poggio Imperiale",odlNumber:2392975,power:"MEGAWATT",operation:["Sostituzione Blade Bearing"],creationDate:"31-10-2022 11:40",turbineState:"Ferma",completedSteps:5,startingDateEEMM:"2022-11-05",startingDateOOCC:"2022-11-04",completionDateEEMM:"2022-11-28",completionDateOOCC:"2022-11-16",mailSent:!1},{id:1087,turbineName:"VZ13",turbineNumber:"2036",description:"Vizzini",odlNumber:2392578,power:"KILOWATT",operation:["Sostituzione generatore"],creationDate:"31-10-2022 11:41",turbineState:"Ferma",completedSteps:5,startingDateEEMM:"2022-11-02",startingDateOOCC:"2022-10-31",completionDateEEMM:"2022-11-14",completionDateOOCC:"2022-11-14",mailSent:!1}]);function er(n){bt.update(t=>t.filter(a=>a.id!==n))}let tr=Rt([{id:74,eventId:73,name:"Sopralluogo",description:"Sopralluogo zona cantiere",complete:!0},{id:75,eventId:73,name:"Redazione report",description:"Redazione report precedente ad inizio cantiere",complete:!0},{id:76,eventId:73,name:"CME/ODC",description:"CME/ODC",complete:!0},{id:77,eventId:73,name:"Richiesta apertura cantiere",description:"Invio report a permitting",complete:!0},{id:78,eventId:73,name:"Permitting",description:"Permitting",complete:!1},{id:79,eventId:73,name:"Documentazione sicurezza",description:"Documentazione sicurezza successiva all'avvio del cantiere",complete:!1},{id:80,eventId:73,name:"Fine attività OOCC",description:"Completamento attività OOCC",complete:!1},{id:81,eventId:73,name:"Fine attività EEMM",description:"Completamento attività EEMM",complete:!1},{id:82,eventId:73,name:"Smontaggio piazzola",description:"Smontaggio piazzola prima del completamento del cantiere",complete:!1}]);function kt(n,t,a){const i=n.slice();return i[7]=t[a],i}function yt(n,t,a){const i=n.slice();return i[10]=t[a],i}function At(n){let t,a=n[10]+"",i,u;return{c(){t=d("li"),i=M(a),u=I(),this.h()},l(l){t=p(l,"LI",{class:!0});var s=c(t);i=T(s,a),u=k(s),s.forEach(o),this.h()},h(){e(t,"class","text-sm list-disc ml-5 font-bold uppercase")},m(l,s){ge(l,t,s),r(t,i),r(t,u)},p(l,s){s&1&&a!==(a=l[10]+"")&&Q(i,a)},d(l){l&&o(t)}}}function zt(n){let t,a,i,u;return{c(){t=d("div"),a=d("p"),i=M("Completato"),this.h()},l(l){t=p(l,"DIV",{class:!0});var s=c(t);a=p(s,"P",{class:!0});var f=c(a);i=T(f,"Completato"),f.forEach(o),s.forEach(o),this.h()},h(){e(a,"class","font-bold uppercase"),e(t,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-amber-400")},m(l,s){ge(l,t,s),r(t,a),r(a,i)},i(l){u||Ue(()=>{u=Ze(t,Ke,{delay:1200,duration:1e3}),u.start()})},o:xe,d(l){l&&o(t)}}}function xt(n,t){let a,i,u,l,s,f,_,O=t[7].name+"",C,z,w,m=t[7].complete&&zt();return{key:n,first:null,c(){a=d("div"),i=d("input"),s=I(),f=d("div"),_=d("p"),C=M(O),z=I(),m&&m.c(),w=I(),this.h()},l(y){a=p(y,"DIV",{class:!0});var g=c(a);i=p(g,"INPUT",{type:!0,class:!0}),s=k(g),f=p(g,"DIV",{class:!0});var $=c(f);_=p($,"P",{});var S=c(_);C=T(S,O),S.forEach(o),$.forEach(o),z=k(g),m&&m.l(g),w=k(g),g.forEach(o),this.h()},h(){e(i,"type","checkbox"),e(i,"class","col-span-1 h-5 w-5 text-amber-600 border-gray-300 rounded accent-amber-400"),i.disabled=u=t[7].name!==t[4].name,i.checked=l=t[7].complete,e(f,"class","col-span-6 text-left"),e(a,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-amber-200 items-center rounded-sm"),this.first=a},m(y,g){ge(y,a,g),r(a,i),r(a,s),r(a,f),r(f,_),r(_,C),r(a,z),m&&m.m(a,null),r(a,w)},p(y,g){t=y,g&2&&u!==(u=t[7].name!==t[4].name)&&(i.disabled=u),g&2&&l!==(l=t[7].complete)&&(i.checked=l),g&2&&O!==(O=t[7].name+"")&&Q(C,O),t[7].complete?m?g&2&&ue(m,1):(m=zt(),m.c(),ue(m,1),m.m(a,w)):m&&(m.d(1),m=null)},i(y){ue(m)},o:xe,d(y){y&&o(a),m&&m.d()}}}function rr(n){let t,a,i,u=n[0].turbineName+"",l,s,f,_=n[0].turbineNumber+"",O,C,z,w,m,y,g,$,S,b,B,W,ee,U=n[0].creationDate+"",H,ae,J,ve,ie,de=n[0].turbineState+"",P,D,E,h,N,K,G,_e,pe,te=(n[0].priorNotification||"____/__/__")+"",me,Z,oe,Ne,ne,fe=(n[0].startingDateEEMM||"____/__/__")+"",X,De,re,Pe,ce,V=(n[0].startingDateOOCC||"____/__/__")+"",we,ke,le,he,Le,Oe,Re,Se,Ce,se,R,F,L=[],We=new Map,Fe,$e,Xe,Ve,Me=n[0].operation,j=[];for(let v=0;v<Me.length;v+=1)j[v]=At(yt(n,Me,v));let Te=n[1];const Ge=v=>v[7].id;for(let v=0;v<Te.length;v+=1){let A=kt(n,Te,v),x=Ge(A);We.set(x,L[v]=xt(x,A))}return{c(){t=d("div"),a=d("div"),i=d("h1"),l=M(u),s=M(` -
      `),f=d("span"),O=M(_),C=I(),z=d("div"),w=d("button"),m=q("svg"),y=q("line"),g=q("line"),$=I(),S=d("div"),b=d("div"),B=d("p"),W=M("Creazione: "),ee=d("span"),H=M(U),ae=I(),J=d("p"),ve=M("Stato turbina: "),ie=d("span"),P=M(de),D=I(),E=d("div"),h=d("h1"),N=M("Tracciamento eventi"),K=I(),G=d("p"),_e=M("Invio notifica: "),pe=d("span"),me=M(te),Z=I(),oe=d("p"),Ne=M("Inizio ATT EEMM: "),ne=d("span"),X=M(fe),De=I(),re=d("p"),Pe=M("Inizio ATT OOCC: "),ce=d("span"),we=M(V),ke=I(),le=d("p"),he=M("Operazioni:"),Le=I(),Oe=d("ul");for(let v=0;v<j.length;v+=1)j[v].c();Re=I(),Se=d("div"),Ce=d("h1"),se=M("Tracciamento fasi"),R=I(),F=d("div");for(let v=0;v<L.length;v+=1)L[v].c();this.h()},l(v){t=p(v,"DIV",{class:!0});var A=c(t);a=p(A,"DIV",{class:!0});var x=c(a);i=p(x,"H1",{class:!0});var be=c(i);l=T(be,u),s=T(be,` -
      `),f=p(be,"SPAN",{});var He=c(f);O=T(He,_),He.forEach(o),be.forEach(o),C=k(x),z=p(x,"DIV",{class:!0});var je=c(z);w=p(je,"BUTTON",{class:!0});var Je=c(w);m=Y(Je,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ye=c(m);y=Y(ye,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),c(y).forEach(o),g=Y(ye,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),c(g).forEach(o),ye.forEach(o),Je.forEach(o),je.forEach(o),x.forEach(o),$=k(A),S=p(A,"DIV",{class:!0});var Ye=c(S);b=p(Ye,"DIV",{class:!0});var Ie=c(b);B=p(Ie,"P",{class:!0});var it=c(B);W=T(it,"Creazione: "),ee=p(it,"SPAN",{});var gt=c(ee);H=T(gt,U),gt.forEach(o),it.forEach(o),ae=k(Ie),J=p(Ie,"P",{class:!0});var ot=c(J);ve=T(ot,"Stato turbina: "),ie=p(ot,"SPAN",{});var vt=c(ie);P=T(vt,de),vt.forEach(o),ot.forEach(o),D=k(Ie),E=p(Ie,"DIV",{class:!0});var Ae=c(E);h=p(Ae,"H1",{class:!0});var _t=c(h);N=T(_t,"Tracciamento eventi"),_t.forEach(o),K=k(Ae),G=p(Ae,"P",{class:!0});var nt=c(G);_e=T(nt,"Invio notifica: "),pe=p(nt,"SPAN",{class:!0});var Dt=c(pe);me=T(Dt,te),Dt.forEach(o),nt.forEach(o),Z=k(Ae),oe=p(Ae,"P",{class:!0});var lt=c(oe);Ne=T(lt,"Inizio ATT EEMM: "),ne=p(lt,"SPAN",{class:!0});var Ot=c(ne);X=T(Ot,fe),Ot.forEach(o),lt.forEach(o),De=k(Ae),re=p(Ae,"P",{class:!0});var st=c(re);Pe=T(st,"Inizio ATT OOCC: "),ce=p(st,"SPAN",{class:!0});var St=c(ce);we=T(St,V),St.forEach(o),st.forEach(o),Ae.forEach(o),ke=k(Ie),le=p(Ie,"P",{class:!0});var Ct=c(le);he=T(Ct,"Operazioni:"),Ct.forEach(o),Le=k(Ie),Oe=p(Ie,"UL",{class:!0});var Et=c(Oe);for(let Be=0;Be<j.length;Be+=1)j[Be].l(Et);Et.forEach(o),Ie.forEach(o),Re=k(Ye),Se=p(Ye,"DIV",{class:!0});var Qe=c(Se);Ce=p(Qe,"H1",{class:!0});var Nt=c(Ce);se=T(Nt,"Tracciamento fasi"),Nt.forEach(o),R=k(Qe),F=p(Qe,"DIV",{id:!0,class:!0});var wt=c(F);for(let Be=0;Be<L.length;Be+=1)L[Be].l(wt);wt.forEach(o),Qe.forEach(o),Ye.forEach(o),A.forEach(o),this.h()},h(){e(i,"class","font-mono font-bold text-4xl"),e(y,"x1","18"),e(y,"y1","6"),e(y,"x2","6"),e(y,"y2","18"),e(g,"x1","6"),e(g,"y1","6"),e(g,"x2","18"),e(g,"y2","18"),e(m,"xmlns","http://www.w3.org/2000/svg"),e(m,"width","24"),e(m,"height","24"),e(m,"viewBox","0 0 24 24"),e(m,"fill","none"),e(m,"stroke","currentColor"),e(m,"stroke-width","2"),e(m,"stroke-linecap","round"),e(m,"stroke-linejoin","round"),e(m,"class","feather feather-x"),e(w,"class","text-red-500 font-bold py-2 px-4 hover:scale-110 hover:shadow-sm"),e(z,"class","flex justify-end"),e(a,"class","w-full h-20 grid grid-cols-2 items-start"),e(B,"class","prose font-mono text-white"),e(J,"class","prose font-mono text-white"),e(h,"class","font-mono font-bold text-xl mb-3"),e(pe,"class","font-extralight"),e(G,"class","prose font-mono text-white"),e(ne,"class","font-extralight"),e(oe,"class","prose font-mono text-white"),e(ce,"class","font-extralight"),e(re,"class","prose font-mono text-white"),e(E,"class","w-full md:w-3/4 border rounded-sm mt-5 p-4 bg-gray-700"),e(le,"class","prose font-mono text-white mt-5"),e(Oe,"class","mt-2"),e(b,"class","col-span-3"),e(Ce,"class","text-center font-mono font-bold text-xl mb-3 mt-5 md:mt-0"),e(F,"id","stepsContainer"),e(F,"class","grid grid-cols-7 p-5 text-lg text-left overflow-scroll h-32 md:h-64 gap-2 scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-gray-800 bg-gray-800/70 border-2 border-gray-500 rounded-sm mt-5 items-center"),e(Se,"class","col-span-2 text-white"),e(S,"class","w-full grid grid-cols-1 md:grid-cols-5 items-start"),e(t,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-amber-500 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 z-50 md:min-w-min")},m(v,A){ge(v,t,A),r(t,a),r(a,i),r(i,l),r(i,s),r(i,f),r(f,O),r(a,C),r(a,z),r(z,w),r(w,m),r(m,y),r(m,g),r(t,$),r(t,S),r(S,b),r(b,B),r(B,W),r(B,ee),r(ee,H),r(b,ae),r(b,J),r(J,ve),r(J,ie),r(ie,P),r(b,D),r(b,E),r(E,h),r(h,N),r(E,K),r(E,G),r(G,_e),r(G,pe),r(pe,me),r(E,Z),r(E,oe),r(oe,Ne),r(oe,ne),r(ne,X),r(E,De),r(E,re),r(re,Pe),r(re,ce),r(ce,we),r(b,ke),r(b,le),r(le,he),r(b,Le),r(b,Oe);for(let x=0;x<j.length;x+=1)j[x].m(Oe,null);r(S,Re),r(S,Se),r(Se,Ce),r(Ce,se),r(Se,R),r(Se,F);for(let x=0;x<L.length;x+=1)L[x].m(F,null);Xe||(Ve=[Ee(w,"click",n[2]),Ee(t,"click",n[3]),Ee(t,"keydown",n[3])],Xe=!0)},p(v,[A]){if(A&1&&u!==(u=v[0].turbineName+"")&&Q(l,u),A&1&&_!==(_=v[0].turbineNumber+"")&&Q(O,_),A&1&&U!==(U=v[0].creationDate+"")&&Q(H,U),A&1&&de!==(de=v[0].turbineState+"")&&Q(P,de),A&1&&te!==(te=(v[0].priorNotification||"____/__/__")+"")&&Q(me,te),A&1&&fe!==(fe=(v[0].startingDateEEMM||"____/__/__")+"")&&Q(X,fe),A&1&&V!==(V=(v[0].startingDateOOCC||"____/__/__")+"")&&Q(we,V),A&1){Me=v[0].operation;let x;for(x=0;x<Me.length;x+=1){const be=yt(v,Me,x);j[x]?j[x].p(be,A):(j[x]=At(be),j[x].c(),j[x].m(Oe,null))}for(;x<j.length;x+=1)j[x].d(1);j.length=Me.length}A&18&&(Te=v[1],L=Bt(L,A,Ge,1,v,Te,We,F,$t,xt,null,kt))},i(v){for(let A=0;A<Te.length;A+=1)ue(L[A]);Fe||Ue(()=>{Fe=Ze(F,Ke,{delay:400,duration:1e3}),Fe.start()}),$e||Ue(()=>{$e=Ze(t,Ke,{duration:1e3}),$e.start()})},o:xe,d(v){v&&o(t),Xt(j,v);for(let A=0;A<L.length;A+=1)L[A].d();Xe=!1,qe(Ve)}}}function ar(n,t,a){let i;Kt(n,tr,C=>a(1,i=C));let{turbineId:u=0}=t,l={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateEEMM:"",startingDateOOCC:"",priorNotification:"",mailSent:!1};Gt(()=>{bt.subscribe(z=>{a(0,l=z.find(w=>w.id===u))});const C=document.getElementById("stepsContainer");C&&setTimeout(()=>{C.scrollTo({top:C.scrollHeight/8*l.completedSteps,behavior:"smooth"})},1500)});const s=dt(),f=()=>{s("closeDetails")},_=C=>{C.stopPropagation()};let O=i[l.completedSteps+1];return n.$$set=C=>{"turbineId"in C&&a(5,u=C.turbineId)},[l,i,f,_,O,u]}class ir extends tt{constructor(t){super(),rt(this,t,ar,rr,at,{turbineId:5})}}function or(n){let t,a,i,u,l,s,f,_,O,C,z,w,m;return{c(){t=d("div"),a=d("p"),i=M("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),u=I(),l=d("div"),s=d("button"),f=M("Annulla"),_=I(),O=d("button"),C=M("Conferma"),this.h()},l(y){t=p(y,"DIV",{class:!0});var g=c(t);a=p(g,"P",{class:!0});var $=c(a);i=T($,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),$.forEach(o),u=k(g),l=p(g,"DIV",{class:!0});var S=c(l);s=p(S,"BUTTON",{class:!0});var b=c(s);f=T(b,"Annulla"),b.forEach(o),_=k(S),O=p(S,"BUTTON",{class:!0});var B=c(O);C=T(B,"Conferma"),B.forEach(o),S.forEach(o),g.forEach(o),this.h()},h(){e(a,"class","font-bold text-xl"),e(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),e(O,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),e(l,"class","flex justify-end mt-5"),e(t,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(y,g){ge(y,t,g),r(t,a),r(a,i),r(t,u),r(t,l),r(l,s),r(s,f),r(l,_),r(l,O),r(O,C),w||(m=[Ee(s,"click",n[1]),Ee(O,"click",n[0])],w=!0)},p:xe,i(y){z||Ue(()=>{z=Ze(t,Ke,{duration:300}),z.start()})},o:xe,d(y){y&&o(t),w=!1,qe(m)}}}function nr(n){const t=dt();return[()=>{t("confirm")},()=>{t("cancel")}]}class lr extends tt{constructor(t){super(),rt(this,t,nr,or,at,{})}}function Pt(n,t,a){const i=n.slice();return i[15]=t[a],i}function Lt(n,t){let a,i,u;return i=new Qt({props:{turbine:t[15]}}),i.$on("showDetails",t[7]),i.$on("deleteTurbine",t[13]),{key:n,first:null,c(){a=It(),pt(i.$$.fragment),this.h()},l(l){a=It(),mt(i.$$.fragment,l),this.h()},h(){this.first=a},m(l,s){ge(l,a,s),ft(i,l,s),u=!0},p(l,s){t=l;const f={};s&4&&(f.turbine=t[15]),i.$set(f)},i(l){u||(ue(i.$$.fragment,l),u=!0)},o(l){ze(i.$$.fragment,l),u=!1},d(l){l&&o(a),ht(i,l)}}}function Wt(n){let t,a,i;return{c(){t=d("div"),a=d("h1"),i=M("Nessuna turbina trovata"),this.h()},l(u){t=p(u,"DIV",{class:!0});var l=c(t);a=p(l,"H1",{class:!0});var s=c(a);i=T(s,"Nessuna turbina trovata"),s.forEach(o),l.forEach(o),this.h()},h(){e(a,"class","text-white font-mono h-full font-bold text-2xl"),e(t,"class","grid place-content-center")},m(u,l){ge(u,t,l),r(t,a),r(a,i)},d(u){u&&o(t)}}}function Ft(n){let t,a,i,u,l;return a=new ir({props:{turbineId:n[4]}}),a.$on("closeDetails",n[9]),{c(){t=d("div"),pt(a.$$.fragment),this.h()},l(s){t=p(s,"DIV",{class:!0});var f=c(t);mt(a.$$.fragment,f),f.forEach(o),this.h()},h(){e(t,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75")},m(s,f){ge(s,t,f),ft(a,t,null),i=!0,u||(l=[Ee(t,"click",n[9]),Ee(t,"keydown",n[9])],u=!0)},p(s,f){const _={};f&16&&(_.turbineId=s[4]),a.$set(_)},i(s){i||(ue(a.$$.fragment,s),i=!0)},o(s){ze(a.$$.fragment,s),i=!1},d(s){s&&o(t),ht(a),u=!1,qe(l)}}}function Vt(n){let t,a;return t=new lr({}),t.$on("confirm",n[8]),t.$on("cancel",n[14]),{c(){pt(t.$$.fragment)},l(i){mt(t.$$.fragment,i)},m(i,u){ft(t,i,u),a=!0},p:xe,i(i){a||(ue(t.$$.fragment,i),a=!0)},o(i){ze(t.$$.fragment,i),a=!1},d(i){ht(t,i)}}}function sr(n){let t,a,i,u,l,s,f,_,O,C,z,w,m,y,g,$,S,b=[],B=new Map,W,ee,U,H,ae,J,ve,ie=n[2];const de=h=>h[15].id;for(let h=0;h<ie.length;h+=1){let N=Pt(n,ie,h),K=de(N);B.set(K,b[h]=Lt(K,N))}let P=n[2].length===0&&Wt(),D=n[3]&&Ft(n),E=n[5]&&Vt(n);return{c(){t=d("div"),a=d("section"),i=d("div"),u=d("input"),l=I(),s=d("input"),f=I(),_=d("div"),O=d("div"),C=d("p"),z=d("span"),w=M("#"),m=M(n[6]),y=I(),g=d("div"),$=I(),S=d("section");for(let h=0;h<b.length;h+=1)b[h].c();W=I(),P&&P.c(),ee=I(),D&&D.c(),U=I(),E&&E.c(),this.h()},l(h){t=p(h,"DIV",{class:!0});var N=c(t);a=p(N,"SECTION",{class:!0});var K=c(a);i=p(K,"DIV",{class:!0});var G=c(i);u=p(G,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),l=k(G),s=p(G,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),f=k(G),_=p(G,"DIV",{class:!0});var _e=c(_);O=p(_e,"DIV",{class:!0});var pe=c(O);C=p(pe,"P",{});var te=c(C);z=p(te,"SPAN",{class:!0});var me=c(z);w=T(me,"#"),me.forEach(o),m=T(te,n[6]),te.forEach(o),pe.forEach(o),_e.forEach(o),G.forEach(o),y=k(K),g=p(K,"DIV",{class:!0}),c(g).forEach(o),K.forEach(o),$=k(N),S=p(N,"SECTION",{class:!0});var Z=c(S);for(let oe=0;oe<b.length;oe+=1)b[oe].l(Z);W=k(Z),P&&P.l(Z),ee=k(Z),D&&D.l(Z),U=k(Z),E&&E.l(Z),Z.forEach(o),N.forEach(o),this.h()},h(){e(u,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-amber-400 focus:shadow-outline"),e(u,"type","text"),e(u,"id","turbineName"),e(u,"name","turbineName"),e(u,"placeholder","Cerca"),e(s,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-amber-400 focus:shadow-outline"),e(s,"type","text"),e(s,"id","turbineName"),e(s,"name","turbineName"),e(s,"placeholder","Anno"),e(z,"class","text-gray-200"),e(O,"class","rounded-full w-20 items-center content-center place-content-center grid"),e(_,"class","hidden md:flex justify-end w-full text-end text-2xl font-bold font-mono"),e(i,"class","flex flex-col md:flex-row gap-2"),e(g,"class","h-1 w-3/4 bg-gray-800 rounded-full my-8 mx-auto"),e(a,"class","mt-5 md:ml-5"),e(S,"class","overflow-y-scroll overflow-x-hidden max-h-[24rem] md:max-h-[36rem] md:p-4 scrollbar-none"),e(t,"class","md:mt-16")},m(h,N){ge(h,t,N),r(t,a),r(a,i),r(i,u),et(u,n[0]),r(i,l),r(i,s),et(s,n[1]),r(i,f),r(i,_),r(_,O),r(O,C),r(C,z),r(z,w),r(C,m),r(a,y),r(a,g),r(t,$),r(t,S);for(let K=0;K<b.length;K+=1)b[K].m(S,null);r(S,W),P&&P.m(S,null),r(S,ee),D&&D.m(S,null),r(S,U),E&&E.m(S,null),ae=!0,J||(ve=[Ee(u,"input",n[11]),Ee(s,"input",n[12])],J=!0)},p(h,[N]){N&1&&u.value!==h[0]&&et(u,h[0]),N&2&&s.value!==h[1]&&et(s,h[1]),(!ae||N&64)&&Q(m,h[6]),N&180&&(ie=h[2],ut(),b=Bt(b,N,de,1,h,ie,B,S,jt,Lt,W,Pt),ct()),h[2].length===0?P||(P=Wt(),P.c(),P.m(S,ee)):P&&(P.d(1),P=null),h[3]?D?(D.p(h,N),N&8&&ue(D,1)):(D=Ft(h),D.c(),ue(D,1),D.m(S,U)):D&&(ut(),ze(D,1,1,()=>{D=null}),ct()),h[5]?E?(E.p(h,N),N&32&&ue(E,1)):(E=Vt(h),E.c(),ue(E,1),E.m(S,null)):E&&(ut(),ze(E,1,1,()=>{E=null}),ct())},i(h){if(!ae){for(let N=0;N<ie.length;N+=1)ue(b[N]);ue(D),ue(E),Ue(()=>{H||(H=Tt(t,Ke,{duration:200},!0)),H.run(1)}),ae=!0}},o(h){for(let N=0;N<b.length;N+=1)ze(b[N]);ze(D),ze(E),H||(H=Tt(t,Ke,{duration:200},!1)),H.run(0),ae=!1},d(h){h&&o(t);for(let N=0;N<b.length;N+=1)b[N].d();P&&P.d(),D&&D.d(),E&&E.d(),h&&H&&H.end(),J=!1,qe(ve)}}}function cr(n,t,a){let i,u,l;Kt(n,bt,b=>a(10,l=b));let s=!1,f=0;const _=b=>{a(4,f=b.detail),a(3,s=!0)};let O=!1;const C=()=>{a(5,O=!1),er(f)},z=()=>{a(3,s=!1)};let w="",m=new Date().getFullYear().toString();function y(){w=this.value,a(0,w)}function g(){m=this.value,a(1,m)}const $=b=>{a(4,f=b.detail),a(5,O=!0)},S=()=>{a(5,O=!1)};return n.$$.update=()=>{n.$$.dirty&1027&&a(2,i=l.filter(b=>(b.description.toLowerCase().includes(w.toLowerCase())||b.turbineName.toLowerCase().includes(w.toLowerCase())||b.turbineNumber.toLowerCase().includes(w.toLowerCase()))&&b.creationDate.includes(m))),n.$$.dirty&4&&a(6,u=i.length)},[w,m,i,s,f,O,u,_,C,z,l,y,g,$,S]}class pr extends tt{constructor(t){super(),rt(this,t,cr,sr,at,{})}}export{pr as default};
