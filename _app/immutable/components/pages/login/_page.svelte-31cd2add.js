import{S as G,i as R,s as H,k as d,q as V,a as I,l as i,m as p,r as B,h as c,c as L,n as t,b as F,C as s,G as J,B as O,u as K}from"../../../chunks/index-b641a719.js";import{a as Q}from"../../../chunks/axios-67252f11.js";function z(v){let r,e;return{c(){r=d("div"),e=V(v[0]),this.h()},l(a){r=i(a,"DIV",{class:!0});var l=p(r);e=B(l,v[0]),l.forEach(c),this.h()},h(){t(r,"class","text-red-500")},m(a,l){F(a,r,l),s(r,e)},p(a,l){l&1&&K(e,a[0])},d(a){a&&c(r)}}}function W(v){let r,e,a,l,U,m,u,y,f,n,g,E,b,$,D,k,_,j,C,N,o=v[0]&&z(v);return{c(){r=d("div"),e=d("form"),a=d("div"),l=d("label"),U=V("Username"),m=I(),u=d("input"),y=I(),f=d("div"),n=d("label"),g=V("Password"),E=I(),b=d("input"),$=I(),o&&o.c(),D=I(),k=d("div"),_=d("button"),j=V("Login"),this.h()},l(h){r=i(h,"DIV",{class:!0});var x=p(r);e=i(x,"FORM",{class:!0});var w=p(e);a=i(w,"DIV",{class:!0});var P=p(a);l=i(P,"LABEL",{for:!0});var S=p(l);U=B(S,"Username"),S.forEach(c),m=L(P),u=i(P,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),P.forEach(c),y=L(w),f=i(w,"DIV",{class:!0});var T=p(f);n=i(T,"LABEL",{for:!0});var q=p(n);g=B(q,"Password"),q.forEach(c),E=L(T),b=i(T,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),T.forEach(c),$=L(w),o&&o.l(w),D=L(w),k=i(w,"DIV",{class:!0});var A=p(k);_=i(A,"BUTTON",{type:!0,class:!0});var M=p(_);j=B(M,"Login"),M.forEach(c),A.forEach(c),w.forEach(c),x.forEach(c),this.h()},h(){t(l,"for","username"),t(u,"type","username"),t(u,"name","username"),t(u,"id","username"),t(u,"placeholder","Username"),t(u,"class","border border-gray-300 rounded-md p-2 text-black"),t(a,"class","flex flex-col"),t(n,"for","password"),t(b,"type","password"),t(b,"name","password"),t(b,"id","password"),t(b,"placeholder","Password"),t(b,"class","border border-gray-300 rounded-md p-2 text-black"),t(f,"class","flex flex-col"),t(_,"type","submit"),t(_,"class","bg-blue-500 text-white rounded-md p-2 hover:bg-blue-600 transition duration-200"),t(k,"class","flex flex-col"),t(e,"class","w-11/12 md:w-1/3 flex flex-col gap-3 p-5 rounded font-mono"),t(r,"class","flex flex-col items-center justify-center md:min-h-screen mt-32 md:mt-0")},m(h,x){F(h,r,x),s(r,e),s(e,a),s(a,l),s(l,U),s(a,m),s(a,u),s(e,y),s(e,f),s(f,n),s(n,g),s(f,E),s(f,b),s(e,$),o&&o.m(e,null),s(e,D),s(e,k),s(k,_),s(_,j),C||(N=J(_,"click",v[2]),C=!0)},p(h,[x]){h[0]?o?o.p(h,x):(o=z(h),o.c(),o.m(e,D)):o&&(o.d(1),o=null)},i:O,o:O,d(h){h&&c(r),o&&o.d(),C=!1,N()}}}function X(v,r,e){let a="";function l(m){const u="https://dockyard-handler.herokuapp.com/login",y=m.target.form.username.value,f=m.target.form.password.value;Q.get(u+"?username="+y+"&password="+f).then(n=>{var g;if(n.status===200&&n.data.jwtToken){const E=(g=n==null?void 0:n.data)==null?void 0:g.jwtToken;localStorage.setItem("token",E),window.location.href="./windfarms"}else e(0,a="Credenziali errate")}).catch(n=>{console.log(n)})}return[a,l,m=>{m.preventDefault(),l(m)}]}class ee extends G{constructor(r){super(),R(this,r,X,W,H,{})}}export{ee as default};
