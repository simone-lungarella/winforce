import{S as Xe,i as Ke,s as xe,k as i,a as S,q as L,l as u,m as h,h as c,c as D,r as W,n as e,b as de,C as t,G as J,T as Qe,U as Ye,P as Se,Q as He,B as Ze,H as Je,D as $e,u as et,E as Oe,F as Ne,f as ce,t as De,d as tt,Z as at,W as We,o as lt,w as rt,x as ot,y as nt,z as st,g as it}from"../../../chunks/index-29931205.js";import{s as Me,f as je}from"../../../chunks/index-7790f26d.js";const ut={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale"};function Ge(s,a,l){const r=s.slice();return r[6]=a[l],r[7]=a,r[8]=l,r}function Fe(s,a){let l,r,o,d,n,f=a[6].name+"",v,k,T,g;function w(...I){return a[4](a[6],a[7],a[8],...I)}return{key:s,first:null,c(){l=i("div"),r=i("input"),d=S(),n=i("p"),v=L(f),k=S(),this.h()},l(I){l=u(I,"DIV",{class:!0});var m=h(l);r=u(m,"INPUT",{class:!0,type:!0}),d=D(m),n=u(m,"P",{class:!0});var M=h(n);v=W(M,f),M.forEach(c),k=D(m),m.forEach(c),this.h()},h(){e(r,"class","checkbox"),r.checked=o=a[6].isSelected,e(r,"type","checkbox"),e(n,"class","font-mono"),e(l,"class","flex flex-row gap-4"),this.first=l},m(I,m){de(I,l,m),t(l,r),t(l,d),t(l,n),t(n,v),t(l,k),T||(g=J(r,"change",w),T=!0)},p(I,m){a=I,m&1&&o!==(o=a[6].isSelected)&&(r.checked=o),m&1&&f!==(f=a[6].name+"")&&et(v,f)},d(I){I&&c(l),T=!1,g()}}}function ct(s){let a,l,r=[],o=new Map,d,n,f,v,k,T,g,w,I,m,M=s[0];const Y=p=>p[6].name;for(let p=0;p<M.length;p+=1){let _=Ge(s,M,p),P=Y(_);o.set(P,r[p]=Fe(P,_))}return{c(){a=i("div"),l=i("div");for(let p=0;p<r.length;p+=1)r[p].c();d=S(),n=i("div"),f=i("button"),v=L("Conferma"),k=S(),T=i("button"),g=L("Chiudi"),this.h()},l(p){a=u(p,"DIV",{class:!0});var _=h(a);l=u(_,"DIV",{class:!0});var P=h(l);for(let U=0;U<r.length;U+=1)r[U].l(P);P.forEach(c),d=D(_),n=u(_,"DIV",{class:!0});var C=h(n);f=u(C,"BUTTON",{class:!0});var Z=h(f);v=W(Z,"Conferma"),Z.forEach(c),k=D(C),T=u(C,"BUTTON",{class:!0});var $=h(T);g=W($,"Chiudi"),$.forEach(c),C.forEach(c),_.forEach(c),this.h()},h(){e(l,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),e(f,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),e(T,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),e(n,"class","flex flex-row mt-5 gap-2 justify-center"),e(a,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-5 transform left-1/2 -translate-x-1/2 z-50")},m(p,_){de(p,a,_),t(a,l);for(let P=0;P<r.length;P+=1)r[P].m(l,null);t(a,d),t(a,n),t(n,f),t(f,v),t(n,k),t(n,T),t(T,g),I||(m=[J(f,"click",s[1]),J(T,"click",s[2]),J(a,"click",s[3]),J(a,"keydown",s[3])],I=!0)},p(p,[_]){_&1&&(M=p[0],r=Qe(r,_,Y,1,p,M,o,l,Ye,Fe,null,Ge))},i(p){w||Se(()=>{w=He(a,Me,{duration:300}),w.start()})},o:Ze,d(p){p&&c(a);for(let _=0;_<r.length;_+=1)r[_].d();I=!1,Je(m)}}}function dt(s,a,l){let{operations:r=[]}=a;const o=$e(),d=()=>{o("confirm",r)},n=()=>{o("cancel")},f=k=>{k.stopPropagation()},v=(k,T,g,w)=>{l(0,T[g].isSelected=w.target.checked,r)};return s.$$set=k=>{"operations"in k&&l(0,r=k.operations)},[r,d,n,f,v]}class pt extends Xe{constructor(a){super(),Ke(this,a,dt,ct,xe,{operations:0})}}function Re(s){let a,l,r,o,d;return l=new pt({props:{operations:s[2]}}),l.$on("cancel",s[3]),l.$on("confirm",s[4]),{c(){a=i("div"),rt(l.$$.fragment),this.h()},l(n){a=u(n,"DIV",{class:!0});var f=h(a);ot(l.$$.fragment,f),f.forEach(c),this.h()},h(){e(a,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(n,f){de(n,a,f),nt(l,a,null),r=!0,o||(d=[J(a,"click",s[5]),J(a,"keydown",s[6])],o=!0)},p(n,f){const v={};f&4&&(v.operations=n[2]),l.$set(v)},i(n){r||(ce(l.$$.fragment,n),r=!0)},o(n){De(l.$$.fragment,n),r=!1},d(n){n&&c(a),st(l),o=!1,Je(d)}}}function ft(s){let a,l,r,o,d,n,f,v,k,T,g,w,I,m,M,Y,p,_,P,C,Z,$,U,j,z,ae,pe,G,F,fe,R,he,X,ve,_e,B,oe,me,V,ne,ge,q,se,ie,le,be,re,ke,ee,Q,N,K,x,ye,H,A,Ee,Pe,y=s[1]&&Re(s);return{c(){a=i("div"),y&&y.c(),l=S(),r=i("form"),o=i("div"),d=i("input"),f=S(),v=i("input"),T=S(),g=i("input"),I=S(),m=i("input"),Y=S(),p=i("select"),_=i("option"),P=L("MEGAWATT"),C=i("option"),Z=L("KILOWATT"),$=S(),U=i("div"),j=i("button"),z=i("input"),pe=S(),G=i("select"),F=i("option"),fe=L("In Marcia"),R=i("option"),he=L("Limitata"),X=i("option"),ve=L("Ferma"),_e=S(),B=i("input"),me=S(),V=i("input"),ge=S(),q=i("input"),be=S(),re=i("div"),ke=S(),ee=i("div"),Q=i("button"),N=Oe("svg"),K=Oe("line"),x=Oe("line"),ye=L(`
        Crea`),this.h()},l(b){a=u(b,"DIV",{class:!0});var O=h(a);y&&y.l(O),l=D(O),r=u(O,"FORM",{});var te=h(r);o=u(te,"DIV",{class:!0});var E=h(o);d=u(E,"INPUT",{class:!0,type:!0,placeholder:!0}),f=D(E),v=u(E,"INPUT",{class:!0,type:!0,placeholder:!0}),T=D(E),g=u(E,"INPUT",{class:!0,type:!0,placeholder:!0}),I=D(E),m=u(E,"INPUT",{class:!0,type:!0,placeholder:!0}),Y=D(E),p=u(E,"SELECT",{class:!0});var Te=h(p);_=u(Te,"OPTION",{});var Ce=h(_);P=W(Ce,"MEGAWATT"),Ce.forEach(c),C=u(Te,"OPTION",{});var Ae=h(C);Z=W(Ae,"KILOWATT"),Ae.forEach(c),Te.forEach(c),$=D(E),U=u(E,"DIV",{});var Ue=h(U);j=u(Ue,"BUTTON",{type:!0,class:!0});var ze=h(j);z=u(ze,"INPUT",{class:!0,placeholder:!0}),ze.forEach(c),Ue.forEach(c),pe=D(E),G=u(E,"SELECT",{class:!0});var ue=h(G);F=u(ue,"OPTION",{});var Be=h(F);fe=W(Be,"In Marcia"),Be.forEach(c),R=u(ue,"OPTION",{});var Ve=h(R);he=W(Ve,"Limitata"),Ve.forEach(c),X=u(ue,"OPTION",{});var qe=h(X);ve=W(qe,"Ferma"),qe.forEach(c),ue.forEach(c),_e=D(E),B=u(E,"INPUT",{class:!0,type:!0,placeholder:!0}),me=D(E),V=u(E,"INPUT",{class:!0,type:!0,placeholder:!0}),ge=D(E),q=u(E,"INPUT",{class:!0,type:!0,placeholder:!0}),E.forEach(c),be=D(te),re=u(te,"DIV",{class:!0}),h(re).forEach(c),ke=D(te),ee=u(te,"DIV",{class:!0});var Le=h(ee);Q=u(Le,"BUTTON",{class:!0});var we=h(Q);N=Ne(we,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ie=h(N);K=Ne(Ie,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),h(K).forEach(c),x=Ne(Ie,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),h(x).forEach(c),Ie.forEach(c),ye=W(we,`
        Crea`),we.forEach(c),Le.forEach(c),te.forEach(c),O.forEach(c),this.h()},h(){e(d,"class","input"),e(d,"type","text"),d.value=n=s[0].turbineName,e(d,"placeholder","Aerogeneratore"),d.required=!0,e(v,"class","input"),e(v,"type","text"),v.value=k=s[0].turbineNumber,e(v,"placeholder","Numero"),v.required=!0,e(g,"class","input"),e(g,"type","text"),g.value=w=s[0].description,e(g,"placeholder","Descrizione"),g.required=!0,e(m,"class","input"),e(m,"type","number"),m.value=M=s[0].odlNumber,e(m,"placeholder","Numero ODL"),m.required=!0,_.__value="MEGAWATT",_.value=_.__value,C.__value="KILOWATT",C.value=C.__value,e(p,"class","select"),e(z,"class","w-full"),z.value=ae=s[0].operation.length>0?s[0].operation.join(", "):"",z.disabled=!0,e(z,"placeholder","Operazioni"),e(j,"type","button"),e(j,"class","input hover:bg-gray-200 text-start transition ease-in-out"),F.__value="In Marcia",F.value=F.__value,R.__value="Limitata",R.value=R.__value,X.__value="Ferma",X.value=X.__value,e(G,"class","select"),e(B,"class","input"),e(B,"type","date"),B.value=oe=s[0].startingDateEEMM,e(B,"placeholder","Data inizio EEMM"),B.required=!0,e(V,"class","input"),e(V,"type","date"),V.value=ne=s[0].startingDateOOCC,e(V,"placeholder","Data inizio OOCC"),V.required=!0,e(q,"class","input"),e(q,"type","date"),q.value=se=s[0].permittingDate,e(q,"placeholder","Data concessione"),q.required=!0,e(o,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-black overflow-y-scroll md:overflow-auto p-5 h-[25.1rem] md:h-full ring-2 ring-gray-400 rounded scrollbar-none bg-black/25"),e(re,"class","h-1 bg-gray-300 rounded-full w-3/4 m-auto my-4"),e(K,"x1","12"),e(K,"y1","5"),e(K,"x2","12"),e(K,"y2","19"),e(x,"x1","5"),e(x,"y1","12"),e(x,"x2","19"),e(x,"y2","12"),e(N,"xmlns","http://www.w3.org/2000/svg"),e(N,"width","24"),e(N,"height","24"),e(N,"viewBox","0 0 24 24"),e(N,"fill","none"),e(N,"stroke","currentColor"),e(N,"stroke-width","2"),e(N,"stroke-linecap","round"),e(N,"stroke-linejoin","round"),e(N,"class","feather feather-plus"),e(Q,"class","font-bold font-mono bg-green-500 py-2 px-4 rounded w-24 flex flex-row gap-1 hover:bg-green-600 hover:scale-105"),e(ee,"class","flex flex-row mt-10 gap-2 justify-center"),e(a,"class","md:mt-16")},m(b,O){de(b,a,O),y&&y.m(a,null),t(a,l),t(a,r),t(r,o),t(o,d),t(o,f),t(o,v),t(o,T),t(o,g),t(o,I),t(o,m),t(o,Y),t(o,p),t(p,_),t(_,P),t(p,C),t(C,Z),t(o,$),t(o,U),t(U,j),t(j,z),t(o,pe),t(o,G),t(G,F),t(F,fe),t(G,R),t(R,he),t(G,X),t(X,ve),t(o,_e),t(o,B),t(o,me),t(o,V),t(o,ge),t(o,q),t(r,be),t(r,re),t(r,ke),t(r,ee),t(ee,Q),t(Q,N),t(N,K),t(N,x),t(Q,ye),A=!0,Ee||(Pe=J(j,"click",s[7]),Ee=!0)},p(b,[O]){b[1]?y?(y.p(b,O),O&2&&ce(y,1)):(y=Re(b),y.c(),ce(y,1),y.m(a,l)):y&&(it(),De(y,1,1,()=>{y=null}),tt()),(!A||O&1&&n!==(n=b[0].turbineName)&&d.value!==n)&&(d.value=n),(!A||O&1&&k!==(k=b[0].turbineNumber)&&v.value!==k)&&(v.value=k),(!A||O&1&&w!==(w=b[0].description)&&g.value!==w)&&(g.value=w),(!A||O&1&&M!==(M=b[0].odlNumber)&&m.value!==M)&&(m.value=M),(!A||O&1&&ae!==(ae=b[0].operation.length>0?b[0].operation.join(", "):"")&&z.value!==ae)&&(z.value=ae),(!A||O&1&&oe!==(oe=b[0].startingDateEEMM))&&(B.value=oe),(!A||O&1&&ne!==(ne=b[0].startingDateOOCC))&&(V.value=ne),(!A||O&1&&se!==(se=b[0].permittingDate))&&(q.value=se)},i(b){A||(ce(y),Se(()=>{le&&le.end(1),ie=He(o,je,{duration:150}),ie.start()}),Se(()=>{H||(H=We(a,Me,{duration:200},!0)),H.run(1)}),A=!0)},o(b){De(y),ie&&ie.invalidate(),le=at(o,je,{duration:50}),H||(H=We(a,Me,{duration:200},!1)),H.run(0),A=!1},d(b){b&&c(a),y&&y.d(),b&&le&&le.end(),b&&H&&H.end(),Ee=!1,Pe()}}}function ht(s,a,l){let r={turbineName:"",turbineNumber:"XXXX",description:"",odlNumber:0,power:"MEGAWATT",operation:[],turbineState:"In marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null},o=!1,d=[];return lt(()=>{l(2,d=Object.values(ut).map(g=>({name:g,isSelected:!1})))}),[r,o,d,()=>{l(1,o=!1)},g=>{l(2,d=g.detail),l(0,r.operation=d.filter(w=>w.isSelected).map(w=>w.name),r),l(1,o=!1)},()=>{l(1,o=!1)},()=>{l(1,o=!1)},()=>{l(1,o=!o)}]}class mt extends Xe{constructor(a){super(),Ke(this,a,ht,ft,xe,{})}}export{mt as default};
