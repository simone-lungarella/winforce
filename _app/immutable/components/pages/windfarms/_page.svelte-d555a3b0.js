import{P as to,S as Qe,i as Xe,s as Ze,k as h,a as E,q as T,l as p,m as d,h as u,c as y,r as O,n as l,b as R,C as o,u as ue,B as ke,Q as Jr,e as ct,w as qe,E as j,x as Ye,F as x,y as Ge,G as A,O as Gl,f as ie,R as nt,T as Et,t as _e,z as Je,H as et,D as pt,U as Nr,V as lo,o as Jl,W as Ql,X as Qr,Y as rt,g as Vt,d as Mt,Z as kt,_ as Ke,$ as Sl,a0 as Il,a1 as Dr,a2 as ro,a3 as oo}from"../../../chunks/index-38a06d27.js";import{a as Pt}from"../../../chunks/axios-67252f11.js";function no(a){const e=a-1;return e*e*e+1}function Xr(a,{delay:e=0,duration:t=400,easing:r=to}={}){const n=+getComputedStyle(a).opacity;return{delay:e,duration:t,easing:r,css:i=>`opacity: ${i*n}`}}function ut(a,{delay:e=0,duration:t=400,easing:r=no}={}){const n=getComputedStyle(a),i=+n.opacity,s=parseFloat(n.height),c=parseFloat(n.paddingTop),f=parseFloat(n.paddingBottom),g=parseFloat(n.marginTop),v=parseFloat(n.marginBottom),_=parseFloat(n.borderTopWidth),b=parseFloat(n.borderBottomWidth);return{delay:e,duration:t,easing:r,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*i};height: ${m*s}px;padding-top: ${m*c}px;padding-bottom: ${m*f}px;margin-top: ${m*g}px;margin-bottom: ${m*v}px;border-top-width: ${m*_}px;border-bottom-width: ${m*b}px;`}}const qt={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Ir(a,e,t){const r=a.slice();return r[4]=e[t],r[6]=t,r}function ao(a){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-gray-500 h-full w-full rounded")},m(t,r){R(t,e,r)},d(t){t&&u(e)}}}function so(a){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-blue-800 h-full w-full rounded")},m(t,r){R(t,e,r)},d(t){t&&u(e)}}}function io(a){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-blue-500 h-full w-full rounded")},m(t,r){R(t,e,r)},d(t){t&&u(e)}}}function Sr(a){let e;function t(i,s){return i[6]<i[0]?io:i[6]===i[0]?so:ao}let r=t(a),n=r(a);return{c(){n.c(),e=ct()},l(i){n.l(i),e=ct()},m(i,s){n.m(i,s),R(i,e,s)},p(i,s){r!==(r=t(i))&&(n.d(1),n=r(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&u(e)}}}function co(a){let e,t,r,n,i=(a[1]||"Cantiere chiuso")+"",s,c=Array(a[2]),f=[];for(let g=0;g<c.length;g+=1)f[g]=Sr(Ir(a,c,g));return{c(){e=h("div"),t=h("div");for(let g=0;g<f.length;g+=1)f[g].c();r=E(),n=h("span"),s=T(i),this.h()},l(g){e=p(g,"DIV",{class:!0});var v=d(e);t=p(v,"DIV",{class:!0});var _=d(t);for(let m=0;m<f.length;m+=1)f[m].l(_);_.forEach(u),r=y(v),n=p(v,"SPAN",{class:!0});var b=d(n);s=O(b,i),b.forEach(u),v.forEach(u),this.h()},h(){l(t,"class","transition duration-300 ease-in-out transform flex flex-row h-7 w-full lg:w-3/4 gap-0.5"),l(n,"class","absolute font-bold text-lg flex pl-2"),l(e,"class","flex")},m(g,v){R(g,e,v),o(e,t);for(let _=0;_<f.length;_+=1)f[_].m(t,null);o(e,r),o(e,n),o(n,s)},p(g,[v]){if(v&1){c=Array(g[2]);let _;for(_=0;_<c.length;_+=1){const b=Ir(g,c,_);f[_]?f[_].p(b,v):(f[_]=Sr(b),f[_].c(),f[_].m(t,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=c.length}v&2&&i!==(i=(g[1]||"Cantiere chiuso")+"")&&ue(s,i)},i:ke,o:ke,d(g){g&&u(e),Jr(f,g)}}}function uo(a,e,t){let r,{completedSteps:n=0}=e,{creationDate:i=""}=e,s=i.includes("2022")?7:8;return a.$$set=c=>{"completedSteps"in c&&t(0,n=c.completedSteps),"creationDate"in c&&t(3,i=c.creationDate)},a.$$.update=()=>{a.$$.dirty&9&&t(1,r=i.includes("2022")?qt[n+2]:qt[n+1])},[n,r,s,i]}class fo extends Qe{constructor(e){super(),Xe(this,e,uo,co,Ze,{completedSteps:0,creationDate:3})}}function Tr(a){let e,t,r=a[0].turbineNumber+"",n;return{c(){e=h("span"),t=T("- "),n=T(r),this.h()},l(i){e=p(i,"SPAN",{class:!0});var s=d(e);t=O(s,"- "),n=O(s,r),s.forEach(u),this.h()},h(){l(e,"class","hidden md:inline-block")},m(i,s){R(i,e,s),o(e,t),o(e,n)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&ue(n,r)},d(i){i&&u(e)}}}function ho(a){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","hidden md:flex col-span-2")},m(t,r){R(t,e,r)},p:ke,d(t){t&&u(e)}}}function po(a){let e,t,r,n=a[0].odlNumber+"",i;return{c(){e=h("p"),t=T("ODL: "),r=h("span"),i=T(n),this.h()},l(s){e=p(s,"P",{class:!0});var c=d(e);t=O(c,"ODL: "),r=p(c,"SPAN",{class:!0});var f=d(r);i=O(f,n),f.forEach(u),c.forEach(u),this.h()},h(){l(r,"class","text-blue-400"),l(e,"class","flex md:justify-end")},m(s,c){R(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&n!==(n=s[0].odlNumber+"")&&ue(i,n)},d(s){s&&u(e)}}}function Or(a){let e,t,r=a[0].operation[0]+"",n,i,s;return{c(){e=h("div"),t=h("p"),n=T(r),this.h()},l(c){e=p(c,"DIV",{class:!0});var f=d(e);t=p(f,"P",{});var g=d(t);n=O(g,r),g.forEach(u),f.forEach(u),this.h()},h(){l(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 left-10 cursor-default")},m(c,f){R(c,e,f),o(e,t),o(t,n),i||(s=[A(e,"mouseover",a[6]),A(e,"focus",a[7]),A(e,"mouseleave",a[8]),A(e,"focusout",a[9])],i=!0)},p(c,f){f&1&&r!==(r=c[0].operation[0]+"")&&ue(n,r)},d(c){c&&u(e),i=!1,et(s)}}}function go(a){let e,t;return{c(){e=h("span"),t=T("Non disponibile"),this.h()},l(r){e=p(r,"SPAN",{class:!0});var n=d(e);t=O(n,"Non disponibile"),n.forEach(u),this.h()},h(){l(e,"class","hidden lg:flex font-mono font-bold text-end justify-end")},m(r,n){R(r,e,n),o(e,t)},p:ke,d(r){r&&u(e)}}}function mo(a){let e,t;return{c(){e=h("span"),t=T(a[3]),this.h()},l(r){e=p(r,"SPAN",{class:!0});var n=d(e);t=O(n,a[3]),n.forEach(u),this.h()},h(){l(e,"class","hidden lg:flex font-mono font-bold text-end justify-end")},m(r,n){R(r,e,n),o(e,t)},p(r,n){n&8&&ue(t,r[3])},d(r){r&&u(e)}}}function vo(a){let e,t,r,n,i=a[0].turbineName+"",s,c,f,g,v,_,b,m,w,N,V,k,D,I,H,$,F=a[0].description+"",G,ne,te,C,B,z,q,De,Y,oe,Ae,M,Q,Te=a[0].turbineState+"",he,ge,ve,Fe,de,Z,Ee,je=(a[3]||"N/A")+"",Oe,ye,Ne,Ve,pe,xe,le,be,Ie,J,X,U,P,W,ee,S=a[0].turbineNumber&&Tr(a);v=new fo({props:{completedSteps:a[0].completedSteps,creationDate:a[0].creationDate}});function re(L,ae){return L[0].odlNumber!==void 0&&L[0].odlNumber!==0?po:ho}let Me=re(a),me=Me(a),fe=a[1]&&Or(a);function He(L,ae){return L[3]?mo:go}let Be=He(a),Pe=Be(a);return{c(){e=h("div"),t=h("div"),r=h("div"),n=h("h1"),s=T(i),c=E(),S&&S.c(),f=E(),g=h("div"),qe(v.$$.fragment),_=E(),b=h("div"),m=E(),w=h("div"),N=E(),V=h("div"),k=j("svg"),D=j("path"),I=j("circle"),H=E(),$=h("span"),G=T(F),ne=E(),me.c(),te=E(),C=h("div"),B=j("svg"),z=j("path"),q=j("rect"),De=E(),fe&&fe.c(),Y=E(),oe=h("span"),Ae=T(a[2]),M=E(),Q=h("span"),he=T(Te),ge=E(),ve=h("span"),Fe=T("Scadenza cantiere:"),de=E(),Z=h("span"),Ee=T("Scadenza: "),Oe=T(je),ye=E(),Pe.c(),Ne=E(),Ve=h("div"),pe=h("div"),xe=h("button"),le=j("svg"),be=j("polyline"),Ie=j("polyline"),J=j("line"),X=j("line"),this.h()},l(L){e=p(L,"DIV",{class:!0});var ae=d(e);t=p(ae,"DIV",{class:!0});var ze=d(t);r=p(ze,"DIV",{class:!0});var se=d(r);n=p(se,"H1",{class:!0});var Ce=d(n);s=O(Ce,i),c=y(Ce),S&&S.l(Ce),Ce.forEach(u),f=y(se),g=p(se,"DIV",{class:!0});var Re=d(g);Ye(v.$$.fragment,Re),Re.forEach(u),_=y(se),b=p(se,"DIV",{class:!0}),d(b).forEach(u),m=y(se),w=p(se,"DIV",{class:!0}),d(w).forEach(u),N=y(se),V=p(se,"DIV",{class:!0});var Se=d(V);k=x(Se,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Le=d(k);D=x(Le,"path",{d:!0}),d(D).forEach(u),I=x(Le,"circle",{cx:!0,cy:!0,r:!0}),d(I).forEach(u),Le.forEach(u),H=y(Se),$=p(Se,"SPAN",{});var tt=d($);G=O(tt,F),tt.forEach(u),Se.forEach(u),ne=y(se),me.l(se),te=y(se),C=p(se,"DIV",{class:!0});var We=d(C);B=x(We,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var at=d(B);z=x(at,"path",{d:!0}),d(z).forEach(u),q=x(at,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(q).forEach(u),at.forEach(u),De=y(We),fe&&fe.l(We),Y=y(We),oe=p(We,"SPAN",{class:!0});var ot=d(oe);Ae=O(ot,a[2]),ot.forEach(u),We.forEach(u),M=y(se),Q=p(se,"SPAN",{class:!0});var dt=d(Q);he=O(dt,Te),dt.forEach(u),ge=y(se),ve=p(se,"SPAN",{class:!0});var gt=d(ve);Fe=O(gt,"Scadenza cantiere:"),gt.forEach(u),de=y(se),Z=p(se,"SPAN",{class:!0});var mt=d(Z);Ee=O(mt,"Scadenza: "),Oe=O(mt,je),mt.forEach(u),ye=y(se),Pe.l(se),se.forEach(u),Ne=y(ze),Ve=p(ze,"DIV",{class:!0});var At=d(Ve);pe=p(At,"DIV",{class:!0});var st=d(pe);xe=p(st,"BUTTON",{class:!0});var ft=d(xe);le=x(ft,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ht=d(le);be=x(ht,"polyline",{points:!0}),d(be).forEach(u),Ie=x(ht,"polyline",{points:!0}),d(Ie).forEach(u),J=x(ht,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(J).forEach(u),X=x(ht,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(X).forEach(u),ht.forEach(u),ft.forEach(u),st.forEach(u),At.forEach(u),ze.forEach(u),ae.forEach(u),this.h()},h(){l(n,"class","font-bold text-4xl mt-3 col-span-1 md:col-span-2"),l(g,"class","col-span-1 md:col-span-2"),l(b,"class","col-span-1"),l(w,"class","hidden md:flex"),l(D,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),l(I,"cx","12"),l(I,"cy","10"),l(I,"r","3"),l(k,"xmlns","http://www.w3.org/2000/svg"),l(k,"width","24"),l(k,"height","24"),l(k,"viewBox","0 0 24 24"),l(k,"fill","none"),l(k,"stroke","currentColor"),l(k,"stroke-width","2"),l(k,"stroke-linecap","round"),l(k,"stroke-linejoin","round"),l(k,"class","feather feather-map-pin"),l(V,"class","flex gap-2 md:-mb-2"),l(z,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),l(q,"x","8"),l(q,"y","2"),l(q,"width","8"),l(q,"height","4"),l(q,"rx","1"),l(q,"ry","1"),l(B,"xmlns","http://www.w3.org/2000/svg"),l(B,"width","24"),l(B,"height","24"),l(B,"viewBox","0 0 24 24"),l(B,"fill","none"),l(B,"stroke","currentColor"),l(B,"stroke-width","2"),l(B,"stroke-linecap","round"),l(B,"stroke-linejoin","round"),l(B,"class","feather feather-clipboard"),l(oe,"class","flex select-none"),l(C,"class","flex gap-2"),l(Q,"class","flex md:justify-end font-bold"),l(ve,"class","font-mono hidden lg:flex"),l(Z,"class","font-mono flex lg:hidden"),l(r,"class","grid grid-cols-1 text-white font-mono gap-3"),l(be,"points","15 3 21 3 21 9"),l(Ie,"points","9 21 3 21 3 15"),l(J,"x1","21"),l(J,"y1","3"),l(J,"x2","14"),l(J,"y2","10"),l(X,"x1","3"),l(X,"y1","21"),l(X,"x2","10"),l(X,"y2","14"),l(le,"xmlns","http://www.w3.org/2000/svg"),l(le,"width","22"),l(le,"height","22"),l(le,"viewBox","0 0 24 24"),l(le,"fill","none"),l(le,"stroke","currentColor"),l(le,"stroke-width","2"),l(le,"stroke-linecap","round"),l(le,"stroke-linejoin","round"),l(le,"class","feather feather-maximize-2 group-hover:rotate-90 transition-all duration-300 ease-in-out"),l(xe,"class","py-2 px-2 hover:bg-gray-400 rounded-full group"),l(pe,"class","flex flex-col md:flex-row gap-2 md:gap-0"),l(Ve,"class","absolute top-0 right-0 mr-2 mt-2"),l(t,"class","bg-gray-800 px-4 my-2 mx-2 md:mx-0 rounded-sm shadow-md hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto md:h-68 xl:h-56 pb-5 content-start"),l(e,"class","snap-start pt-1")},m(L,ae){R(L,e,ae),o(e,t),o(t,r),o(r,n),o(n,s),o(n,c),S&&S.m(n,null),o(r,f),o(r,g),Ge(v,g,null),o(r,_),o(r,b),o(r,m),o(r,w),o(r,N),o(r,V),o(V,k),o(k,D),o(k,I),o(V,H),o(V,$),o($,G),o(r,ne),me.m(r,null),o(r,te),o(r,C),o(C,B),o(B,z),o(B,q),o(C,De),fe&&fe.m(C,null),o(C,Y),o(C,oe),o(oe,Ae),o(r,M),o(r,Q),o(Q,he),o(r,ge),o(r,ve),o(ve,Fe),o(r,de),o(r,Z),o(Z,Ee),o(Z,Oe),o(r,ye),Pe.m(r,null),o(t,Ne),o(t,Ve),o(Ve,pe),o(pe,xe),o(xe,le),o(le,be),o(le,Ie),o(le,J),o(le,X),P=!0,W||(ee=[A(C,"mouseover",a[10]),A(C,"focus",a[11]),A(C,"mouseleave",a[12]),A(C,"focusout",a[13]),A(xe,"click",Gl(a[4]))],W=!0)},p(L,[ae]){(!P||ae&1)&&i!==(i=L[0].turbineName+"")&&ue(s,i),L[0].turbineNumber?S?S.p(L,ae):(S=Tr(L),S.c(),S.m(n,null)):S&&(S.d(1),S=null);const ze={};ae&1&&(ze.completedSteps=L[0].completedSteps),ae&1&&(ze.creationDate=L[0].creationDate),v.$set(ze),(!P||ae&1)&&F!==(F=L[0].description+"")&&ue(G,F),Me===(Me=re(L))&&me?me.p(L,ae):(me.d(1),me=Me(L),me&&(me.c(),me.m(r,te))),L[1]?fe?fe.p(L,ae):(fe=Or(L),fe.c(),fe.m(C,Y)):fe&&(fe.d(1),fe=null),(!P||ae&4)&&ue(Ae,L[2]),(!P||ae&1)&&Te!==(Te=L[0].turbineState+"")&&ue(he,Te),(!P||ae&8)&&je!==(je=(L[3]||"N/A")+"")&&ue(Oe,je),Be===(Be=He(L))&&Pe?Pe.p(L,ae):(Pe.d(1),Pe=Be(L),Pe&&(Pe.c(),Pe.m(r,null)))},i(L){P||(ie(v.$$.fragment,L),U||nt(()=>{U=Et(t,ut,{duration:1e3}),U.start()}),P=!0)},o(L){_e(v.$$.fragment,L),P=!1},d(L){L&&u(e),S&&S.d(),Je(v),me.d(),fe&&fe.d(),Pe.d(),W=!1,et(ee)}}}function _o(a,e,t){let r,n,i,{turbine:s={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const c=pt(),f=()=>{c("showDetails",s.id)};let g=!1;const v=()=>t(1,g=!0),_=()=>t(1,g=!0),b=()=>t(1,g=!1),m=()=>t(1,g=!1),w=()=>t(1,g=!0),N=()=>t(1,g=!0),V=()=>t(1,g=!1),k=()=>t(1,g=!1);return a.$$set=D=>{"turbine"in D&&t(0,s=D.turbine)},a.$$.update=()=>{a.$$.dirty&1&&t(5,r=s.creationDate.includes("2022")?qt[s.completedSteps+2]:qt[s.completedSteps+1]),a.$$.dirty&33&&(r===qt[3]?s.priorNotification:r===qt[4]&&s.permittingDate),a.$$.dirty&1&&t(3,n=s.permittingDate?new Date(new Date(s.permittingDate).getTime()+90*24*60*60*1e3).toLocaleDateString("it-IT"):null),a.$$.dirty&1&&t(2,i=s.operation[0]?s.operation[0].length>16?s.operation[0].substring(0,14)+"...":s.operation[0]:"")},[s,g,i,n,f,r,v,_,b,m,w,N,V,k]}class bo extends Qe{constructor(e){super(),Xe(this,e,_o,vo,Ze,{turbine:0})}}const ll="https://dockyard-handler.herokuapp.com/v1.0.0";async function tl(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Pt.get(ll+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function wo(a){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.delete(ll+"/event?eventId="+a,t)}else console.log("Token not found in local storage")}async function ko(a){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.post(ll+"/event",a,t)}else console.log("Token not found in local storage")}async function Eo(a){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(a)),await Pt.put(ll+"/event",a,t)}else console.log("Token not found in local storage")}async function yo(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.get(ll+"/events/csv",e)}else console.log("Token not found in local storage")}function Cr(a){let e,t,r,n,i=(a[0].startingDateEEMM||"____/__/__")+"",s,c,f,g,v,_=(a[0].startingDateOOCC||"____/__/__")+"",b;return{c(){e=h("div"),t=h("p"),r=T("Inizio ATT EEMM: "),n=h("span"),s=T(i),c=E(),f=h("p"),g=T("Inizio ATT OOCC: "),v=h("span"),b=T(_),this.h()},l(m){e=p(m,"DIV",{class:!0});var w=d(e);t=p(w,"P",{class:!0});var N=d(t);r=O(N,"Inizio ATT EEMM: "),n=p(N,"SPAN",{class:!0});var V=d(n);s=O(V,i),V.forEach(u),N.forEach(u),c=y(w),f=p(w,"P",{class:!0});var k=d(f);g=O(k,"Inizio ATT OOCC: "),v=p(k,"SPAN",{class:!0});var D=d(v);b=O(D,_),D.forEach(u),k.forEach(u),w.forEach(u),this.h()},h(){l(n,"class","font-extralight"),l(t,"class","font-mono text-white text-lg"),l(v,"class","font-extralight"),l(f,"class","font-mono text-white text-lg"),l(e,"class","p-2 mb-2")},m(m,w){R(m,e,w),o(e,t),o(t,r),o(t,n),o(n,s),o(e,c),o(e,f),o(f,g),o(f,v),o(v,b)},p(m,w){w&1&&i!==(i=(m[0].startingDateEEMM||"____/__/__")+"")&&ue(s,i),w&1&&_!==(_=(m[0].startingDateOOCC||"____/__/__")+"")&&ue(b,_)},d(m){m&&u(e)}}}function No(a){let e,t,r,n,i,s,c,f,g,v,_,b=a[1]&&Cr(a);return{c(){e=h("button"),t=j("svg"),r=j("circle"),n=j("polyline"),i=E(),s=h("h1"),c=T("Tracciamento eventi"),f=E(),b&&b.c(),g=ct(),this.h()},l(m){e=p(m,"BUTTON",{class:!0});var w=d(e);t=x(w,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var N=d(t);r=x(N,"circle",{cx:!0,cy:!0,r:!0}),d(r).forEach(u),n=x(N,"polyline",{points:!0}),d(n).forEach(u),N.forEach(u),i=y(w),s=p(w,"H1",{class:!0});var V=d(s);c=O(V,"Tracciamento eventi"),V.forEach(u),w.forEach(u),f=y(m),b&&b.l(m),g=ct(),this.h()},h(){l(r,"cx","12"),l(r,"cy","12"),l(r,"r","10"),l(n,"points","12 6 12 12 16 14"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-clock"),l(s,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(m,w){R(m,e,w),o(e,t),o(t,r),o(t,n),o(e,i),o(e,s),o(s,c),R(m,f,w),b&&b.m(m,w),R(m,g,w),v||(_=A(e,"click",Gl(a[2])),v=!0)},p(m,[w]){m[1]?b?b.p(m,w):(b=Cr(m),b.c(),b.m(g.parentNode,g)):b&&(b.d(1),b=null)},i:ke,o:ke,d(m){m&&u(e),m&&u(f),b&&b.d(m),m&&u(g),v=!1,_()}}}function Do(a,e,t){let{turbine:r}=e,n=!1;const i=()=>t(1,n=!n);return a.$$set=s=>{"turbine"in s&&t(0,r=s.turbine)},[r,n,i]}class Io extends Qe{constructor(e){super(),Xe(this,e,Do,No,Ze,{turbine:0})}}function Vr(a,e,t){const r=a.slice();return r[3]=e[t],r}function Mr(a){let e,t,r=a[0].operation,n=[];for(let i=0;i<r.length;i+=1)n[i]=Pr(Vr(a,r,i));return{c(){e=h("div"),t=h("ul");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=p(i,"DIV",{class:!0});var s=d(e);t=p(s,"UL",{class:!0});var c=d(t);for(let f=0;f<n.length;f+=1)n[f].l(c);c.forEach(u),s.forEach(u),this.h()},h(){l(t,"class","font-mono text-white text-lg"),l(e,"class","p-2")},m(i,s){R(i,e,s),o(e,t);for(let c=0;c<n.length;c+=1)n[c].m(t,null)},p(i,s){if(s&1){r=i[0].operation;let c;for(c=0;c<r.length;c+=1){const f=Vr(i,r,c);n[c]?n[c].p(f,s):(n[c]=Pr(f),n[c].c(),n[c].m(t,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=r.length}},d(i){i&&u(e),Jr(n,i)}}}function Pr(a){let e,t=a[3]+"",r,n;return{c(){e=h("li"),r=T(t),n=E(),this.h()},l(i){e=p(i,"LI",{class:!0});var s=d(e);r=O(s,t),n=y(s),s.forEach(u),this.h()},h(){l(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(i,s){R(i,e,s),o(e,r),o(e,n)},p(i,s){s&1&&t!==(t=i[3]+"")&&ue(r,t)},d(i){i&&u(e)}}}function So(a){let e,t,r,n,i,s,c,f,g,v,_=a[1]&&Mr(a);return{c(){e=h("button"),t=j("svg"),r=j("path"),n=E(),i=h("h1"),s=T("Operazioni"),c=E(),_&&_.c(),f=ct(),this.h()},l(b){e=p(b,"BUTTON",{class:!0});var m=d(e);t=x(m,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var w=d(t);r=x(w,"path",{d:!0}),d(r).forEach(u),w.forEach(u),n=y(m),i=p(m,"H1",{class:!0});var N=d(i);s=O(N,"Operazioni"),N.forEach(u),m.forEach(u),c=y(b),_&&_.l(b),f=ct(),this.h()},h(){l(r,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-tool"),l(i,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(b,m){R(b,e,m),o(e,t),o(t,r),o(e,n),o(e,i),o(i,s),R(b,c,m),_&&_.m(b,m),R(b,f,m),g||(v=A(e,"click",Gl(a[2])),g=!0)},p(b,[m]){b[1]?_?_.p(b,m):(_=Mr(b),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},i:ke,o:ke,d(b){b&&u(e),b&&u(c),_&&_.d(b),b&&u(f),g=!1,v()}}}function To(a,e,t){let{turbine:r}=e,n=!1;const i=()=>t(1,n=!n);return a.$$set=s=>{"turbine"in s&&t(0,r=s.turbine)},[r,n,i]}class Oo extends Qe{constructor(e){super(),Xe(this,e,To,So,Ze,{turbine:0})}}const Zr="https://dockyard-handler.herokuapp.com/v1.0.0";async function Ar(a){if(console.log("Retrieving steps for event "+a),typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Pt.get(Zr+"/steps/"+a,t)).data}else console.log("Token not found in local storage")}async function Co(a,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.put(Zr+"/step/complete?stepId="+a+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function Br(a,e,t){const r=a.slice();return r[6]=e[t],r}function Vo(a){return{c:ke,l:ke,m:ke,p:ke,d:ke}}function Mo(a){let e=[],t=new Map,r,n=a[0];const i=s=>s[6].id;for(let s=0;s<n.length;s+=1){let c=Br(a,n,s),f=i(c);t.set(f,e[s]=Lr(f,c))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=ct()},l(s){for(let c=0;c<e.length;c+=1)e[c].l(s);r=ct()},m(s,c){for(let f=0;f<e.length;f+=1)e[f].m(s,c);R(s,r,c)},p(s,c){c&7&&(n=s[0],e=Ql(e,c,i,1,s,n,t,r.parentNode,Qr,Lr,r,Br))},d(s){for(let c=0;c<e.length;c+=1)e[c].d(s);s&&u(r)}}}function zr(a){let e,t,r,n,i,s,c;return{c(){e=h("div"),t=h("p"),r=T("Completato"),n=E(),i=j("svg"),s=j("path"),c=j("polyline"),this.h()},l(f){e=p(f,"DIV",{class:!0});var g=d(e);t=p(g,"P",{class:!0});var v=d(t);r=O(v,"Completato"),v.forEach(u),n=y(g),i=x(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var _=d(i);s=x(_,"path",{d:!0}),d(s).forEach(u),c=x(_,"polyline",{points:!0}),d(c).forEach(u),_.forEach(u),g.forEach(u),this.h()},h(){l(t,"class","font-bold uppercase"),l(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),l(c,"points","22 4 12 14.01 9 11.01"),l(i,"xmlns","http://www.w3.org/2000/svg"),l(i,"width","22"),l(i,"height","22"),l(i,"viewBox","0 0 24 24"),l(i,"fill","none"),l(i,"stroke","currentColor"),l(i,"stroke-width","2"),l(i,"stroke-linecap","round"),l(i,"stroke-linejoin","round"),l(i,"class","feather feather-check-circle text-green-500"),l(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(f,g){R(f,e,g),o(e,t),o(t,r),o(e,n),o(e,i),o(i,s),o(i,c)},d(f){f&&u(e)}}}function Lr(a,e){let t,r,n,i,s,c,f,g=e[6].name+"",v,_,b=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,m,w,N;function V(){return e[4](e[6])}let k=b&&zr();return{key:a,first:null,c(){t=h("div"),r=h("input"),s=E(),c=h("div"),f=h("p"),v=T(g),_=E(),k&&k.c(),m=E(),this.h()},l(D){t=p(D,"DIV",{class:!0});var I=d(t);r=p(I,"INPUT",{type:!0,class:!0}),s=y(I),c=p(I,"DIV",{class:!0});var H=d(c);f=p(H,"P",{});var $=d(f);v=O($,g),$.forEach(u),H.forEach(u),_=y(I),k&&k.l(I),m=y(I),I.forEach(u),this.h()},h(){l(r,"type","checkbox"),l(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=i=e[6].complete,l(c,"class","col-span-6 text-left"),l(t,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm"),this.first=t},m(D,I){R(D,t,I),o(t,r),o(t,s),o(t,c),o(c,f),o(f,v),o(t,_),k&&k.m(t,null),o(t,m),w||(N=A(r,"click",V),w=!0)},p(D,I){e=D,I&3&&n!==(n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=n),I&1&&i!==(i=e[6].complete)&&(r.checked=i),I&1&&g!==(g=e[6].name+"")&&ue(v,g),I&3&&(b=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),b?k||(k=zr(),k.c(),k.m(t,m)):k&&(k.d(1),k=null)},d(D){D&&u(t),k&&k.d(),w=!1,N()}}}function Po(a){let e,t;return{c(){e=h("div"),t=T("Caricamento..."),this.h()},l(r){e=p(r,"DIV",{class:!0});var n=d(e);t=O(n,"Caricamento..."),n.forEach(u),this.h()},h(){l(e,"class","col-span-7 text-center")},m(r,n){R(r,e,n),o(e,t)},p:ke,d(r){r&&u(e)}}}function Ao(a){let e,t,r,n,i,s,c,f,g,v,_,b,m,w={ctx:a,current:null,token:null,hasCatch:!1,pending:Po,then:Mo,catch:Vo,value:0};return Nr(_=a[0],w),{c(){e=h("div"),t=h("div"),r=j("svg"),n=j("path"),i=j("path"),s=E(),c=h("h1"),f=T("Tracciamento fasi"),g=E(),v=h("div"),w.block.c(),this.h()},l(N){e=p(N,"DIV",{class:!0});var V=d(e);t=p(V,"DIV",{class:!0});var k=d(t);r=x(k,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(r);n=x(D,"path",{d:!0}),d(n).forEach(u),i=x(D,"path",{d:!0}),d(i).forEach(u),D.forEach(u),s=y(k),c=p(k,"H1",{class:!0});var I=d(c);f=O(I,"Tracciamento fasi"),I.forEach(u),k.forEach(u),g=y(V),v=p(V,"DIV",{id:!0,class:!0});var H=d(v);w.block.l(H),H.forEach(u),V.forEach(u),this.h()},h(){l(n,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),l(i,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),l(r,"xmlns","http://www.w3.org/2000/svg"),l(r,"width","24"),l(r,"height","24"),l(r,"viewBox","0 0 24 24"),l(r,"fill","none"),l(r,"stroke","currentColor"),l(r,"stroke-width","2"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"class","feather feather-link"),l(c,"class","text-center font-mono text-xl"),l(t,"class","grid justify-center place-content-center items-center grid-flow-col mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),l(v,"id","stepsContainer"),l(v,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-32 md:h-64 gap-2 scrollbar-none shadow-md mt-5 items-center"),l(e,"class","col-span-1 text-white md:ring-2 ring-gray-400 rounded-sm")},m(N,V){R(N,e,V),o(e,t),o(t,r),o(r,n),o(r,i),o(t,s),o(t,c),o(c,f),o(e,g),o(e,v),w.block.m(v,w.anchor=null),w.mount=()=>v,w.anchor=null},p(N,[V]){a=N,w.ctx=a,V&1&&_!==(_=a[0])&&Nr(_,w)||lo(w,a,V)},i(N){b||nt(()=>{b=Et(v,ut,{delay:500,duration:1e3}),b.start()}),m||nt(()=>{m=Et(e,Xr,{delay:400,duration:1e3}),m.start()})},o:ke,d(N){N&&u(e),w.block.d(),w.token=null,w=null}}}function Bo(a,e,t){let r,{turbine:n}=e,i=[];Jl(()=>{Ar(n.id).then(g=>{t(0,i=g)}),setTimeout(()=>{c()},1500)});const s=(g,v)=>{Co(g,v).then(()=>{Ar(n.id).then(_=>{t(0,i=_),v?t(3,n.completedSteps+=1,n):t(3,n.completedSteps-=1,n),c()})})};function c(){const g=document.getElementById("stepsContainer"),v=9;if(g){const _=window.innerWidth<768?2:4,b=n.completedSteps-_;if(b>=0&&n.completedSteps<v){g.scrollTo({top:g.scrollHeight/v*(b+1),behavior:"smooth"});return}else if(n.completedSteps===v){setTimeout(()=>{g.scrollTo({top:0,behavior:"smooth"})},500);return}}}const f=g=>s(g.id,!g.complete);return a.$$set=g=>{"turbine"in g&&t(3,n=g.turbine)},a.$$.update=()=>{a.$$.dirty&9&&t(1,r=i[n.completedSteps])},[i,r,s,n,f]}class zo extends Qe{constructor(e){super(),Xe(this,e,Bo,Ao,Ze,{turbine:3})}}function Lo(a){let e,t,r,n,i,s,c,f,g,v,_,b,m;return{c(){e=h("div"),t=h("p"),r=T("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),n=E(),i=h("div"),s=h("button"),c=T("Annulla"),f=E(),g=h("button"),v=T("Conferma"),this.h()},l(w){e=p(w,"DIV",{class:!0});var N=d(e);t=p(N,"P",{class:!0});var V=d(t);r=O(V,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),V.forEach(u),n=y(N),i=p(N,"DIV",{class:!0});var k=d(i);s=p(k,"BUTTON",{class:!0});var D=d(s);c=O(D,"Annulla"),D.forEach(u),f=y(k),g=p(k,"BUTTON",{class:!0});var I=d(g);v=O(I,"Conferma"),I.forEach(u),k.forEach(u),N.forEach(u),this.h()},h(){l(t,"class","font-bold text-lg"),l(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),l(g,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),l(i,"class","flex justify-end mt-5 text-sm"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(w,N){R(w,e,N),o(e,t),o(t,r),o(e,n),o(e,i),o(i,s),o(s,c),o(i,f),o(i,g),o(g,v),b||(m=[A(s,"click",a[1]),A(g,"click",a[0]),A(e,"click",a[2]),A(e,"keydown",a[2])],b=!0)},p:ke,i(w){_||nt(()=>{_=Et(e,ut,{duration:300}),_.start()})},o:ke,d(w){w&&u(e),b=!1,et(m)}}}function Uo(a){const e=pt();return[()=>{e("confirm")},()=>{e("cancel")},i=>{i.stopPropagation()}]}class jo extends Qe{constructor(e){super(),Xe(this,e,Uo,Lo,Ze,{})}}function Ur(a){let e,t,r=a[0].turbineNumber+"",n;return{c(){e=h("span"),t=T("- "),n=T(r)},l(i){e=p(i,"SPAN",{});var s=d(e);t=O(s,"- "),n=O(s,r),s.forEach(u)},m(i,s){R(i,e,s),o(e,t),o(e,n)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&ue(n,r)},d(i){i&&u(e)}}}function jr(a){let e,t,r,n,i;return t=new jo({}),t.$on("confirm",a[4]),t.$on("cancel",a[7]),{c(){e=h("div"),qe(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);Ye(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,c){R(s,e,c),Ge(t,e,null),r=!0,n||(i=[A(e,"click",a[8]),A(e,"keydown",a[9])],n=!0)},p:ke,i(s){r||(ie(t.$$.fragment,s),r=!0)},o(s){_e(t.$$.fragment,s),r=!1},d(s){s&&u(e),Je(t),n=!1,et(i)}}}function xr(a){let e,t,r,n=a[0].permittingDate+"",i;return{c(){e=h("p"),t=T("Valdità permitting: "),r=h("span"),i=T(n),this.h()},l(s){e=p(s,"P",{class:!0});var c=d(e);t=O(c,"Valdità permitting: "),r=p(c,"SPAN",{});var f=d(r);i=O(f,n),f.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(s,c){R(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&n!==(n=s[0].permittingDate+"")&&ue(i,n)},d(s){s&&u(e)}}}function $r(a){let e,t,r,n=a[0].priorNotification+"",i;return{c(){e=h("p"),t=T("Valdità notifica: "),r=h("span"),i=T(n),this.h()},l(s){e=p(s,"P",{class:!0});var c=d(e);t=O(c,"Valdità notifica: "),r=p(c,"SPAN",{});var f=d(r);i=O(f,n),f.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(s,c){R(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&n!==(n=s[0].priorNotification+"")&&ue(i,n)},d(s){s&&u(e)}}}function xo(a){let e,t,r,n=a[0].turbineName+"",i,s,c,f,g,v,_,b,m,w,N,V,k,D,I,H,$,F,G,ne,te,C,B,z,q,De,Y,oe,Ae,M,Q=a[0].creationDate+"",Te,he,ge,ve,Fe,de=a[0].turbineState+"",Z,Ee,je,Oe,ye,Ne,Ve,pe,xe,le,be,Ie,J,X,U=a[0].turbineNumber&&Ur(a),P=a[1]&&jr(a),W=a[0].permittingDate!==void 0&&xr(a),ee=a[0].priorNotification!==void 0&&$r(a);return Ne=new Io({props:{turbine:a[0]}}),pe=new Oo({props:{turbine:a[0]}}),le=new zo({props:{turbine:a[0]}}),{c(){e=h("div"),t=h("div"),r=h("h1"),i=T(n),s=E(),U&&U.c(),c=E(),f=h("div"),g=h("div"),v=h("div"),_=E(),P&&P.c(),b=E(),m=h("div"),w=h("button"),N=j("svg"),V=j("polyline"),k=j("path"),D=j("line"),I=j("line"),H=E(),$=h("button"),F=j("svg"),G=j("path"),ne=E(),te=h("button"),C=j("svg"),B=j("line"),z=j("line"),q=E(),De=h("div"),Y=h("div"),oe=h("p"),Ae=T("Creazione: "),M=h("span"),Te=T(Q),he=E(),ge=h("p"),ve=T("Stato turbina: "),Fe=h("span"),Z=T(de),Ee=E(),W&&W.c(),je=E(),ee&&ee.c(),Oe=E(),ye=h("div"),qe(Ne.$$.fragment),Ve=E(),qe(pe.$$.fragment),xe=E(),qe(le.$$.fragment),this.h()},l(S){e=p(S,"DIV",{class:!0});var re=d(e);t=p(re,"DIV",{class:!0});var Me=d(t);r=p(Me,"H1",{class:!0});var me=d(r);i=O(me,n),s=y(me),U&&U.l(me),me.forEach(u),c=y(Me),f=p(Me,"DIV",{class:!0});var fe=d(f);g=p(fe,"DIV",{class:!0});var He=d(g);v=p(He,"DIV",{class:!0}),d(v).forEach(u),_=y(He),P&&P.l(He),b=y(He),m=p(He,"DIV",{class:!0});var Be=d(m);w=p(Be,"BUTTON",{class:!0});var Pe=d(w);N=x(Pe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var L=d(N);V=x(L,"polyline",{points:!0}),d(V).forEach(u),k=x(L,"path",{d:!0}),d(k).forEach(u),D=x(L,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(u),I=x(L,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(I).forEach(u),L.forEach(u),Pe.forEach(u),H=y(Be),$=p(Be,"BUTTON",{class:!0});var ae=d($);F=x(ae,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ze=d(F);G=x(ze,"path",{d:!0}),d(G).forEach(u),ze.forEach(u),ae.forEach(u),ne=y(Be),te=p(Be,"BUTTON",{class:!0});var se=d(te);C=x(se,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ce=d(C);B=x(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(B).forEach(u),z=x(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(z).forEach(u),Ce.forEach(u),se.forEach(u),Be.forEach(u),He.forEach(u),fe.forEach(u),Me.forEach(u),q=y(re),De=p(re,"DIV",{class:!0});var Re=d(De);Y=p(Re,"DIV",{class:!0});var Se=d(Y);oe=p(Se,"P",{class:!0});var Le=d(oe);Ae=O(Le,"Creazione: "),M=p(Le,"SPAN",{});var tt=d(M);Te=O(tt,Q),tt.forEach(u),Le.forEach(u),he=y(Se),ge=p(Se,"P",{class:!0});var We=d(ge);ve=O(We,"Stato turbina: "),Fe=p(We,"SPAN",{});var at=d(Fe);Z=O(at,de),at.forEach(u),We.forEach(u),Ee=y(Se),W&&W.l(Se),je=y(Se),ee&&ee.l(Se),Oe=y(Se),ye=p(Se,"DIV",{class:!0});var ot=d(ye);Ye(Ne.$$.fragment,ot),Ve=y(ot),Ye(pe.$$.fragment,ot),ot.forEach(u),Se.forEach(u),xe=y(Re),Ye(le.$$.fragment,Re),Re.forEach(u),re.forEach(u),this.h()},h(){l(r,"class","font-mono font-bold text-2xl md:text-4xl"),l(v,"class","col-span-3"),l(V,"points","3 6 5 6 21 6"),l(k,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),l(D,"x1","10"),l(D,"y1","11"),l(D,"x2","10"),l(D,"y2","17"),l(I,"x1","14"),l(I,"y1","11"),l(I,"x2","14"),l(I,"y2","17"),l(N,"xmlns","http://www.w3.org/2000/svg"),l(N,"width","20"),l(N,"height","20"),l(N,"viewBox","0 0 24 24"),l(N,"fill","none"),l(N,"stroke","currentColor"),l(N,"stroke-width","2"),l(N,"stroke-linecap","round"),l(N,"stroke-linejoin","round"),l(N,"class","feather feather-trash-2"),l(w,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(G,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),l(F,"xmlns","http://www.w3.org/2000/svg"),l(F,"width","20"),l(F,"height","20"),l(F,"viewBox","0 0 24 24"),l(F,"fill","none"),l(F,"stroke","currentColor"),l(F,"stroke-width","2"),l(F,"stroke-linecap","round"),l(F,"stroke-linejoin","round"),l(F,"class","feather feather-edit-2"),l($,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),l(B,"x1","18"),l(B,"y1","6"),l(B,"x2","6"),l(B,"y2","18"),l(z,"x1","6"),l(z,"y1","6"),l(z,"x2","18"),l(z,"y2","18"),l(C,"xmlns","http://www.w3.org/2000/svg"),l(C,"width","24"),l(C,"height","24"),l(C,"viewBox","0 0 24 24"),l(C,"fill","none"),l(C,"stroke","currentColor"),l(C,"stroke-width","2"),l(C,"stroke-linecap","round"),l(C,"stroke-linejoin","round"),l(C,"class","feather feather-x"),l(te,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(m,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),l(g,"class","grid grid-cols-6"),l(f,"class","flex flex-row justify-end"),l(t,"class","w-full h-20 grid grid-cols-2 items-start"),l(oe,"class","font-mono text-white text-lg"),l(ge,"class","font-mono text-white text-lg"),l(ye,"class","w-full mt-5"),l(Y,"class","col-span-1"),l(De,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start gap-0 md:gap-4"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 md:min-w-min md:max-w-4xl z-50 h-[32rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(S,re){R(S,e,re),o(e,t),o(t,r),o(r,i),o(r,s),U&&U.m(r,null),o(t,c),o(t,f),o(f,g),o(g,v),o(g,_),P&&P.m(g,null),o(g,b),o(g,m),o(m,w),o(w,N),o(N,V),o(N,k),o(N,D),o(N,I),o(m,H),o(m,$),o($,F),o(F,G),o(m,ne),o(m,te),o(te,C),o(C,B),o(C,z),o(e,q),o(e,De),o(De,Y),o(Y,oe),o(oe,Ae),o(oe,M),o(M,Te),o(Y,he),o(Y,ge),o(ge,ve),o(ge,Fe),o(Fe,Z),o(Y,Ee),W&&W.m(Y,null),o(Y,je),ee&&ee.m(Y,null),o(Y,Oe),o(Y,ye),Ge(Ne,ye,null),o(ye,Ve),Ge(pe,ye,null),o(De,xe),Ge(le,De,null),Ie=!0,J||(X=[A(w,"click",a[10]),A($,"click",a[3]),A(te,"click",a[2]),A(e,"click",rt(a[5])),A(e,"keydown",rt(a[6]))],J=!0)},p(S,[re]){(!Ie||re&1)&&n!==(n=S[0].turbineName+"")&&ue(i,n),S[0].turbineNumber?U?U.p(S,re):(U=Ur(S),U.c(),U.m(r,null)):U&&(U.d(1),U=null),S[1]?P?(P.p(S,re),re&2&&ie(P,1)):(P=jr(S),P.c(),ie(P,1),P.m(g,b)):P&&(Vt(),_e(P,1,1,()=>{P=null}),Mt()),(!Ie||re&1)&&Q!==(Q=S[0].creationDate+"")&&ue(Te,Q),(!Ie||re&1)&&de!==(de=S[0].turbineState+"")&&ue(Z,de),S[0].permittingDate!==void 0?W?W.p(S,re):(W=xr(S),W.c(),W.m(Y,je)):W&&(W.d(1),W=null),S[0].priorNotification!==void 0?ee?ee.p(S,re):(ee=$r(S),ee.c(),ee.m(Y,Oe)):ee&&(ee.d(1),ee=null);const Me={};re&1&&(Me.turbine=S[0]),Ne.$set(Me);const me={};re&1&&(me.turbine=S[0]),pe.$set(me);const fe={};re&1&&(fe.turbine=S[0]),le.$set(fe)},i(S){Ie||(ie(P),ie(Ne.$$.fragment,S),ie(pe.$$.fragment,S),ie(le.$$.fragment,S),be||nt(()=>{be=Et(e,ut,{duration:150}),be.start()}),Ie=!0)},o(S){_e(P),_e(Ne.$$.fragment,S),_e(pe.$$.fragment,S),_e(le.$$.fragment,S),Ie=!1},d(S){S&&u(e),U&&U.d(),P&&P.d(),W&&W.d(),ee&&ee.d(),Je(Ne),Je(pe),Je(le),J=!1,et(X)}}}function $o(a,e,t){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const n=pt(),i=()=>{n("closeDetails")},s=()=>{n("editMode",r.id)};let c=!1;const f=()=>{t(1,c=!1),wo(r.id).then(()=>{n("deleted")})};function g(N){kt.call(this,a,N)}function v(N){kt.call(this,a,N)}const _=()=>{t(1,c=!1)},b=()=>{t(1,c=!1)},m=()=>{t(1,c=!1)},w=()=>{t(1,c=!0)};return a.$$set=N=>{"turbine"in N&&t(0,r=N.turbine)},[r,c,i,s,f,g,v,_,b,m,w]}class Fo extends Qe{constructor(e){super(),Xe(this,e,$o,xo,Ze,{turbine:0})}}const Wo={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear"};function Fr(a,e,t){const r=a.slice();return r[7]=e[t],r[8]=e,r[9]=t,r}function Wr(a,e){let t,r,n,i,s,c=e[7].name+"",f,g,v,_;function b(...m){return e[5](e[7],e[8],e[9],...m)}return{key:a,first:null,c(){t=h("div"),r=h("input"),i=E(),s=h("p"),f=T(c),g=E(),this.h()},l(m){t=p(m,"DIV",{class:!0});var w=d(t);r=p(w,"INPUT",{class:!0,type:!0}),i=y(w),s=p(w,"P",{class:!0});var N=d(s);f=O(N,c),N.forEach(u),g=y(w),w.forEach(u),this.h()},h(){l(r,"class","checkbox"),r.checked=n=e[7].isSelected,l(r,"type","checkbox"),l(s,"class","font-mono"),l(t,"class","flex flex-row gap-4"),this.first=t},m(m,w){R(m,t,w),o(t,r),o(t,i),o(t,s),o(s,f),o(t,g),v||(_=A(r,"change",b),v=!0)},p(m,w){e=m,w&1&&n!==(n=e[7].isSelected)&&(r.checked=n),w&1&&c!==(c=e[7].name+"")&&ue(f,c)},d(m){m&&u(t),v=!1,_()}}}function Ho(a){let e,t,r=[],n=new Map,i,s,c,f,g,v,_,b,m,w,N=a[0];const V=k=>k[7].name;for(let k=0;k<N.length;k+=1){let D=Fr(a,N,k),I=V(D);n.set(I,r[k]=Wr(I,D))}return{c(){e=h("div"),t=h("div");for(let k=0;k<r.length;k+=1)r[k].c();i=E(),s=h("div"),c=h("button"),f=T("Conferma"),g=E(),v=h("button"),_=T("Chiudi"),this.h()},l(k){e=p(k,"DIV",{class:!0});var D=d(e);t=p(D,"DIV",{class:!0});var I=d(t);for(let G=0;G<r.length;G+=1)r[G].l(I);I.forEach(u),i=y(D),s=p(D,"DIV",{class:!0});var H=d(s);c=p(H,"BUTTON",{class:!0});var $=d(c);f=O($,"Conferma"),$.forEach(u),g=y(H),v=p(H,"BUTTON",{class:!0});var F=d(v);_=O(F,"Chiudi"),F.forEach(u),H.forEach(u),D.forEach(u),this.h()},h(){l(t,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),l(c,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),l(v,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),l(s,"class","flex flex-row mt-5 gap-2 justify-center"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(k,D){R(k,e,D),o(e,t);for(let I=0;I<r.length;I+=1)r[I].m(t,null);o(e,i),o(e,s),o(s,c),o(c,f),o(s,g),o(s,v),o(v,_),m||(w=[A(c,"click",rt(a[1])),A(v,"click",rt(a[2])),A(e,"click",rt(a[3])),A(e,"keydown",rt(a[4]))],m=!0)},p(k,[D]){D&1&&(N=k[0],r=Ql(r,D,V,1,k,N,n,t,Qr,Wr,null,Fr))},i(k){b||nt(()=>{b=Et(e,ut,{duration:300}),b.start()})},o:ke,d(k){k&&u(e);for(let D=0;D<r.length;D+=1)r[D].d();m=!1,et(w)}}}function Ro(a,e,t){let{operations:r=[]}=e;const n=pt(),i=()=>{n("confirm",r)},s=()=>{n("cancel")};function c(v){kt.call(this,a,v)}function f(v){kt.call(this,a,v)}const g=(v,_,b,m)=>{t(0,_[b].isSelected=m.target.checked,r)};return a.$$set=v=>{"operations"in v&&t(0,r=v.operations)},[r,i,s,c,f,g]}class Ko extends Qe{constructor(e){super(),Xe(this,e,Ro,Ho,Ze,{operations:0})}}function qo(a){let e,t,r,n,i,s,c,f,g,v,_,b,m,w,N,V,k,D,I,H,$,F;return{c(){e=h("div"),t=h("div"),r=h("button"),n=j("svg"),i=j("path"),s=j("line"),c=j("polyline"),g=T("Kilowatt"),_=E(),b=h("button"),m=j("svg"),w=j("path"),N=j("line"),V=j("polyline"),D=T("Megawatt"),this.h()},l(G){e=p(G,"DIV",{class:!0});var ne=d(e);t=p(ne,"DIV",{class:!0});var te=d(t);r=p(te,"BUTTON",{class:!0,type:!0});var C=d(r);n=x(C,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var B=d(n);i=x(B,"path",{d:!0}),d(i).forEach(u),s=x(B,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),c=x(B,"polyline",{points:!0}),d(c).forEach(u),B.forEach(u),g=O(C,"Kilowatt"),C.forEach(u),_=y(te),b=p(te,"BUTTON",{class:!0,type:!0});var z=d(b);m=x(z,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var q=d(m);w=x(q,"path",{d:!0}),d(w).forEach(u),N=x(q,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(N).forEach(u),V=x(q,"polyline",{points:!0}),d(V).forEach(u),q.forEach(u),D=O(z,"Megawatt"),z.forEach(u),te.forEach(u),ne.forEach(u),this.h()},h(){l(i,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(s,"x1","23"),l(s,"y1","13"),l(s,"x2","23"),l(s,"y2","11"),l(c,"points","11 6 7 12 13 12 9 18"),l(n,"xmlns","http://www.w3.org/2000/svg"),l(n,"width","24"),l(n,"height","24"),l(n,"viewBox","0 0 24 24"),l(n,"fill","none"),l(n,"stroke","currentColor"),l(n,"stroke-width","2"),l(n,"stroke-linecap","round"),l(n,"stroke-linejoin","round"),l(n,"class",f=a[0]?"text-green-500":""),l(r,"class",v=Ke(a[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(w,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(N,"x1","23"),l(N,"y1","13"),l(N,"x2","23"),l(N,"y2","11"),l(V,"points","11 6 7 12 13 12 9 18"),l(m,"xmlns","http://www.w3.org/2000/svg"),l(m,"width","24"),l(m,"height","24"),l(m,"viewBox","0 0 24 24"),l(m,"fill","none"),l(m,"stroke","currentColor"),l(m,"stroke-width","2"),l(m,"stroke-linecap","round"),l(m,"stroke-linejoin","round"),l(m,"class",k=a[0]?"":"text-blue-500"),l(b,"class",I=Ke(a[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4"),l(b,"type","button"),l(t,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(G,ne){R(G,e,ne),o(e,t),o(t,r),o(r,n),o(n,i),o(n,s),o(n,c),o(r,g),o(t,_),o(t,b),o(b,m),o(m,w),o(m,N),o(m,V),o(b,D),$||(F=[A(r,"click",a[2]),A(b,"click",a[3])],$=!0)},p(G,[ne]){ne&1&&f!==(f=G[0]?"text-green-500":"")&&l(n,"class",f),ne&1&&v!==(v=Ke(G[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",v),ne&1&&k!==(k=G[0]?"":"text-blue-500")&&l(m,"class",k),ne&1&&I!==(I=Ke(G[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4")&&l(b,"class",I)},i(G){H||nt(()=>{H=Et(e,Xr,{duration:300}),H.start()})},o:ke,d(G){G&&u(e),$=!1,et(F)}}}function Yo(a,e,t){const r=pt();let n=!0;const i=()=>{r("change",n?"KILOWATT":"MEGAWATT")};return[n,i,()=>{t(0,n=!0),i()},()=>{t(0,n=!1),i()}]}class Go extends Qe{constructor(e){super(),Xe(this,e,Yo,qo,Ze,{})}}function Jo(a){let e,t,r,n,i,s,c,f,g,v,_,b,m,w,N,V;return{c(){e=h("div"),t=h("div"),r=h("button"),n=T("In Marcia"),s=E(),c=h("button"),f=T("Limitata"),v=E(),_=h("button"),b=T("Ferma"),this.h()},l(k){e=p(k,"DIV",{class:!0});var D=d(e);t=p(D,"DIV",{class:!0});var I=d(t);r=p(I,"BUTTON",{class:!0,type:!0});var H=d(r);n=O(H,"In Marcia"),H.forEach(u),s=y(I),c=p(I,"BUTTON",{class:!0,type:!0});var $=d(c);f=O($,"Limitata"),$.forEach(u),v=y(I),_=p(I,"BUTTON",{class:!0,type:!0});var F=d(_);b=O(F,"Ferma"),F.forEach(u),I.forEach(u),D.forEach(u),this.h()},h(){l(r,"class",i=Ke(a[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(c,"class",g=Ke(a[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),l(c,"type","button"),l(_,"class",m=Ke(a[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),l(_,"type","button"),l(t,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(k,D){R(k,e,D),o(e,t),o(t,r),o(r,n),o(t,s),o(t,c),o(c,f),o(t,v),o(t,_),o(_,b),N||(V=[A(r,"click",a[2]),A(c,"click",a[3]),A(_,"click",a[4])],N=!0)},p(k,[D]){D&1&&i!==(i=Ke(k[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",i),D&1&&g!==(g=Ke(k[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&l(c,"class",g),D&1&&m!==(m=Ke(k[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&l(_,"class",m)},i(k){w||nt(()=>{w=Et(e,ut,{duration:300,delay:300}),w.start()})},o:ke,d(k){k&&u(e),N=!1,et(V)}}}function Qo(a,e,t){const r=pt();let n="In Marcia";const i=()=>{r("change",n)};return[n,i,()=>{t(0,n="In Marcia"),i()},()=>{t(0,n="Limitata"),i()},()=>{t(0,n="Ferma"),i()}]}class Xo extends Qe{constructor(e){super(),Xe(this,e,Qo,Jo,Ze,{})}}function Hr(a){let e,t,r,n,i;return t=new Ko({props:{operations:a[3]}}),t.$on("cancel",a[12]),t.$on("confirm",a[13]),{c(){e=h("div"),qe(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);Ye(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){R(s,e,c),Ge(t,e,null),r=!0,n||(i=[A(e,"click",rt(a[14])),A(e,"keydown",rt(a[15]))],n=!0)},p(s,c){const f={};c&8&&(f.operations=s[3]),t.$set(f)},i(s){r||(ie(t.$$.fragment,s),r=!0)},o(s){_e(t.$$.fragment,s),r=!1},d(s){s&&u(e),Je(t),n=!1,et(i)}}}function Zo(a){let e,t,r,n,i,s,c,f,g,v,_,b,m,w,N,V,k,D,I,H,$,F,G,ne,te,C,B,z,q,De,Y,oe,Ae,M,Q,Te,he,ge,ve,Fe,de,Z,Ee,je,Oe,ye,Ne,Ve,pe,xe,le,be,Ie,J,X,U,P,W,ee,S,re,Me,me=a[1]?"modifica":"creazione",fe,He,Be,Pe,L,ae,ze,se,Ce,Re=a[0].turbineNumber+"",Se,Le,tt,We,at,ot,dt,gt=a[0].turbineName+"",mt,At,st,ft,ht,Tl,Bt,Yt=a[0].description+"",rl,Ol,yt,zt,Cl,Vl,Lt,Gt=(a[0].odlNumber||"N/A")+"",ol,Ml,Nt,Ut,Pl,Al,jt,Jt=a[0].operation+"",nl,Bl,Dt,xt,zl,Ll,$t,Qt=a[0].power+"",al,Ul,It,Ft,jl,xl,Wt,Xt=a[0].turbineState+"",sl,$l,vt,_t,Fl,Wl,St,Zt,el=a[1]?"Modifica":"Crea",il,bt,Hl,lt,Tt,cl,Rl,Ot,ul,Kl,Ct,dl,we,ql,Xl,Ue=a[2]&&Hr(a);return te=new Go({}),te.$on("change",a[21]),q=new Xo({}),q.$on("change",a[22]),{c(){e=h("div"),Ue&&Ue.c(),t=E(),r=h("form"),n=h("div"),i=h("div"),s=h("div"),c=h("input"),g=E(),v=h("input"),b=E(),m=h("input"),N=E(),V=h("input"),D=E(),I=h("div"),H=h("button"),$=h("input"),G=E(),ne=h("div"),qe(te.$$.fragment),C=E(),B=h("div"),z=h("div"),qe(q.$$.fragment),De=E(),Y=h("div"),oe=h("label"),Ae=T("Data Inizio EEMM"),M=E(),Q=h("input"),he=E(),ge=h("div"),ve=h("label"),Fe=T("Data Inizio OOCC"),de=E(),Z=h("input"),je=E(),Oe=h("div"),ye=h("label"),Ne=T("Validità permitting"),Ve=E(),pe=h("input"),le=E(),be=h("div"),Ie=h("label"),J=T("Validità notifica"),X=E(),U=h("input"),W=E(),ee=h("div"),S=h("div"),re=h("h2"),Me=T("Riepilogo "),fe=T(me),He=E(),Be=h("div"),Pe=E(),L=h("p"),ae=h("span"),ze=T("Numero cantiere:"),se=E(),Ce=h("span"),Se=T(Re),Le=E(),tt=h("p"),We=h("span"),at=T("Aerogeneratore:"),ot=E(),dt=h("span"),mt=T(gt),At=E(),st=h("p"),ft=h("span"),ht=T("Impianto eolico:"),Tl=E(),Bt=h("span"),rl=T(Yt),Ol=E(),yt=h("p"),zt=h("span"),Cl=T("Numero ODL:"),Vl=E(),Lt=h("span"),ol=T(Gt),Ml=E(),Nt=h("p"),Ut=h("span"),Pl=T("Operazioni:"),Al=E(),jt=h("span"),nl=T(Jt),Bl=E(),Dt=h("p"),xt=h("span"),zl=T("Tipologia:"),Ll=E(),$t=h("span"),al=T(Qt),Ul=E(),It=h("p"),Ft=h("span"),jl=T("Stato:"),xl=E(),Wt=h("span"),sl=T(Xt),$l=E(),vt=h("div"),_t=h("button"),Fl=T("Annulla"),Wl=E(),St=h("button"),Zt=h("p"),il=T(el),Hl=E(),lt=h("div"),Tt=h("input"),Rl=E(),Ot=h("input"),Kl=E(),Ct=h("input"),this.h()},l(K){e=p(K,"DIV",{class:!0});var ce=d(e);Ue&&Ue.l(ce),t=y(ce),r=p(ce,"FORM",{});var fl=d(r);n=p(fl,"DIV",{id:!0,class:!0});var Ht=d(n);i=p(Ht,"DIV",{class:!0});var Rt=d(i);s=p(Rt,"DIV",{class:!0});var wt=d(s);c=p(wt,"INPUT",{class:!0,type:!0,placeholder:!0}),g=y(wt),v=p(wt,"INPUT",{class:!0,type:!0,placeholder:!0}),b=y(wt),m=p(wt,"INPUT",{class:!0,type:!0,placeholder:!0}),N=y(wt),V=p(wt,"INPUT",{class:!0,type:!0,placeholder:!0}),wt.forEach(u),D=y(Rt),I=p(Rt,"DIV",{class:!0});var Zl=d(I);H=p(Zl,"BUTTON",{type:!0,class:!0});var er=d(H);$=p(er,"INPUT",{class:!0,placeholder:!0}),er.forEach(u),Zl.forEach(u),G=y(Rt),ne=p(Rt,"DIV",{class:!0});var tr=d(ne);Ye(te.$$.fragment,tr),tr.forEach(u),Rt.forEach(u),C=y(Ht),B=p(Ht,"DIV",{class:!0});var it=d(B);z=p(it,"DIV",{class:!0});var lr=d(z);Ye(q.$$.fragment,lr),lr.forEach(u),De=y(it),Y=p(it,"DIV",{});var hl=d(Y);oe=p(hl,"LABEL",{for:!0,class:!0});var rr=d(oe);Ae=O(rr,"Data Inizio EEMM"),rr.forEach(u),M=y(hl),Q=p(hl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),hl.forEach(u),he=y(it),ge=p(it,"DIV",{});var pl=d(ge);ve=p(pl,"LABEL",{for:!0,class:!0});var or=d(ve);Fe=O(or,"Data Inizio OOCC"),or.forEach(u),de=y(pl),Z=p(pl,"INPUT",{class:!0,type:!0,placeholder:!0}),pl.forEach(u),je=y(it),Oe=p(it,"DIV",{});var gl=d(Oe);ye=p(gl,"LABEL",{for:!0,class:!0});var nr=d(ye);Ne=O(nr,"Validità permitting"),nr.forEach(u),Ve=y(gl),pe=p(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(u),le=y(it),be=p(it,"DIV",{});var ml=d(be);Ie=p(ml,"LABEL",{for:!0,class:!0});var ar=d(Ie);J=O(ar,"Validità notifica"),ar.forEach(u),X=y(ml),U=p(ml,"INPUT",{class:!0,type:!0,placeholder:!0}),ml.forEach(u),it.forEach(u),W=y(Ht),ee=p(Ht,"DIV",{class:!0});var vl=d(ee);S=p(vl,"DIV",{class:!0});var $e=d(S);re=p($e,"H2",{class:!0});var Yl=d(re);Me=O(Yl,"Riepilogo "),fe=O(Yl,me),Yl.forEach(u),He=y($e),Be=p($e,"DIV",{class:!0}),d(Be).forEach(u),Pe=y($e),L=p($e,"P",{});var _l=d(L);ae=p(_l,"SPAN",{class:!0});var sr=d(ae);ze=O(sr,"Numero cantiere:"),sr.forEach(u),se=y(_l),Ce=p(_l,"SPAN",{class:!0});var ir=d(Ce);Se=O(ir,Re),ir.forEach(u),_l.forEach(u),Le=y($e),tt=p($e,"P",{});var bl=d(tt);We=p(bl,"SPAN",{class:!0});var cr=d(We);at=O(cr,"Aerogeneratore:"),cr.forEach(u),ot=y(bl),dt=p(bl,"SPAN",{class:!0});var ur=d(dt);mt=O(ur,gt),ur.forEach(u),bl.forEach(u),At=y($e),st=p($e,"P",{});var wl=d(st);ft=p(wl,"SPAN",{class:!0});var dr=d(ft);ht=O(dr,"Impianto eolico:"),dr.forEach(u),Tl=y(wl),Bt=p(wl,"SPAN",{class:!0});var fr=d(Bt);rl=O(fr,Yt),fr.forEach(u),wl.forEach(u),Ol=y($e),yt=p($e,"P",{});var kl=d(yt);zt=p(kl,"SPAN",{class:!0});var hr=d(zt);Cl=O(hr,"Numero ODL:"),hr.forEach(u),Vl=y(kl),Lt=p(kl,"SPAN",{class:!0});var pr=d(Lt);ol=O(pr,Gt),pr.forEach(u),kl.forEach(u),Ml=y($e),Nt=p($e,"P",{});var El=d(Nt);Ut=p(El,"SPAN",{class:!0});var gr=d(Ut);Pl=O(gr,"Operazioni:"),gr.forEach(u),Al=y(El),jt=p(El,"SPAN",{class:!0});var mr=d(jt);nl=O(mr,Jt),mr.forEach(u),El.forEach(u),Bl=y($e),Dt=p($e,"P",{});var yl=d(Dt);xt=p(yl,"SPAN",{class:!0});var vr=d(xt);zl=O(vr,"Tipologia:"),vr.forEach(u),Ll=y(yl),$t=p(yl,"SPAN",{class:!0});var _r=d($t);al=O(_r,Qt),_r.forEach(u),yl.forEach(u),Ul=y($e),It=p($e,"P",{});var Nl=d(It);Ft=p(Nl,"SPAN",{class:!0});var br=d(Ft);jl=O(br,"Stato:"),br.forEach(u),xl=y(Nl),Wt=p(Nl,"SPAN",{class:!0});var wr=d(Wt);sl=O(wr,Xt),wr.forEach(u),Nl.forEach(u),$e.forEach(u),$l=y(vl),vt=p(vl,"DIV",{class:!0});var Dl=d(vt);_t=p(Dl,"BUTTON",{type:!0,class:!0});var kr=d(_t);Fl=O(kr,"Annulla"),kr.forEach(u),Wl=y(Dl),St=p(Dl,"BUTTON",{class:!0});var Er=d(St);Zt=p(Er,"P",{});var yr=d(Zt);il=O(yr,el),yr.forEach(u),Er.forEach(u),Dl.forEach(u),vl.forEach(u),Ht.forEach(u),Hl=y(fl),lt=p(fl,"DIV",{class:!0});var Kt=d(lt);Tt=p(Kt,"INPUT",{type:!0,class:!0}),Rl=y(Kt),Ot=p(Kt,"INPUT",{type:!0,class:!0}),Kl=y(Kt),Ct=p(Kt,"INPUT",{type:!0,class:!0}),Kt.forEach(u),fl.forEach(u),ce.forEach(u),this.h()},h(){l(c,"class","input"),l(c,"type","text"),c.value=f=a[0].turbineName,l(c,"placeholder","Aerogeneratore*"),c.required=!0,c.disabled=a[1],l(v,"class","input"),l(v,"type","text"),v.value=_=a[0].turbineNumber,l(v,"placeholder","Numero cantiere"),l(m,"class","input"),l(m,"type","text"),m.value=w=a[0].description,l(m,"placeholder","Impianto Eolico*"),m.required=!0,l(V,"class","input"),l(V,"type","number"),V.value=k=a[0].odlNumber,l(V,"placeholder","Numero ODL"),l(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l($,"class","w-full"),$.value=F=a[0].operation.length>0?a[0].operation.join(", "):"",$.disabled=!0,l($,"placeholder","Operazioni*"),$.required=!0,l(H,"type","button"),l(H,"class","input hover:bg-gray-200 text-start transition ease-in-out"),l(I,"class","col-span-full mt-5"),l(ne,"class","col-span-full mt-auto"),l(i,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(z,"class","col-span-full"),l(oe,"for","dateEEMM"),l(oe,"class","font-mono text-white"),l(Q,"id","dateEEMM"),l(Q,"class","input"),l(Q,"type","date"),Q.value=Te=a[0].startingDateEEMM!==void 0?a[0].startingDateEEMM:"",l(Q,"placeholder","Data inizio EEMM"),l(ve,"for","dateEEMM"),l(ve,"class","font-mono text-white"),l(Z,"class","input"),l(Z,"type","date"),Z.value=Ee=a[0].startingDateOOCC!==void 0?a[0].startingDateOOCC:"",l(Z,"placeholder","Data inizio OOCC"),l(ye,"for","dateEEMM"),l(ye,"class","font-mono text-white"),l(pe,"class","input"),l(pe,"type","date"),pe.value=xe=a[0].permittingDate!==void 0?a[0].permittingDate:"",l(pe,"placeholder","Validità permitting"),l(Ie,"for","dateEEMM"),l(Ie,"class","font-mono text-white"),l(U,"class","input"),l(U,"type","date"),U.value=P=a[0].priorNotification!==void 0?a[0].priorNotification:"",l(U,"placeholder","Validità notifica"),l(B,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(re,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),l(Be,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),l(ae,"class","font-mono font-bold text-gray-300"),l(Ce,"class","font-mono text-gray-300"),l(We,"class","font-mono font-bold text-gray-300"),l(dt,"class","font-mono text-gray-300"),l(ft,"class","font-mono font-bold text-gray-300"),l(Bt,"class","font-mono text-gray-300"),l(zt,"class","font-mono font-bold text-gray-300"),l(Lt,"class","font-mono text-gray-300"),l(Ut,"class","font-mono font-bold text-gray-300"),l(jt,"class","font-mono text-gray-300"),l(xt,"class","font-mono font-bold text-gray-300"),l($t,"class","font-mono text-gray-300"),l(Ft,"class","font-mono font-bold text-gray-300"),l(Wt,"class","font-mono text-gray-300"),l(S,"class","w-[15rem] md:w-[29rem] h-3/4"),l(_t,"type","button"),l(_t,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),l(St,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),l(vt,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),l(ee,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(n,"id","scrollable"),l(n,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),l(Tt,"type","checkbox"),l(Tt,"class",cl=Ke(a[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(Ot,"type","checkbox"),l(Ot,"class",ul=Ke(a[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(Ct,"type","checkbox"),l(Ct,"class",dl=Ke(a[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(lt,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),l(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(K,ce){R(K,e,ce),Ue&&Ue.m(e,null),o(e,t),o(e,r),o(r,n),o(n,i),o(i,s),o(s,c),o(s,g),o(s,v),o(s,b),o(s,m),o(s,N),o(s,V),o(i,D),o(i,I),o(I,H),o(H,$),o(i,G),o(i,ne),Ge(te,ne,null),o(n,C),o(n,B),o(B,z),Ge(q,z,null),o(B,De),o(B,Y),o(Y,oe),o(oe,Ae),o(Y,M),o(Y,Q),o(B,he),o(B,ge),o(ge,ve),o(ve,Fe),o(ge,de),o(ge,Z),o(B,je),o(B,Oe),o(Oe,ye),o(ye,Ne),o(Oe,Ve),o(Oe,pe),o(B,le),o(B,be),o(be,Ie),o(Ie,J),o(be,X),o(be,U),o(n,W),o(n,ee),o(ee,S),o(S,re),o(re,Me),o(re,fe),o(S,He),o(S,Be),o(S,Pe),o(S,L),o(L,ae),o(ae,ze),o(L,se),o(L,Ce),o(Ce,Se),o(S,Le),o(S,tt),o(tt,We),o(We,at),o(tt,ot),o(tt,dt),o(dt,mt),o(S,At),o(S,st),o(st,ft),o(ft,ht),o(st,Tl),o(st,Bt),o(Bt,rl),o(S,Ol),o(S,yt),o(yt,zt),o(zt,Cl),o(yt,Vl),o(yt,Lt),o(Lt,ol),o(S,Ml),o(S,Nt),o(Nt,Ut),o(Ut,Pl),o(Nt,Al),o(Nt,jt),o(jt,nl),o(S,Bl),o(S,Dt),o(Dt,xt),o(xt,zl),o(Dt,Ll),o(Dt,$t),o($t,al),o(S,Ul),o(S,It),o(It,Ft),o(Ft,jl),o(It,xl),o(It,Wt),o(Wt,sl),o(ee,$l),o(ee,vt),o(vt,_t),o(_t,Fl),o(vt,Wl),o(vt,St),o(St,Zt),o(Zt,il),o(r,Hl),o(r,lt),o(lt,Tt),o(lt,Rl),o(lt,Ot),o(lt,Kl),o(lt,Ct),we=!0,ql||(Xl=[A(c,"change",a[16]),A(v,"change",a[17]),A(m,"change",a[18]),A(V,"change",a[19]),A(H,"click",a[20]),A(Q,"change",a[23]),A(Z,"change",a[24]),A(pe,"change",a[25]),A(U,"change",a[26]),A(_t,"click",a[6]),A(St,"click",a[7]),A(n,"click",rt(a[10])),A(n,"keydown",rt(a[11])),A(Tt,"change",a[27]),A(Ot,"change",a[28]),A(Ct,"change",a[29]),A(lt,"click",rt(a[8])),A(lt,"keydown",rt(a[9])),A(e,"click",a[6]),A(e,"keydown",a[6])],ql=!0)},p(K,[ce]){K[2]?Ue?(Ue.p(K,ce),ce&4&&ie(Ue,1)):(Ue=Hr(K),Ue.c(),ie(Ue,1),Ue.m(e,t)):Ue&&(Vt(),_e(Ue,1,1,()=>{Ue=null}),Mt()),(!we||ce&1&&f!==(f=K[0].turbineName)&&c.value!==f)&&(c.value=f),(!we||ce&2)&&(c.disabled=K[1]),(!we||ce&1&&_!==(_=K[0].turbineNumber)&&v.value!==_)&&(v.value=_),(!we||ce&1&&w!==(w=K[0].description)&&m.value!==w)&&(m.value=w),(!we||ce&1&&k!==(k=K[0].odlNumber)&&V.value!==k)&&(V.value=k),(!we||ce&1&&F!==(F=K[0].operation.length>0?K[0].operation.join(", "):"")&&$.value!==F)&&($.value=F),(!we||ce&1&&Te!==(Te=K[0].startingDateEEMM!==void 0?K[0].startingDateEEMM:""))&&(Q.value=Te),(!we||ce&1&&Ee!==(Ee=K[0].startingDateOOCC!==void 0?K[0].startingDateOOCC:""))&&(Z.value=Ee),(!we||ce&1&&xe!==(xe=K[0].permittingDate!==void 0?K[0].permittingDate:""))&&(pe.value=xe),(!we||ce&1&&P!==(P=K[0].priorNotification!==void 0?K[0].priorNotification:""))&&(U.value=P),(!we||ce&2)&&me!==(me=K[1]?"modifica":"creazione")&&ue(fe,me),(!we||ce&1)&&Re!==(Re=K[0].turbineNumber+"")&&ue(Se,Re),(!we||ce&1)&&gt!==(gt=K[0].turbineName+"")&&ue(mt,gt),(!we||ce&1)&&Yt!==(Yt=K[0].description+"")&&ue(rl,Yt),(!we||ce&1)&&Gt!==(Gt=(K[0].odlNumber||"N/A")+"")&&ue(ol,Gt),(!we||ce&1)&&Jt!==(Jt=K[0].operation+"")&&ue(nl,Jt),(!we||ce&1)&&Qt!==(Qt=K[0].power+"")&&ue(al,Qt),(!we||ce&1)&&Xt!==(Xt=K[0].turbineState+"")&&ue(sl,Xt),(!we||ce&2)&&el!==(el=K[1]?"Modifica":"Crea")&&ue(il,el),(!we||ce&16&&cl!==(cl=Ke(K[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Tt,"class",cl),(!we||ce&16&&ul!==(ul=Ke(K[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Ot,"class",ul),(!we||ce&16&&dl!==(dl=Ke(K[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Ct,"class",dl)},i(K){we||(ie(Ue),ie(te.$$.fragment,K),ie(q.$$.fragment,K),nt(()=>{bt||(bt=Sl(n,ut,{duration:150},!0)),bt.run(1)}),we=!0)},o(K){_e(Ue),_e(te.$$.fragment,K),_e(q.$$.fragment,K),bt||(bt=Sl(n,ut,{duration:150},!1)),bt.run(0),we=!1},d(K){K&&u(e),Ue&&Ue.d(),Je(te),Je(q),K&&bt&&bt.end(),ql=!1,et(Xl)}}}function en(a,e,t){let{isEditMode:r=!1}=e,{windfarm:n={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const i=pt();let s=!1,c=[];Jl(()=>{t(3,c=Object.values(Wo).map(M=>({name:M,isSelected:!1})))});let f=0;function g(){const M=document.getElementById("scrollable");let Q=0;M!=null&&(f===1?window.innerWidth<768?Q=M.scrollWidth/3:Q=M.scrollWidth/2:f===2&&(Q=M.scrollWidth),M.scrollTo({left:Q,behavior:"smooth"}))}const v=()=>{i("close")},_=()=>{if(n.turbineName===""||n.description===""||n.operation.length===0){console.log("Cannot submit missing required fields");return}r?Eo(n).then(M=>{M!==void 0&&M.status===200&&i("updated")}):ko(n).then(M=>{M!==void 0&&M.status===200&&i("created")})};function b(M){kt.call(this,a,M)}function m(M){kt.call(this,a,M)}function w(M){kt.call(this,a,M)}function N(M){kt.call(this,a,M)}const V=()=>{t(2,s=!1)},k=M=>{t(3,c=M.detail),t(0,n.operation=c.filter(Q=>Q.isSelected).map(Q=>Q.name),n),t(2,s=!1)},D=()=>{t(2,s=!1)},I=()=>{t(2,s=!1)},H=M=>{t(0,n.turbineName=M.target.value,n)},$=M=>{t(0,n.turbineNumber=M.target.value,n)},F=M=>{t(0,n.description=M.target.value,n)},G=M=>{t(0,n.odlNumber=M.target.value,n)},ne=()=>{t(2,s=!s)},te=M=>t(0,n.power=M.detail,n),C=M=>t(0,n.turbineState=M.detail,n),B=M=>{t(0,n.startingDateEEMM=M.target.value,n)},z=M=>{t(0,n.startingDateOOCC=M.target.value,n)},q=M=>{t(0,n.permittingDate=M.target.value,n)},De=M=>{t(0,n.priorNotification=M.target.value,n)},Y=()=>{t(4,f=0),g()},oe=()=>{t(4,f=1),g()},Ae=()=>{t(4,f=2),g()};return a.$$set=M=>{"isEditMode"in M&&t(1,r=M.isEditMode),"windfarm"in M&&t(0,n=M.windfarm)},[n,r,s,c,f,g,v,_,b,m,w,N,V,k,D,I,H,$,F,G,ne,te,C,B,z,q,De,Y,oe,Ae]}class eo extends Qe{constructor(e){super(),Xe(this,e,en,Zo,Ze,{isEditMode:1,windfarm:0})}}function tn(a){let e,t;return e=new eo({props:{windfarm:a[0],isEditMode:!0}}),e.$on("close",a[1]),e.$on("updated",a[2]),{c(){qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ge(e,r,n),t=!0},p(r,[n]){const i={};n&1&&(i.windfarm=r[0]),e.$set(i)},i(r){t||(ie(e.$$.fragment,r),t=!0)},o(r){_e(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function ln(a,e,t){let{turbine:r}=e;const n=pt(),i=()=>{n("close")},s=()=>{n("updated")};return a.$$set=c=>{"turbine"in c&&t(0,r=c.turbine)},[r,i,s]}class rn extends Qe{constructor(e){super(),Xe(this,e,ln,tn,Ze,{turbine:0})}}function on(a){let e,t;return e=new eo({props:{isEditMode:!1}}),e.$on("close",a[0]),e.$on("created",a[1]),{c(){qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ge(e,r,n),t=!0},p:ke,i(r){t||(ie(e.$$.fragment,r),t=!0)},o(r){_e(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function nn(a){const e=pt();return[()=>{e("close")},()=>{e("created")}]}class an extends Qe{constructor(e){super(),Xe(this,e,nn,on,Ze,{})}}function Rr(a,e,t){const r=a.slice();return r[5]=e[t],r}function sn(a){let e,t=[],r=new Map,n,i=a[4];const s=c=>c[5].id;for(let c=0;c<i.length;c+=1){let f=Rr(a,i,c),g=s(f);r.set(g,t[c]=Kr(g,f))}return{c(){e=h("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=p(c,"DIV",{class:!0});var f=d(e);for(let g=0;g<t.length;g+=1)t[g].l(f);f.forEach(u),this.h()},h(){l(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(c,f){R(c,e,f);for(let g=0;g<t.length;g+=1)t[g].m(e,null);n=!0},p(c,f){f&1040&&(i=c[4],Vt(),t=Ql(t,f,s,1,c,i,r,e,oo,Kr,null,Rr),Mt())},i(c){if(!n){for(let f=0;f<i.length;f+=1)ie(t[f]);n=!0}},o(c){for(let f=0;f<t.length;f+=1)_e(t[f]);n=!1},d(c){c&&u(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function cn(a){let e,t,r,n,i;return{c(){e=h("div"),t=h("div"),r=E(),n=h("p"),i=T("Caricamento in corso..."),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);t=p(c,"DIV",{class:!0}),d(t).forEach(u),r=y(c),n=p(c,"P",{class:!0});var f=d(n);i=O(f,"Caricamento in corso..."),f.forEach(u),c.forEach(u),this.h()},h(){l(t,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),l(n,"class","mt-4 text-xl font-bold font-mono"),l(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(s,c){R(s,e,c),o(e,t),o(e,r),o(e,n),o(n,i)},p:ke,i:ke,o:ke,d(s){s&&u(e)}}}function Kr(a,e){let t,r,n;return r=new bo({props:{turbine:e[5]}}),r.$on("showDetails",e[10]),{key:a,first:null,c(){t=ct(),qe(r.$$.fragment),this.h()},l(i){t=ct(),Ye(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){R(i,t,s),Ge(r,i,s),n=!0},p(i,s){e=i;const c={};s&16&&(c.turbine=e[5]),r.$set(c)},i(i){n||(ie(r.$$.fragment,i),n=!0)},o(i){_e(r.$$.fragment,i),n=!1},d(i){i&&u(t),Je(r,i)}}}function qr(a){let e,t,r,n,i;return t=new Fo({props:{turbine:a[5]}}),t.$on("closeDetails",a[11]),t.$on("editMode",a[13]),t.$on("deleted",a[12]),{c(){e=h("div"),qe(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);Ye(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){R(s,e,c),Ge(t,e,null),r=!0,n||(i=[A(e,"click",a[11]),A(e,"keydown",a[11])],n=!0)},p(s,c){const f={};c&32&&(f.turbine=s[5]),t.$set(f)},i(s){r||(ie(t.$$.fragment,s),r=!0)},o(s){_e(t.$$.fragment,s),r=!1},d(s){s&&u(e),Je(t),n=!1,et(i)}}}function Yr(a){let e,t,r,n,i;return t=new rn({props:{turbine:a[5]}}),t.$on("close",a[21]),t.$on("updated",a[16]),{c(){e=h("div"),qe(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);Ye(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){R(s,e,c),Ge(t,e,null),r=!0,n||(i=[A(e,"click",a[11]),A(e,"keydown",a[11])],n=!0)},p(s,c){const f={};c&32&&(f.turbine=s[5]),t.$set(f)},i(s){r||(ie(t.$$.fragment,s),r=!0)},o(s){_e(t.$$.fragment,s),r=!1},d(s){s&&u(e),Je(t),n=!1,et(i)}}}function Gr(a){let e,t,r,n,i;return t=new an({}),t.$on("close",a[22]),t.$on("created",a[15]),{c(){e=h("div"),qe(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);Ye(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){R(s,e,c),Ge(t,e,null),r=!0,n||(i=[A(e,"click",a[11]),A(e,"keydown",a[11])],n=!0)},p:ke,i(s){r||(ie(t.$$.fragment,s),r=!0)},o(s){_e(t.$$.fragment,s),r=!1},d(s){s&&u(e),Je(t),n=!1,et(i)}}}function un(a){let e,t,r,n,i,s,c,f,g,v,_,b,m,w,N,V,k,D,I,H,$,F,G,ne,te,C,B,z,q,De,Y,oe,Ae,M,Q,Te,he,ge,ve,Fe,de,Z,Ee,je,Oe,ye,Ne,Ve,pe,xe;const le=[cn,sn],be=[];function Ie(P,W){return P[0].length===0?0:1}Z=Ie(a),Ee=be[Z]=le[Z](a);let J=a[6]&&qr(a),X=a[7]&&Yr(a),U=a[8]&&Gr(a);return{c(){e=h("div"),t=h("section"),r=h("div"),n=h("input"),i=E(),s=h("input"),c=E(),f=h("div"),g=h("select"),v=h("option"),_=T("Tutte"),b=h("option"),m=T("In corso"),w=h("option"),N=T("Cantieri chiusi"),V=E(),k=h("div"),D=j("svg"),I=j("path"),H=E(),$=h("div"),F=h("p"),G=T(a[9]),ne=T(" risultati"),te=E(),C=h("div"),B=h("button"),z=j("svg"),q=j("path"),De=j("polyline"),Y=j("line"),oe=j("line"),Ae=j("polyline"),Q=E(),Te=h("button"),he=j("svg"),ge=j("line"),ve=j("line"),Fe=E(),de=h("section"),Ee.c(),je=E(),J&&J.c(),Oe=E(),X&&X.c(),ye=E(),U&&U.c(),this.h()},l(P){e=p(P,"DIV",{});var W=d(e);t=p(W,"SECTION",{class:!0});var ee=d(t);r=p(ee,"DIV",{class:!0});var S=d(r);n=p(S,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=y(S),s=p(S,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),c=y(S),f=p(S,"DIV",{class:!0});var re=d(f);g=p(re,"SELECT",{class:!0});var Me=d(g);v=p(Me,"OPTION",{});var me=d(v);_=O(me,"Tutte"),me.forEach(u),b=p(Me,"OPTION",{});var fe=d(b);m=O(fe,"In corso"),fe.forEach(u),w=p(Me,"OPTION",{});var He=d(w);N=O(He,"Cantieri chiusi"),He.forEach(u),Me.forEach(u),V=y(re),k=p(re,"DIV",{class:!0});var Be=d(k);D=x(Be,"svg",{class:!0,xmlns:!0,viewBox:!0});var Pe=d(D);I=x(Pe,"path",{d:!0}),d(I).forEach(u),Pe.forEach(u),Be.forEach(u),re.forEach(u),S.forEach(u),ee.forEach(u),H=y(W),$=p(W,"DIV",{class:!0});var L=d($);F=p(L,"P",{class:!0});var ae=d(F);G=O(ae,a[9]),ne=O(ae," risultati"),ae.forEach(u),te=y(L),C=p(L,"DIV",{class:!0});var ze=d(C);B=p(ze,"BUTTON",{class:!0});var se=d(B);z=x(se,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ce=d(z);q=x(Ce,"path",{d:!0}),d(q).forEach(u),De=x(Ce,"polyline",{points:!0}),d(De).forEach(u),Y=x(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Y).forEach(u),oe=x(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(oe).forEach(u),Ae=x(Ce,"polyline",{points:!0}),d(Ae).forEach(u),Ce.forEach(u),se.forEach(u),Q=y(ze),Te=p(ze,"BUTTON",{class:!0});var Re=d(Te);he=x(Re,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Se=d(he);ge=x(Se,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ge).forEach(u),ve=x(Se,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ve).forEach(u),Se.forEach(u),Re.forEach(u),ze.forEach(u),L.forEach(u),Fe=y(W),de=p(W,"SECTION",{class:!0});var Le=d(de);Ee.l(Le),je=y(Le),J&&J.l(Le),Oe=y(Le),X&&X.l(Le),ye=y(Le),U&&U.l(Le),Le.forEach(u),W.forEach(u),this.h()},h(){l(n,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(n,"type","text"),l(n,"id","turbineName"),l(n,"name","turbineName"),l(n,"placeholder","Cerca"),l(s,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(s,"type","text"),l(s,"id","turbineName"),l(s,"name","turbineName"),l(s,"placeholder","Anno"),v.__value="ALL",v.value=v.__value,b.__value="ONLY_INCOMPLETE",b.value=b.__value,w.__value="ONLY_COMPLETED",w.value=w.__value,l(g,"class","w-full min-w-1/2 min-w-[12rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),a[3]===void 0&&nt(()=>a[20].call(g)),l(I,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(D,"class","w-6 h-6 text-white fill-current"),l(D,"xmlns","http://www.w3.org/2000/svg"),l(D,"viewBox","0 0 20 20"),l(k,"class","absolute top-2 right-2 font-bold"),l(f,"class","relative"),l(r,"class","flex flex-col md:flex-row gap-3 md:items-center font-mono"),l(t,"class","mt-5 md:ml-5"),l(F,"class","font-mono text-lg"),l(q,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),l(De,"points","14 2 14 8 20 8"),l(Y,"x1","16"),l(Y,"y1","13"),l(Y,"x2","8"),l(Y,"y2","13"),l(oe,"x1","16"),l(oe,"y1","17"),l(oe,"x2","8"),l(oe,"y2","17"),l(Ae,"points","10 9 9 9 8 9"),l(z,"xmlns","http://www.w3.org/2000/svg"),l(z,"width","22"),l(z,"height","22"),l(z,"viewBox","0 0 24 24"),l(z,"fill","none"),l(z,"stroke","currentColor"),l(z,"stroke-width","2"),l(z,"stroke-linecap","round"),l(z,"stroke-linejoin","round"),l(z,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),l(B,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),B.disabled=M=a[0].length===0,l(ge,"x1","12"),l(ge,"y1","5"),l(ge,"x2","12"),l(ge,"y2","19"),l(ve,"x1","5"),l(ve,"y1","12"),l(ve,"x2","19"),l(ve,"y2","12"),l(he,"xmlns","http://www.w3.org/2000/svg"),l(he,"width","22"),l(he,"height","22"),l(he,"viewBox","0 0 24 24"),l(he,"fill","none"),l(he,"stroke","currentColor"),l(he,"stroke-width","2"),l(he,"stroke-linecap","round"),l(he,"stroke-linejoin","round"),l(he,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),l(Te,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),l(C,"class","justify-end flex flex-row gap-4"),l($,"class","flex flex-row justify-between items-center mt-6 mb-4 mx-1 md:mx-6"),l(de,"class","min-h-[20rem] max-h-[20rem] md:min-h-[32rem] md:max-h-[32rem] px-2 overflow-y-scroll scrollable ring-2 ring-gray-600 rounded-sm svelte-d0a6yq")},m(P,W){R(P,e,W),o(e,t),o(t,r),o(r,n),Il(n,a[1]),o(r,i),o(r,s),Il(s,a[2]),o(r,c),o(r,f),o(f,g),o(g,v),o(v,_),o(g,b),o(b,m),o(g,w),o(w,N),Dr(g,a[3]),o(f,V),o(f,k),o(k,D),o(D,I),o(e,H),o(e,$),o($,F),o(F,G),o(F,ne),o($,te),o($,C),o(C,B),o(B,z),o(z,q),o(z,De),o(z,Y),o(z,oe),o(z,Ae),o(C,Q),o(C,Te),o(Te,he),o(he,ge),o(he,ve),o(e,Fe),o(e,de),be[Z].m(de,null),o(de,je),J&&J.m(de,null),o(de,Oe),X&&X.m(de,null),o(de,ye),U&&U.m(de,null),Ve=!0,pe||(xe=[A(n,"input",a[18]),A(s,"input",a[19]),A(g,"change",a[20]),A(B,"click",a[17]),A(Te,"click",a[14])],pe=!0)},p(P,[W]){W&2&&n.value!==P[1]&&Il(n,P[1]),W&4&&s.value!==P[2]&&Il(s,P[2]),W&8&&Dr(g,P[3]),(!Ve||W&512)&&ue(G,P[9]),(!Ve||W&1&&M!==(M=P[0].length===0))&&(B.disabled=M);let ee=Z;Z=Ie(P),Z===ee?be[Z].p(P,W):(Vt(),_e(be[ee],1,1,()=>{be[ee]=null}),Mt(),Ee=be[Z],Ee?Ee.p(P,W):(Ee=be[Z]=le[Z](P),Ee.c()),ie(Ee,1),Ee.m(de,je)),P[6]?J?(J.p(P,W),W&64&&ie(J,1)):(J=qr(P),J.c(),ie(J,1),J.m(de,Oe)):J&&(Vt(),_e(J,1,1,()=>{J=null}),Mt()),P[7]?X?(X.p(P,W),W&128&&ie(X,1)):(X=Yr(P),X.c(),ie(X,1),X.m(de,ye)):X&&(Vt(),_e(X,1,1,()=>{X=null}),Mt()),P[8]?U?(U.p(P,W),W&256&&ie(U,1)):(U=Gr(P),U.c(),ie(U,1),U.m(de,null)):U&&(Vt(),_e(U,1,1,()=>{U=null}),Mt())},i(P){Ve||(ie(Ee),ie(J),ie(X),ie(U),nt(()=>{Ne||(Ne=Sl(e,ut,{duration:200},!0)),Ne.run(1)}),Ve=!0)},o(P){_e(Ee),_e(J),_e(X),_e(U),Ne||(Ne=Sl(e,ut,{duration:200},!1)),Ne.run(0),Ve=!1},d(P){P&&u(e),be[Z].d(),J&&J.d(),X&&X.d(),U&&U.d(),P&&Ne&&Ne.end(),pe=!1,et(xe)}}}function dn(a,e,t){let r,n,i=!1,s={},c=[];Jl(()=>{tl().then(C=>{t(0,c=C)})});const f=C=>{const B=C.detail;t(5,s=c.find(z=>z.id===B)),t(6,i=!0),t(7,_=!1)},g=()=>{tl().then(C=>{t(0,c=C),t(6,i=!1)})},v=()=>{t(6,i=!1),tl().then(C=>{t(0,c=C)})};let _=!1;const b=C=>{const B=C.detail;t(5,s=c.find(z=>z.id===B)),t(6,i=!1),t(7,_=!0)};let m=!1;const w=()=>{t(8,m=!0),t(6,i=!1),t(7,_=!1)},N=()=>{t(8,m=!1),t(6,i=!1),t(7,_=!1),tl().then(C=>{console.log("Updating with: ",C),t(0,c=C)})},V=()=>{tl().then(C=>{t(0,c=C),t(7,_=!1)})},k=()=>{c.length>0&&yo().then(C=>{const B=new Blob([C.data],{type:"text/csv"}),z=window.URL.createObjectURL(B),q=document.createElement("a");q.href=z,q.download="export.csv",q.click()})};let D="",I="",H="ALL";function $(){D=this.value,t(1,D)}function F(){I=this.value,t(2,I)}function G(){H=ro(this),t(3,H)}const ne=()=>t(7,_=!1),te=()=>t(8,m=!1);return a.$$.update=()=>{a.$$.dirty&15&&t(4,r=c.filter(C=>(C.description.toLowerCase().includes(D.toLowerCase())||C.turbineName.toLowerCase().includes(D.toLowerCase())||C.turbineNumber.toLowerCase().includes(D.toLowerCase()))&&C.creationDate.includes(I)&&(H==="ALL"||H==="ONLY_INCOMPLETE"&&!C.completionDate||H==="ONLY_COMPLETED"&&C.completionDate))),a.$$.dirty&16&&t(9,n=r.length)},[c,D,I,H,r,s,i,_,m,n,f,g,v,b,w,N,V,k,$,F,G,ne,te]}class pn extends Qe{constructor(e){super(),Xe(this,e,dn,un,Ze,{})}}export{pn as default};
