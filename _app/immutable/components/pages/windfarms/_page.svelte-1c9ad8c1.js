import{P as to,S as Je,i as Qe,s as Xe,k as h,a as E,q as S,l as p,m as d,h as u,c as y,r as T,n as l,b as R,C as o,u as ue,B as ke,Q as Jr,e as ct,w as Ke,E as $,x as qe,F,y as Ye,G as P,O as Gl,f as ie,R as at,T as bt,t as _e,z as Ge,H as Ze,D as ft,U as Nr,V as lo,o as Jl,W as Ql,X as Qr,Y as rt,g as Ot,d as Ct,Z as _t,_ as He,$ as Il,a0 as Dl,a1 as Dr,a2 as ro,a3 as oo}from"../../../chunks/index-38a06d27.js";import{a as Vt}from"../../../chunks/axios-67252f11.js";function no(a){const e=a-1;return e*e*e+1}function Xr(a,{delay:e=0,duration:t=400,easing:r=to}={}){const n=+getComputedStyle(a).opacity;return{delay:e,duration:t,easing:r,css:i=>`opacity: ${i*n}`}}function ut(a,{delay:e=0,duration:t=400,easing:r=no}={}){const n=getComputedStyle(a),i=+n.opacity,s=parseFloat(n.height),c=parseFloat(n.paddingTop),f=parseFloat(n.paddingBottom),g=parseFloat(n.marginTop),v=parseFloat(n.marginBottom),_=parseFloat(n.borderTopWidth),b=parseFloat(n.borderBottomWidth);return{delay:e,duration:t,easing:r,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*i};height: ${m*s}px;padding-top: ${m*c}px;padding-bottom: ${m*f}px;margin-top: ${m*g}px;margin-bottom: ${m*v}px;border-top-width: ${m*_}px;border-bottom-width: ${m*b}px;`}}const Kt={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Ir(a,e,t){const r=a.slice();return r[4]=e[t],r[6]=t,r}function ao(a){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-gray-500 h-full w-full rounded")},m(t,r){R(t,e,r)},d(t){t&&u(e)}}}function so(a){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-blue-800 h-full w-full rounded")},m(t,r){R(t,e,r)},d(t){t&&u(e)}}}function io(a){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-blue-500 h-full w-full rounded")},m(t,r){R(t,e,r)},d(t){t&&u(e)}}}function Sr(a){let e;function t(i,s){return i[6]<i[0]?io:i[6]===i[0]?so:ao}let r=t(a),n=r(a);return{c(){n.c(),e=ct()},l(i){n.l(i),e=ct()},m(i,s){n.m(i,s),R(i,e,s)},p(i,s){r!==(r=t(i))&&(n.d(1),n=r(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&u(e)}}}function co(a){let e,t,r,n,i=(a[1]||"Cantiere chiuso")+"",s,c=Array(a[2]),f=[];for(let g=0;g<c.length;g+=1)f[g]=Sr(Ir(a,c,g));return{c(){e=h("div"),t=h("div");for(let g=0;g<f.length;g+=1)f[g].c();r=E(),n=h("span"),s=S(i),this.h()},l(g){e=p(g,"DIV",{class:!0});var v=d(e);t=p(v,"DIV",{class:!0});var _=d(t);for(let m=0;m<f.length;m+=1)f[m].l(_);_.forEach(u),r=y(v),n=p(v,"SPAN",{class:!0});var b=d(n);s=T(b,i),b.forEach(u),v.forEach(u),this.h()},h(){l(t,"class","transition duration-300 ease-in-out transform flex flex-row h-7 w-full lg:w-3/4 gap-0.5"),l(n,"class","absolute font-bold text-lg flex pl-2"),l(e,"class","flex")},m(g,v){R(g,e,v),o(e,t);for(let _=0;_<f.length;_+=1)f[_].m(t,null);o(e,r),o(e,n),o(n,s)},p(g,[v]){if(v&1){c=Array(g[2]);let _;for(_=0;_<c.length;_+=1){const b=Ir(g,c,_);f[_]?f[_].p(b,v):(f[_]=Sr(b),f[_].c(),f[_].m(t,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=c.length}v&2&&i!==(i=(g[1]||"Cantiere chiuso")+"")&&ue(s,i)},i:ke,o:ke,d(g){g&&u(e),Jr(f,g)}}}function uo(a,e,t){let r,{completedSteps:n=0}=e,{creationDate:i=""}=e,s=i.includes("2022")?7:8;return a.$$set=c=>{"completedSteps"in c&&t(0,n=c.completedSteps),"creationDate"in c&&t(3,i=c.creationDate)},a.$$.update=()=>{a.$$.dirty&9&&t(1,r=i.includes("2022")?Kt[n+2]:Kt[n+1])},[n,r,s,i]}class fo extends Je{constructor(e){super(),Qe(this,e,uo,co,Xe,{completedSteps:0,creationDate:3})}}function Tr(a){let e,t,r=a[0].turbineNumber+"",n;return{c(){e=h("span"),t=S("- "),n=S(r),this.h()},l(i){e=p(i,"SPAN",{class:!0});var s=d(e);t=T(s,"- "),n=T(s,r),s.forEach(u),this.h()},h(){l(e,"class","hidden md:inline-block")},m(i,s){R(i,e,s),o(e,t),o(e,n)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&ue(n,r)},d(i){i&&u(e)}}}function ho(a){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","hidden md:flex col-span-2")},m(t,r){R(t,e,r)},p:ke,d(t){t&&u(e)}}}function po(a){let e,t,r,n=a[0].odlNumber+"",i;return{c(){e=h("p"),t=S("ODL: "),r=h("span"),i=S(n),this.h()},l(s){e=p(s,"P",{class:!0});var c=d(e);t=T(c,"ODL: "),r=p(c,"SPAN",{class:!0});var f=d(r);i=T(f,n),f.forEach(u),c.forEach(u),this.h()},h(){l(r,"class","text-blue-400"),l(e,"class","flex md:justify-end")},m(s,c){R(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&n!==(n=s[0].odlNumber+"")&&ue(i,n)},d(s){s&&u(e)}}}function Or(a){let e,t,r=a[0].operation[0]+"",n,i,s;return{c(){e=h("div"),t=h("p"),n=S(r),this.h()},l(c){e=p(c,"DIV",{class:!0});var f=d(e);t=p(f,"P",{});var g=d(t);n=T(g,r),g.forEach(u),f.forEach(u),this.h()},h(){l(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 left-10 cursor-default")},m(c,f){R(c,e,f),o(e,t),o(t,n),i||(s=[P(e,"mouseover",a[6]),P(e,"focus",a[7]),P(e,"mouseleave",a[8]),P(e,"focusout",a[9])],i=!0)},p(c,f){f&1&&r!==(r=c[0].operation[0]+"")&&ue(n,r)},d(c){c&&u(e),i=!1,Ze(s)}}}function go(a){let e,t;return{c(){e=h("span"),t=S("Non disponibile"),this.h()},l(r){e=p(r,"SPAN",{class:!0});var n=d(e);t=T(n,"Non disponibile"),n.forEach(u),this.h()},h(){l(e,"class","hidden lg:flex font-mono font-bold text-end justify-end")},m(r,n){R(r,e,n),o(e,t)},p:ke,d(r){r&&u(e)}}}function mo(a){let e,t;return{c(){e=h("span"),t=S(a[3]),this.h()},l(r){e=p(r,"SPAN",{class:!0});var n=d(e);t=T(n,a[3]),n.forEach(u),this.h()},h(){l(e,"class","hidden lg:flex font-mono font-bold text-end justify-end")},m(r,n){R(r,e,n),o(e,t)},p(r,n){n&8&&ue(t,r[3])},d(r){r&&u(e)}}}function vo(a){let e,t,r,n,i=a[0].turbineName+"",s,c,f,g,v,_,b,m,w,N,C,k,D,I,H,j,W=a[0].description+"",J,ne,le,O,A,L,Y,Ie,G,re,Ae,V,X,Te=a[0].turbineState+"",fe,pe,me,$e,de,ee,Ee,ze=(a[3]||"N/A")+"",Ce,ye,Ne,Pe,he,Le,ae,be,Se,se,Q,U,z,B=a[0].turbineNumber&&Tr(a);v=new fo({props:{completedSteps:a[0].completedSteps,creationDate:a[0].creationDate}});function te(x,ge){return x[0].odlNumber!==void 0&&x[0].odlNumber!==0?po:ho}let M=te(a),K=M(a),oe=a[1]&&Or(a);function Ue(x,ge){return x[3]?mo:go}let je=Ue(a),De=je(a);return{c(){e=h("div"),t=h("div"),r=h("div"),n=h("h1"),s=S(i),c=E(),B&&B.c(),f=E(),g=h("div"),Ke(v.$$.fragment),_=E(),b=h("div"),m=E(),w=h("div"),N=E(),C=h("div"),k=$("svg"),D=$("path"),I=$("circle"),H=E(),j=h("span"),J=S(W),ne=E(),K.c(),le=E(),O=h("div"),A=$("svg"),L=$("path"),Y=$("rect"),Ie=E(),oe&&oe.c(),G=E(),re=h("span"),Ae=S(a[2]),V=E(),X=h("span"),fe=S(Te),pe=E(),me=h("span"),$e=S("Scadenza cantiere:"),de=E(),ee=h("span"),Ee=S("Scadenza: "),Ce=S(ze),ye=E(),De.c(),Ne=E(),Pe=h("div"),he=h("div"),Le=h("button"),ae=$("svg"),be=$("path"),Se=$("path"),this.h()},l(x){e=p(x,"DIV",{class:!0});var ge=d(e);t=p(ge,"DIV",{class:!0});var ve=d(t);r=p(ve,"DIV",{class:!0});var Z=d(r);n=p(Z,"H1",{class:!0});var We=d(n);s=T(We,i),c=y(We),B&&B.l(We),We.forEach(u),f=y(Z),g=p(Z,"DIV",{class:!0});var tt=d(g);qe(v.$$.fragment,tt),tt.forEach(u),_=y(Z),b=p(Z,"DIV",{class:!0}),d(b).forEach(u),m=y(Z),w=p(Z,"DIV",{class:!0}),d(w).forEach(u),N=y(Z),C=p(Z,"DIV",{class:!0});var Ve=d(C);k=F(Ve,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Fe=d(k);D=F(Fe,"path",{d:!0}),d(D).forEach(u),I=F(Fe,"circle",{cx:!0,cy:!0,r:!0}),d(I).forEach(u),Fe.forEach(u),H=y(Ve),j=p(Ve,"SPAN",{});var Me=d(j);J=T(Me,W),Me.forEach(u),Ve.forEach(u),ne=y(Z),K.l(Z),le=y(Z),O=p(Z,"DIV",{class:!0});var Oe=d(O);A=F(Oe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Re=d(A);L=F(Re,"path",{d:!0}),d(L).forEach(u),Y=F(Re,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(Y).forEach(u),Re.forEach(u),Ie=y(Oe),oe&&oe.l(Oe),G=y(Oe),re=p(Oe,"SPAN",{class:!0});var et=d(re);Ae=T(et,a[2]),et.forEach(u),Oe.forEach(u),V=y(Z),X=p(Z,"SPAN",{class:!0});var dt=d(X);fe=T(dt,Te),dt.forEach(u),pe=y(Z),me=p(Z,"SPAN",{class:!0});var ot=d(me);$e=T(ot,"Scadenza cantiere:"),ot.forEach(u),de=y(Z),ee=p(Z,"SPAN",{class:!0});var st=d(ee);Ee=T(st,"Scadenza: "),Ce=T(st,ze),st.forEach(u),ye=y(Z),De.l(Z),Z.forEach(u),Ne=y(ve),Pe=p(ve,"DIV",{class:!0});var ht=d(Pe);he=p(ht,"DIV",{class:!0});var wt=d(he);Le=p(wt,"BUTTON",{class:!0});var Mt=d(Le);ae=F(Mt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var nt=d(ae);be=F(nt,"path",{d:!0}),d(be).forEach(u),Se=F(nt,"path",{d:!0}),d(Se).forEach(u),nt.forEach(u),Mt.forEach(u),wt.forEach(u),ht.forEach(u),ve.forEach(u),ge.forEach(u),this.h()},h(){l(n,"class","font-bold text-4xl mt-3 col-span-1 md:col-span-2"),l(g,"class","col-span-1 md:col-span-2"),l(b,"class","col-span-1"),l(w,"class","hidden md:flex"),l(D,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),l(I,"cx","12"),l(I,"cy","10"),l(I,"r","3"),l(k,"xmlns","http://www.w3.org/2000/svg"),l(k,"width","24"),l(k,"height","24"),l(k,"viewBox","0 0 24 24"),l(k,"fill","none"),l(k,"stroke","currentColor"),l(k,"stroke-width","2"),l(k,"stroke-linecap","round"),l(k,"stroke-linejoin","round"),l(k,"class","feather feather-map-pin"),l(C,"class","flex gap-2 md:-mb-2"),l(L,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),l(Y,"x","8"),l(Y,"y","2"),l(Y,"width","8"),l(Y,"height","4"),l(Y,"rx","1"),l(Y,"ry","1"),l(A,"xmlns","http://www.w3.org/2000/svg"),l(A,"width","24"),l(A,"height","24"),l(A,"viewBox","0 0 24 24"),l(A,"fill","none"),l(A,"stroke","currentColor"),l(A,"stroke-width","2"),l(A,"stroke-linecap","round"),l(A,"stroke-linejoin","round"),l(A,"class","feather feather-clipboard"),l(re,"class","flex select-none"),l(O,"class","flex gap-2"),l(X,"class","flex md:justify-end font-bold"),l(me,"class","font-mono hidden lg:flex"),l(ee,"class","font-mono flex lg:hidden"),l(r,"class","grid grid-cols-1 text-white font-mono gap-3"),l(be,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),l(Se,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),l(ae,"xmlns","http://www.w3.org/2000/svg"),l(ae,"width","22"),l(ae,"height","22"),l(ae,"viewBox","0 0 24 24"),l(ae,"fill","none"),l(ae,"stroke","currentColor"),l(ae,"stroke-width","2"),l(ae,"stroke-linecap","round"),l(ae,"stroke-linejoin","round"),l(ae,"class","feather feather-book-open"),l(Le,"class","py-2 px-2 hover:bg-gray-400 rounded-full group"),l(he,"class","flex flex-col md:flex-row gap-2 md:gap-0"),l(Pe,"class","absolute top-0 right-0 mr-2 mt-2"),l(t,"class","bg-gray-800 px-4 my-2 mx-2 md:mx-0 rounded-sm shadow-md hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto md:h-68 xl:h-56 pb-5 content-start"),l(e,"class","snap-start pt-1")},m(x,ge){R(x,e,ge),o(e,t),o(t,r),o(r,n),o(n,s),o(n,c),B&&B.m(n,null),o(r,f),o(r,g),Ye(v,g,null),o(r,_),o(r,b),o(r,m),o(r,w),o(r,N),o(r,C),o(C,k),o(k,D),o(k,I),o(C,H),o(C,j),o(j,J),o(r,ne),K.m(r,null),o(r,le),o(r,O),o(O,A),o(A,L),o(A,Y),o(O,Ie),oe&&oe.m(O,null),o(O,G),o(O,re),o(re,Ae),o(r,V),o(r,X),o(X,fe),o(r,pe),o(r,me),o(me,$e),o(r,de),o(r,ee),o(ee,Ee),o(ee,Ce),o(r,ye),De.m(r,null),o(t,Ne),o(t,Pe),o(Pe,he),o(he,Le),o(Le,ae),o(ae,be),o(ae,Se),Q=!0,U||(z=[P(O,"mouseover",a[10]),P(O,"focus",a[11]),P(O,"mouseleave",a[12]),P(O,"focusout",a[13]),P(Le,"click",Gl(a[4]))],U=!0)},p(x,[ge]){(!Q||ge&1)&&i!==(i=x[0].turbineName+"")&&ue(s,i),x[0].turbineNumber?B?B.p(x,ge):(B=Tr(x),B.c(),B.m(n,null)):B&&(B.d(1),B=null);const ve={};ge&1&&(ve.completedSteps=x[0].completedSteps),ge&1&&(ve.creationDate=x[0].creationDate),v.$set(ve),(!Q||ge&1)&&W!==(W=x[0].description+"")&&ue(J,W),M===(M=te(x))&&K?K.p(x,ge):(K.d(1),K=M(x),K&&(K.c(),K.m(r,le))),x[1]?oe?oe.p(x,ge):(oe=Or(x),oe.c(),oe.m(O,G)):oe&&(oe.d(1),oe=null),(!Q||ge&4)&&ue(Ae,x[2]),(!Q||ge&1)&&Te!==(Te=x[0].turbineState+"")&&ue(fe,Te),(!Q||ge&8)&&ze!==(ze=(x[3]||"N/A")+"")&&ue(Ce,ze),je===(je=Ue(x))&&De?De.p(x,ge):(De.d(1),De=je(x),De&&(De.c(),De.m(r,null)))},i(x){Q||(ie(v.$$.fragment,x),se||at(()=>{se=bt(t,ut,{duration:1e3}),se.start()}),Q=!0)},o(x){_e(v.$$.fragment,x),Q=!1},d(x){x&&u(e),B&&B.d(),Ge(v),K.d(),oe&&oe.d(),De.d(),U=!1,Ze(z)}}}function _o(a,e,t){let r,n,i,{turbine:s={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const c=ft(),f=()=>{c("showDetails",s.id)};let g=!1;const v=()=>t(1,g=!0),_=()=>t(1,g=!0),b=()=>t(1,g=!1),m=()=>t(1,g=!1),w=()=>t(1,g=!0),N=()=>t(1,g=!0),C=()=>t(1,g=!1),k=()=>t(1,g=!1);return a.$$set=D=>{"turbine"in D&&t(0,s=D.turbine)},a.$$.update=()=>{a.$$.dirty&1&&t(5,r=s.creationDate.includes("2022")?Kt[s.completedSteps+2]:Kt[s.completedSteps+1]),a.$$.dirty&33&&(r===Kt[3]?s.priorNotification:r===Kt[4]&&s.permittingDate),a.$$.dirty&1&&t(3,n=s.permittingDate?new Date(new Date(s.permittingDate).getTime()+90*24*60*60*1e3).toLocaleDateString("it-IT"):null),a.$$.dirty&1&&t(2,i=s.operation[0]?s.operation[0].length>16?s.operation[0].substring(0,14)+"...":s.operation[0]:"")},[s,g,i,n,f,r,v,_,b,m,w,N,C,k]}class bo extends Je{constructor(e){super(),Qe(this,e,_o,vo,Xe,{turbine:0})}}const tl="https://dockyard-handler.herokuapp.com/v1.0.0";async function el(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Vt.get(tl+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function wo(a){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Vt.delete(tl+"/event?eventId="+a,t)}else console.log("Token not found in local storage")}async function ko(a){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Vt.post(tl+"/event",a,t)}else console.log("Token not found in local storage")}async function Eo(a){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(a)),await Vt.put(tl+"/event",a,t)}else console.log("Token not found in local storage")}async function yo(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Vt.get(tl+"/events/csv",e)}else console.log("Token not found in local storage")}function Cr(a){let e,t,r,n,i=(a[0].startingDateEEMM||"____/__/__")+"",s,c,f,g,v,_=(a[0].startingDateOOCC||"____/__/__")+"",b;return{c(){e=h("div"),t=h("p"),r=S("Inizio ATT EEMM: "),n=h("span"),s=S(i),c=E(),f=h("p"),g=S("Inizio ATT OOCC: "),v=h("span"),b=S(_),this.h()},l(m){e=p(m,"DIV",{class:!0});var w=d(e);t=p(w,"P",{class:!0});var N=d(t);r=T(N,"Inizio ATT EEMM: "),n=p(N,"SPAN",{class:!0});var C=d(n);s=T(C,i),C.forEach(u),N.forEach(u),c=y(w),f=p(w,"P",{class:!0});var k=d(f);g=T(k,"Inizio ATT OOCC: "),v=p(k,"SPAN",{class:!0});var D=d(v);b=T(D,_),D.forEach(u),k.forEach(u),w.forEach(u),this.h()},h(){l(n,"class","font-extralight"),l(t,"class","font-mono text-white text-lg"),l(v,"class","font-extralight"),l(f,"class","font-mono text-white text-lg"),l(e,"class","p-2 mb-2")},m(m,w){R(m,e,w),o(e,t),o(t,r),o(t,n),o(n,s),o(e,c),o(e,f),o(f,g),o(f,v),o(v,b)},p(m,w){w&1&&i!==(i=(m[0].startingDateEEMM||"____/__/__")+"")&&ue(s,i),w&1&&_!==(_=(m[0].startingDateOOCC||"____/__/__")+"")&&ue(b,_)},d(m){m&&u(e)}}}function No(a){let e,t,r,n,i,s,c,f,g,v,_,b=a[1]&&Cr(a);return{c(){e=h("button"),t=$("svg"),r=$("circle"),n=$("polyline"),i=E(),s=h("h1"),c=S("Tracciamento eventi"),f=E(),b&&b.c(),g=ct(),this.h()},l(m){e=p(m,"BUTTON",{class:!0});var w=d(e);t=F(w,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var N=d(t);r=F(N,"circle",{cx:!0,cy:!0,r:!0}),d(r).forEach(u),n=F(N,"polyline",{points:!0}),d(n).forEach(u),N.forEach(u),i=y(w),s=p(w,"H1",{class:!0});var C=d(s);c=T(C,"Tracciamento eventi"),C.forEach(u),w.forEach(u),f=y(m),b&&b.l(m),g=ct(),this.h()},h(){l(r,"cx","12"),l(r,"cy","12"),l(r,"r","10"),l(n,"points","12 6 12 12 16 14"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-clock"),l(s,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(m,w){R(m,e,w),o(e,t),o(t,r),o(t,n),o(e,i),o(e,s),o(s,c),R(m,f,w),b&&b.m(m,w),R(m,g,w),v||(_=P(e,"click",Gl(a[2])),v=!0)},p(m,[w]){m[1]?b?b.p(m,w):(b=Cr(m),b.c(),b.m(g.parentNode,g)):b&&(b.d(1),b=null)},i:ke,o:ke,d(m){m&&u(e),m&&u(f),b&&b.d(m),m&&u(g),v=!1,_()}}}function Do(a,e,t){let{turbine:r}=e,n=!1;const i=()=>t(1,n=!n);return a.$$set=s=>{"turbine"in s&&t(0,r=s.turbine)},[r,n,i]}class Io extends Je{constructor(e){super(),Qe(this,e,Do,No,Xe,{turbine:0})}}function Vr(a,e,t){const r=a.slice();return r[3]=e[t],r}function Mr(a){let e,t,r=a[0].operation,n=[];for(let i=0;i<r.length;i+=1)n[i]=Pr(Vr(a,r,i));return{c(){e=h("div"),t=h("ul");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=p(i,"DIV",{class:!0});var s=d(e);t=p(s,"UL",{class:!0});var c=d(t);for(let f=0;f<n.length;f+=1)n[f].l(c);c.forEach(u),s.forEach(u),this.h()},h(){l(t,"class","font-mono text-white text-lg"),l(e,"class","p-2")},m(i,s){R(i,e,s),o(e,t);for(let c=0;c<n.length;c+=1)n[c].m(t,null)},p(i,s){if(s&1){r=i[0].operation;let c;for(c=0;c<r.length;c+=1){const f=Vr(i,r,c);n[c]?n[c].p(f,s):(n[c]=Pr(f),n[c].c(),n[c].m(t,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=r.length}},d(i){i&&u(e),Jr(n,i)}}}function Pr(a){let e,t=a[3]+"",r,n;return{c(){e=h("li"),r=S(t),n=E(),this.h()},l(i){e=p(i,"LI",{class:!0});var s=d(e);r=T(s,t),n=y(s),s.forEach(u),this.h()},h(){l(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(i,s){R(i,e,s),o(e,r),o(e,n)},p(i,s){s&1&&t!==(t=i[3]+"")&&ue(r,t)},d(i){i&&u(e)}}}function So(a){let e,t,r,n,i,s,c,f,g,v,_=a[1]&&Mr(a);return{c(){e=h("button"),t=$("svg"),r=$("path"),n=E(),i=h("h1"),s=S("Operazioni"),c=E(),_&&_.c(),f=ct(),this.h()},l(b){e=p(b,"BUTTON",{class:!0});var m=d(e);t=F(m,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var w=d(t);r=F(w,"path",{d:!0}),d(r).forEach(u),w.forEach(u),n=y(m),i=p(m,"H1",{class:!0});var N=d(i);s=T(N,"Operazioni"),N.forEach(u),m.forEach(u),c=y(b),_&&_.l(b),f=ct(),this.h()},h(){l(r,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-tool"),l(i,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(b,m){R(b,e,m),o(e,t),o(t,r),o(e,n),o(e,i),o(i,s),R(b,c,m),_&&_.m(b,m),R(b,f,m),g||(v=P(e,"click",Gl(a[2])),g=!0)},p(b,[m]){b[1]?_?_.p(b,m):(_=Mr(b),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},i:ke,o:ke,d(b){b&&u(e),b&&u(c),_&&_.d(b),b&&u(f),g=!1,v()}}}function To(a,e,t){let{turbine:r}=e,n=!1;const i=()=>t(1,n=!n);return a.$$set=s=>{"turbine"in s&&t(0,r=s.turbine)},[r,n,i]}class Oo extends Je{constructor(e){super(),Qe(this,e,To,So,Xe,{turbine:0})}}const Zr="https://dockyard-handler.herokuapp.com/v1.0.0";async function Ar(a){if(console.log("Retrieving steps for event "+a),typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Vt.get(Zr+"/steps/"+a,t)).data}else console.log("Token not found in local storage")}async function Co(a,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Vt.put(Zr+"/step/complete?stepId="+a+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function Br(a,e,t){const r=a.slice();return r[6]=e[t],r}function Vo(a){return{c:ke,l:ke,m:ke,p:ke,d:ke}}function Mo(a){let e=[],t=new Map,r,n=a[0];const i=s=>s[6].id;for(let s=0;s<n.length;s+=1){let c=Br(a,n,s),f=i(c);t.set(f,e[s]=Lr(f,c))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=ct()},l(s){for(let c=0;c<e.length;c+=1)e[c].l(s);r=ct()},m(s,c){for(let f=0;f<e.length;f+=1)e[f].m(s,c);R(s,r,c)},p(s,c){c&7&&(n=s[0],e=Ql(e,c,i,1,s,n,t,r.parentNode,Qr,Lr,r,Br))},d(s){for(let c=0;c<e.length;c+=1)e[c].d(s);s&&u(r)}}}function zr(a){let e,t,r,n,i,s,c;return{c(){e=h("div"),t=h("p"),r=S("Completato"),n=E(),i=$("svg"),s=$("path"),c=$("polyline"),this.h()},l(f){e=p(f,"DIV",{class:!0});var g=d(e);t=p(g,"P",{class:!0});var v=d(t);r=T(v,"Completato"),v.forEach(u),n=y(g),i=F(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var _=d(i);s=F(_,"path",{d:!0}),d(s).forEach(u),c=F(_,"polyline",{points:!0}),d(c).forEach(u),_.forEach(u),g.forEach(u),this.h()},h(){l(t,"class","font-bold uppercase"),l(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),l(c,"points","22 4 12 14.01 9 11.01"),l(i,"xmlns","http://www.w3.org/2000/svg"),l(i,"width","22"),l(i,"height","22"),l(i,"viewBox","0 0 24 24"),l(i,"fill","none"),l(i,"stroke","currentColor"),l(i,"stroke-width","2"),l(i,"stroke-linecap","round"),l(i,"stroke-linejoin","round"),l(i,"class","feather feather-check-circle text-green-500"),l(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(f,g){R(f,e,g),o(e,t),o(t,r),o(e,n),o(e,i),o(i,s),o(i,c)},d(f){f&&u(e)}}}function Lr(a,e){let t,r,n,i,s,c,f,g=e[6].name+"",v,_,b=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,m,w,N;function C(){return e[4](e[6])}let k=b&&zr();return{key:a,first:null,c(){t=h("div"),r=h("input"),s=E(),c=h("div"),f=h("p"),v=S(g),_=E(),k&&k.c(),m=E(),this.h()},l(D){t=p(D,"DIV",{class:!0});var I=d(t);r=p(I,"INPUT",{type:!0,class:!0}),s=y(I),c=p(I,"DIV",{class:!0});var H=d(c);f=p(H,"P",{});var j=d(f);v=T(j,g),j.forEach(u),H.forEach(u),_=y(I),k&&k.l(I),m=y(I),I.forEach(u),this.h()},h(){l(r,"type","checkbox"),l(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=i=e[6].complete,l(c,"class","col-span-6 text-left"),l(t,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm"),this.first=t},m(D,I){R(D,t,I),o(t,r),o(t,s),o(t,c),o(c,f),o(f,v),o(t,_),k&&k.m(t,null),o(t,m),w||(N=P(r,"click",C),w=!0)},p(D,I){e=D,I&3&&n!==(n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=n),I&1&&i!==(i=e[6].complete)&&(r.checked=i),I&1&&g!==(g=e[6].name+"")&&ue(v,g),I&3&&(b=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),b?k||(k=zr(),k.c(),k.m(t,m)):k&&(k.d(1),k=null)},d(D){D&&u(t),k&&k.d(),w=!1,N()}}}function Po(a){let e,t;return{c(){e=h("div"),t=S("Caricamento..."),this.h()},l(r){e=p(r,"DIV",{class:!0});var n=d(e);t=T(n,"Caricamento..."),n.forEach(u),this.h()},h(){l(e,"class","col-span-7 text-center")},m(r,n){R(r,e,n),o(e,t)},p:ke,d(r){r&&u(e)}}}function Ao(a){let e,t,r,n,i,s,c,f,g,v,_,b,m,w={ctx:a,current:null,token:null,hasCatch:!1,pending:Po,then:Mo,catch:Vo,value:0};return Nr(_=a[0],w),{c(){e=h("div"),t=h("div"),r=$("svg"),n=$("path"),i=$("path"),s=E(),c=h("h1"),f=S("Tracciamento fasi"),g=E(),v=h("div"),w.block.c(),this.h()},l(N){e=p(N,"DIV",{class:!0});var C=d(e);t=p(C,"DIV",{class:!0});var k=d(t);r=F(k,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(r);n=F(D,"path",{d:!0}),d(n).forEach(u),i=F(D,"path",{d:!0}),d(i).forEach(u),D.forEach(u),s=y(k),c=p(k,"H1",{class:!0});var I=d(c);f=T(I,"Tracciamento fasi"),I.forEach(u),k.forEach(u),g=y(C),v=p(C,"DIV",{id:!0,class:!0});var H=d(v);w.block.l(H),H.forEach(u),C.forEach(u),this.h()},h(){l(n,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),l(i,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),l(r,"xmlns","http://www.w3.org/2000/svg"),l(r,"width","24"),l(r,"height","24"),l(r,"viewBox","0 0 24 24"),l(r,"fill","none"),l(r,"stroke","currentColor"),l(r,"stroke-width","2"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"class","feather feather-link"),l(c,"class","font-mono text-xl"),l(t,"class","flex flex-row items-center md:justify-center mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),l(v,"id","stepsContainer"),l(v,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-44 md:h-64 gap-2 scrollbar-none mt-5 items-center"),l(e,"class","col-span-1 text-white ring-2 ring-gray-400 rounded-sm")},m(N,C){R(N,e,C),o(e,t),o(t,r),o(r,n),o(r,i),o(t,s),o(t,c),o(c,f),o(e,g),o(e,v),w.block.m(v,w.anchor=null),w.mount=()=>v,w.anchor=null},p(N,[C]){a=N,w.ctx=a,C&1&&_!==(_=a[0])&&Nr(_,w)||lo(w,a,C)},i(N){b||at(()=>{b=bt(v,ut,{delay:500,duration:1e3}),b.start()}),m||at(()=>{m=bt(e,Xr,{delay:400,duration:1e3}),m.start()})},o:ke,d(N){N&&u(e),w.block.d(),w.token=null,w=null}}}function Bo(a,e,t){let r,{turbine:n}=e,i=[];Jl(()=>{Ar(n.id).then(g=>{t(0,i=g)}),setTimeout(()=>{c()},1500)});const s=(g,v)=>{Co(g,v).then(()=>{Ar(n.id).then(_=>{t(0,i=_),v?t(3,n.completedSteps+=1,n):t(3,n.completedSteps-=1,n),c()})})};function c(){const g=document.getElementById("stepsContainer"),v=9;if(g){const _=window.innerWidth<768?2:4,b=n.completedSteps-_;if(b>=0&&n.completedSteps<v){g.scrollTo({top:g.scrollHeight/v*(b+1),behavior:"smooth"});return}else if(n.completedSteps===v){setTimeout(()=>{g.scrollTo({top:0,behavior:"smooth"})},500);return}}}const f=g=>s(g.id,!g.complete);return a.$$set=g=>{"turbine"in g&&t(3,n=g.turbine)},a.$$.update=()=>{a.$$.dirty&9&&t(1,r=i[n.completedSteps])},[i,r,s,n,f]}class zo extends Je{constructor(e){super(),Qe(this,e,Bo,Ao,Xe,{turbine:3})}}function Lo(a){let e,t,r,n,i,s,c,f,g,v,_,b,m;return{c(){e=h("div"),t=h("p"),r=S("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),n=E(),i=h("div"),s=h("button"),c=S("Annulla"),f=E(),g=h("button"),v=S("Conferma"),this.h()},l(w){e=p(w,"DIV",{class:!0});var N=d(e);t=p(N,"P",{class:!0});var C=d(t);r=T(C,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),C.forEach(u),n=y(N),i=p(N,"DIV",{class:!0});var k=d(i);s=p(k,"BUTTON",{class:!0});var D=d(s);c=T(D,"Annulla"),D.forEach(u),f=y(k),g=p(k,"BUTTON",{class:!0});var I=d(g);v=T(I,"Conferma"),I.forEach(u),k.forEach(u),N.forEach(u),this.h()},h(){l(t,"class","font-bold text-lg"),l(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),l(g,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),l(i,"class","flex justify-end mt-5 text-sm"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(w,N){R(w,e,N),o(e,t),o(t,r),o(e,n),o(e,i),o(i,s),o(s,c),o(i,f),o(i,g),o(g,v),b||(m=[P(s,"click",a[1]),P(g,"click",a[0]),P(e,"click",a[2]),P(e,"keydown",a[2])],b=!0)},p:ke,i(w){_||at(()=>{_=bt(e,ut,{duration:300}),_.start()})},o:ke,d(w){w&&u(e),b=!1,Ze(m)}}}function Uo(a){const e=ft();return[()=>{e("confirm")},()=>{e("cancel")},i=>{i.stopPropagation()}]}class jo extends Je{constructor(e){super(),Qe(this,e,Uo,Lo,Xe,{})}}function Ur(a){let e,t,r=a[0].turbineNumber+"",n;return{c(){e=h("span"),t=S("- "),n=S(r)},l(i){e=p(i,"SPAN",{});var s=d(e);t=T(s,"- "),n=T(s,r),s.forEach(u)},m(i,s){R(i,e,s),o(e,t),o(e,n)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&ue(n,r)},d(i){i&&u(e)}}}function jr(a){let e,t,r,n,i;return t=new jo({}),t.$on("confirm",a[4]),t.$on("cancel",a[7]),{c(){e=h("div"),Ke(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);qe(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,c){R(s,e,c),Ye(t,e,null),r=!0,n||(i=[P(e,"click",a[8]),P(e,"keydown",a[9])],n=!0)},p:ke,i(s){r||(ie(t.$$.fragment,s),r=!0)},o(s){_e(t.$$.fragment,s),r=!1},d(s){s&&u(e),Ge(t),n=!1,Ze(i)}}}function xr(a){let e,t,r,n=a[0].permittingDate+"",i;return{c(){e=h("p"),t=S("Valdità permitting: "),r=h("span"),i=S(n),this.h()},l(s){e=p(s,"P",{class:!0});var c=d(e);t=T(c,"Valdità permitting: "),r=p(c,"SPAN",{});var f=d(r);i=T(f,n),f.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(s,c){R(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&n!==(n=s[0].permittingDate+"")&&ue(i,n)},d(s){s&&u(e)}}}function $r(a){let e,t,r,n=a[0].priorNotification+"",i;return{c(){e=h("p"),t=S("Valdità notifica: "),r=h("span"),i=S(n),this.h()},l(s){e=p(s,"P",{class:!0});var c=d(e);t=T(c,"Valdità notifica: "),r=p(c,"SPAN",{});var f=d(r);i=T(f,n),f.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(s,c){R(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&n!==(n=s[0].priorNotification+"")&&ue(i,n)},d(s){s&&u(e)}}}function xo(a){let e,t,r,n=a[0].turbineName+"",i,s,c,f,g,v,_,b,m,w,N,C,k,D,I,H,j,W,J,ne,le,O,A,L,Y,Ie,G,re,Ae,V,X=a[0].creationDate+"",Te,fe,pe,me,$e,de=a[0].turbineState+"",ee,Ee,ze,Ce,ye,Ne,Pe,he,Le,ae,be,Se,se,Q,U=a[0].turbineNumber&&Ur(a),z=a[1]&&jr(a),B=a[0].permittingDate!==void 0&&xr(a),te=a[0].priorNotification!==void 0&&$r(a);return Ne=new Io({props:{turbine:a[0]}}),he=new Oo({props:{turbine:a[0]}}),ae=new zo({props:{turbine:a[0]}}),{c(){e=h("div"),t=h("div"),r=h("h1"),i=S(n),s=E(),U&&U.c(),c=E(),f=h("div"),g=h("div"),v=h("div"),_=E(),z&&z.c(),b=E(),m=h("div"),w=h("button"),N=$("svg"),C=$("polyline"),k=$("path"),D=$("line"),I=$("line"),H=E(),j=h("button"),W=$("svg"),J=$("path"),ne=E(),le=h("button"),O=$("svg"),A=$("line"),L=$("line"),Y=E(),Ie=h("div"),G=h("div"),re=h("p"),Ae=S("Creazione: "),V=h("span"),Te=S(X),fe=E(),pe=h("p"),me=S("Stato turbina: "),$e=h("span"),ee=S(de),Ee=E(),B&&B.c(),ze=E(),te&&te.c(),Ce=E(),ye=h("div"),Ke(Ne.$$.fragment),Pe=E(),Ke(he.$$.fragment),Le=E(),Ke(ae.$$.fragment),this.h()},l(M){e=p(M,"DIV",{class:!0});var K=d(e);t=p(K,"DIV",{class:!0});var oe=d(t);r=p(oe,"H1",{class:!0});var Ue=d(r);i=T(Ue,n),s=y(Ue),U&&U.l(Ue),Ue.forEach(u),c=y(oe),f=p(oe,"DIV",{class:!0});var je=d(f);g=p(je,"DIV",{class:!0});var De=d(g);v=p(De,"DIV",{class:!0}),d(v).forEach(u),_=y(De),z&&z.l(De),b=y(De),m=p(De,"DIV",{class:!0});var x=d(m);w=p(x,"BUTTON",{class:!0});var ge=d(w);N=F(ge,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ve=d(N);C=F(ve,"polyline",{points:!0}),d(C).forEach(u),k=F(ve,"path",{d:!0}),d(k).forEach(u),D=F(ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(u),I=F(ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(I).forEach(u),ve.forEach(u),ge.forEach(u),H=y(x),j=p(x,"BUTTON",{class:!0});var Z=d(j);W=F(Z,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var We=d(W);J=F(We,"path",{d:!0}),d(J).forEach(u),We.forEach(u),Z.forEach(u),ne=y(x),le=p(x,"BUTTON",{class:!0});var tt=d(le);O=F(tt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ve=d(O);A=F(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(A).forEach(u),L=F(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(L).forEach(u),Ve.forEach(u),tt.forEach(u),x.forEach(u),De.forEach(u),je.forEach(u),oe.forEach(u),Y=y(K),Ie=p(K,"DIV",{class:!0});var Fe=d(Ie);G=p(Fe,"DIV",{class:!0});var Me=d(G);re=p(Me,"P",{class:!0});var Oe=d(re);Ae=T(Oe,"Creazione: "),V=p(Oe,"SPAN",{});var Re=d(V);Te=T(Re,X),Re.forEach(u),Oe.forEach(u),fe=y(Me),pe=p(Me,"P",{class:!0});var et=d(pe);me=T(et,"Stato turbina: "),$e=p(et,"SPAN",{});var dt=d($e);ee=T(dt,de),dt.forEach(u),et.forEach(u),Ee=y(Me),B&&B.l(Me),ze=y(Me),te&&te.l(Me),Ce=y(Me),ye=p(Me,"DIV",{class:!0});var ot=d(ye);qe(Ne.$$.fragment,ot),Pe=y(ot),qe(he.$$.fragment,ot),ot.forEach(u),Me.forEach(u),Le=y(Fe),qe(ae.$$.fragment,Fe),Fe.forEach(u),K.forEach(u),this.h()},h(){l(r,"class","font-mono font-bold text-2xl md:text-4xl"),l(v,"class","col-span-3"),l(C,"points","3 6 5 6 21 6"),l(k,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),l(D,"x1","10"),l(D,"y1","11"),l(D,"x2","10"),l(D,"y2","17"),l(I,"x1","14"),l(I,"y1","11"),l(I,"x2","14"),l(I,"y2","17"),l(N,"xmlns","http://www.w3.org/2000/svg"),l(N,"width","20"),l(N,"height","20"),l(N,"viewBox","0 0 24 24"),l(N,"fill","none"),l(N,"stroke","currentColor"),l(N,"stroke-width","2"),l(N,"stroke-linecap","round"),l(N,"stroke-linejoin","round"),l(N,"class","feather feather-trash-2"),l(w,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(J,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),l(W,"xmlns","http://www.w3.org/2000/svg"),l(W,"width","20"),l(W,"height","20"),l(W,"viewBox","0 0 24 24"),l(W,"fill","none"),l(W,"stroke","currentColor"),l(W,"stroke-width","2"),l(W,"stroke-linecap","round"),l(W,"stroke-linejoin","round"),l(W,"class","feather feather-edit-2"),l(j,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),l(A,"x1","18"),l(A,"y1","6"),l(A,"x2","6"),l(A,"y2","18"),l(L,"x1","6"),l(L,"y1","6"),l(L,"x2","18"),l(L,"y2","18"),l(O,"xmlns","http://www.w3.org/2000/svg"),l(O,"width","24"),l(O,"height","24"),l(O,"viewBox","0 0 24 24"),l(O,"fill","none"),l(O,"stroke","currentColor"),l(O,"stroke-width","2"),l(O,"stroke-linecap","round"),l(O,"stroke-linejoin","round"),l(O,"class","feather feather-x"),l(le,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(m,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),l(g,"class","grid grid-cols-6"),l(f,"class","flex flex-row justify-end"),l(t,"class","w-full h-20 grid grid-cols-2 items-start"),l(re,"class","font-mono text-white text-lg"),l(pe,"class","font-mono text-white text-lg"),l(ye,"class","w-full mt-5"),l(G,"class","col-span-1"),l(Ie,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start gap-0 md:gap-4"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 md:min-w-min md:max-w-4xl z-50 h-[36rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(M,K){R(M,e,K),o(e,t),o(t,r),o(r,i),o(r,s),U&&U.m(r,null),o(t,c),o(t,f),o(f,g),o(g,v),o(g,_),z&&z.m(g,null),o(g,b),o(g,m),o(m,w),o(w,N),o(N,C),o(N,k),o(N,D),o(N,I),o(m,H),o(m,j),o(j,W),o(W,J),o(m,ne),o(m,le),o(le,O),o(O,A),o(O,L),o(e,Y),o(e,Ie),o(Ie,G),o(G,re),o(re,Ae),o(re,V),o(V,Te),o(G,fe),o(G,pe),o(pe,me),o(pe,$e),o($e,ee),o(G,Ee),B&&B.m(G,null),o(G,ze),te&&te.m(G,null),o(G,Ce),o(G,ye),Ye(Ne,ye,null),o(ye,Pe),Ye(he,ye,null),o(Ie,Le),Ye(ae,Ie,null),Se=!0,se||(Q=[P(w,"click",a[10]),P(j,"click",a[3]),P(le,"click",a[2]),P(e,"click",rt(a[5])),P(e,"keydown",rt(a[6]))],se=!0)},p(M,[K]){(!Se||K&1)&&n!==(n=M[0].turbineName+"")&&ue(i,n),M[0].turbineNumber?U?U.p(M,K):(U=Ur(M),U.c(),U.m(r,null)):U&&(U.d(1),U=null),M[1]?z?(z.p(M,K),K&2&&ie(z,1)):(z=jr(M),z.c(),ie(z,1),z.m(g,b)):z&&(Ot(),_e(z,1,1,()=>{z=null}),Ct()),(!Se||K&1)&&X!==(X=M[0].creationDate+"")&&ue(Te,X),(!Se||K&1)&&de!==(de=M[0].turbineState+"")&&ue(ee,de),M[0].permittingDate!==void 0?B?B.p(M,K):(B=xr(M),B.c(),B.m(G,ze)):B&&(B.d(1),B=null),M[0].priorNotification!==void 0?te?te.p(M,K):(te=$r(M),te.c(),te.m(G,Ce)):te&&(te.d(1),te=null);const oe={};K&1&&(oe.turbine=M[0]),Ne.$set(oe);const Ue={};K&1&&(Ue.turbine=M[0]),he.$set(Ue);const je={};K&1&&(je.turbine=M[0]),ae.$set(je)},i(M){Se||(ie(z),ie(Ne.$$.fragment,M),ie(he.$$.fragment,M),ie(ae.$$.fragment,M),be||at(()=>{be=bt(e,ut,{duration:150}),be.start()}),Se=!0)},o(M){_e(z),_e(Ne.$$.fragment,M),_e(he.$$.fragment,M),_e(ae.$$.fragment,M),Se=!1},d(M){M&&u(e),U&&U.d(),z&&z.d(),B&&B.d(),te&&te.d(),Ge(Ne),Ge(he),Ge(ae),se=!1,Ze(Q)}}}function $o(a,e,t){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const n=ft(),i=()=>{n("closeDetails")},s=()=>{n("editMode",r.id)};let c=!1;const f=()=>{t(1,c=!1),wo(r.id).then(()=>{n("deleted")})};function g(N){_t.call(this,a,N)}function v(N){_t.call(this,a,N)}const _=()=>{t(1,c=!1)},b=()=>{t(1,c=!1)},m=()=>{t(1,c=!1)},w=()=>{t(1,c=!0)};return a.$$set=N=>{"turbine"in N&&t(0,r=N.turbine)},[r,c,i,s,f,g,v,_,b,m,w]}class Fo extends Je{constructor(e){super(),Qe(this,e,$o,xo,Xe,{turbine:0})}}const Wo={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear"};function Fr(a,e,t){const r=a.slice();return r[7]=e[t],r[8]=e,r[9]=t,r}function Wr(a,e){let t,r,n,i,s,c=e[7].name+"",f,g,v,_;function b(...m){return e[5](e[7],e[8],e[9],...m)}return{key:a,first:null,c(){t=h("div"),r=h("input"),i=E(),s=h("p"),f=S(c),g=E(),this.h()},l(m){t=p(m,"DIV",{class:!0});var w=d(t);r=p(w,"INPUT",{class:!0,type:!0}),i=y(w),s=p(w,"P",{class:!0});var N=d(s);f=T(N,c),N.forEach(u),g=y(w),w.forEach(u),this.h()},h(){l(r,"class","checkbox"),r.checked=n=e[7].isSelected,l(r,"type","checkbox"),l(s,"class","font-mono"),l(t,"class","flex flex-row gap-4"),this.first=t},m(m,w){R(m,t,w),o(t,r),o(t,i),o(t,s),o(s,f),o(t,g),v||(_=P(r,"change",b),v=!0)},p(m,w){e=m,w&1&&n!==(n=e[7].isSelected)&&(r.checked=n),w&1&&c!==(c=e[7].name+"")&&ue(f,c)},d(m){m&&u(t),v=!1,_()}}}function Ho(a){let e,t,r=[],n=new Map,i,s,c,f,g,v,_,b,m,w,N=a[0];const C=k=>k[7].name;for(let k=0;k<N.length;k+=1){let D=Fr(a,N,k),I=C(D);n.set(I,r[k]=Wr(I,D))}return{c(){e=h("div"),t=h("div");for(let k=0;k<r.length;k+=1)r[k].c();i=E(),s=h("div"),c=h("button"),f=S("Conferma"),g=E(),v=h("button"),_=S("Chiudi"),this.h()},l(k){e=p(k,"DIV",{class:!0});var D=d(e);t=p(D,"DIV",{class:!0});var I=d(t);for(let J=0;J<r.length;J+=1)r[J].l(I);I.forEach(u),i=y(D),s=p(D,"DIV",{class:!0});var H=d(s);c=p(H,"BUTTON",{class:!0});var j=d(c);f=T(j,"Conferma"),j.forEach(u),g=y(H),v=p(H,"BUTTON",{class:!0});var W=d(v);_=T(W,"Chiudi"),W.forEach(u),H.forEach(u),D.forEach(u),this.h()},h(){l(t,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),l(c,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),l(v,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),l(s,"class","flex flex-row mt-5 gap-2 justify-center"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(k,D){R(k,e,D),o(e,t);for(let I=0;I<r.length;I+=1)r[I].m(t,null);o(e,i),o(e,s),o(s,c),o(c,f),o(s,g),o(s,v),o(v,_),m||(w=[P(c,"click",rt(a[1])),P(v,"click",rt(a[2])),P(e,"click",rt(a[3])),P(e,"keydown",rt(a[4]))],m=!0)},p(k,[D]){D&1&&(N=k[0],r=Ql(r,D,C,1,k,N,n,t,Qr,Wr,null,Fr))},i(k){b||at(()=>{b=bt(e,ut,{duration:300}),b.start()})},o:ke,d(k){k&&u(e);for(let D=0;D<r.length;D+=1)r[D].d();m=!1,Ze(w)}}}function Ro(a,e,t){let{operations:r=[]}=e;const n=ft(),i=()=>{n("confirm",r)},s=()=>{n("cancel")};function c(v){_t.call(this,a,v)}function f(v){_t.call(this,a,v)}const g=(v,_,b,m)=>{t(0,_[b].isSelected=m.target.checked,r)};return a.$$set=v=>{"operations"in v&&t(0,r=v.operations)},[r,i,s,c,f,g]}class Ko extends Je{constructor(e){super(),Qe(this,e,Ro,Ho,Xe,{operations:0})}}function qo(a){let e,t,r,n,i,s,c,f,g,v,_,b,m,w,N,C,k,D,I,H,j,W;return{c(){e=h("div"),t=h("div"),r=h("button"),n=$("svg"),i=$("path"),s=$("line"),c=$("polyline"),g=S("Kilowatt"),_=E(),b=h("button"),m=$("svg"),w=$("path"),N=$("line"),C=$("polyline"),D=S("Megawatt"),this.h()},l(J){e=p(J,"DIV",{class:!0});var ne=d(e);t=p(ne,"DIV",{class:!0});var le=d(t);r=p(le,"BUTTON",{class:!0,type:!0});var O=d(r);n=F(O,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var A=d(n);i=F(A,"path",{d:!0}),d(i).forEach(u),s=F(A,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),c=F(A,"polyline",{points:!0}),d(c).forEach(u),A.forEach(u),g=T(O,"Kilowatt"),O.forEach(u),_=y(le),b=p(le,"BUTTON",{class:!0,type:!0});var L=d(b);m=F(L,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Y=d(m);w=F(Y,"path",{d:!0}),d(w).forEach(u),N=F(Y,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(N).forEach(u),C=F(Y,"polyline",{points:!0}),d(C).forEach(u),Y.forEach(u),D=T(L,"Megawatt"),L.forEach(u),le.forEach(u),ne.forEach(u),this.h()},h(){l(i,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(s,"x1","23"),l(s,"y1","13"),l(s,"x2","23"),l(s,"y2","11"),l(c,"points","11 6 7 12 13 12 9 18"),l(n,"xmlns","http://www.w3.org/2000/svg"),l(n,"width","24"),l(n,"height","24"),l(n,"viewBox","0 0 24 24"),l(n,"fill","none"),l(n,"stroke","currentColor"),l(n,"stroke-width","2"),l(n,"stroke-linecap","round"),l(n,"stroke-linejoin","round"),l(n,"class",f=a[0]?"text-green-500":""),l(r,"class",v=He(a[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(w,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(N,"x1","23"),l(N,"y1","13"),l(N,"x2","23"),l(N,"y2","11"),l(C,"points","11 6 7 12 13 12 9 18"),l(m,"xmlns","http://www.w3.org/2000/svg"),l(m,"width","24"),l(m,"height","24"),l(m,"viewBox","0 0 24 24"),l(m,"fill","none"),l(m,"stroke","currentColor"),l(m,"stroke-width","2"),l(m,"stroke-linecap","round"),l(m,"stroke-linejoin","round"),l(m,"class",k=a[0]?"":"text-blue-500"),l(b,"class",I=He(a[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4"),l(b,"type","button"),l(t,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(J,ne){R(J,e,ne),o(e,t),o(t,r),o(r,n),o(n,i),o(n,s),o(n,c),o(r,g),o(t,_),o(t,b),o(b,m),o(m,w),o(m,N),o(m,C),o(b,D),j||(W=[P(r,"click",a[2]),P(b,"click",a[3])],j=!0)},p(J,[ne]){ne&1&&f!==(f=J[0]?"text-green-500":"")&&l(n,"class",f),ne&1&&v!==(v=He(J[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",v),ne&1&&k!==(k=J[0]?"":"text-blue-500")&&l(m,"class",k),ne&1&&I!==(I=He(J[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4")&&l(b,"class",I)},i(J){H||at(()=>{H=bt(e,Xr,{duration:300}),H.start()})},o:ke,d(J){J&&u(e),j=!1,Ze(W)}}}function Yo(a,e,t){const r=ft();let n=!0;const i=()=>{r("change",n?"KILOWATT":"MEGAWATT")};return[n,i,()=>{t(0,n=!0),i()},()=>{t(0,n=!1),i()}]}class Go extends Je{constructor(e){super(),Qe(this,e,Yo,qo,Xe,{})}}function Jo(a){let e,t,r,n,i,s,c,f,g,v,_,b,m,w,N,C;return{c(){e=h("div"),t=h("div"),r=h("button"),n=S("In Marcia"),s=E(),c=h("button"),f=S("Limitata"),v=E(),_=h("button"),b=S("Ferma"),this.h()},l(k){e=p(k,"DIV",{class:!0});var D=d(e);t=p(D,"DIV",{class:!0});var I=d(t);r=p(I,"BUTTON",{class:!0,type:!0});var H=d(r);n=T(H,"In Marcia"),H.forEach(u),s=y(I),c=p(I,"BUTTON",{class:!0,type:!0});var j=d(c);f=T(j,"Limitata"),j.forEach(u),v=y(I),_=p(I,"BUTTON",{class:!0,type:!0});var W=d(_);b=T(W,"Ferma"),W.forEach(u),I.forEach(u),D.forEach(u),this.h()},h(){l(r,"class",i=He(a[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(c,"class",g=He(a[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),l(c,"type","button"),l(_,"class",m=He(a[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),l(_,"type","button"),l(t,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(k,D){R(k,e,D),o(e,t),o(t,r),o(r,n),o(t,s),o(t,c),o(c,f),o(t,v),o(t,_),o(_,b),N||(C=[P(r,"click",a[2]),P(c,"click",a[3]),P(_,"click",a[4])],N=!0)},p(k,[D]){D&1&&i!==(i=He(k[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",i),D&1&&g!==(g=He(k[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&l(c,"class",g),D&1&&m!==(m=He(k[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&l(_,"class",m)},i(k){w||at(()=>{w=bt(e,ut,{duration:300,delay:300}),w.start()})},o:ke,d(k){k&&u(e),N=!1,Ze(C)}}}function Qo(a,e,t){const r=ft();let n="In Marcia";const i=()=>{r("change",n)};return[n,i,()=>{t(0,n="In Marcia"),i()},()=>{t(0,n="Limitata"),i()},()=>{t(0,n="Ferma"),i()}]}class Xo extends Je{constructor(e){super(),Qe(this,e,Qo,Jo,Xe,{})}}function Hr(a){let e,t,r,n,i;return t=new Ko({props:{operations:a[3]}}),t.$on("cancel",a[12]),t.$on("confirm",a[13]),{c(){e=h("div"),Ke(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);qe(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){R(s,e,c),Ye(t,e,null),r=!0,n||(i=[P(e,"click",rt(a[14])),P(e,"keydown",rt(a[15]))],n=!0)},p(s,c){const f={};c&8&&(f.operations=s[3]),t.$set(f)},i(s){r||(ie(t.$$.fragment,s),r=!0)},o(s){_e(t.$$.fragment,s),r=!1},d(s){s&&u(e),Ge(t),n=!1,Ze(i)}}}function Zo(a){let e,t,r,n,i,s,c,f,g,v,_,b,m,w,N,C,k,D,I,H,j,W,J,ne,le,O,A,L,Y,Ie,G,re,Ae,V,X,Te,fe,pe,me,$e,de,ee,Ee,ze,Ce,ye,Ne,Pe,he,Le,ae,be,Se,se,Q,U,z,B,te,M,K,oe,Ue=a[1]?"modifica":"creazione",je,De,x,ge,ve,Z,We,tt,Ve,Fe=a[0].turbineNumber+"",Me,Oe,Re,et,dt,ot,st,ht=a[0].turbineName+"",wt,Mt,nt,Pt,Sl,Tl,At,qt=a[0].description+"",ll,Ol,kt,Bt,Cl,Vl,zt,Yt=(a[0].odlNumber||"N/A")+"",rl,Ml,Et,Lt,Pl,Al,Ut,Gt=a[0].operation+"",ol,Bl,yt,jt,zl,Ll,xt,Jt=a[0].power+"",nl,Ul,Nt,$t,jl,xl,Ft,Qt=a[0].turbineState+"",al,$l,pt,gt,Fl,Wl,Dt,Xt,Zt=a[1]?"Modifica":"Crea",sl,mt,Hl,lt,It,il,Rl,St,cl,Kl,Tt,ul,we,ql,Xl,Be=a[2]&&Hr(a);return le=new Go({}),le.$on("change",a[21]),Y=new Xo({}),Y.$on("change",a[22]),{c(){e=h("div"),Be&&Be.c(),t=E(),r=h("form"),n=h("div"),i=h("div"),s=h("div"),c=h("input"),g=E(),v=h("input"),b=E(),m=h("input"),N=E(),C=h("input"),D=E(),I=h("div"),H=h("button"),j=h("input"),J=E(),ne=h("div"),Ke(le.$$.fragment),O=E(),A=h("div"),L=h("div"),Ke(Y.$$.fragment),Ie=E(),G=h("div"),re=h("label"),Ae=S("Data Inizio EEMM"),V=E(),X=h("input"),fe=E(),pe=h("div"),me=h("label"),$e=S("Data Inizio OOCC"),de=E(),ee=h("input"),ze=E(),Ce=h("div"),ye=h("label"),Ne=S("Validità permitting"),Pe=E(),he=h("input"),ae=E(),be=h("div"),Se=h("label"),se=S("Validità notifica"),Q=E(),U=h("input"),B=E(),te=h("div"),M=h("div"),K=h("h2"),oe=S("Riepilogo "),je=S(Ue),De=E(),x=h("div"),ge=E(),ve=h("p"),Z=h("span"),We=S("Numero cantiere:"),tt=E(),Ve=h("span"),Me=S(Fe),Oe=E(),Re=h("p"),et=h("span"),dt=S("Aerogeneratore:"),ot=E(),st=h("span"),wt=S(ht),Mt=E(),nt=h("p"),Pt=h("span"),Sl=S("Impianto eolico:"),Tl=E(),At=h("span"),ll=S(qt),Ol=E(),kt=h("p"),Bt=h("span"),Cl=S("Numero ODL:"),Vl=E(),zt=h("span"),rl=S(Yt),Ml=E(),Et=h("p"),Lt=h("span"),Pl=S("Operazioni:"),Al=E(),Ut=h("span"),ol=S(Gt),Bl=E(),yt=h("p"),jt=h("span"),zl=S("Tipologia:"),Ll=E(),xt=h("span"),nl=S(Jt),Ul=E(),Nt=h("p"),$t=h("span"),jl=S("Stato:"),xl=E(),Ft=h("span"),al=S(Qt),$l=E(),pt=h("div"),gt=h("button"),Fl=S("Annulla"),Wl=E(),Dt=h("button"),Xt=h("p"),sl=S(Zt),Hl=E(),lt=h("div"),It=h("input"),Rl=E(),St=h("input"),Kl=E(),Tt=h("input"),this.h()},l(q){e=p(q,"DIV",{class:!0});var ce=d(e);Be&&Be.l(ce),t=y(ce),r=p(ce,"FORM",{});var dl=d(r);n=p(dl,"DIV",{id:!0,class:!0});var Wt=d(n);i=p(Wt,"DIV",{class:!0});var Ht=d(i);s=p(Ht,"DIV",{class:!0});var vt=d(s);c=p(vt,"INPUT",{class:!0,type:!0,placeholder:!0}),g=y(vt),v=p(vt,"INPUT",{class:!0,type:!0,placeholder:!0}),b=y(vt),m=p(vt,"INPUT",{class:!0,type:!0,placeholder:!0}),N=y(vt),C=p(vt,"INPUT",{class:!0,type:!0,placeholder:!0}),vt.forEach(u),D=y(Ht),I=p(Ht,"DIV",{class:!0});var Zl=d(I);H=p(Zl,"BUTTON",{type:!0,class:!0});var er=d(H);j=p(er,"INPUT",{class:!0,placeholder:!0}),er.forEach(u),Zl.forEach(u),J=y(Ht),ne=p(Ht,"DIV",{class:!0});var tr=d(ne);qe(le.$$.fragment,tr),tr.forEach(u),Ht.forEach(u),O=y(Wt),A=p(Wt,"DIV",{class:!0});var it=d(A);L=p(it,"DIV",{class:!0});var lr=d(L);qe(Y.$$.fragment,lr),lr.forEach(u),Ie=y(it),G=p(it,"DIV",{});var fl=d(G);re=p(fl,"LABEL",{for:!0,class:!0});var rr=d(re);Ae=T(rr,"Data Inizio EEMM"),rr.forEach(u),V=y(fl),X=p(fl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),fl.forEach(u),fe=y(it),pe=p(it,"DIV",{});var hl=d(pe);me=p(hl,"LABEL",{for:!0,class:!0});var or=d(me);$e=T(or,"Data Inizio OOCC"),or.forEach(u),de=y(hl),ee=p(hl,"INPUT",{class:!0,type:!0,placeholder:!0}),hl.forEach(u),ze=y(it),Ce=p(it,"DIV",{});var pl=d(Ce);ye=p(pl,"LABEL",{for:!0,class:!0});var nr=d(ye);Ne=T(nr,"Validità permitting"),nr.forEach(u),Pe=y(pl),he=p(pl,"INPUT",{class:!0,type:!0,placeholder:!0}),pl.forEach(u),ae=y(it),be=p(it,"DIV",{});var gl=d(be);Se=p(gl,"LABEL",{for:!0,class:!0});var ar=d(Se);se=T(ar,"Validità notifica"),ar.forEach(u),Q=y(gl),U=p(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(u),it.forEach(u),B=y(Wt),te=p(Wt,"DIV",{class:!0});var ml=d(te);M=p(ml,"DIV",{class:!0});var xe=d(M);K=p(xe,"H2",{class:!0});var Yl=d(K);oe=T(Yl,"Riepilogo "),je=T(Yl,Ue),Yl.forEach(u),De=y(xe),x=p(xe,"DIV",{class:!0}),d(x).forEach(u),ge=y(xe),ve=p(xe,"P",{});var vl=d(ve);Z=p(vl,"SPAN",{class:!0});var sr=d(Z);We=T(sr,"Numero cantiere:"),sr.forEach(u),tt=y(vl),Ve=p(vl,"SPAN",{class:!0});var ir=d(Ve);Me=T(ir,Fe),ir.forEach(u),vl.forEach(u),Oe=y(xe),Re=p(xe,"P",{});var _l=d(Re);et=p(_l,"SPAN",{class:!0});var cr=d(et);dt=T(cr,"Aerogeneratore:"),cr.forEach(u),ot=y(_l),st=p(_l,"SPAN",{class:!0});var ur=d(st);wt=T(ur,ht),ur.forEach(u),_l.forEach(u),Mt=y(xe),nt=p(xe,"P",{});var bl=d(nt);Pt=p(bl,"SPAN",{class:!0});var dr=d(Pt);Sl=T(dr,"Impianto eolico:"),dr.forEach(u),Tl=y(bl),At=p(bl,"SPAN",{class:!0});var fr=d(At);ll=T(fr,qt),fr.forEach(u),bl.forEach(u),Ol=y(xe),kt=p(xe,"P",{});var wl=d(kt);Bt=p(wl,"SPAN",{class:!0});var hr=d(Bt);Cl=T(hr,"Numero ODL:"),hr.forEach(u),Vl=y(wl),zt=p(wl,"SPAN",{class:!0});var pr=d(zt);rl=T(pr,Yt),pr.forEach(u),wl.forEach(u),Ml=y(xe),Et=p(xe,"P",{});var kl=d(Et);Lt=p(kl,"SPAN",{class:!0});var gr=d(Lt);Pl=T(gr,"Operazioni:"),gr.forEach(u),Al=y(kl),Ut=p(kl,"SPAN",{class:!0});var mr=d(Ut);ol=T(mr,Gt),mr.forEach(u),kl.forEach(u),Bl=y(xe),yt=p(xe,"P",{});var El=d(yt);jt=p(El,"SPAN",{class:!0});var vr=d(jt);zl=T(vr,"Tipologia:"),vr.forEach(u),Ll=y(El),xt=p(El,"SPAN",{class:!0});var _r=d(xt);nl=T(_r,Jt),_r.forEach(u),El.forEach(u),Ul=y(xe),Nt=p(xe,"P",{});var yl=d(Nt);$t=p(yl,"SPAN",{class:!0});var br=d($t);jl=T(br,"Stato:"),br.forEach(u),xl=y(yl),Ft=p(yl,"SPAN",{class:!0});var wr=d(Ft);al=T(wr,Qt),wr.forEach(u),yl.forEach(u),xe.forEach(u),$l=y(ml),pt=p(ml,"DIV",{class:!0});var Nl=d(pt);gt=p(Nl,"BUTTON",{type:!0,class:!0});var kr=d(gt);Fl=T(kr,"Annulla"),kr.forEach(u),Wl=y(Nl),Dt=p(Nl,"BUTTON",{class:!0});var Er=d(Dt);Xt=p(Er,"P",{});var yr=d(Xt);sl=T(yr,Zt),yr.forEach(u),Er.forEach(u),Nl.forEach(u),ml.forEach(u),Wt.forEach(u),Hl=y(dl),lt=p(dl,"DIV",{class:!0});var Rt=d(lt);It=p(Rt,"INPUT",{type:!0,class:!0}),Rl=y(Rt),St=p(Rt,"INPUT",{type:!0,class:!0}),Kl=y(Rt),Tt=p(Rt,"INPUT",{type:!0,class:!0}),Rt.forEach(u),dl.forEach(u),ce.forEach(u),this.h()},h(){l(c,"class","input"),l(c,"type","text"),c.value=f=a[0].turbineName,l(c,"placeholder","Aerogeneratore*"),c.required=!0,c.disabled=a[1],l(v,"class","input"),l(v,"type","text"),v.value=_=a[0].turbineNumber,l(v,"placeholder","Numero cantiere"),l(m,"class","input"),l(m,"type","text"),m.value=w=a[0].description,l(m,"placeholder","Impianto Eolico*"),m.required=!0,l(C,"class","input"),l(C,"type","number"),C.value=k=a[0].odlNumber,l(C,"placeholder","Numero ODL"),l(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(j,"class","w-full"),j.value=W=a[0].operation.length>0?a[0].operation.join(", "):"",j.disabled=!0,l(j,"placeholder","Operazioni*"),j.required=!0,l(H,"type","button"),l(H,"class","input hover:bg-gray-200 text-start transition ease-in-out"),l(I,"class","col-span-full mt-5"),l(ne,"class","col-span-full mt-auto"),l(i,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(L,"class","col-span-full"),l(re,"for","dateEEMM"),l(re,"class","font-mono text-white"),l(X,"id","dateEEMM"),l(X,"class","input"),l(X,"type","date"),X.value=Te=a[0].startingDateEEMM!==void 0?a[0].startingDateEEMM:"",l(X,"placeholder","Data inizio EEMM"),l(me,"for","dateEEMM"),l(me,"class","font-mono text-white"),l(ee,"class","input"),l(ee,"type","date"),ee.value=Ee=a[0].startingDateOOCC!==void 0?a[0].startingDateOOCC:"",l(ee,"placeholder","Data inizio OOCC"),l(ye,"for","dateEEMM"),l(ye,"class","font-mono text-white"),l(he,"class","input"),l(he,"type","date"),he.value=Le=a[0].permittingDate!==void 0?a[0].permittingDate:"",l(he,"placeholder","Validità permitting"),l(Se,"for","dateEEMM"),l(Se,"class","font-mono text-white"),l(U,"class","input"),l(U,"type","date"),U.value=z=a[0].priorNotification!==void 0?a[0].priorNotification:"",l(U,"placeholder","Validità notifica"),l(A,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(K,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),l(x,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),l(Z,"class","font-mono font-bold text-gray-300"),l(Ve,"class","font-mono text-gray-300"),l(et,"class","font-mono font-bold text-gray-300"),l(st,"class","font-mono text-gray-300"),l(Pt,"class","font-mono font-bold text-gray-300"),l(At,"class","font-mono text-gray-300"),l(Bt,"class","font-mono font-bold text-gray-300"),l(zt,"class","font-mono text-gray-300"),l(Lt,"class","font-mono font-bold text-gray-300"),l(Ut,"class","font-mono text-gray-300"),l(jt,"class","font-mono font-bold text-gray-300"),l(xt,"class","font-mono text-gray-300"),l($t,"class","font-mono font-bold text-gray-300"),l(Ft,"class","font-mono text-gray-300"),l(M,"class","w-[15rem] md:w-[29rem] h-3/4"),l(gt,"type","button"),l(gt,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),l(Dt,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),l(pt,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),l(te,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(n,"id","scrollable"),l(n,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),l(It,"type","checkbox"),l(It,"class",il=He(a[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(St,"type","checkbox"),l(St,"class",cl=He(a[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(Tt,"type","checkbox"),l(Tt,"class",ul=He(a[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(lt,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),l(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(q,ce){R(q,e,ce),Be&&Be.m(e,null),o(e,t),o(e,r),o(r,n),o(n,i),o(i,s),o(s,c),o(s,g),o(s,v),o(s,b),o(s,m),o(s,N),o(s,C),o(i,D),o(i,I),o(I,H),o(H,j),o(i,J),o(i,ne),Ye(le,ne,null),o(n,O),o(n,A),o(A,L),Ye(Y,L,null),o(A,Ie),o(A,G),o(G,re),o(re,Ae),o(G,V),o(G,X),o(A,fe),o(A,pe),o(pe,me),o(me,$e),o(pe,de),o(pe,ee),o(A,ze),o(A,Ce),o(Ce,ye),o(ye,Ne),o(Ce,Pe),o(Ce,he),o(A,ae),o(A,be),o(be,Se),o(Se,se),o(be,Q),o(be,U),o(n,B),o(n,te),o(te,M),o(M,K),o(K,oe),o(K,je),o(M,De),o(M,x),o(M,ge),o(M,ve),o(ve,Z),o(Z,We),o(ve,tt),o(ve,Ve),o(Ve,Me),o(M,Oe),o(M,Re),o(Re,et),o(et,dt),o(Re,ot),o(Re,st),o(st,wt),o(M,Mt),o(M,nt),o(nt,Pt),o(Pt,Sl),o(nt,Tl),o(nt,At),o(At,ll),o(M,Ol),o(M,kt),o(kt,Bt),o(Bt,Cl),o(kt,Vl),o(kt,zt),o(zt,rl),o(M,Ml),o(M,Et),o(Et,Lt),o(Lt,Pl),o(Et,Al),o(Et,Ut),o(Ut,ol),o(M,Bl),o(M,yt),o(yt,jt),o(jt,zl),o(yt,Ll),o(yt,xt),o(xt,nl),o(M,Ul),o(M,Nt),o(Nt,$t),o($t,jl),o(Nt,xl),o(Nt,Ft),o(Ft,al),o(te,$l),o(te,pt),o(pt,gt),o(gt,Fl),o(pt,Wl),o(pt,Dt),o(Dt,Xt),o(Xt,sl),o(r,Hl),o(r,lt),o(lt,It),o(lt,Rl),o(lt,St),o(lt,Kl),o(lt,Tt),we=!0,ql||(Xl=[P(c,"change",a[16]),P(v,"change",a[17]),P(m,"change",a[18]),P(C,"change",a[19]),P(H,"click",a[20]),P(X,"change",a[23]),P(ee,"change",a[24]),P(he,"change",a[25]),P(U,"change",a[26]),P(gt,"click",a[6]),P(Dt,"click",a[7]),P(n,"click",rt(a[10])),P(n,"keydown",rt(a[11])),P(It,"change",a[27]),P(St,"change",a[28]),P(Tt,"change",a[29]),P(lt,"click",rt(a[8])),P(lt,"keydown",rt(a[9])),P(e,"click",a[6]),P(e,"keydown",a[6])],ql=!0)},p(q,[ce]){q[2]?Be?(Be.p(q,ce),ce&4&&ie(Be,1)):(Be=Hr(q),Be.c(),ie(Be,1),Be.m(e,t)):Be&&(Ot(),_e(Be,1,1,()=>{Be=null}),Ct()),(!we||ce&1&&f!==(f=q[0].turbineName)&&c.value!==f)&&(c.value=f),(!we||ce&2)&&(c.disabled=q[1]),(!we||ce&1&&_!==(_=q[0].turbineNumber)&&v.value!==_)&&(v.value=_),(!we||ce&1&&w!==(w=q[0].description)&&m.value!==w)&&(m.value=w),(!we||ce&1&&k!==(k=q[0].odlNumber)&&C.value!==k)&&(C.value=k),(!we||ce&1&&W!==(W=q[0].operation.length>0?q[0].operation.join(", "):"")&&j.value!==W)&&(j.value=W),(!we||ce&1&&Te!==(Te=q[0].startingDateEEMM!==void 0?q[0].startingDateEEMM:""))&&(X.value=Te),(!we||ce&1&&Ee!==(Ee=q[0].startingDateOOCC!==void 0?q[0].startingDateOOCC:""))&&(ee.value=Ee),(!we||ce&1&&Le!==(Le=q[0].permittingDate!==void 0?q[0].permittingDate:""))&&(he.value=Le),(!we||ce&1&&z!==(z=q[0].priorNotification!==void 0?q[0].priorNotification:""))&&(U.value=z),(!we||ce&2)&&Ue!==(Ue=q[1]?"modifica":"creazione")&&ue(je,Ue),(!we||ce&1)&&Fe!==(Fe=q[0].turbineNumber+"")&&ue(Me,Fe),(!we||ce&1)&&ht!==(ht=q[0].turbineName+"")&&ue(wt,ht),(!we||ce&1)&&qt!==(qt=q[0].description+"")&&ue(ll,qt),(!we||ce&1)&&Yt!==(Yt=(q[0].odlNumber||"N/A")+"")&&ue(rl,Yt),(!we||ce&1)&&Gt!==(Gt=q[0].operation+"")&&ue(ol,Gt),(!we||ce&1)&&Jt!==(Jt=q[0].power+"")&&ue(nl,Jt),(!we||ce&1)&&Qt!==(Qt=q[0].turbineState+"")&&ue(al,Qt),(!we||ce&2)&&Zt!==(Zt=q[1]?"Modifica":"Crea")&&ue(sl,Zt),(!we||ce&16&&il!==(il=He(q[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(It,"class",il),(!we||ce&16&&cl!==(cl=He(q[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(St,"class",cl),(!we||ce&16&&ul!==(ul=He(q[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Tt,"class",ul)},i(q){we||(ie(Be),ie(le.$$.fragment,q),ie(Y.$$.fragment,q),at(()=>{mt||(mt=Il(n,ut,{duration:150},!0)),mt.run(1)}),we=!0)},o(q){_e(Be),_e(le.$$.fragment,q),_e(Y.$$.fragment,q),mt||(mt=Il(n,ut,{duration:150},!1)),mt.run(0),we=!1},d(q){q&&u(e),Be&&Be.d(),Ge(le),Ge(Y),q&&mt&&mt.end(),ql=!1,Ze(Xl)}}}function en(a,e,t){let{isEditMode:r=!1}=e,{windfarm:n={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const i=ft();let s=!1,c=[];Jl(()=>{t(3,c=Object.values(Wo).map(V=>({name:V,isSelected:!1})))});let f=0;function g(){const V=document.getElementById("scrollable");let X=0;V!=null&&(f===1?window.innerWidth<768?X=V.scrollWidth/3:X=V.scrollWidth/2:f===2&&(X=V.scrollWidth),V.scrollTo({left:X,behavior:"smooth"}))}const v=()=>{i("close")},_=()=>{if(n.turbineName===""||n.description===""||n.operation.length===0){console.log("Cannot submit missing required fields");return}r?Eo(n).then(V=>{V!==void 0&&V.status===200&&i("updated")}):ko(n).then(V=>{V!==void 0&&V.status===200&&i("created")})};function b(V){_t.call(this,a,V)}function m(V){_t.call(this,a,V)}function w(V){_t.call(this,a,V)}function N(V){_t.call(this,a,V)}const C=()=>{t(2,s=!1)},k=V=>{t(3,c=V.detail),t(0,n.operation=c.filter(X=>X.isSelected).map(X=>X.name),n),t(2,s=!1)},D=()=>{t(2,s=!1)},I=()=>{t(2,s=!1)},H=V=>{t(0,n.turbineName=V.target.value,n)},j=V=>{t(0,n.turbineNumber=V.target.value,n)},W=V=>{t(0,n.description=V.target.value,n)},J=V=>{t(0,n.odlNumber=V.target.value,n)},ne=()=>{t(2,s=!s)},le=V=>t(0,n.power=V.detail,n),O=V=>t(0,n.turbineState=V.detail,n),A=V=>{t(0,n.startingDateEEMM=V.target.value,n)},L=V=>{t(0,n.startingDateOOCC=V.target.value,n)},Y=V=>{t(0,n.permittingDate=V.target.value,n)},Ie=V=>{t(0,n.priorNotification=V.target.value,n)},G=()=>{t(4,f=0),g()},re=()=>{t(4,f=1),g()},Ae=()=>{t(4,f=2),g()};return a.$$set=V=>{"isEditMode"in V&&t(1,r=V.isEditMode),"windfarm"in V&&t(0,n=V.windfarm)},[n,r,s,c,f,g,v,_,b,m,w,N,C,k,D,I,H,j,W,J,ne,le,O,A,L,Y,Ie,G,re,Ae]}class eo extends Je{constructor(e){super(),Qe(this,e,en,Zo,Xe,{isEditMode:1,windfarm:0})}}function tn(a){let e,t;return e=new eo({props:{windfarm:a[0],isEditMode:!0}}),e.$on("close",a[1]),e.$on("updated",a[2]),{c(){Ke(e.$$.fragment)},l(r){qe(e.$$.fragment,r)},m(r,n){Ye(e,r,n),t=!0},p(r,[n]){const i={};n&1&&(i.windfarm=r[0]),e.$set(i)},i(r){t||(ie(e.$$.fragment,r),t=!0)},o(r){_e(e.$$.fragment,r),t=!1},d(r){Ge(e,r)}}}function ln(a,e,t){let{turbine:r}=e;const n=ft(),i=()=>{n("close")},s=()=>{n("updated")};return a.$$set=c=>{"turbine"in c&&t(0,r=c.turbine)},[r,i,s]}class rn extends Je{constructor(e){super(),Qe(this,e,ln,tn,Xe,{turbine:0})}}function on(a){let e,t;return e=new eo({props:{isEditMode:!1}}),e.$on("close",a[0]),e.$on("created",a[1]),{c(){Ke(e.$$.fragment)},l(r){qe(e.$$.fragment,r)},m(r,n){Ye(e,r,n),t=!0},p:ke,i(r){t||(ie(e.$$.fragment,r),t=!0)},o(r){_e(e.$$.fragment,r),t=!1},d(r){Ge(e,r)}}}function nn(a){const e=ft();return[()=>{e("close")},()=>{e("created")}]}class an extends Je{constructor(e){super(),Qe(this,e,nn,on,Xe,{})}}function Rr(a,e,t){const r=a.slice();return r[5]=e[t],r}function sn(a){let e,t=[],r=new Map,n,i=a[4];const s=c=>c[5].id;for(let c=0;c<i.length;c+=1){let f=Rr(a,i,c),g=s(f);r.set(g,t[c]=Kr(g,f))}return{c(){e=h("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=p(c,"DIV",{class:!0});var f=d(e);for(let g=0;g<t.length;g+=1)t[g].l(f);f.forEach(u),this.h()},h(){l(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(c,f){R(c,e,f);for(let g=0;g<t.length;g+=1)t[g].m(e,null);n=!0},p(c,f){f&1040&&(i=c[4],Ot(),t=Ql(t,f,s,1,c,i,r,e,oo,Kr,null,Rr),Ct())},i(c){if(!n){for(let f=0;f<i.length;f+=1)ie(t[f]);n=!0}},o(c){for(let f=0;f<t.length;f+=1)_e(t[f]);n=!1},d(c){c&&u(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function cn(a){let e,t,r,n,i;return{c(){e=h("div"),t=h("div"),r=E(),n=h("p"),i=S("Caricamento in corso..."),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);t=p(c,"DIV",{class:!0}),d(t).forEach(u),r=y(c),n=p(c,"P",{class:!0});var f=d(n);i=T(f,"Caricamento in corso..."),f.forEach(u),c.forEach(u),this.h()},h(){l(t,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),l(n,"class","mt-4 text-xl font-bold font-mono"),l(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(s,c){R(s,e,c),o(e,t),o(e,r),o(e,n),o(n,i)},p:ke,i:ke,o:ke,d(s){s&&u(e)}}}function Kr(a,e){let t,r,n;return r=new bo({props:{turbine:e[5]}}),r.$on("showDetails",e[10]),{key:a,first:null,c(){t=ct(),Ke(r.$$.fragment),this.h()},l(i){t=ct(),qe(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){R(i,t,s),Ye(r,i,s),n=!0},p(i,s){e=i;const c={};s&16&&(c.turbine=e[5]),r.$set(c)},i(i){n||(ie(r.$$.fragment,i),n=!0)},o(i){_e(r.$$.fragment,i),n=!1},d(i){i&&u(t),Ge(r,i)}}}function qr(a){let e,t,r,n,i;return t=new Fo({props:{turbine:a[5]}}),t.$on("closeDetails",a[11]),t.$on("editMode",a[13]),t.$on("deleted",a[12]),{c(){e=h("div"),Ke(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);qe(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){R(s,e,c),Ye(t,e,null),r=!0,n||(i=[P(e,"click",a[11]),P(e,"keydown",a[11])],n=!0)},p(s,c){const f={};c&32&&(f.turbine=s[5]),t.$set(f)},i(s){r||(ie(t.$$.fragment,s),r=!0)},o(s){_e(t.$$.fragment,s),r=!1},d(s){s&&u(e),Ge(t),n=!1,Ze(i)}}}function Yr(a){let e,t,r,n,i;return t=new rn({props:{turbine:a[5]}}),t.$on("close",a[21]),t.$on("updated",a[16]),{c(){e=h("div"),Ke(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);qe(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){R(s,e,c),Ye(t,e,null),r=!0,n||(i=[P(e,"click",a[11]),P(e,"keydown",a[11])],n=!0)},p(s,c){const f={};c&32&&(f.turbine=s[5]),t.$set(f)},i(s){r||(ie(t.$$.fragment,s),r=!0)},o(s){_e(t.$$.fragment,s),r=!1},d(s){s&&u(e),Ge(t),n=!1,Ze(i)}}}function Gr(a){let e,t,r,n,i;return t=new an({}),t.$on("close",a[22]),t.$on("created",a[15]),{c(){e=h("div"),Ke(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var c=d(e);qe(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){R(s,e,c),Ye(t,e,null),r=!0,n||(i=[P(e,"click",a[11]),P(e,"keydown",a[11])],n=!0)},p:ke,i(s){r||(ie(t.$$.fragment,s),r=!0)},o(s){_e(t.$$.fragment,s),r=!1},d(s){s&&u(e),Ge(t),n=!1,Ze(i)}}}function un(a){let e,t,r,n,i,s,c,f,g,v,_,b,m,w,N,C,k,D,I,H,j,W,J,ne,le,O,A,L,Y,Ie,G,re,Ae,V,X,Te,fe,pe,me,$e,de,ee,Ee,ze,Ce,ye,Ne,Pe,he,Le;const ae=[cn,sn],be=[];function Se(z,B){return z[0].length===0?0:1}ee=Se(a),Ee=be[ee]=ae[ee](a);let se=a[6]&&qr(a),Q=a[7]&&Yr(a),U=a[8]&&Gr(a);return{c(){e=h("div"),t=h("section"),r=h("div"),n=h("input"),i=E(),s=h("input"),c=E(),f=h("div"),g=h("select"),v=h("option"),_=S("Tutte"),b=h("option"),m=S("In corso"),w=h("option"),N=S("Cantieri chiusi"),C=E(),k=h("div"),D=$("svg"),I=$("path"),H=E(),j=h("div"),W=h("p"),J=S(a[9]),ne=S(" risultati"),le=E(),O=h("div"),A=h("button"),L=$("svg"),Y=$("path"),Ie=$("polyline"),G=$("line"),re=$("line"),Ae=$("polyline"),X=E(),Te=h("button"),fe=$("svg"),pe=$("line"),me=$("line"),$e=E(),de=h("section"),Ee.c(),ze=E(),se&&se.c(),Ce=E(),Q&&Q.c(),ye=E(),U&&U.c(),this.h()},l(z){e=p(z,"DIV",{});var B=d(e);t=p(B,"SECTION",{class:!0});var te=d(t);r=p(te,"DIV",{class:!0});var M=d(r);n=p(M,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=y(M),s=p(M,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),c=y(M),f=p(M,"DIV",{class:!0});var K=d(f);g=p(K,"SELECT",{class:!0});var oe=d(g);v=p(oe,"OPTION",{});var Ue=d(v);_=T(Ue,"Tutte"),Ue.forEach(u),b=p(oe,"OPTION",{});var je=d(b);m=T(je,"In corso"),je.forEach(u),w=p(oe,"OPTION",{});var De=d(w);N=T(De,"Cantieri chiusi"),De.forEach(u),oe.forEach(u),C=y(K),k=p(K,"DIV",{class:!0});var x=d(k);D=F(x,"svg",{class:!0,xmlns:!0,viewBox:!0});var ge=d(D);I=F(ge,"path",{d:!0}),d(I).forEach(u),ge.forEach(u),x.forEach(u),K.forEach(u),M.forEach(u),te.forEach(u),H=y(B),j=p(B,"DIV",{class:!0});var ve=d(j);W=p(ve,"P",{class:!0});var Z=d(W);J=T(Z,a[9]),ne=T(Z," risultati"),Z.forEach(u),le=y(ve),O=p(ve,"DIV",{class:!0});var We=d(O);A=p(We,"BUTTON",{class:!0});var tt=d(A);L=F(tt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ve=d(L);Y=F(Ve,"path",{d:!0}),d(Y).forEach(u),Ie=F(Ve,"polyline",{points:!0}),d(Ie).forEach(u),G=F(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(G).forEach(u),re=F(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(re).forEach(u),Ae=F(Ve,"polyline",{points:!0}),d(Ae).forEach(u),Ve.forEach(u),tt.forEach(u),X=y(We),Te=p(We,"BUTTON",{class:!0});var Fe=d(Te);fe=F(Fe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Me=d(fe);pe=F(Me,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(pe).forEach(u),me=F(Me,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(me).forEach(u),Me.forEach(u),Fe.forEach(u),We.forEach(u),ve.forEach(u),$e=y(B),de=p(B,"SECTION",{class:!0});var Oe=d(de);Ee.l(Oe),ze=y(Oe),se&&se.l(Oe),Ce=y(Oe),Q&&Q.l(Oe),ye=y(Oe),U&&U.l(Oe),Oe.forEach(u),B.forEach(u),this.h()},h(){l(n,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(n,"type","text"),l(n,"id","turbineName"),l(n,"name","turbineName"),l(n,"placeholder","Cerca"),l(s,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(s,"type","text"),l(s,"id","turbineName"),l(s,"name","turbineName"),l(s,"placeholder","Anno"),v.__value="ALL",v.value=v.__value,b.__value="ONLY_INCOMPLETE",b.value=b.__value,w.__value="ONLY_COMPLETED",w.value=w.__value,l(g,"class","w-full min-w-1/2 min-w-[12rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),a[3]===void 0&&at(()=>a[20].call(g)),l(I,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(D,"class","w-6 h-6 text-white fill-current"),l(D,"xmlns","http://www.w3.org/2000/svg"),l(D,"viewBox","0 0 20 20"),l(k,"class","absolute top-2 right-2 font-bold"),l(f,"class","relative"),l(r,"class","flex flex-col md:flex-row gap-3 md:items-center font-mono"),l(t,"class","mt-5 md:ml-5"),l(W,"class","font-mono text-lg"),l(Y,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),l(Ie,"points","14 2 14 8 20 8"),l(G,"x1","16"),l(G,"y1","13"),l(G,"x2","8"),l(G,"y2","13"),l(re,"x1","16"),l(re,"y1","17"),l(re,"x2","8"),l(re,"y2","17"),l(Ae,"points","10 9 9 9 8 9"),l(L,"xmlns","http://www.w3.org/2000/svg"),l(L,"width","22"),l(L,"height","22"),l(L,"viewBox","0 0 24 24"),l(L,"fill","none"),l(L,"stroke","currentColor"),l(L,"stroke-width","2"),l(L,"stroke-linecap","round"),l(L,"stroke-linejoin","round"),l(L,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),l(A,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),A.disabled=V=a[0].length===0,l(pe,"x1","12"),l(pe,"y1","5"),l(pe,"x2","12"),l(pe,"y2","19"),l(me,"x1","5"),l(me,"y1","12"),l(me,"x2","19"),l(me,"y2","12"),l(fe,"xmlns","http://www.w3.org/2000/svg"),l(fe,"width","22"),l(fe,"height","22"),l(fe,"viewBox","0 0 24 24"),l(fe,"fill","none"),l(fe,"stroke","currentColor"),l(fe,"stroke-width","2"),l(fe,"stroke-linecap","round"),l(fe,"stroke-linejoin","round"),l(fe,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),l(Te,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),l(O,"class","justify-end flex flex-row gap-4"),l(j,"class","flex flex-row justify-between items-center mt-6 mb-4 mx-1 md:mx-6"),l(de,"class","min-h-[20rem] max-h-[20rem] md:min-h-[32rem] md:max-h-[32rem] px-2 overflow-y-scroll scrollable ring-2 ring-gray-600 rounded-sm svelte-d0a6yq")},m(z,B){R(z,e,B),o(e,t),o(t,r),o(r,n),Dl(n,a[1]),o(r,i),o(r,s),Dl(s,a[2]),o(r,c),o(r,f),o(f,g),o(g,v),o(v,_),o(g,b),o(b,m),o(g,w),o(w,N),Dr(g,a[3]),o(f,C),o(f,k),o(k,D),o(D,I),o(e,H),o(e,j),o(j,W),o(W,J),o(W,ne),o(j,le),o(j,O),o(O,A),o(A,L),o(L,Y),o(L,Ie),o(L,G),o(L,re),o(L,Ae),o(O,X),o(O,Te),o(Te,fe),o(fe,pe),o(fe,me),o(e,$e),o(e,de),be[ee].m(de,null),o(de,ze),se&&se.m(de,null),o(de,Ce),Q&&Q.m(de,null),o(de,ye),U&&U.m(de,null),Pe=!0,he||(Le=[P(n,"input",a[18]),P(s,"input",a[19]),P(g,"change",a[20]),P(A,"click",a[17]),P(Te,"click",a[14])],he=!0)},p(z,[B]){B&2&&n.value!==z[1]&&Dl(n,z[1]),B&4&&s.value!==z[2]&&Dl(s,z[2]),B&8&&Dr(g,z[3]),(!Pe||B&512)&&ue(J,z[9]),(!Pe||B&1&&V!==(V=z[0].length===0))&&(A.disabled=V);let te=ee;ee=Se(z),ee===te?be[ee].p(z,B):(Ot(),_e(be[te],1,1,()=>{be[te]=null}),Ct(),Ee=be[ee],Ee?Ee.p(z,B):(Ee=be[ee]=ae[ee](z),Ee.c()),ie(Ee,1),Ee.m(de,ze)),z[6]?se?(se.p(z,B),B&64&&ie(se,1)):(se=qr(z),se.c(),ie(se,1),se.m(de,Ce)):se&&(Ot(),_e(se,1,1,()=>{se=null}),Ct()),z[7]?Q?(Q.p(z,B),B&128&&ie(Q,1)):(Q=Yr(z),Q.c(),ie(Q,1),Q.m(de,ye)):Q&&(Ot(),_e(Q,1,1,()=>{Q=null}),Ct()),z[8]?U?(U.p(z,B),B&256&&ie(U,1)):(U=Gr(z),U.c(),ie(U,1),U.m(de,null)):U&&(Ot(),_e(U,1,1,()=>{U=null}),Ct())},i(z){Pe||(ie(Ee),ie(se),ie(Q),ie(U),at(()=>{Ne||(Ne=Il(e,ut,{duration:200},!0)),Ne.run(1)}),Pe=!0)},o(z){_e(Ee),_e(se),_e(Q),_e(U),Ne||(Ne=Il(e,ut,{duration:200},!1)),Ne.run(0),Pe=!1},d(z){z&&u(e),be[ee].d(),se&&se.d(),Q&&Q.d(),U&&U.d(),z&&Ne&&Ne.end(),he=!1,Ze(Le)}}}function dn(a,e,t){let r,n,i=!1,s={},c=[];Jl(()=>{el().then(O=>{t(0,c=O)})});const f=O=>{const A=O.detail;t(5,s=c.find(L=>L.id===A)),t(6,i=!0),t(7,_=!1)},g=()=>{el().then(O=>{t(0,c=O),t(6,i=!1)})},v=()=>{t(6,i=!1),el().then(O=>{t(0,c=O)})};let _=!1;const b=O=>{const A=O.detail;t(5,s=c.find(L=>L.id===A)),t(6,i=!1),t(7,_=!0)};let m=!1;const w=()=>{t(8,m=!0),t(6,i=!1),t(7,_=!1)},N=()=>{t(8,m=!1),t(6,i=!1),t(7,_=!1),el().then(O=>{console.log("Updating with: ",O),t(0,c=O)})},C=()=>{el().then(O=>{t(0,c=O),t(7,_=!1)})},k=()=>{c.length>0&&yo().then(O=>{const A=new Blob([O.data],{type:"text/csv"}),L=window.URL.createObjectURL(A),Y=document.createElement("a");Y.href=L,Y.download="export.csv",Y.click()})};let D="",I="",H="ALL";function j(){D=this.value,t(1,D)}function W(){I=this.value,t(2,I)}function J(){H=ro(this),t(3,H)}const ne=()=>t(7,_=!1),le=()=>t(8,m=!1);return a.$$.update=()=>{a.$$.dirty&15&&t(4,r=c.filter(O=>(O.description.toLowerCase().includes(D.toLowerCase())||O.turbineName.toLowerCase().includes(D.toLowerCase())||O.turbineNumber.toLowerCase().includes(D.toLowerCase()))&&O.creationDate.includes(I)&&(H==="ALL"||H==="ONLY_INCOMPLETE"&&!O.completionDate||H==="ONLY_COMPLETED"&&O.completionDate))),a.$$.dirty&16&&t(9,n=r.length)},[c,D,I,H,r,s,i,_,m,n,f,g,v,b,w,N,C,k,j,W,J,ne,le]}class pn extends Je{constructor(e){super(),Qe(this,e,dn,un,Xe,{})}}export{pn as default};
