import{P as Zr,S as Ze,i as et,s as tt,k as f,q as S,a as y,E as F,l as h,m as d,r as T,c as N,h as c,F as W,n as l,p as Nr,b as q,C as o,G as V,O as Gl,u as ne,Q as st,R as kt,B as we,H as qe,D as gt,e as Et,T as eo,U as Dr,V as to,o as Jl,W as Ql,X as Gr,w as Ge,x as Je,y as Qe,Y as ot,f as de,g as Vt,t as Ee,d as Pt,z as Xe,Z as wt,_ as He,$ as Tl,a0 as Il,a1 as Ir,a2 as lo,a3 as ro}from"../../../chunks/index-6db6588e.js";import{a as At}from"../../../chunks/axios-67252f11.js";function oo(s){const e=s-1;return e*e*e+1}function Jr(s,{delay:e=0,duration:t=400,easing:r=Zr}={}){const n=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:r,css:u=>`opacity: ${u*n}`}}function dt(s,{delay:e=0,duration:t=400,easing:r=oo}={}){const n=getComputedStyle(s),u=+n.opacity,a=parseFloat(n.height),i=parseFloat(n.paddingTop),p=parseFloat(n.paddingBottom),m=parseFloat(n.marginTop),v=parseFloat(n.marginBottom),w=parseFloat(n.borderTopWidth),_=parseFloat(n.borderBottomWidth);return{delay:e,duration:t,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*u};height: ${g*a}px;padding-top: ${g*i}px;padding-bottom: ${g*p}px;margin-top: ${g*m}px;margin-bottom: ${g*v}px;border-top-width: ${g*w}px;border-bottom-width: ${g*_}px;`}}const Sl={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Sr(s){let e,t,r=s[0].turbineNumber+"",n;return{c(){e=f("span"),t=S("- "),n=S(r),this.h()},l(u){e=h(u,"SPAN",{class:!0});var a=d(e);t=T(a,"- "),n=T(a,r),a.forEach(c),this.h()},h(){l(e,"class","hidden md:inline-block")},m(u,a){q(u,e,a),o(e,t),o(e,n)},p(u,a){a&1&&r!==(r=u[0].turbineNumber+"")&&ne(n,r)},d(u){u&&c(e)}}}function no(s){let e,t;return{c(){e=f("span"),t=S("Cantiere chiuso"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);t=T(n,"Cantiere chiuso"),n.forEach(c),this.h()},h(){l(e,"class","absolute font-bold text-lg flex px-1")},m(r,n){q(r,e,n),o(e,t)},p:we,d(r){r&&c(e)}}}function so(s){let e,t;return{c(){e=f("span"),t=S(s[1]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);t=T(n,s[1]),n.forEach(c),this.h()},h(){l(e,"class","absolute font-bold text-lg flex px-1")},m(r,n){q(r,e,n),o(e,t)},p(r,n){n&2&&ne(t,r[1])},d(r){r&&c(e)}}}function ao(s){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(c),this.h()},h(){l(e,"class","hidden md:flex")},m(t,r){q(t,e,r)},p:we,d(t){t&&c(e)}}}function io(s){let e,t;return{c(){e=f("span"),t=S(s[5]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);t=T(n,s[5]),n.forEach(c),this.h()},h(){l(e,"class","flex md:justify-end md:mr-5")},m(r,n){q(r,e,n),o(e,t)},p(r,n){n&32&&ne(t,r[5])},d(r){r&&c(e)}}}function co(s){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(c),this.h()},h(){l(e,"class","hidden md:flex col-span-2")},m(t,r){q(t,e,r)},p:we,d(t){t&&c(e)}}}function uo(s){let e,t,r,n=s[0].odlNumber+"",u;return{c(){e=f("p"),t=S("ODL: "),r=f("span"),u=S(n),this.h()},l(a){e=h(a,"P",{class:!0});var i=d(e);t=T(i,"ODL: "),r=h(i,"SPAN",{class:!0});var p=d(r);u=T(p,n),p.forEach(c),i.forEach(c),this.h()},h(){l(r,"class","text-blue-400"),l(e,"class","flex md:justify-end")},m(a,i){q(a,e,i),o(e,t),o(e,r),o(r,u)},p(a,i){i&1&&n!==(n=a[0].odlNumber+"")&&ne(u,n)},d(a){a&&c(e)}}}function Tr(s){let e,t,r=s[0].operation[0]+"",n,u,a;return{c(){e=f("div"),t=f("p"),n=S(r),this.h()},l(i){e=h(i,"DIV",{class:!0});var p=d(e);t=h(p,"P",{});var m=d(t);n=T(m,r),m.forEach(c),p.forEach(c),this.h()},h(){l(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 left-10 cursor-default")},m(i,p){q(i,e,p),o(e,t),o(t,n),u||(a=[V(e,"mouseover",s[7]),V(e,"focus",s[8]),V(e,"mouseleave",s[9]),V(e,"focusout",s[10])],u=!0)},p(i,p){p&1&&r!==(r=i[0].operation[0]+"")&&ne(n,r)},d(i){i&&c(e),u=!1,qe(a)}}}function fo(s){let e,t;return{c(){e=f("span"),t=S("Non disponibile"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);t=T(n,"Non disponibile"),n.forEach(c),this.h()},h(){l(e,"class","hidden md:flex font-mono font-bold text-end")},m(r,n){q(r,e,n),o(e,t)},p:we,d(r){r&&c(e)}}}function ho(s){let e,t;return{c(){e=f("span"),t=S(s[4]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);t=T(n,s[4]),n.forEach(c),this.h()},h(){l(e,"class","hidden md:flex font-mono font-bold text-end")},m(r,n){q(r,e,n),o(e,t)},p(r,n){n&16&&ne(t,r[4])},d(r){r&&c(e)}}}function po(s){let e,t,r,n,u=s[0].turbineName+"",a,i,p,m,v,w,_,g,b,k,O,E,D,I,x,j=s[0].description+"",H,J,te,R,C,U,z,le,ye,G,se,Le,M,X=s[0].turbineState+"",Me,ge,ae,Se,We,Z,ie,be=(s[4]||"N/A")+"",xe,Ae,Ne,me,Be,fe,ve,Oe,pe,Ve,re,he,A=s[0].turbineNumber&&Sr(s);function B(L,ce){return L[1]?so:no}let $=B(s),K=$(s);function P(L,ce){return L[5]!==null&&L[5]!==void 0?io:ao}let Q=P(s),_e=Q(s);function Ue(L,ce){return L[0].odlNumber!==void 0&&L[0].odlNumber!==0?uo:co}let $e=Ue(s),De=$e(s),oe=s[2]&&Tr(s);function lt(L,ce){return L[4]?ho:fo}let Ce=lt(s),Ie=Ce(s);return{c(){e=f("div"),t=f("div"),r=f("div"),n=f("h1"),a=S(u),i=y(),A&&A.c(),p=y(),m=f("div"),v=f("div"),w=f("div"),_=y(),K.c(),g=y(),_e.c(),b=y(),k=f("div"),O=F("svg"),E=F("path"),D=F("circle"),I=y(),x=f("span"),H=S(j),J=y(),De.c(),te=y(),R=f("div"),C=F("svg"),U=F("path"),z=F("rect"),le=y(),oe&&oe.c(),ye=y(),G=f("span"),se=S(s[3]),Le=y(),M=f("span"),Me=S(X),ge=y(),ae=f("span"),Se=S("Scadenza cantiere:"),We=y(),Z=f("span"),ie=S("Scadenza: "),xe=S(be),Ae=y(),Ie.c(),Ne=y(),me=f("div"),Be=f("div"),fe=f("button"),ve=F("svg"),Oe=F("circle"),pe=F("line"),this.h()},l(L){e=h(L,"DIV",{class:!0});var ce=d(e);t=h(ce,"DIV",{class:!0});var Pe=d(t);r=h(Pe,"DIV",{class:!0});var ee=d(r);n=h(ee,"H1",{class:!0});var Te=d(n);a=T(Te,u),i=N(Te),A&&A.l(Te),Te.forEach(c),p=N(ee),m=h(ee,"DIV",{class:!0});var je=d(m);v=h(je,"DIV",{class:!0});var Re=d(v);w=h(Re,"DIV",{class:!0,style:!0}),d(w).forEach(c),_=N(Re),K.l(Re),Re.forEach(c),je.forEach(c),g=N(ee),_e.l(ee),b=N(ee),k=h(ee,"DIV",{class:!0});var Ke=d(k);O=W(Ke,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var at=d(O);E=W(at,"path",{d:!0}),d(E).forEach(c),D=W(at,"circle",{cx:!0,cy:!0,r:!0}),d(D).forEach(c),at.forEach(c),I=N(Ke),x=h(Ke,"SPAN",{});var nt=d(x);H=T(nt,j),nt.forEach(c),Ke.forEach(c),J=N(ee),De.l(ee),te=N(ee),R=h(ee,"DIV",{class:!0});var Ye=d(R);C=W(Ye,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ft=d(C);U=W(ft,"path",{d:!0}),d(U).forEach(c),z=W(ft,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(z).forEach(c),ft.forEach(c),le=N(Ye),oe&&oe.l(Ye),ye=N(Ye),G=h(Ye,"SPAN",{class:!0});var yt=d(G);se=T(yt,s[3]),yt.forEach(c),Ye.forEach(c),Le=N(ee),M=h(ee,"SPAN",{class:!0});var Bt=d(M);Me=T(Bt,X),Bt.forEach(c),ge=N(ee),ae=h(ee,"SPAN",{class:!0});var it=d(ae);Se=T(it,"Scadenza cantiere:"),it.forEach(c),We=N(ee),Z=h(ee,"SPAN",{class:!0});var ct=d(Z);ie=T(ct,"Scadenza: "),xe=T(ct,be),ct.forEach(c),Ae=N(ee),Ie.l(ee),ee.forEach(c),Ne=N(Pe),me=h(Pe,"DIV",{class:!0});var zt=d(me);Be=h(zt,"DIV",{class:!0});var Lt=d(Be);fe=h(Lt,"BUTTON",{class:!0});var ht=d(fe);ve=W(ht,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var pt=d(ve);Oe=W(pt,"circle",{cx:!0,cy:!0,r:!0}),d(Oe).forEach(c),pe=W(pt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(pe).forEach(c),pt.forEach(c),ht.forEach(c),Lt.forEach(c),zt.forEach(c),Pe.forEach(c),ce.forEach(c),this.h()},h(){l(n,"class","font-bold text-4xl mt-3 col-span-1 md:col-span-2"),l(w,"class","bg-blue-500 h-full transition duration-300 ease-in-out transform"),Nr(w,"width",s[0].completedSteps*12.5+"%"),l(v,"class","flex bg-gray-600 h-7 rounded-sm overflow-hidden"),l(m,"class","flex flex-col gap-1"),l(E,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),l(D,"cx","12"),l(D,"cy","10"),l(D,"r","3"),l(O,"xmlns","http://www.w3.org/2000/svg"),l(O,"width","24"),l(O,"height","24"),l(O,"viewBox","0 0 24 24"),l(O,"fill","none"),l(O,"stroke","currentColor"),l(O,"stroke-width","2"),l(O,"stroke-linecap","round"),l(O,"stroke-linejoin","round"),l(O,"class","feather feather-map-pin"),l(k,"class","flex gap-2 -mb-2"),l(U,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),l(z,"x","8"),l(z,"y","2"),l(z,"width","8"),l(z,"height","4"),l(z,"rx","1"),l(z,"ry","1"),l(C,"xmlns","http://www.w3.org/2000/svg"),l(C,"width","24"),l(C,"height","24"),l(C,"viewBox","0 0 24 24"),l(C,"fill","none"),l(C,"stroke","currentColor"),l(C,"stroke-width","2"),l(C,"stroke-linecap","round"),l(C,"stroke-linejoin","round"),l(C,"class","feather feather-clipboard"),l(G,"class","flex select-none"),l(R,"class","flex gap-2"),l(M,"class","flex md:justify-end font-bold"),l(ae,"class","font-mono hidden md:flex"),l(Z,"class","font-mono flex md:hidden"),l(r,"class","grid grid-cols-1 text-white font-mono gap-3"),l(Oe,"cx","11"),l(Oe,"cy","11"),l(Oe,"r","8"),l(pe,"x1","21"),l(pe,"y1","21"),l(pe,"x2","16.65"),l(pe,"y2","16.65"),l(ve,"xmlns","http://www.w3.org/2000/svg"),l(ve,"width","20"),l(ve,"height","20"),l(ve,"viewBox","0 0 24 24"),l(ve,"fill","none"),l(ve,"stroke","currentColor"),l(ve,"stroke-width","2"),l(ve,"stroke-linecap","round"),l(ve,"stroke-linejoin","round"),l(ve,"class","feather feather-search"),l(fe,"class","bg-gray-700 hover:bg-gray-600 py-2 px-4 rounded-sm"),l(Be,"class","flex flex-col md:flex-row gap-2 md:gap-0"),l(me,"class","absolute top-0 right-0 mr-5 mt-5"),l(t,"class","bg-gray-800 px-4 my-2 mx-2 md:mx-0 rounded-sm shadow-md hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto md:h-56 pb-5 content-start group"),l(e,"class","snap-start pt-1")},m(L,ce){q(L,e,ce),o(e,t),o(t,r),o(r,n),o(n,a),o(n,i),A&&A.m(n,null),o(r,p),o(r,m),o(m,v),o(v,w),o(v,_),K.m(v,null),o(r,g),_e.m(r,null),o(r,b),o(r,k),o(k,O),o(O,E),o(O,D),o(k,I),o(k,x),o(x,H),o(r,J),De.m(r,null),o(r,te),o(r,R),o(R,C),o(C,U),o(C,z),o(R,le),oe&&oe.m(R,null),o(R,ye),o(R,G),o(G,se),o(r,Le),o(r,M),o(M,Me),o(r,ge),o(r,ae),o(ae,Se),o(r,We),o(r,Z),o(Z,ie),o(Z,xe),o(r,Ae),Ie.m(r,null),o(t,Ne),o(t,me),o(me,Be),o(Be,fe),o(fe,ve),o(ve,Oe),o(ve,pe),re||(he=[V(R,"mouseover",s[11]),V(R,"focus",s[12]),V(R,"mouseleave",s[13]),V(R,"focusout",s[14]),V(fe,"click",Gl(s[6]))],re=!0)},p(L,[ce]){ce&1&&u!==(u=L[0].turbineName+"")&&ne(a,u),L[0].turbineNumber?A?A.p(L,ce):(A=Sr(L),A.c(),A.m(n,null)):A&&(A.d(1),A=null),ce&1&&Nr(w,"width",L[0].completedSteps*12.5+"%"),$===($=B(L))&&K?K.p(L,ce):(K.d(1),K=$(L),K&&(K.c(),K.m(v,null))),Q===(Q=P(L))&&_e?_e.p(L,ce):(_e.d(1),_e=Q(L),_e&&(_e.c(),_e.m(r,b))),ce&1&&j!==(j=L[0].description+"")&&ne(H,j),$e===($e=Ue(L))&&De?De.p(L,ce):(De.d(1),De=$e(L),De&&(De.c(),De.m(r,te))),L[2]?oe?oe.p(L,ce):(oe=Tr(L),oe.c(),oe.m(R,ye)):oe&&(oe.d(1),oe=null),ce&8&&ne(se,L[3]),ce&1&&X!==(X=L[0].turbineState+"")&&ne(Me,X),ce&16&&be!==(be=(L[4]||"N/A")+"")&&ne(xe,be),Ce===(Ce=lt(L))&&Ie?Ie.p(L,ce):(Ie.d(1),Ie=Ce(L),Ie&&(Ie.c(),Ie.m(r,null)))},i(L){Ve||st(()=>{Ve=kt(t,dt,{duration:1e3}),Ve.start()})},o:we,d(L){L&&c(e),A&&A.d(),K.d(),_e.d(),De.d(),oe&&oe.d(),Ie.d(),re=!1,qe(he)}}}function go(s,e,t){let r,n,u,a,{turbine:i={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const p=gt(),m=()=>{p("showDetails",i.id)};let v=!1;const w=()=>t(2,v=!0),_=()=>t(2,v=!0),g=()=>t(2,v=!1),b=()=>t(2,v=!1),k=()=>t(2,v=!0),O=()=>t(2,v=!0),E=()=>t(2,v=!1),D=()=>t(2,v=!1);return s.$$set=I=>{"turbine"in I&&t(0,i=I.turbine)},s.$$.update=()=>{s.$$.dirty&1&&t(1,r=i.creationDate.includes("2022")?Sl[i.completedSteps+2]:Sl[i.completedSteps+1]),s.$$.dirty&3&&t(5,n=r===Sl[3]?i.priorNotification:r===Sl[4]?i.permittingDate:null),s.$$.dirty&1&&t(4,u=i.permittingDate?new Date(new Date(i.permittingDate).getTime()+90*24*60*60*1e3).toLocaleDateString("it-IT"):null),s.$$.dirty&1&&t(3,a=i.operation[0]?i.operation[0].length>16?i.operation[0].substring(0,14)+"...":i.operation[0]:"")},[i,r,v,a,u,n,m,w,_,g,b,k,O,E,D]}class mo extends Ze{constructor(e){super(),et(this,e,go,po,tt,{turbine:0})}}const ll="https://dockyard-handler.herokuapp.com/v1.0.0";async function tl(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await At.get(ll+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function vo(s){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await At.delete(ll+"/event?eventId="+s,t)}else console.log("Token not found in local storage")}async function _o(s){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await At.post(ll+"/event",s,t)}else console.log("Token not found in local storage")}async function bo(s){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(s)),await At.put(ll+"/event",s,t)}else console.log("Token not found in local storage")}async function wo(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await At.get(ll+"/events/csv",e)}else console.log("Token not found in local storage")}function Or(s){let e,t,r,n,u=(s[0].startingDateEEMM||"____/__/__")+"",a,i,p,m,v,w=(s[0].startingDateOOCC||"____/__/__")+"",_;return{c(){e=f("div"),t=f("p"),r=S("Inizio ATT EEMM: "),n=f("span"),a=S(u),i=y(),p=f("p"),m=S("Inizio ATT OOCC: "),v=f("span"),_=S(w),this.h()},l(g){e=h(g,"DIV",{class:!0});var b=d(e);t=h(b,"P",{class:!0});var k=d(t);r=T(k,"Inizio ATT EEMM: "),n=h(k,"SPAN",{class:!0});var O=d(n);a=T(O,u),O.forEach(c),k.forEach(c),i=N(b),p=h(b,"P",{class:!0});var E=d(p);m=T(E,"Inizio ATT OOCC: "),v=h(E,"SPAN",{class:!0});var D=d(v);_=T(D,w),D.forEach(c),E.forEach(c),b.forEach(c),this.h()},h(){l(n,"class","font-extralight"),l(t,"class","font-mono text-white text-lg"),l(v,"class","font-extralight"),l(p,"class","font-mono text-white text-lg"),l(e,"class","p-2 mb-2")},m(g,b){q(g,e,b),o(e,t),o(t,r),o(t,n),o(n,a),o(e,i),o(e,p),o(p,m),o(p,v),o(v,_)},p(g,b){b&1&&u!==(u=(g[0].startingDateEEMM||"____/__/__")+"")&&ne(a,u),b&1&&w!==(w=(g[0].startingDateOOCC||"____/__/__")+"")&&ne(_,w)},d(g){g&&c(e)}}}function ko(s){let e,t,r,n,u,a,i,p,m,v,w,_=s[1]&&Or(s);return{c(){e=f("button"),t=F("svg"),r=F("circle"),n=F("polyline"),u=y(),a=f("h1"),i=S("Tracciamento eventi"),p=y(),_&&_.c(),m=Et(),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var b=d(e);t=W(b,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var k=d(t);r=W(k,"circle",{cx:!0,cy:!0,r:!0}),d(r).forEach(c),n=W(k,"polyline",{points:!0}),d(n).forEach(c),k.forEach(c),u=N(b),a=h(b,"H1",{class:!0});var O=d(a);i=T(O,"Tracciamento eventi"),O.forEach(c),b.forEach(c),p=N(g),_&&_.l(g),m=Et(),this.h()},h(){l(r,"cx","12"),l(r,"cy","12"),l(r,"r","10"),l(n,"points","12 6 12 12 16 14"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-clock"),l(a,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(g,b){q(g,e,b),o(e,t),o(t,r),o(t,n),o(e,u),o(e,a),o(a,i),q(g,p,b),_&&_.m(g,b),q(g,m,b),v||(w=V(e,"click",Gl(s[2])),v=!0)},p(g,[b]){g[1]?_?_.p(g,b):(_=Or(g),_.c(),_.m(m.parentNode,m)):_&&(_.d(1),_=null)},i:we,o:we,d(g){g&&c(e),g&&c(p),_&&_.d(g),g&&c(m),v=!1,w()}}}function Eo(s,e,t){let{turbine:r}=e,n=!1;const u=()=>t(1,n=!n);return s.$$set=a=>{"turbine"in a&&t(0,r=a.turbine)},[r,n,u]}class yo extends Ze{constructor(e){super(),et(this,e,Eo,ko,tt,{turbine:0})}}function Cr(s,e,t){const r=s.slice();return r[3]=e[t],r}function Mr(s){let e,t,r=s[0].operation,n=[];for(let u=0;u<r.length;u+=1)n[u]=Vr(Cr(s,r,u));return{c(){e=f("div"),t=f("ul");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){e=h(u,"DIV",{class:!0});var a=d(e);t=h(a,"UL",{class:!0});var i=d(t);for(let p=0;p<n.length;p+=1)n[p].l(i);i.forEach(c),a.forEach(c),this.h()},h(){l(t,"class","font-mono text-white text-lg"),l(e,"class","p-2")},m(u,a){q(u,e,a),o(e,t);for(let i=0;i<n.length;i+=1)n[i].m(t,null)},p(u,a){if(a&1){r=u[0].operation;let i;for(i=0;i<r.length;i+=1){const p=Cr(u,r,i);n[i]?n[i].p(p,a):(n[i]=Vr(p),n[i].c(),n[i].m(t,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(u){u&&c(e),eo(n,u)}}}function Vr(s){let e,t=s[3]+"",r,n;return{c(){e=f("li"),r=S(t),n=y(),this.h()},l(u){e=h(u,"LI",{class:!0});var a=d(e);r=T(a,t),n=N(a),a.forEach(c),this.h()},h(){l(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(u,a){q(u,e,a),o(e,r),o(e,n)},p(u,a){a&1&&t!==(t=u[3]+"")&&ne(r,t)},d(u){u&&c(e)}}}function No(s){let e,t,r,n,u,a,i,p,m,v,w=s[1]&&Mr(s);return{c(){e=f("button"),t=F("svg"),r=F("path"),n=y(),u=f("h1"),a=S("Operazioni"),i=y(),w&&w.c(),p=Et(),this.h()},l(_){e=h(_,"BUTTON",{class:!0});var g=d(e);t=W(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var b=d(t);r=W(b,"path",{d:!0}),d(r).forEach(c),b.forEach(c),n=N(g),u=h(g,"H1",{class:!0});var k=d(u);a=T(k,"Operazioni"),k.forEach(c),g.forEach(c),i=N(_),w&&w.l(_),p=Et(),this.h()},h(){l(r,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-tool"),l(u,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(_,g){q(_,e,g),o(e,t),o(t,r),o(e,n),o(e,u),o(u,a),q(_,i,g),w&&w.m(_,g),q(_,p,g),m||(v=V(e,"click",Gl(s[2])),m=!0)},p(_,[g]){_[1]?w?w.p(_,g):(w=Mr(_),w.c(),w.m(p.parentNode,p)):w&&(w.d(1),w=null)},i:we,o:we,d(_){_&&c(e),_&&c(i),w&&w.d(_),_&&c(p),m=!1,v()}}}function Do(s,e,t){let{turbine:r}=e,n=!1;const u=()=>t(1,n=!n);return s.$$set=a=>{"turbine"in a&&t(0,r=a.turbine)},[r,n,u]}class Io extends Ze{constructor(e){super(),et(this,e,Do,No,tt,{turbine:0})}}const Qr="https://dockyard-handler.herokuapp.com/v1.0.0";async function Pr(s){if(console.log("Retrieving steps for event "+s),typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await At.get(Qr+"/steps/"+s,t)).data}else console.log("Token not found in local storage")}async function So(s,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await At.put(Qr+"/step/complete?stepId="+s+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function Ar(s,e,t){const r=s.slice();return r[6]=e[t],r}function To(s){return{c:we,l:we,m:we,p:we,d:we}}function Oo(s){let e=[],t=new Map,r,n=s[0];const u=a=>a[6].id;for(let a=0;a<n.length;a+=1){let i=Ar(s,n,a),p=u(i);t.set(p,e[a]=zr(p,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Et()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);r=Et()},m(a,i){for(let p=0;p<e.length;p+=1)e[p].m(a,i);q(a,r,i)},p(a,i){i&7&&(n=a[0],e=Ql(e,i,u,1,a,n,t,r.parentNode,Gr,zr,r,Ar))},d(a){for(let i=0;i<e.length;i+=1)e[i].d(a);a&&c(r)}}}function Br(s){let e,t,r,n,u,a,i;return{c(){e=f("div"),t=f("p"),r=S("Completato"),n=y(),u=F("svg"),a=F("path"),i=F("polyline"),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=d(e);t=h(m,"P",{class:!0});var v=d(t);r=T(v,"Completato"),v.forEach(c),n=N(m),u=W(m,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var w=d(u);a=W(w,"path",{d:!0}),d(a).forEach(c),i=W(w,"polyline",{points:!0}),d(i).forEach(c),w.forEach(c),m.forEach(c),this.h()},h(){l(t,"class","font-bold uppercase"),l(a,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),l(i,"points","22 4 12 14.01 9 11.01"),l(u,"xmlns","http://www.w3.org/2000/svg"),l(u,"width","22"),l(u,"height","22"),l(u,"viewBox","0 0 24 24"),l(u,"fill","none"),l(u,"stroke","currentColor"),l(u,"stroke-width","2"),l(u,"stroke-linecap","round"),l(u,"stroke-linejoin","round"),l(u,"class","feather feather-check-circle text-green-500"),l(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(p,m){q(p,e,m),o(e,t),o(t,r),o(e,n),o(e,u),o(u,a),o(u,i)},d(p){p&&c(e)}}}function zr(s,e){let t,r,n,u,a,i,p,m=e[6].name+"",v,w,_=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,g,b,k;function O(){return e[4](e[6])}let E=_&&Br();return{key:s,first:null,c(){t=f("div"),r=f("input"),a=y(),i=f("div"),p=f("p"),v=S(m),w=y(),E&&E.c(),g=y(),this.h()},l(D){t=h(D,"DIV",{class:!0});var I=d(t);r=h(I,"INPUT",{type:!0,class:!0}),a=N(I),i=h(I,"DIV",{class:!0});var x=d(i);p=h(x,"P",{});var j=d(p);v=T(j,m),j.forEach(c),x.forEach(c),w=N(I),E&&E.l(I),g=N(I),I.forEach(c),this.h()},h(){l(r,"type","checkbox"),l(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=u=e[6].complete,l(i,"class","col-span-6 text-left"),l(t,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm"),this.first=t},m(D,I){q(D,t,I),o(t,r),o(t,a),o(t,i),o(i,p),o(p,v),o(t,w),E&&E.m(t,null),o(t,g),b||(k=V(r,"click",O),b=!0)},p(D,I){e=D,I&3&&n!==(n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=n),I&1&&u!==(u=e[6].complete)&&(r.checked=u),I&1&&m!==(m=e[6].name+"")&&ne(v,m),I&3&&(_=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),_?E||(E=Br(),E.c(),E.m(t,g)):E&&(E.d(1),E=null)},d(D){D&&c(t),E&&E.d(),b=!1,k()}}}function Co(s){let e,t;return{c(){e=f("div"),t=S("Caricamento..."),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=d(e);t=T(n,"Caricamento..."),n.forEach(c),this.h()},h(){l(e,"class","col-span-7 text-center")},m(r,n){q(r,e,n),o(e,t)},p:we,d(r){r&&c(e)}}}function Mo(s){let e,t,r,n,u,a,i,p,m,v,w,_,g,b={ctx:s,current:null,token:null,hasCatch:!1,pending:Co,then:Oo,catch:To,value:0};return Dr(w=s[0],b),{c(){e=f("div"),t=f("div"),r=F("svg"),n=F("path"),u=F("path"),a=y(),i=f("h1"),p=S("Tracciamento fasi"),m=y(),v=f("div"),b.block.c(),this.h()},l(k){e=h(k,"DIV",{class:!0});var O=d(e);t=h(O,"DIV",{class:!0});var E=d(t);r=W(E,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(r);n=W(D,"path",{d:!0}),d(n).forEach(c),u=W(D,"path",{d:!0}),d(u).forEach(c),D.forEach(c),a=N(E),i=h(E,"H1",{class:!0});var I=d(i);p=T(I,"Tracciamento fasi"),I.forEach(c),E.forEach(c),m=N(O),v=h(O,"DIV",{id:!0,class:!0});var x=d(v);b.block.l(x),x.forEach(c),O.forEach(c),this.h()},h(){l(n,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),l(u,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),l(r,"xmlns","http://www.w3.org/2000/svg"),l(r,"width","24"),l(r,"height","24"),l(r,"viewBox","0 0 24 24"),l(r,"fill","none"),l(r,"stroke","currentColor"),l(r,"stroke-width","2"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"class","feather feather-link"),l(i,"class","text-center font-mono text-xl"),l(t,"class","grid justify-center place-content-center items-center grid-flow-col mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),l(v,"id","stepsContainer"),l(v,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-32 md:h-64 gap-2 scrollbar-none shadow-md mt-5 items-center"),l(e,"class","col-span-1 text-white md:ring-2 ring-gray-400 rounded-sm")},m(k,O){q(k,e,O),o(e,t),o(t,r),o(r,n),o(r,u),o(t,a),o(t,i),o(i,p),o(e,m),o(e,v),b.block.m(v,b.anchor=null),b.mount=()=>v,b.anchor=null},p(k,[O]){s=k,b.ctx=s,O&1&&w!==(w=s[0])&&Dr(w,b)||to(b,s,O)},i(k){_||st(()=>{_=kt(v,dt,{delay:500,duration:1e3}),_.start()}),g||st(()=>{g=kt(e,Jr,{delay:400,duration:1e3}),g.start()})},o:we,d(k){k&&c(e),b.block.d(),b.token=null,b=null}}}function Vo(s,e,t){let r,{turbine:n}=e,u=[];Jl(()=>{Pr(n.id).then(m=>{t(0,u=m)}),setTimeout(()=>{i()},1500)});const a=(m,v)=>{So(m,v).then(()=>{Pr(n.id).then(w=>{t(0,u=w),v?t(3,n.completedSteps+=1,n):t(3,n.completedSteps-=1,n),i()})})};function i(){const m=document.getElementById("stepsContainer"),v=9;if(m){const w=window.innerWidth<768?2:4,_=n.completedSteps-w;if(_>=0&&n.completedSteps<v){m.scrollTo({top:m.scrollHeight/v*(_+1),behavior:"smooth"});return}else if(n.completedSteps===v){setTimeout(()=>{m.scrollTo({top:0,behavior:"smooth"})},500);return}}}const p=m=>a(m.id,!m.complete);return s.$$set=m=>{"turbine"in m&&t(3,n=m.turbine)},s.$$.update=()=>{s.$$.dirty&9&&t(1,r=u[n.completedSteps])},[u,r,a,n,p]}class Po extends Ze{constructor(e){super(),et(this,e,Vo,Mo,tt,{turbine:3})}}function Ao(s){let e,t,r,n,u,a,i,p,m,v,w,_,g;return{c(){e=f("div"),t=f("p"),r=S("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),n=y(),u=f("div"),a=f("button"),i=S("Annulla"),p=y(),m=f("button"),v=S("Conferma"),this.h()},l(b){e=h(b,"DIV",{class:!0});var k=d(e);t=h(k,"P",{class:!0});var O=d(t);r=T(O,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),O.forEach(c),n=N(k),u=h(k,"DIV",{class:!0});var E=d(u);a=h(E,"BUTTON",{class:!0});var D=d(a);i=T(D,"Annulla"),D.forEach(c),p=N(E),m=h(E,"BUTTON",{class:!0});var I=d(m);v=T(I,"Conferma"),I.forEach(c),E.forEach(c),k.forEach(c),this.h()},h(){l(t,"class","font-bold text-lg"),l(a,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),l(m,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),l(u,"class","flex justify-end mt-5 text-sm"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(b,k){q(b,e,k),o(e,t),o(t,r),o(e,n),o(e,u),o(u,a),o(a,i),o(u,p),o(u,m),o(m,v),_||(g=[V(a,"click",s[1]),V(m,"click",s[0]),V(e,"click",s[2]),V(e,"keydown",s[2])],_=!0)},p:we,i(b){w||st(()=>{w=kt(e,dt,{duration:300}),w.start()})},o:we,d(b){b&&c(e),_=!1,qe(g)}}}function Bo(s){const e=gt();return[()=>{e("confirm")},()=>{e("cancel")},u=>{u.stopPropagation()}]}class zo extends Ze{constructor(e){super(),et(this,e,Bo,Ao,tt,{})}}function Lr(s){let e,t,r=s[0].turbineNumber+"",n;return{c(){e=f("span"),t=S("- "),n=S(r)},l(u){e=h(u,"SPAN",{});var a=d(e);t=T(a,"- "),n=T(a,r),a.forEach(c)},m(u,a){q(u,e,a),o(e,t),o(e,n)},p(u,a){a&1&&r!==(r=u[0].turbineNumber+"")&&ne(n,r)},d(u){u&&c(e)}}}function Ur(s){let e,t,r,n,u;return t=new zo({}),t.$on("confirm",s[4]),t.$on("cancel",s[7]),{c(){e=f("div"),Ge(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var i=d(e);Je(t.$$.fragment,i),i.forEach(c),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(a,i){q(a,e,i),Qe(t,e,null),r=!0,n||(u=[V(e,"click",s[8]),V(e,"keydown",s[9])],n=!0)},p:we,i(a){r||(de(t.$$.fragment,a),r=!0)},o(a){Ee(t.$$.fragment,a),r=!1},d(a){a&&c(e),Xe(t),n=!1,qe(u)}}}function jr(s){let e,t,r,n=s[0].permittingDate+"",u;return{c(){e=f("p"),t=S("Valdità permitting: "),r=f("span"),u=S(n),this.h()},l(a){e=h(a,"P",{class:!0});var i=d(e);t=T(i,"Valdità permitting: "),r=h(i,"SPAN",{});var p=d(r);u=T(p,n),p.forEach(c),i.forEach(c),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(a,i){q(a,e,i),o(e,t),o(e,r),o(r,u)},p(a,i){i&1&&n!==(n=a[0].permittingDate+"")&&ne(u,n)},d(a){a&&c(e)}}}function xr(s){let e,t,r,n=s[0].priorNotification+"",u;return{c(){e=f("p"),t=S("Valdità notifica: "),r=f("span"),u=S(n),this.h()},l(a){e=h(a,"P",{class:!0});var i=d(e);t=T(i,"Valdità notifica: "),r=h(i,"SPAN",{});var p=d(r);u=T(p,n),p.forEach(c),i.forEach(c),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(a,i){q(a,e,i),o(e,t),o(e,r),o(r,u)},p(a,i){i&1&&n!==(n=a[0].priorNotification+"")&&ne(u,n)},d(a){a&&c(e)}}}function Lo(s){let e,t,r,n=s[0].turbineName+"",u,a,i,p,m,v,w,_,g,b,k,O,E,D,I,x,j,H,J,te,R,C,U,z,le,ye,G,se,Le,M,X=s[0].creationDate+"",Me,ge,ae,Se,We,Z=s[0].turbineState+"",ie,be,xe,Ae,Ne,me,Be,fe,ve,Oe,pe,Ve,re,he,A=s[0].turbineNumber&&Lr(s),B=s[1]&&Ur(s),$=s[0].permittingDate!==void 0&&jr(s),K=s[0].priorNotification!==void 0&&xr(s);return me=new yo({props:{turbine:s[0]}}),fe=new Io({props:{turbine:s[0]}}),Oe=new Po({props:{turbine:s[0]}}),{c(){e=f("div"),t=f("div"),r=f("h1"),u=S(n),a=y(),A&&A.c(),i=y(),p=f("div"),m=f("div"),v=f("div"),w=y(),B&&B.c(),_=y(),g=f("div"),b=f("button"),k=F("svg"),O=F("polyline"),E=F("path"),D=F("line"),I=F("line"),x=y(),j=f("button"),H=F("svg"),J=F("path"),te=y(),R=f("button"),C=F("svg"),U=F("line"),z=F("line"),le=y(),ye=f("div"),G=f("div"),se=f("p"),Le=S("Creazione: "),M=f("span"),Me=S(X),ge=y(),ae=f("p"),Se=S("Stato turbina: "),We=f("span"),ie=S(Z),be=y(),$&&$.c(),xe=y(),K&&K.c(),Ae=y(),Ne=f("div"),Ge(me.$$.fragment),Be=y(),Ge(fe.$$.fragment),ve=y(),Ge(Oe.$$.fragment),this.h()},l(P){e=h(P,"DIV",{class:!0});var Q=d(e);t=h(Q,"DIV",{class:!0});var _e=d(t);r=h(_e,"H1",{class:!0});var Ue=d(r);u=T(Ue,n),a=N(Ue),A&&A.l(Ue),Ue.forEach(c),i=N(_e),p=h(_e,"DIV",{class:!0});var $e=d(p);m=h($e,"DIV",{class:!0});var De=d(m);v=h(De,"DIV",{class:!0}),d(v).forEach(c),w=N(De),B&&B.l(De),_=N(De),g=h(De,"DIV",{class:!0});var oe=d(g);b=h(oe,"BUTTON",{class:!0});var lt=d(b);k=W(lt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ce=d(k);O=W(Ce,"polyline",{points:!0}),d(O).forEach(c),E=W(Ce,"path",{d:!0}),d(E).forEach(c),D=W(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(c),I=W(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(I).forEach(c),Ce.forEach(c),lt.forEach(c),x=N(oe),j=h(oe,"BUTTON",{class:!0});var Ie=d(j);H=W(Ie,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var L=d(H);J=W(L,"path",{d:!0}),d(J).forEach(c),L.forEach(c),Ie.forEach(c),te=N(oe),R=h(oe,"BUTTON",{class:!0});var ce=d(R);C=W(ce,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Pe=d(C);U=W(Pe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(U).forEach(c),z=W(Pe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(z).forEach(c),Pe.forEach(c),ce.forEach(c),oe.forEach(c),De.forEach(c),$e.forEach(c),_e.forEach(c),le=N(Q),ye=h(Q,"DIV",{class:!0});var ee=d(ye);G=h(ee,"DIV",{class:!0});var Te=d(G);se=h(Te,"P",{class:!0});var je=d(se);Le=T(je,"Creazione: "),M=h(je,"SPAN",{});var Re=d(M);Me=T(Re,X),Re.forEach(c),je.forEach(c),ge=N(Te),ae=h(Te,"P",{class:!0});var Ke=d(ae);Se=T(Ke,"Stato turbina: "),We=h(Ke,"SPAN",{});var at=d(We);ie=T(at,Z),at.forEach(c),Ke.forEach(c),be=N(Te),$&&$.l(Te),xe=N(Te),K&&K.l(Te),Ae=N(Te),Ne=h(Te,"DIV",{class:!0});var nt=d(Ne);Je(me.$$.fragment,nt),Be=N(nt),Je(fe.$$.fragment,nt),nt.forEach(c),Te.forEach(c),ve=N(ee),Je(Oe.$$.fragment,ee),ee.forEach(c),Q.forEach(c),this.h()},h(){l(r,"class","font-mono font-bold text-2xl md:text-4xl"),l(v,"class","col-span-3"),l(O,"points","3 6 5 6 21 6"),l(E,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),l(D,"x1","10"),l(D,"y1","11"),l(D,"x2","10"),l(D,"y2","17"),l(I,"x1","14"),l(I,"y1","11"),l(I,"x2","14"),l(I,"y2","17"),l(k,"xmlns","http://www.w3.org/2000/svg"),l(k,"width","20"),l(k,"height","20"),l(k,"viewBox","0 0 24 24"),l(k,"fill","none"),l(k,"stroke","currentColor"),l(k,"stroke-width","2"),l(k,"stroke-linecap","round"),l(k,"stroke-linejoin","round"),l(k,"class","feather feather-trash-2"),l(b,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(J,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),l(H,"xmlns","http://www.w3.org/2000/svg"),l(H,"width","20"),l(H,"height","20"),l(H,"viewBox","0 0 24 24"),l(H,"fill","none"),l(H,"stroke","currentColor"),l(H,"stroke-width","2"),l(H,"stroke-linecap","round"),l(H,"stroke-linejoin","round"),l(H,"class","feather feather-edit-2"),l(j,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),l(U,"x1","18"),l(U,"y1","6"),l(U,"x2","6"),l(U,"y2","18"),l(z,"x1","6"),l(z,"y1","6"),l(z,"x2","18"),l(z,"y2","18"),l(C,"xmlns","http://www.w3.org/2000/svg"),l(C,"width","24"),l(C,"height","24"),l(C,"viewBox","0 0 24 24"),l(C,"fill","none"),l(C,"stroke","currentColor"),l(C,"stroke-width","2"),l(C,"stroke-linecap","round"),l(C,"stroke-linejoin","round"),l(C,"class","feather feather-x"),l(R,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(g,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),l(m,"class","grid grid-cols-6"),l(p,"class","flex flex-row justify-end"),l(t,"class","w-full h-20 grid grid-cols-2 items-start"),l(se,"class","font-mono text-white text-lg"),l(ae,"class","font-mono text-white text-lg"),l(Ne,"class","w-full mt-5"),l(G,"class","col-span-1"),l(ye,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start gap-0 md:gap-4"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 md:min-w-min md:max-w-4xl z-50 h-[32rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(P,Q){q(P,e,Q),o(e,t),o(t,r),o(r,u),o(r,a),A&&A.m(r,null),o(t,i),o(t,p),o(p,m),o(m,v),o(m,w),B&&B.m(m,null),o(m,_),o(m,g),o(g,b),o(b,k),o(k,O),o(k,E),o(k,D),o(k,I),o(g,x),o(g,j),o(j,H),o(H,J),o(g,te),o(g,R),o(R,C),o(C,U),o(C,z),o(e,le),o(e,ye),o(ye,G),o(G,se),o(se,Le),o(se,M),o(M,Me),o(G,ge),o(G,ae),o(ae,Se),o(ae,We),o(We,ie),o(G,be),$&&$.m(G,null),o(G,xe),K&&K.m(G,null),o(G,Ae),o(G,Ne),Qe(me,Ne,null),o(Ne,Be),Qe(fe,Ne,null),o(ye,ve),Qe(Oe,ye,null),Ve=!0,re||(he=[V(b,"click",s[10]),V(j,"click",s[3]),V(R,"click",s[2]),V(e,"click",ot(s[5])),V(e,"keydown",ot(s[6]))],re=!0)},p(P,[Q]){(!Ve||Q&1)&&n!==(n=P[0].turbineName+"")&&ne(u,n),P[0].turbineNumber?A?A.p(P,Q):(A=Lr(P),A.c(),A.m(r,null)):A&&(A.d(1),A=null),P[1]?B?(B.p(P,Q),Q&2&&de(B,1)):(B=Ur(P),B.c(),de(B,1),B.m(m,_)):B&&(Vt(),Ee(B,1,1,()=>{B=null}),Pt()),(!Ve||Q&1)&&X!==(X=P[0].creationDate+"")&&ne(Me,X),(!Ve||Q&1)&&Z!==(Z=P[0].turbineState+"")&&ne(ie,Z),P[0].permittingDate!==void 0?$?$.p(P,Q):($=jr(P),$.c(),$.m(G,xe)):$&&($.d(1),$=null),P[0].priorNotification!==void 0?K?K.p(P,Q):(K=xr(P),K.c(),K.m(G,Ae)):K&&(K.d(1),K=null);const _e={};Q&1&&(_e.turbine=P[0]),me.$set(_e);const Ue={};Q&1&&(Ue.turbine=P[0]),fe.$set(Ue);const $e={};Q&1&&($e.turbine=P[0]),Oe.$set($e)},i(P){Ve||(de(B),de(me.$$.fragment,P),de(fe.$$.fragment,P),de(Oe.$$.fragment,P),pe||st(()=>{pe=kt(e,dt,{duration:150}),pe.start()}),Ve=!0)},o(P){Ee(B),Ee(me.$$.fragment,P),Ee(fe.$$.fragment,P),Ee(Oe.$$.fragment,P),Ve=!1},d(P){P&&c(e),A&&A.d(),B&&B.d(),$&&$.d(),K&&K.d(),Xe(me),Xe(fe),Xe(Oe),re=!1,qe(he)}}}function Uo(s,e,t){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const n=gt(),u=()=>{n("closeDetails")},a=()=>{n("editMode",r.id)};let i=!1;const p=()=>{t(1,i=!1),vo(r.id).then(()=>{n("deleted")})};function m(k){wt.call(this,s,k)}function v(k){wt.call(this,s,k)}const w=()=>{t(1,i=!1)},_=()=>{t(1,i=!1)},g=()=>{t(1,i=!1)},b=()=>{t(1,i=!0)};return s.$$set=k=>{"turbine"in k&&t(0,r=k.turbine)},[r,i,u,a,p,m,v,w,_,g,b]}class jo extends Ze{constructor(e){super(),et(this,e,Uo,Lo,tt,{turbine:0})}}const xo={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear"};function $r(s,e,t){const r=s.slice();return r[7]=e[t],r[8]=e,r[9]=t,r}function Fr(s,e){let t,r,n,u,a,i=e[7].name+"",p,m,v,w;function _(...g){return e[5](e[7],e[8],e[9],...g)}return{key:s,first:null,c(){t=f("div"),r=f("input"),u=y(),a=f("p"),p=S(i),m=y(),this.h()},l(g){t=h(g,"DIV",{class:!0});var b=d(t);r=h(b,"INPUT",{class:!0,type:!0}),u=N(b),a=h(b,"P",{class:!0});var k=d(a);p=T(k,i),k.forEach(c),m=N(b),b.forEach(c),this.h()},h(){l(r,"class","checkbox"),r.checked=n=e[7].isSelected,l(r,"type","checkbox"),l(a,"class","font-mono"),l(t,"class","flex flex-row gap-4"),this.first=t},m(g,b){q(g,t,b),o(t,r),o(t,u),o(t,a),o(a,p),o(t,m),v||(w=V(r,"change",_),v=!0)},p(g,b){e=g,b&1&&n!==(n=e[7].isSelected)&&(r.checked=n),b&1&&i!==(i=e[7].name+"")&&ne(p,i)},d(g){g&&c(t),v=!1,w()}}}function $o(s){let e,t,r=[],n=new Map,u,a,i,p,m,v,w,_,g,b,k=s[0];const O=E=>E[7].name;for(let E=0;E<k.length;E+=1){let D=$r(s,k,E),I=O(D);n.set(I,r[E]=Fr(I,D))}return{c(){e=f("div"),t=f("div");for(let E=0;E<r.length;E+=1)r[E].c();u=y(),a=f("div"),i=f("button"),p=S("Conferma"),m=y(),v=f("button"),w=S("Chiudi"),this.h()},l(E){e=h(E,"DIV",{class:!0});var D=d(e);t=h(D,"DIV",{class:!0});var I=d(t);for(let J=0;J<r.length;J+=1)r[J].l(I);I.forEach(c),u=N(D),a=h(D,"DIV",{class:!0});var x=d(a);i=h(x,"BUTTON",{class:!0});var j=d(i);p=T(j,"Conferma"),j.forEach(c),m=N(x),v=h(x,"BUTTON",{class:!0});var H=d(v);w=T(H,"Chiudi"),H.forEach(c),x.forEach(c),D.forEach(c),this.h()},h(){l(t,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),l(i,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),l(v,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),l(a,"class","flex flex-row mt-5 gap-2 justify-center"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(E,D){q(E,e,D),o(e,t);for(let I=0;I<r.length;I+=1)r[I].m(t,null);o(e,u),o(e,a),o(a,i),o(i,p),o(a,m),o(a,v),o(v,w),g||(b=[V(i,"click",ot(s[1])),V(v,"click",ot(s[2])),V(e,"click",ot(s[3])),V(e,"keydown",ot(s[4]))],g=!0)},p(E,[D]){D&1&&(k=E[0],r=Ql(r,D,O,1,E,k,n,t,Gr,Fr,null,$r))},i(E){_||st(()=>{_=kt(e,dt,{duration:300}),_.start()})},o:we,d(E){E&&c(e);for(let D=0;D<r.length;D+=1)r[D].d();g=!1,qe(b)}}}function Fo(s,e,t){let{operations:r=[]}=e;const n=gt(),u=()=>{n("confirm",r)},a=()=>{n("cancel")};function i(v){wt.call(this,s,v)}function p(v){wt.call(this,s,v)}const m=(v,w,_,g)=>{t(0,w[_].isSelected=g.target.checked,r)};return s.$$set=v=>{"operations"in v&&t(0,r=v.operations)},[r,u,a,i,p,m]}class Wo extends Ze{constructor(e){super(),et(this,e,Fo,$o,tt,{operations:0})}}function Ho(s){let e,t,r,n,u,a,i,p,m,v,w,_,g,b,k,O,E,D,I,x,j,H;return{c(){e=f("div"),t=f("div"),r=f("button"),n=F("svg"),u=F("path"),a=F("line"),i=F("polyline"),m=S("Kilowatt"),w=y(),_=f("button"),g=F("svg"),b=F("path"),k=F("line"),O=F("polyline"),D=S("Megawatt"),this.h()},l(J){e=h(J,"DIV",{class:!0});var te=d(e);t=h(te,"DIV",{class:!0});var R=d(t);r=h(R,"BUTTON",{class:!0,type:!0});var C=d(r);n=W(C,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var U=d(n);u=W(U,"path",{d:!0}),d(u).forEach(c),a=W(U,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(a).forEach(c),i=W(U,"polyline",{points:!0}),d(i).forEach(c),U.forEach(c),m=T(C,"Kilowatt"),C.forEach(c),w=N(R),_=h(R,"BUTTON",{class:!0,type:!0});var z=d(_);g=W(z,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var le=d(g);b=W(le,"path",{d:!0}),d(b).forEach(c),k=W(le,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(k).forEach(c),O=W(le,"polyline",{points:!0}),d(O).forEach(c),le.forEach(c),D=T(z,"Megawatt"),z.forEach(c),R.forEach(c),te.forEach(c),this.h()},h(){l(u,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(a,"x1","23"),l(a,"y1","13"),l(a,"x2","23"),l(a,"y2","11"),l(i,"points","11 6 7 12 13 12 9 18"),l(n,"xmlns","http://www.w3.org/2000/svg"),l(n,"width","24"),l(n,"height","24"),l(n,"viewBox","0 0 24 24"),l(n,"fill","none"),l(n,"stroke","currentColor"),l(n,"stroke-width","2"),l(n,"stroke-linecap","round"),l(n,"stroke-linejoin","round"),l(n,"class",p=s[0]?"text-green-500":""),l(r,"class",v=He(s[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(b,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(k,"x1","23"),l(k,"y1","13"),l(k,"x2","23"),l(k,"y2","11"),l(O,"points","11 6 7 12 13 12 9 18"),l(g,"xmlns","http://www.w3.org/2000/svg"),l(g,"width","24"),l(g,"height","24"),l(g,"viewBox","0 0 24 24"),l(g,"fill","none"),l(g,"stroke","currentColor"),l(g,"stroke-width","2"),l(g,"stroke-linecap","round"),l(g,"stroke-linejoin","round"),l(g,"class",E=s[0]?"":"text-blue-500"),l(_,"class",I=He(s[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4"),l(_,"type","button"),l(t,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(J,te){q(J,e,te),o(e,t),o(t,r),o(r,n),o(n,u),o(n,a),o(n,i),o(r,m),o(t,w),o(t,_),o(_,g),o(g,b),o(g,k),o(g,O),o(_,D),j||(H=[V(r,"click",s[2]),V(_,"click",s[3])],j=!0)},p(J,[te]){te&1&&p!==(p=J[0]?"text-green-500":"")&&l(n,"class",p),te&1&&v!==(v=He(J[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",v),te&1&&E!==(E=J[0]?"":"text-blue-500")&&l(g,"class",E),te&1&&I!==(I=He(J[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4")&&l(_,"class",I)},i(J){x||st(()=>{x=kt(e,Jr,{duration:300}),x.start()})},o:we,d(J){J&&c(e),j=!1,qe(H)}}}function Ro(s,e,t){const r=gt();let n=!0;const u=()=>{r("change",n?"KILOWATT":"MEGAWATT")};return[n,u,()=>{t(0,n=!0),u()},()=>{t(0,n=!1),u()}]}class Ko extends Ze{constructor(e){super(),et(this,e,Ro,Ho,tt,{})}}function qo(s){let e,t,r,n,u,a,i,p,m,v,w,_,g,b,k,O;return{c(){e=f("div"),t=f("div"),r=f("button"),n=S("In Marcia"),a=y(),i=f("button"),p=S("Limitata"),v=y(),w=f("button"),_=S("Ferma"),this.h()},l(E){e=h(E,"DIV",{class:!0});var D=d(e);t=h(D,"DIV",{class:!0});var I=d(t);r=h(I,"BUTTON",{class:!0,type:!0});var x=d(r);n=T(x,"In Marcia"),x.forEach(c),a=N(I),i=h(I,"BUTTON",{class:!0,type:!0});var j=d(i);p=T(j,"Limitata"),j.forEach(c),v=N(I),w=h(I,"BUTTON",{class:!0,type:!0});var H=d(w);_=T(H,"Ferma"),H.forEach(c),I.forEach(c),D.forEach(c),this.h()},h(){l(r,"class",u=He(s[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(i,"class",m=He(s[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),l(i,"type","button"),l(w,"class",g=He(s[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),l(w,"type","button"),l(t,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(E,D){q(E,e,D),o(e,t),o(t,r),o(r,n),o(t,a),o(t,i),o(i,p),o(t,v),o(t,w),o(w,_),k||(O=[V(r,"click",s[2]),V(i,"click",s[3]),V(w,"click",s[4])],k=!0)},p(E,[D]){D&1&&u!==(u=He(E[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",u),D&1&&m!==(m=He(E[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&l(i,"class",m),D&1&&g!==(g=He(E[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&l(w,"class",g)},i(E){b||st(()=>{b=kt(e,dt,{duration:300,delay:300}),b.start()})},o:we,d(E){E&&c(e),k=!1,qe(O)}}}function Yo(s,e,t){const r=gt();let n="In Marcia";const u=()=>{r("change",n)};return[n,u,()=>{t(0,n="In Marcia"),u()},()=>{t(0,n="Limitata"),u()},()=>{t(0,n="Ferma"),u()}]}class Go extends Ze{constructor(e){super(),et(this,e,Yo,qo,tt,{})}}function Wr(s){let e,t,r,n,u;return t=new Wo({props:{operations:s[3]}}),t.$on("cancel",s[12]),t.$on("confirm",s[13]),{c(){e=f("div"),Ge(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var i=d(e);Je(t.$$.fragment,i),i.forEach(c),this.h()},h(){l(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(a,i){q(a,e,i),Qe(t,e,null),r=!0,n||(u=[V(e,"click",ot(s[14])),V(e,"keydown",ot(s[15]))],n=!0)},p(a,i){const p={};i&8&&(p.operations=a[3]),t.$set(p)},i(a){r||(de(t.$$.fragment,a),r=!0)},o(a){Ee(t.$$.fragment,a),r=!1},d(a){a&&c(e),Xe(t),n=!1,qe(u)}}}function Jo(s){let e,t,r,n,u,a,i,p,m,v,w,_,g,b,k,O,E,D,I,x,j,H,J,te,R,C,U,z,le,ye,G,se,Le,M,X,Me,ge,ae,Se,We,Z,ie,be,xe,Ae,Ne,me,Be,fe,ve,Oe,pe,Ve,re,he,A,B,$,K,P,Q,_e,Ue=s[1]?"modifica":"creazione",$e,De,oe,lt,Ce,Ie,L,ce,Pe,ee=s[0].turbineNumber+"",Te,je,Re,Ke,at,nt,Ye,ft=s[0].turbineName+"",yt,Bt,it,ct,zt,Lt,ht,pt=s[0].description+"",rl,Ol,Nt,Ut,Cl,Ml,jt,Gt=(s[0].odlNumber||"N/A")+"",ol,Vl,Dt,xt,Pl,Al,$t,Jt=s[0].operation+"",nl,Bl,It,Ft,zl,Ll,Wt,Qt=s[0].power+"",sl,Ul,St,Ht,jl,xl,Rt,Xt=s[0].turbineState+"",al,$l,mt,vt,Fl,Wl,Tt,Zt,el=s[1]?"Modifica":"Crea",il,_t,Hl,rt,Ot,cl,Rl,Ct,ul,Kl,Mt,dl,ke,ql,Xl,ze=s[2]&&Wr(s);return R=new Ko({}),R.$on("change",s[21]),le=new Go({}),le.$on("change",s[22]),{c(){e=f("div"),ze&&ze.c(),t=y(),r=f("form"),n=f("div"),u=f("div"),a=f("div"),i=f("input"),m=y(),v=f("input"),_=y(),g=f("input"),k=y(),O=f("input"),D=y(),I=f("div"),x=f("button"),j=f("input"),J=y(),te=f("div"),Ge(R.$$.fragment),C=y(),U=f("div"),z=f("div"),Ge(le.$$.fragment),ye=y(),G=f("div"),se=f("label"),Le=S("Data Inizio EEMM"),M=y(),X=f("input"),ge=y(),ae=f("div"),Se=f("label"),We=S("Data Inizio OOCC"),Z=y(),ie=f("input"),xe=y(),Ae=f("div"),Ne=f("label"),me=S("Validità permitting"),Be=y(),fe=f("input"),Oe=y(),pe=f("div"),Ve=f("label"),re=S("Validità notifica"),he=y(),A=f("input"),$=y(),K=f("div"),P=f("div"),Q=f("h2"),_e=S("Riepilogo "),$e=S(Ue),De=y(),oe=f("div"),lt=y(),Ce=f("p"),Ie=f("span"),L=S("Numero cantiere:"),ce=y(),Pe=f("span"),Te=S(ee),je=y(),Re=f("p"),Ke=f("span"),at=S("Aerogeneratore:"),nt=y(),Ye=f("span"),yt=S(ft),Bt=y(),it=f("p"),ct=f("span"),zt=S("Impianto eolico:"),Lt=y(),ht=f("span"),rl=S(pt),Ol=y(),Nt=f("p"),Ut=f("span"),Cl=S("Numero ODL:"),Ml=y(),jt=f("span"),ol=S(Gt),Vl=y(),Dt=f("p"),xt=f("span"),Pl=S("Operazioni:"),Al=y(),$t=f("span"),nl=S(Jt),Bl=y(),It=f("p"),Ft=f("span"),zl=S("Tipologia:"),Ll=y(),Wt=f("span"),sl=S(Qt),Ul=y(),St=f("p"),Ht=f("span"),jl=S("Stato:"),xl=y(),Rt=f("span"),al=S(Xt),$l=y(),mt=f("div"),vt=f("button"),Fl=S("Annulla"),Wl=y(),Tt=f("button"),Zt=f("p"),il=S(el),Hl=y(),rt=f("div"),Ot=f("input"),Rl=y(),Ct=f("input"),Kl=y(),Mt=f("input"),this.h()},l(Y){e=h(Y,"DIV",{class:!0});var ue=d(e);ze&&ze.l(ue),t=N(ue),r=h(ue,"FORM",{});var fl=d(r);n=h(fl,"DIV",{id:!0,class:!0});var Kt=d(n);u=h(Kt,"DIV",{class:!0});var qt=d(u);a=h(qt,"DIV",{class:!0});var bt=d(a);i=h(bt,"INPUT",{class:!0,type:!0,placeholder:!0}),m=N(bt),v=h(bt,"INPUT",{class:!0,type:!0,placeholder:!0}),_=N(bt),g=h(bt,"INPUT",{class:!0,type:!0,placeholder:!0}),k=N(bt),O=h(bt,"INPUT",{class:!0,type:!0,placeholder:!0}),bt.forEach(c),D=N(qt),I=h(qt,"DIV",{class:!0});var Zl=d(I);x=h(Zl,"BUTTON",{type:!0,class:!0});var er=d(x);j=h(er,"INPUT",{class:!0,placeholder:!0}),er.forEach(c),Zl.forEach(c),J=N(qt),te=h(qt,"DIV",{class:!0});var tr=d(te);Je(R.$$.fragment,tr),tr.forEach(c),qt.forEach(c),C=N(Kt),U=h(Kt,"DIV",{class:!0});var ut=d(U);z=h(ut,"DIV",{class:!0});var lr=d(z);Je(le.$$.fragment,lr),lr.forEach(c),ye=N(ut),G=h(ut,"DIV",{});var hl=d(G);se=h(hl,"LABEL",{for:!0,class:!0});var rr=d(se);Le=T(rr,"Data Inizio EEMM"),rr.forEach(c),M=N(hl),X=h(hl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),hl.forEach(c),ge=N(ut),ae=h(ut,"DIV",{});var pl=d(ae);Se=h(pl,"LABEL",{for:!0,class:!0});var or=d(Se);We=T(or,"Data Inizio OOCC"),or.forEach(c),Z=N(pl),ie=h(pl,"INPUT",{class:!0,type:!0,placeholder:!0}),pl.forEach(c),xe=N(ut),Ae=h(ut,"DIV",{});var gl=d(Ae);Ne=h(gl,"LABEL",{for:!0,class:!0});var nr=d(Ne);me=T(nr,"Validità permitting"),nr.forEach(c),Be=N(gl),fe=h(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(c),Oe=N(ut),pe=h(ut,"DIV",{});var ml=d(pe);Ve=h(ml,"LABEL",{for:!0,class:!0});var sr=d(Ve);re=T(sr,"Validità notifica"),sr.forEach(c),he=N(ml),A=h(ml,"INPUT",{class:!0,type:!0,placeholder:!0}),ml.forEach(c),ut.forEach(c),$=N(Kt),K=h(Kt,"DIV",{class:!0});var vl=d(K);P=h(vl,"DIV",{class:!0});var Fe=d(P);Q=h(Fe,"H2",{class:!0});var Yl=d(Q);_e=T(Yl,"Riepilogo "),$e=T(Yl,Ue),Yl.forEach(c),De=N(Fe),oe=h(Fe,"DIV",{class:!0}),d(oe).forEach(c),lt=N(Fe),Ce=h(Fe,"P",{});var _l=d(Ce);Ie=h(_l,"SPAN",{class:!0});var ar=d(Ie);L=T(ar,"Numero cantiere:"),ar.forEach(c),ce=N(_l),Pe=h(_l,"SPAN",{class:!0});var ir=d(Pe);Te=T(ir,ee),ir.forEach(c),_l.forEach(c),je=N(Fe),Re=h(Fe,"P",{});var bl=d(Re);Ke=h(bl,"SPAN",{class:!0});var cr=d(Ke);at=T(cr,"Aerogeneratore:"),cr.forEach(c),nt=N(bl),Ye=h(bl,"SPAN",{class:!0});var ur=d(Ye);yt=T(ur,ft),ur.forEach(c),bl.forEach(c),Bt=N(Fe),it=h(Fe,"P",{});var wl=d(it);ct=h(wl,"SPAN",{class:!0});var dr=d(ct);zt=T(dr,"Impianto eolico:"),dr.forEach(c),Lt=N(wl),ht=h(wl,"SPAN",{class:!0});var fr=d(ht);rl=T(fr,pt),fr.forEach(c),wl.forEach(c),Ol=N(Fe),Nt=h(Fe,"P",{});var kl=d(Nt);Ut=h(kl,"SPAN",{class:!0});var hr=d(Ut);Cl=T(hr,"Numero ODL:"),hr.forEach(c),Ml=N(kl),jt=h(kl,"SPAN",{class:!0});var pr=d(jt);ol=T(pr,Gt),pr.forEach(c),kl.forEach(c),Vl=N(Fe),Dt=h(Fe,"P",{});var El=d(Dt);xt=h(El,"SPAN",{class:!0});var gr=d(xt);Pl=T(gr,"Operazioni:"),gr.forEach(c),Al=N(El),$t=h(El,"SPAN",{class:!0});var mr=d($t);nl=T(mr,Jt),mr.forEach(c),El.forEach(c),Bl=N(Fe),It=h(Fe,"P",{});var yl=d(It);Ft=h(yl,"SPAN",{class:!0});var vr=d(Ft);zl=T(vr,"Tipologia:"),vr.forEach(c),Ll=N(yl),Wt=h(yl,"SPAN",{class:!0});var _r=d(Wt);sl=T(_r,Qt),_r.forEach(c),yl.forEach(c),Ul=N(Fe),St=h(Fe,"P",{});var Nl=d(St);Ht=h(Nl,"SPAN",{class:!0});var br=d(Ht);jl=T(br,"Stato:"),br.forEach(c),xl=N(Nl),Rt=h(Nl,"SPAN",{class:!0});var wr=d(Rt);al=T(wr,Xt),wr.forEach(c),Nl.forEach(c),Fe.forEach(c),$l=N(vl),mt=h(vl,"DIV",{class:!0});var Dl=d(mt);vt=h(Dl,"BUTTON",{type:!0,class:!0});var kr=d(vt);Fl=T(kr,"Annulla"),kr.forEach(c),Wl=N(Dl),Tt=h(Dl,"BUTTON",{class:!0});var Er=d(Tt);Zt=h(Er,"P",{});var yr=d(Zt);il=T(yr,el),yr.forEach(c),Er.forEach(c),Dl.forEach(c),vl.forEach(c),Kt.forEach(c),Hl=N(fl),rt=h(fl,"DIV",{class:!0});var Yt=d(rt);Ot=h(Yt,"INPUT",{type:!0,class:!0}),Rl=N(Yt),Ct=h(Yt,"INPUT",{type:!0,class:!0}),Kl=N(Yt),Mt=h(Yt,"INPUT",{type:!0,class:!0}),Yt.forEach(c),fl.forEach(c),ue.forEach(c),this.h()},h(){l(i,"class","input"),l(i,"type","text"),i.value=p=s[0].turbineName,l(i,"placeholder","Aerogeneratore*"),i.required=!0,i.disabled=s[1],l(v,"class","input"),l(v,"type","text"),v.value=w=s[0].turbineNumber,l(v,"placeholder","Numero cantiere"),l(g,"class","input"),l(g,"type","text"),g.value=b=s[0].description,l(g,"placeholder","Impianto Eolico*"),g.required=!0,l(O,"class","input"),l(O,"type","number"),O.value=E=s[0].odlNumber,l(O,"placeholder","Numero ODL"),l(a,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(j,"class","w-full"),j.value=H=s[0].operation.length>0?s[0].operation.join(", "):"",j.disabled=!0,l(j,"placeholder","Operazioni*"),j.required=!0,l(x,"type","button"),l(x,"class","input hover:bg-gray-200 text-start transition ease-in-out"),l(I,"class","col-span-full mt-5"),l(te,"class","col-span-full mt-auto"),l(u,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(z,"class","col-span-full"),l(se,"for","dateEEMM"),l(se,"class","font-mono text-white"),l(X,"id","dateEEMM"),l(X,"class","input"),l(X,"type","date"),X.value=Me=s[0].startingDateEEMM!==void 0?s[0].startingDateEEMM:"",l(X,"placeholder","Data inizio EEMM"),l(Se,"for","dateEEMM"),l(Se,"class","font-mono text-white"),l(ie,"class","input"),l(ie,"type","date"),ie.value=be=s[0].startingDateOOCC!==void 0?s[0].startingDateOOCC:"",l(ie,"placeholder","Data inizio OOCC"),l(Ne,"for","dateEEMM"),l(Ne,"class","font-mono text-white"),l(fe,"class","input"),l(fe,"type","date"),fe.value=ve=s[0].permittingDate!==void 0?s[0].permittingDate:"",l(fe,"placeholder","Validità permitting"),l(Ve,"for","dateEEMM"),l(Ve,"class","font-mono text-white"),l(A,"class","input"),l(A,"type","date"),A.value=B=s[0].priorNotification!==void 0?s[0].priorNotification:"",l(A,"placeholder","Validità notifica"),l(U,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(Q,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),l(oe,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),l(Ie,"class","font-mono font-bold text-gray-300"),l(Pe,"class","font-mono text-gray-300"),l(Ke,"class","font-mono font-bold text-gray-300"),l(Ye,"class","font-mono text-gray-300"),l(ct,"class","font-mono font-bold text-gray-300"),l(ht,"class","font-mono text-gray-300"),l(Ut,"class","font-mono font-bold text-gray-300"),l(jt,"class","font-mono text-gray-300"),l(xt,"class","font-mono font-bold text-gray-300"),l($t,"class","font-mono text-gray-300"),l(Ft,"class","font-mono font-bold text-gray-300"),l(Wt,"class","font-mono text-gray-300"),l(Ht,"class","font-mono font-bold text-gray-300"),l(Rt,"class","font-mono text-gray-300"),l(P,"class","w-[15rem] md:w-[29rem] h-3/4"),l(vt,"type","button"),l(vt,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),l(Tt,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),l(mt,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),l(K,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(n,"id","scrollable"),l(n,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),l(Ot,"type","checkbox"),l(Ot,"class",cl=He(s[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(Ct,"type","checkbox"),l(Ct,"class",ul=He(s[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(Mt,"type","checkbox"),l(Mt,"class",dl=He(s[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(rt,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),l(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(Y,ue){q(Y,e,ue),ze&&ze.m(e,null),o(e,t),o(e,r),o(r,n),o(n,u),o(u,a),o(a,i),o(a,m),o(a,v),o(a,_),o(a,g),o(a,k),o(a,O),o(u,D),o(u,I),o(I,x),o(x,j),o(u,J),o(u,te),Qe(R,te,null),o(n,C),o(n,U),o(U,z),Qe(le,z,null),o(U,ye),o(U,G),o(G,se),o(se,Le),o(G,M),o(G,X),o(U,ge),o(U,ae),o(ae,Se),o(Se,We),o(ae,Z),o(ae,ie),o(U,xe),o(U,Ae),o(Ae,Ne),o(Ne,me),o(Ae,Be),o(Ae,fe),o(U,Oe),o(U,pe),o(pe,Ve),o(Ve,re),o(pe,he),o(pe,A),o(n,$),o(n,K),o(K,P),o(P,Q),o(Q,_e),o(Q,$e),o(P,De),o(P,oe),o(P,lt),o(P,Ce),o(Ce,Ie),o(Ie,L),o(Ce,ce),o(Ce,Pe),o(Pe,Te),o(P,je),o(P,Re),o(Re,Ke),o(Ke,at),o(Re,nt),o(Re,Ye),o(Ye,yt),o(P,Bt),o(P,it),o(it,ct),o(ct,zt),o(it,Lt),o(it,ht),o(ht,rl),o(P,Ol),o(P,Nt),o(Nt,Ut),o(Ut,Cl),o(Nt,Ml),o(Nt,jt),o(jt,ol),o(P,Vl),o(P,Dt),o(Dt,xt),o(xt,Pl),o(Dt,Al),o(Dt,$t),o($t,nl),o(P,Bl),o(P,It),o(It,Ft),o(Ft,zl),o(It,Ll),o(It,Wt),o(Wt,sl),o(P,Ul),o(P,St),o(St,Ht),o(Ht,jl),o(St,xl),o(St,Rt),o(Rt,al),o(K,$l),o(K,mt),o(mt,vt),o(vt,Fl),o(mt,Wl),o(mt,Tt),o(Tt,Zt),o(Zt,il),o(r,Hl),o(r,rt),o(rt,Ot),o(rt,Rl),o(rt,Ct),o(rt,Kl),o(rt,Mt),ke=!0,ql||(Xl=[V(i,"change",s[16]),V(v,"change",s[17]),V(g,"change",s[18]),V(O,"change",s[19]),V(x,"click",s[20]),V(X,"change",s[23]),V(ie,"change",s[24]),V(fe,"change",s[25]),V(A,"change",s[26]),V(vt,"click",s[6]),V(Tt,"click",s[7]),V(n,"click",ot(s[10])),V(n,"keydown",ot(s[11])),V(Ot,"change",s[27]),V(Ct,"change",s[28]),V(Mt,"change",s[29]),V(rt,"click",ot(s[8])),V(rt,"keydown",ot(s[9])),V(e,"click",s[6]),V(e,"keydown",s[6])],ql=!0)},p(Y,[ue]){Y[2]?ze?(ze.p(Y,ue),ue&4&&de(ze,1)):(ze=Wr(Y),ze.c(),de(ze,1),ze.m(e,t)):ze&&(Vt(),Ee(ze,1,1,()=>{ze=null}),Pt()),(!ke||ue&1&&p!==(p=Y[0].turbineName)&&i.value!==p)&&(i.value=p),(!ke||ue&2)&&(i.disabled=Y[1]),(!ke||ue&1&&w!==(w=Y[0].turbineNumber)&&v.value!==w)&&(v.value=w),(!ke||ue&1&&b!==(b=Y[0].description)&&g.value!==b)&&(g.value=b),(!ke||ue&1&&E!==(E=Y[0].odlNumber)&&O.value!==E)&&(O.value=E),(!ke||ue&1&&H!==(H=Y[0].operation.length>0?Y[0].operation.join(", "):"")&&j.value!==H)&&(j.value=H),(!ke||ue&1&&Me!==(Me=Y[0].startingDateEEMM!==void 0?Y[0].startingDateEEMM:""))&&(X.value=Me),(!ke||ue&1&&be!==(be=Y[0].startingDateOOCC!==void 0?Y[0].startingDateOOCC:""))&&(ie.value=be),(!ke||ue&1&&ve!==(ve=Y[0].permittingDate!==void 0?Y[0].permittingDate:""))&&(fe.value=ve),(!ke||ue&1&&B!==(B=Y[0].priorNotification!==void 0?Y[0].priorNotification:""))&&(A.value=B),(!ke||ue&2)&&Ue!==(Ue=Y[1]?"modifica":"creazione")&&ne($e,Ue),(!ke||ue&1)&&ee!==(ee=Y[0].turbineNumber+"")&&ne(Te,ee),(!ke||ue&1)&&ft!==(ft=Y[0].turbineName+"")&&ne(yt,ft),(!ke||ue&1)&&pt!==(pt=Y[0].description+"")&&ne(rl,pt),(!ke||ue&1)&&Gt!==(Gt=(Y[0].odlNumber||"N/A")+"")&&ne(ol,Gt),(!ke||ue&1)&&Jt!==(Jt=Y[0].operation+"")&&ne(nl,Jt),(!ke||ue&1)&&Qt!==(Qt=Y[0].power+"")&&ne(sl,Qt),(!ke||ue&1)&&Xt!==(Xt=Y[0].turbineState+"")&&ne(al,Xt),(!ke||ue&2)&&el!==(el=Y[1]?"Modifica":"Crea")&&ne(il,el),(!ke||ue&16&&cl!==(cl=He(Y[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Ot,"class",cl),(!ke||ue&16&&ul!==(ul=He(Y[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Ct,"class",ul),(!ke||ue&16&&dl!==(dl=He(Y[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Mt,"class",dl)},i(Y){ke||(de(ze),de(R.$$.fragment,Y),de(le.$$.fragment,Y),st(()=>{_t||(_t=Tl(n,dt,{duration:150},!0)),_t.run(1)}),ke=!0)},o(Y){Ee(ze),Ee(R.$$.fragment,Y),Ee(le.$$.fragment,Y),_t||(_t=Tl(n,dt,{duration:150},!1)),_t.run(0),ke=!1},d(Y){Y&&c(e),ze&&ze.d(),Xe(R),Xe(le),Y&&_t&&_t.end(),ql=!1,qe(Xl)}}}function Qo(s,e,t){let{isEditMode:r=!1}=e,{windfarm:n={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const u=gt();let a=!1,i=[];Jl(()=>{t(3,i=Object.values(xo).map(M=>({name:M,isSelected:!1})))});let p=0;function m(){const M=document.getElementById("scrollable");let X=0;M!=null&&(p===1?window.innerWidth<768?X=M.scrollWidth/3:X=M.scrollWidth/2:p===2&&(X=M.scrollWidth),M.scrollTo({left:X,behavior:"smooth"}))}const v=()=>{u("close")},w=()=>{r?bo(n).then(M=>{M!==void 0&&M.status===200&&u("updated")}):_o(n).then(M=>{M!==void 0&&M.status===200&&u("created")})};function _(M){wt.call(this,s,M)}function g(M){wt.call(this,s,M)}function b(M){wt.call(this,s,M)}function k(M){wt.call(this,s,M)}const O=()=>{t(2,a=!1)},E=M=>{t(3,i=M.detail),t(0,n.operation=i.filter(X=>X.isSelected).map(X=>X.name),n),t(2,a=!1)},D=()=>{t(2,a=!1)},I=()=>{t(2,a=!1)},x=M=>{t(0,n.turbineName=M.target.value,n)},j=M=>{t(0,n.turbineNumber=M.target.value,n)},H=M=>{t(0,n.description=M.target.value,n)},J=M=>{t(0,n.odlNumber=M.target.value,n)},te=()=>{t(2,a=!a)},R=M=>t(0,n.power=M.detail,n),C=M=>t(0,n.turbineState=M.detail,n),U=M=>{t(0,n.startingDateEEMM=M.target.value,n)},z=M=>{t(0,n.startingDateOOCC=M.target.value,n)},le=M=>{t(0,n.permittingDate=M.target.value,n)},ye=M=>{t(0,n.priorNotification=M.target.value,n)},G=()=>{t(4,p=0),m()},se=()=>{t(4,p=1),m()},Le=()=>{t(4,p=2),m()};return s.$$set=M=>{"isEditMode"in M&&t(1,r=M.isEditMode),"windfarm"in M&&t(0,n=M.windfarm)},[n,r,a,i,p,m,v,w,_,g,b,k,O,E,D,I,x,j,H,J,te,R,C,U,z,le,ye,G,se,Le]}class Xr extends Ze{constructor(e){super(),et(this,e,Qo,Jo,tt,{isEditMode:1,windfarm:0})}}function Xo(s){let e,t;return e=new Xr({props:{windfarm:s[0],isEditMode:!0}}),e.$on("close",s[1]),e.$on("updated",s[2]),{c(){Ge(e.$$.fragment)},l(r){Je(e.$$.fragment,r)},m(r,n){Qe(e,r,n),t=!0},p(r,[n]){const u={};n&1&&(u.windfarm=r[0]),e.$set(u)},i(r){t||(de(e.$$.fragment,r),t=!0)},o(r){Ee(e.$$.fragment,r),t=!1},d(r){Xe(e,r)}}}function Zo(s,e,t){let{turbine:r}=e;const n=gt(),u=()=>{n("close")},a=()=>{n("updated")};return s.$$set=i=>{"turbine"in i&&t(0,r=i.turbine)},[r,u,a]}class en extends Ze{constructor(e){super(),et(this,e,Zo,Xo,tt,{turbine:0})}}function tn(s){let e,t;return e=new Xr({props:{isEditMode:!1}}),e.$on("close",s[0]),e.$on("created",s[1]),{c(){Ge(e.$$.fragment)},l(r){Je(e.$$.fragment,r)},m(r,n){Qe(e,r,n),t=!0},p:we,i(r){t||(de(e.$$.fragment,r),t=!0)},o(r){Ee(e.$$.fragment,r),t=!1},d(r){Xe(e,r)}}}function ln(s){const e=gt();return[()=>{e("close")},()=>{e("created")}]}class rn extends Ze{constructor(e){super(),et(this,e,ln,tn,tt,{})}}function Hr(s,e,t){const r=s.slice();return r[5]=e[t],r}function on(s){let e,t=[],r=new Map,n,u=s[4];const a=i=>i[5].id;for(let i=0;i<u.length;i+=1){let p=Hr(s,u,i),m=a(p);r.set(m,t[i]=Rr(m,p))}return{c(){e=f("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=h(i,"DIV",{class:!0});var p=d(e);for(let m=0;m<t.length;m+=1)t[m].l(p);p.forEach(c),this.h()},h(){l(e,"class","grid grid-cols-1 md:grid-cols-3 gap-4")},m(i,p){q(i,e,p);for(let m=0;m<t.length;m+=1)t[m].m(e,null);n=!0},p(i,p){p&1040&&(u=i[4],Vt(),t=Ql(t,p,a,1,i,u,r,e,ro,Rr,null,Hr),Pt())},i(i){if(!n){for(let p=0;p<u.length;p+=1)de(t[p]);n=!0}},o(i){for(let p=0;p<t.length;p+=1)Ee(t[p]);n=!1},d(i){i&&c(e);for(let p=0;p<t.length;p+=1)t[p].d()}}}function nn(s){let e,t,r,n,u;return{c(){e=f("div"),t=f("div"),r=y(),n=f("p"),u=S("Caricamento in corso..."),this.h()},l(a){e=h(a,"DIV",{class:!0});var i=d(e);t=h(i,"DIV",{class:!0}),d(t).forEach(c),r=N(i),n=h(i,"P",{class:!0});var p=d(n);u=T(p,"Caricamento in corso..."),p.forEach(c),i.forEach(c),this.h()},h(){l(t,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),l(n,"class","mt-4 text-xl font-bold font-mono"),l(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(a,i){q(a,e,i),o(e,t),o(e,r),o(e,n),o(n,u)},p:we,i:we,o:we,d(a){a&&c(e)}}}function Rr(s,e){let t,r,n;return r=new mo({props:{turbine:e[5]}}),r.$on("showDetails",e[10]),{key:s,first:null,c(){t=Et(),Ge(r.$$.fragment),this.h()},l(u){t=Et(),Je(r.$$.fragment,u),this.h()},h(){this.first=t},m(u,a){q(u,t,a),Qe(r,u,a),n=!0},p(u,a){e=u;const i={};a&16&&(i.turbine=e[5]),r.$set(i)},i(u){n||(de(r.$$.fragment,u),n=!0)},o(u){Ee(r.$$.fragment,u),n=!1},d(u){u&&c(t),Xe(r,u)}}}function Kr(s){let e,t,r,n,u;return t=new jo({props:{turbine:s[5]}}),t.$on("closeDetails",s[11]),t.$on("editMode",s[13]),t.$on("deleted",s[12]),{c(){e=f("div"),Ge(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var i=d(e);Je(t.$$.fragment,i),i.forEach(c),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(a,i){q(a,e,i),Qe(t,e,null),r=!0,n||(u=[V(e,"click",s[11]),V(e,"keydown",s[11])],n=!0)},p(a,i){const p={};i&32&&(p.turbine=a[5]),t.$set(p)},i(a){r||(de(t.$$.fragment,a),r=!0)},o(a){Ee(t.$$.fragment,a),r=!1},d(a){a&&c(e),Xe(t),n=!1,qe(u)}}}function qr(s){let e,t,r,n,u;return t=new en({props:{turbine:s[5]}}),t.$on("close",s[21]),t.$on("updated",s[16]),{c(){e=f("div"),Ge(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var i=d(e);Je(t.$$.fragment,i),i.forEach(c),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(a,i){q(a,e,i),Qe(t,e,null),r=!0,n||(u=[V(e,"click",s[11]),V(e,"keydown",s[11])],n=!0)},p(a,i){const p={};i&32&&(p.turbine=a[5]),t.$set(p)},i(a){r||(de(t.$$.fragment,a),r=!0)},o(a){Ee(t.$$.fragment,a),r=!1},d(a){a&&c(e),Xe(t),n=!1,qe(u)}}}function Yr(s){let e,t,r,n,u;return t=new rn({}),t.$on("close",s[22]),t.$on("created",s[15]),{c(){e=f("div"),Ge(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var i=d(e);Je(t.$$.fragment,i),i.forEach(c),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(a,i){q(a,e,i),Qe(t,e,null),r=!0,n||(u=[V(e,"click",s[11]),V(e,"keydown",s[11])],n=!0)},p:we,i(a){r||(de(t.$$.fragment,a),r=!0)},o(a){Ee(t.$$.fragment,a),r=!1},d(a){a&&c(e),Xe(t),n=!1,qe(u)}}}function sn(s){let e,t,r,n,u,a,i,p,m,v,w,_,g,b,k,O,E,D,I,x,j,H,J,te,R,C,U,z,le,ye,G,se,Le,M,X,Me,ge,ae,Se,We,Z,ie,be,xe,Ae,Ne,me,Be,fe,ve;const Oe=[nn,on],pe=[];function Ve(B,$){return B[0].length===0?0:1}ie=Ve(s),be=pe[ie]=Oe[ie](s);let re=s[6]&&Kr(s),he=s[7]&&qr(s),A=s[8]&&Yr(s);return{c(){e=f("div"),t=f("section"),r=f("div"),n=f("input"),u=y(),a=f("input"),i=y(),p=f("div"),m=f("select"),v=f("option"),w=S("Tutte"),_=f("option"),g=S("In corso"),b=f("option"),k=S("Cantieri chiusi"),O=y(),E=f("div"),D=F("svg"),I=F("path"),x=y(),j=f("div"),H=f("p"),J=S(s[9]),te=S(" risultati"),R=y(),C=f("div"),U=f("button"),z=F("svg"),le=F("path"),ye=F("polyline"),G=F("line"),se=F("line"),Le=F("polyline"),X=y(),Me=f("button"),ge=F("svg"),ae=F("line"),Se=F("line"),We=y(),Z=f("section"),be.c(),xe=y(),re&&re.c(),Ae=y(),he&&he.c(),Ne=y(),A&&A.c(),this.h()},l(B){e=h(B,"DIV",{});var $=d(e);t=h($,"SECTION",{class:!0});var K=d(t);r=h(K,"DIV",{class:!0});var P=d(r);n=h(P,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),u=N(P),a=h(P,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=N(P),p=h(P,"DIV",{class:!0});var Q=d(p);m=h(Q,"SELECT",{class:!0});var _e=d(m);v=h(_e,"OPTION",{});var Ue=d(v);w=T(Ue,"Tutte"),Ue.forEach(c),_=h(_e,"OPTION",{});var $e=d(_);g=T($e,"In corso"),$e.forEach(c),b=h(_e,"OPTION",{});var De=d(b);k=T(De,"Cantieri chiusi"),De.forEach(c),_e.forEach(c),O=N(Q),E=h(Q,"DIV",{class:!0});var oe=d(E);D=W(oe,"svg",{class:!0,xmlns:!0,viewBox:!0});var lt=d(D);I=W(lt,"path",{d:!0}),d(I).forEach(c),lt.forEach(c),oe.forEach(c),Q.forEach(c),P.forEach(c),K.forEach(c),x=N($),j=h($,"DIV",{class:!0});var Ce=d(j);H=h(Ce,"P",{class:!0});var Ie=d(H);J=T(Ie,s[9]),te=T(Ie," risultati"),Ie.forEach(c),R=N(Ce),C=h(Ce,"DIV",{class:!0});var L=d(C);U=h(L,"BUTTON",{class:!0});var ce=d(U);z=W(ce,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Pe=d(z);le=W(Pe,"path",{d:!0}),d(le).forEach(c),ye=W(Pe,"polyline",{points:!0}),d(ye).forEach(c),G=W(Pe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(G).forEach(c),se=W(Pe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(se).forEach(c),Le=W(Pe,"polyline",{points:!0}),d(Le).forEach(c),Pe.forEach(c),ce.forEach(c),X=N(L),Me=h(L,"BUTTON",{class:!0});var ee=d(Me);ge=W(ee,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Te=d(ge);ae=W(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ae).forEach(c),Se=W(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Se).forEach(c),Te.forEach(c),ee.forEach(c),L.forEach(c),Ce.forEach(c),We=N($),Z=h($,"SECTION",{class:!0});var je=d(Z);be.l(je),xe=N(je),re&&re.l(je),Ae=N(je),he&&he.l(je),Ne=N(je),A&&A.l(je),je.forEach(c),$.forEach(c),this.h()},h(){l(n,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(n,"type","text"),l(n,"id","turbineName"),l(n,"name","turbineName"),l(n,"placeholder","Cerca"),l(a,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(a,"type","text"),l(a,"id","turbineName"),l(a,"name","turbineName"),l(a,"placeholder","Anno"),v.__value="ALL",v.value=v.__value,_.__value="ONLY_INCOMPLETE",_.value=_.__value,b.__value="ONLY_COMPLETED",b.value=b.__value,l(m,"class","w-full min-w-1/2 min-w-[12rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),s[3]===void 0&&st(()=>s[20].call(m)),l(I,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(D,"class","w-6 h-6 text-white fill-current"),l(D,"xmlns","http://www.w3.org/2000/svg"),l(D,"viewBox","0 0 20 20"),l(E,"class","absolute top-2 right-2 font-bold"),l(p,"class","relative"),l(r,"class","flex flex-col md:flex-row gap-3 md:items-center font-mono"),l(t,"class","mt-5 md:ml-5"),l(H,"class","font-mono text-lg"),l(le,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),l(ye,"points","14 2 14 8 20 8"),l(G,"x1","16"),l(G,"y1","13"),l(G,"x2","8"),l(G,"y2","13"),l(se,"x1","16"),l(se,"y1","17"),l(se,"x2","8"),l(se,"y2","17"),l(Le,"points","10 9 9 9 8 9"),l(z,"xmlns","http://www.w3.org/2000/svg"),l(z,"width","22"),l(z,"height","22"),l(z,"viewBox","0 0 24 24"),l(z,"fill","none"),l(z,"stroke","currentColor"),l(z,"stroke-width","2"),l(z,"stroke-linecap","round"),l(z,"stroke-linejoin","round"),l(z,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),l(U,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),U.disabled=M=s[0].length===0,l(ae,"x1","12"),l(ae,"y1","5"),l(ae,"x2","12"),l(ae,"y2","19"),l(Se,"x1","5"),l(Se,"y1","12"),l(Se,"x2","19"),l(Se,"y2","12"),l(ge,"xmlns","http://www.w3.org/2000/svg"),l(ge,"width","22"),l(ge,"height","22"),l(ge,"viewBox","0 0 24 24"),l(ge,"fill","none"),l(ge,"stroke","currentColor"),l(ge,"stroke-width","2"),l(ge,"stroke-linecap","round"),l(ge,"stroke-linejoin","round"),l(ge,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),l(Me,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),l(C,"class","justify-end flex flex-row gap-4"),l(j,"class","flex flex-row justify-between items-center mt-6 mb-4 mx-1 md:mx-6"),l(Z,"class","min-h-[20rem] max-h-[20rem] md:min-h-[35rem] md:max-h-[35rem] px-2 overflow-y-scroll scrollable ring-2 ring-gray-600 rounded-sm svelte-d0a6yq")},m(B,$){q(B,e,$),o(e,t),o(t,r),o(r,n),Il(n,s[1]),o(r,u),o(r,a),Il(a,s[2]),o(r,i),o(r,p),o(p,m),o(m,v),o(v,w),o(m,_),o(_,g),o(m,b),o(b,k),Ir(m,s[3]),o(p,O),o(p,E),o(E,D),o(D,I),o(e,x),o(e,j),o(j,H),o(H,J),o(H,te),o(j,R),o(j,C),o(C,U),o(U,z),o(z,le),o(z,ye),o(z,G),o(z,se),o(z,Le),o(C,X),o(C,Me),o(Me,ge),o(ge,ae),o(ge,Se),o(e,We),o(e,Z),pe[ie].m(Z,null),o(Z,xe),re&&re.m(Z,null),o(Z,Ae),he&&he.m(Z,null),o(Z,Ne),A&&A.m(Z,null),Be=!0,fe||(ve=[V(n,"input",s[18]),V(a,"input",s[19]),V(m,"change",s[20]),V(U,"click",s[17]),V(Me,"click",s[14])],fe=!0)},p(B,[$]){$&2&&n.value!==B[1]&&Il(n,B[1]),$&4&&a.value!==B[2]&&Il(a,B[2]),$&8&&Ir(m,B[3]),(!Be||$&512)&&ne(J,B[9]),(!Be||$&1&&M!==(M=B[0].length===0))&&(U.disabled=M);let K=ie;ie=Ve(B),ie===K?pe[ie].p(B,$):(Vt(),Ee(pe[K],1,1,()=>{pe[K]=null}),Pt(),be=pe[ie],be?be.p(B,$):(be=pe[ie]=Oe[ie](B),be.c()),de(be,1),be.m(Z,xe)),B[6]?re?(re.p(B,$),$&64&&de(re,1)):(re=Kr(B),re.c(),de(re,1),re.m(Z,Ae)):re&&(Vt(),Ee(re,1,1,()=>{re=null}),Pt()),B[7]?he?(he.p(B,$),$&128&&de(he,1)):(he=qr(B),he.c(),de(he,1),he.m(Z,Ne)):he&&(Vt(),Ee(he,1,1,()=>{he=null}),Pt()),B[8]?A?(A.p(B,$),$&256&&de(A,1)):(A=Yr(B),A.c(),de(A,1),A.m(Z,null)):A&&(Vt(),Ee(A,1,1,()=>{A=null}),Pt())},i(B){Be||(de(be),de(re),de(he),de(A),st(()=>{me||(me=Tl(e,dt,{duration:200},!0)),me.run(1)}),Be=!0)},o(B){Ee(be),Ee(re),Ee(he),Ee(A),me||(me=Tl(e,dt,{duration:200},!1)),me.run(0),Be=!1},d(B){B&&c(e),pe[ie].d(),re&&re.d(),he&&he.d(),A&&A.d(),B&&me&&me.end(),fe=!1,qe(ve)}}}function an(s,e,t){let r,n,u=!1,a={},i=[];Jl(()=>{tl().then(C=>{t(0,i=C)})});const p=C=>{const U=C.detail;t(5,a=i.find(z=>z.id===U)),t(6,u=!0),t(7,w=!1)},m=()=>{tl().then(C=>{t(0,i=C),t(6,u=!1)})},v=()=>{t(6,u=!1),tl().then(C=>{t(0,i=C)})};let w=!1;const _=C=>{const U=C.detail;t(5,a=i.find(z=>z.id===U)),t(6,u=!1),t(7,w=!0)};let g=!1;const b=()=>{t(8,g=!0),t(6,u=!1),t(7,w=!1)},k=()=>{t(8,g=!1),t(6,u=!1),t(7,w=!1),tl().then(C=>{console.log("Updating with: ",C),t(0,i=C)})},O=()=>{tl().then(C=>{t(0,i=C),t(7,w=!1)})},E=()=>{i.length>0&&wo().then(C=>{const U=new Blob([C.data],{type:"text/csv"}),z=window.URL.createObjectURL(U),le=document.createElement("a");le.href=z,le.download="export.csv",le.click()})};let D="",I="",x="ALL";function j(){D=this.value,t(1,D)}function H(){I=this.value,t(2,I)}function J(){x=lo(this),t(3,x)}const te=()=>t(7,w=!1),R=()=>t(8,g=!1);return s.$$.update=()=>{s.$$.dirty&15&&t(4,r=i.filter(C=>(C.description.toLowerCase().includes(D.toLowerCase())||C.turbineName.toLowerCase().includes(D.toLowerCase())||C.turbineNumber.toLowerCase().includes(D.toLowerCase()))&&C.creationDate.includes(I)&&(x==="ALL"||x==="ONLY_INCOMPLETE"&&!C.completionDate||x==="ONLY_COMPLETED"&&C.completionDate))),s.$$.dirty&16&&t(9,n=r.length)},[i,D,I,x,r,a,u,w,g,n,p,m,v,_,b,k,O,E,j,H,J,te,R]}class dn extends Ze{constructor(e){super(),et(this,e,an,sn,tt,{})}}export{dn as default};
