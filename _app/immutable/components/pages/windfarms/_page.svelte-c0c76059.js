import{P as oo,S as Ge,i as Je,s as Qe,k as h,a as y,q as T,l as p,m as d,h as u,c as N,r as O,n as l,b as Q,C as o,u as _e,B as Te,Q as Zr,e as ct,w as He,E as W,x as Ke,F,y as qe,G as M,O as Cl,f as ve,R as lt,T as Dt,t as Ie,z as Ye,H as $e,D as vt,U as Ir,V as no,o as Xl,W as Zl,X as eo,Y as tt,g as At,d as Bt,Z as Nt,_ as it,$ as Tl,a0 as Ol,a1 as Sl,a2 as Sr,a3 as so}from"../../../chunks/index-38a06d27.js";import{a as Lt}from"../../../chunks/axios-67252f11.js";function ao(n){const e=n-1;return e*e*e+1}function to(n,{delay:e=0,duration:t=400,easing:r=oo}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:a=>`opacity: ${a*s}`}}function ut(n,{delay:e=0,duration:t=400,easing:r=ao}={}){const s=getComputedStyle(n),a=+s.opacity,i=parseFloat(s.height),c=parseFloat(s.paddingTop),f=parseFloat(s.paddingBottom),v=parseFloat(s.marginTop),m=parseFloat(s.marginBottom),_=parseFloat(s.borderTopWidth),w=parseFloat(s.borderBottomWidth);return{delay:e,duration:t,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*a};height: ${g*i}px;padding-top: ${g*c}px;padding-bottom: ${g*f}px;margin-top: ${g*v}px;margin-bottom: ${g*m}px;border-top-width: ${g*_}px;border-bottom-width: ${g*w}px;`}}const Gt={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Tr(n,e,t){const r=n.slice();return r[4]=e[t],r[6]=t,r}function io(n){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-gray-500 h-full w-full rounded")},m(t,r){Q(t,e,r)},d(t){t&&u(e)}}}function co(n){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-blue-800 h-full w-full rounded")},m(t,r){Q(t,e,r)},d(t){t&&u(e)}}}function uo(n){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-blue-500 h-full w-full rounded")},m(t,r){Q(t,e,r)},d(t){t&&u(e)}}}function Or(n){let e;function t(a,i){return a[6]<a[0]?uo:a[6]===a[0]?co:io}let r=t(n),s=r(n);return{c(){s.c(),e=ct()},l(a){s.l(a),e=ct()},m(a,i){s.m(a,i),Q(a,e,i)},p(a,i){r!==(r=t(a))&&(s.d(1),s=r(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s.d(a),a&&u(e)}}}function fo(n){let e,t,r,s,a=(n[1]||"Cantiere chiuso")+"",i,c=Array(n[2]),f=[];for(let v=0;v<c.length;v+=1)f[v]=Or(Tr(n,c,v));return{c(){e=h("div"),t=h("div");for(let v=0;v<f.length;v+=1)f[v].c();r=y(),s=h("span"),i=T(a),this.h()},l(v){e=p(v,"DIV",{class:!0});var m=d(e);t=p(m,"DIV",{class:!0});var _=d(t);for(let g=0;g<f.length;g+=1)f[g].l(_);_.forEach(u),r=N(m),s=p(m,"SPAN",{class:!0});var w=d(s);i=O(w,a),w.forEach(u),m.forEach(u),this.h()},h(){l(t,"class","transition duration-300 ease-in-out transform flex flex-row h-7 w-full lg:w-3/4 gap-0.5"),l(s,"class","absolute font-bold text-lg flex pl-2"),l(e,"class","flex")},m(v,m){Q(v,e,m),o(e,t);for(let _=0;_<f.length;_+=1)f[_].m(t,null);o(e,r),o(e,s),o(s,i)},p(v,[m]){if(m&1){c=Array(v[2]);let _;for(_=0;_<c.length;_+=1){const w=Tr(v,c,_);f[_]?f[_].p(w,m):(f[_]=Or(w),f[_].c(),f[_].m(t,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=c.length}m&2&&a!==(a=(v[1]||"Cantiere chiuso")+"")&&_e(i,a)},i:Te,o:Te,d(v){v&&u(e),Zr(f,v)}}}function ho(n,e,t){let r,{completedSteps:s=0}=e,{creationDate:a=""}=e,i=a.includes("2022")?7:8;return n.$$set=c=>{"completedSteps"in c&&t(0,s=c.completedSteps),"creationDate"in c&&t(3,a=c.creationDate)},n.$$.update=()=>{n.$$.dirty&9&&t(1,r=a.includes("2022")?Gt[s+2]:Gt[s+1])},[s,r,i,a]}class po extends Ge{constructor(e){super(),Je(this,e,ho,fo,Qe,{completedSteps:0,creationDate:3})}}function Cr(n){let e,t,r=n[0].turbineNumber+"",s;return{c(){e=h("span"),t=T("- "),s=T(r),this.h()},l(a){e=p(a,"SPAN",{class:!0});var i=d(e);t=O(i,"- "),s=O(i,r),i.forEach(u),this.h()},h(){l(e,"class","hidden md:inline-block")},m(a,i){Q(a,e,i),o(e,t),o(e,s)},p(a,i){i&1&&r!==(r=a[0].turbineNumber+"")&&_e(s,r)},d(a){a&&u(e)}}}function go(n){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","hidden md:flex col-span-2")},m(t,r){Q(t,e,r)},p:Te,d(t){t&&u(e)}}}function vo(n){let e,t,r,s=n[0].odlNumber+"",a;return{c(){e=h("p"),t=T("ODL: "),r=h("span"),a=T(s),this.h()},l(i){e=p(i,"P",{class:!0});var c=d(e);t=O(c,"ODL: "),r=p(c,"SPAN",{class:!0});var f=d(r);a=O(f,s),f.forEach(u),c.forEach(u),this.h()},h(){l(r,"class","text-blue-400"),l(e,"class","flex md:justify-end")},m(i,c){Q(i,e,c),o(e,t),o(e,r),o(r,a)},p(i,c){c&1&&s!==(s=i[0].odlNumber+"")&&_e(a,s)},d(i){i&&u(e)}}}function Mr(n){let e,t,r=n[0].operation[0]+"",s,a,i;return{c(){e=h("div"),t=h("p"),s=T(r),this.h()},l(c){e=p(c,"DIV",{class:!0});var f=d(e);t=p(f,"P",{});var v=d(t);s=O(v,r),v.forEach(u),f.forEach(u),this.h()},h(){l(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 left-10 cursor-default")},m(c,f){Q(c,e,f),o(e,t),o(t,s),a||(i=[M(e,"mouseover",n[7]),M(e,"focus",n[8]),M(e,"mouseleave",n[9]),M(e,"focusout",n[10])],a=!0)},p(c,f){f&1&&r!==(r=c[0].operation[0]+"")&&_e(s,r)},d(c){c&&u(e),a=!1,$e(i)}}}function mo(n){let e,t;return{c(){e=h("span"),t=T("Non disponibile"),this.h()},l(r){e=p(r,"SPAN",{class:!0});var s=d(e);t=O(s,"Non disponibile"),s.forEach(u),this.h()},h(){l(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(r,s){Q(r,e,s),o(e,t)},p:Te,d(r){r&&u(e)}}}function _o(n){let e,t,r,s;return{c(){e=h("div"),t=h("span"),r=T(n[1]),this.h()},l(a){e=p(a,"DIV",{class:!0});var i=d(e);t=p(i,"SPAN",{class:!0});var c=d(t);r=O(c,n[1]),c.forEach(u),i.forEach(u),this.h()},h(){l(t,"class",s=n[4]?"text-red-500":""),l(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(a,i){Q(a,e,i),o(e,t),o(t,r)},p(a,i){i&2&&_e(r,a[1]),i&16&&s!==(s=a[4]?"text-red-500":"")&&l(t,"class",s)},d(a){a&&u(e)}}}function bo(n){let e,t,r,s,a=n[0].turbineName+"",i,c,f,v,m,_,w,g,b,E,C,k,D,I,V,A,$=n[0].description+"",R,le,G,x,z,ee,L,B,j,oe,K,te,X,we=n[0].turbineState+"",S,H,Ee,Ne,De,me,Pe,ae,Oe=(n[1]||"N/A")+"",ue,Ve,ie,q,se,U,Y,he,Le,We,ne,pe,ye,J=n[0].turbineNumber&&Cr(n);m=new po({props:{completedSteps:n[0].completedSteps,creationDate:n[0].creationDate}});function P(re,ge){return re[0].odlNumber!==void 0&&re[0].odlNumber!==0?vo:go}let ce=P(n),be=ce(n),de=n[2]&&Mr(n);function Ue(re,ge){return re[1]?_o:mo}let Ce=Ue(n),Me=Ce(n);return{c(){e=h("div"),t=h("div"),r=h("div"),s=h("h1"),i=T(a),c=y(),J&&J.c(),f=y(),v=h("div"),He(m.$$.fragment),_=y(),w=h("div"),g=y(),b=h("div"),E=y(),C=h("div"),k=W("svg"),D=W("path"),I=W("circle"),V=y(),A=h("span"),R=T($),le=y(),be.c(),G=y(),x=h("div"),z=W("svg"),ee=W("path"),L=W("rect"),B=y(),de&&de.c(),j=y(),oe=h("span"),K=T(n[3]),te=y(),X=h("span"),S=T(we),H=y(),Ee=h("span"),Ne=T("Scadenza cantiere:"),De=y(),me=h("span"),Pe=T("Scadenza: "),ae=h("span"),ue=T(Oe),Ve=y(),Me.c(),ie=y(),q=h("div"),se=h("div"),U=h("button"),Y=W("svg"),he=W("path"),Le=W("path"),this.h()},l(re){e=p(re,"DIV",{class:!0});var ge=d(e);t=p(ge,"DIV",{class:!0});var ze=d(t);r=p(ze,"DIV",{class:!0});var ke=d(r);s=p(ke,"H1",{class:!0});var rt=d(s);i=O(rt,a),c=N(rt),J&&J.l(rt),rt.forEach(u),f=N(ke),v=p(ke,"DIV",{class:!0});var Xe=d(v);Ke(m.$$.fragment,Xe),Xe.forEach(u),_=N(ke),w=p(ke,"DIV",{class:!0}),d(w).forEach(u),g=N(ke),b=p(ke,"DIV",{class:!0}),d(b).forEach(u),E=N(ke),C=p(ke,"DIV",{class:!0});var Fe=d(C);k=F(Fe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Be=d(k);D=F(Be,"path",{d:!0}),d(D).forEach(u),I=F(Be,"circle",{cx:!0,cy:!0,r:!0}),d(I).forEach(u),Be.forEach(u),V=N(Fe),A=p(Fe,"SPAN",{});var nt=d(A);R=O(nt,$),nt.forEach(u),Fe.forEach(u),le=N(ke),be.l(ke),G=N(ke),x=p(ke,"DIV",{class:!0});var xe=d(x);z=F(xe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Re=d(z);ee=F(Re,"path",{d:!0}),d(ee).forEach(u),L=F(Re,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(L).forEach(u),Re.forEach(u),B=N(xe),de&&de.l(xe),j=N(xe),oe=p(xe,"SPAN",{class:!0});var dt=d(oe);K=O(dt,n[3]),dt.forEach(u),xe.forEach(u),te=N(ke),X=p(ke,"SPAN",{class:!0});var ot=d(X);S=O(ot,we),ot.forEach(u),H=N(ke),Ee=p(ke,"SPAN",{class:!0});var ft=d(Ee);Ne=O(ft,"Scadenza cantiere:"),ft.forEach(u),De=N(ke),me=p(ke,"SPAN",{class:!0});var ht=d(me);Pe=O(ht,"Scadenza: "),ae=p(ht,"SPAN",{class:!0});var It=d(ae);ue=O(It,Oe),It.forEach(u),ht.forEach(u),Ve=N(ke),Me.l(ke),ke.forEach(u),ie=N(ze),q=p(ze,"DIV",{class:!0});var zt=d(q);se=p(zt,"DIV",{class:!0});var st=d(se);U=p(st,"BUTTON",{class:!0});var pt=d(U);Y=F(pt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var St=d(Y);he=F(St,"path",{d:!0}),d(he).forEach(u),Le=F(St,"path",{d:!0}),d(Le).forEach(u),St.forEach(u),pt.forEach(u),st.forEach(u),zt.forEach(u),ze.forEach(u),ge.forEach(u),this.h()},h(){l(s,"class","font-bold text-4xl mt-3 col-span-1 md:col-span-2"),l(v,"class","col-span-1 md:col-span-2"),l(w,"class","col-span-1"),l(b,"class","hidden md:flex"),l(D,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),l(I,"cx","12"),l(I,"cy","10"),l(I,"r","3"),l(k,"xmlns","http://www.w3.org/2000/svg"),l(k,"width","24"),l(k,"height","24"),l(k,"viewBox","0 0 24 24"),l(k,"fill","none"),l(k,"stroke","currentColor"),l(k,"stroke-width","2"),l(k,"stroke-linecap","round"),l(k,"stroke-linejoin","round"),l(k,"class","feather feather-map-pin"),l(C,"class","flex gap-2 md:-mb-2"),l(ee,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),l(L,"x","8"),l(L,"y","2"),l(L,"width","8"),l(L,"height","4"),l(L,"rx","1"),l(L,"ry","1"),l(z,"xmlns","http://www.w3.org/2000/svg"),l(z,"width","24"),l(z,"height","24"),l(z,"viewBox","0 0 24 24"),l(z,"fill","none"),l(z,"stroke","currentColor"),l(z,"stroke-width","2"),l(z,"stroke-linecap","round"),l(z,"stroke-linejoin","round"),l(z,"class","feather feather-clipboard"),l(oe,"class","flex select-none"),l(x,"class","flex gap-2"),l(X,"class","flex md:justify-end font-bold"),l(Ee,"class","font-mono hidden xl:flex"),l(ae,"class","font-bold"),l(me,"class","font-mono flex xl:hidden"),l(r,"class","grid grid-cols-1 text-white font-mono gap-3"),l(he,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),l(Le,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),l(Y,"xmlns","http://www.w3.org/2000/svg"),l(Y,"width","22"),l(Y,"height","22"),l(Y,"viewBox","0 0 24 24"),l(Y,"fill","none"),l(Y,"stroke","currentColor"),l(Y,"stroke-width","2"),l(Y,"stroke-linecap","round"),l(Y,"stroke-linejoin","round"),l(Y,"class","feather feather-book-open"),l(U,"class","py-2 px-2 hover:bg-gray-400 rounded-full group"),l(se,"class","flex flex-col md:flex-row gap-2 md:gap-0"),l(q,"class","absolute top-0 right-0 mr-2 mt-2"),l(t,"class","bg-gray-800 px-4 my-2 mx-2 md:mx-0 rounded-sm shadow-md hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto md:h-68 xl:h-56 pb-5 content-start"),l(e,"class","snap-start pt-1")},m(re,ge){Q(re,e,ge),o(e,t),o(t,r),o(r,s),o(s,i),o(s,c),J&&J.m(s,null),o(r,f),o(r,v),qe(m,v,null),o(r,_),o(r,w),o(r,g),o(r,b),o(r,E),o(r,C),o(C,k),o(k,D),o(k,I),o(C,V),o(C,A),o(A,R),o(r,le),be.m(r,null),o(r,G),o(r,x),o(x,z),o(z,ee),o(z,L),o(x,B),de&&de.m(x,null),o(x,j),o(x,oe),o(oe,K),o(r,te),o(r,X),o(X,S),o(r,H),o(r,Ee),o(Ee,Ne),o(r,De),o(r,me),o(me,Pe),o(me,ae),o(ae,ue),o(r,Ve),Me.m(r,null),o(t,ie),o(t,q),o(q,se),o(se,U),o(U,Y),o(Y,he),o(Y,Le),ne=!0,pe||(ye=[M(x,"mouseover",n[11]),M(x,"focus",n[12]),M(x,"mouseleave",n[13]),M(x,"focusout",n[14]),M(U,"click",Cl(n[5]))],pe=!0)},p(re,[ge]){(!ne||ge&1)&&a!==(a=re[0].turbineName+"")&&_e(i,a),re[0].turbineNumber?J?J.p(re,ge):(J=Cr(re),J.c(),J.m(s,null)):J&&(J.d(1),J=null);const ze={};ge&1&&(ze.completedSteps=re[0].completedSteps),ge&1&&(ze.creationDate=re[0].creationDate),m.$set(ze),(!ne||ge&1)&&$!==($=re[0].description+"")&&_e(R,$),ce===(ce=P(re))&&be?be.p(re,ge):(be.d(1),be=ce(re),be&&(be.c(),be.m(r,G))),re[2]?de?de.p(re,ge):(de=Mr(re),de.c(),de.m(x,j)):de&&(de.d(1),de=null),(!ne||ge&8)&&_e(K,re[3]),(!ne||ge&1)&&we!==(we=re[0].turbineState+"")&&_e(S,we),(!ne||ge&2)&&Oe!==(Oe=(re[1]||"N/A")+"")&&_e(ue,Oe),Ce===(Ce=Ue(re))&&Me?Me.p(re,ge):(Me.d(1),Me=Ce(re),Me&&(Me.c(),Me.m(r,null)))},i(re){ne||(ve(m.$$.fragment,re),We||lt(()=>{We=Dt(t,ut,{duration:1e3}),We.start()}),ne=!0)},o(re){Ie(m.$$.fragment,re),ne=!1},d(re){re&&u(e),J&&J.d(),Ye(m),be.d(),de&&de.d(),Me.d(),pe=!1,$e(ye)}}}function wo(n,e,t){let r,s,a,i,{turbine:c={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const f=vt(),v=()=>{f("showDetails",c.id)};let m=!1;const _=()=>t(2,m=!0),w=()=>t(2,m=!0),g=()=>t(2,m=!1),b=()=>t(2,m=!1),E=()=>t(2,m=!0),C=()=>t(2,m=!0),k=()=>t(2,m=!1),D=()=>t(2,m=!1);return n.$$set=I=>{"turbine"in I&&t(0,c=I.turbine)},n.$$.update=()=>{n.$$.dirty&1&&t(6,r=c.creationDate.includes("2022")?Gt[c.completedSteps+2]:Gt[c.completedSteps+1]),n.$$.dirty&65&&(r===Gt[3]?c.priorNotification:r===Gt[4]&&c.permittingDate),n.$$.dirty&1&&t(1,s=c.permittingDate?new Date(new Date(c.permittingDate).getTime()+90*24*60*60*1e3).toLocaleDateString("it-IT"):null),n.$$.dirty&3&&t(4,a=s&&new Date(c.permittingDate).getTime()+90*24*60*60*1e3<new Date().getTime()),n.$$.dirty&1&&t(3,i=c.operation[0]?c.operation[0].length>16?c.operation[0].substring(0,14)+"...":c.operation[0]:"")},[c,s,m,i,a,v,r,_,w,g,b,E,C,k,D]}class ko extends Ge{constructor(e){super(),Je(this,e,wo,bo,Qe,{turbine:0})}}const ol="https://dockyard-handler.herokuapp.com/v1.0.0";async function rl(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Lt.get(ol+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function Eo(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Lt.delete(ol+"/event?eventId="+n,t)}else console.log("Token not found in local storage")}async function yo(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Lt.post(ol+"/event",n,t)}else console.log("Token not found in local storage")}async function No(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(n)),await Lt.put(ol+"/event",n,t)}else console.log("Token not found in local storage")}async function Do(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Lt.get(ol+"/events/csv",e)}else console.log("Token not found in local storage")}function Vr(n){let e,t,r,s,a=(n[0].startingDateEEMM||"____/__/__")+"",i,c,f,v,m,_=(n[0].startingDateOOCC||"____/__/__")+"",w;return{c(){e=h("div"),t=h("p"),r=T("Inizio ATT EEMM: "),s=h("span"),i=T(a),c=y(),f=h("p"),v=T("Inizio ATT OOCC: "),m=h("span"),w=T(_),this.h()},l(g){e=p(g,"DIV",{class:!0});var b=d(e);t=p(b,"P",{class:!0});var E=d(t);r=O(E,"Inizio ATT EEMM: "),s=p(E,"SPAN",{class:!0});var C=d(s);i=O(C,a),C.forEach(u),E.forEach(u),c=N(b),f=p(b,"P",{class:!0});var k=d(f);v=O(k,"Inizio ATT OOCC: "),m=p(k,"SPAN",{class:!0});var D=d(m);w=O(D,_),D.forEach(u),k.forEach(u),b.forEach(u),this.h()},h(){l(s,"class","font-extralight"),l(t,"class","font-mono text-white text-lg"),l(m,"class","font-extralight"),l(f,"class","font-mono text-white text-lg"),l(e,"class","p-2 mb-2")},m(g,b){Q(g,e,b),o(e,t),o(t,r),o(t,s),o(s,i),o(e,c),o(e,f),o(f,v),o(f,m),o(m,w)},p(g,b){b&1&&a!==(a=(g[0].startingDateEEMM||"____/__/__")+"")&&_e(i,a),b&1&&_!==(_=(g[0].startingDateOOCC||"____/__/__")+"")&&_e(w,_)},d(g){g&&u(e)}}}function Io(n){let e,t,r,s,a,i,c,f,v,m,_,w=n[1]&&Vr(n);return{c(){e=h("button"),t=W("svg"),r=W("circle"),s=W("polyline"),a=y(),i=h("h1"),c=T("Tracciamento eventi"),f=y(),w&&w.c(),v=ct(),this.h()},l(g){e=p(g,"BUTTON",{class:!0});var b=d(e);t=F(b,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var E=d(t);r=F(E,"circle",{cx:!0,cy:!0,r:!0}),d(r).forEach(u),s=F(E,"polyline",{points:!0}),d(s).forEach(u),E.forEach(u),a=N(b),i=p(b,"H1",{class:!0});var C=d(i);c=O(C,"Tracciamento eventi"),C.forEach(u),b.forEach(u),f=N(g),w&&w.l(g),v=ct(),this.h()},h(){l(r,"cx","12"),l(r,"cy","12"),l(r,"r","10"),l(s,"points","12 6 12 12 16 14"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-clock"),l(i,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(g,b){Q(g,e,b),o(e,t),o(t,r),o(t,s),o(e,a),o(e,i),o(i,c),Q(g,f,b),w&&w.m(g,b),Q(g,v,b),m||(_=M(e,"click",Cl(n[2])),m=!0)},p(g,[b]){g[1]?w?w.p(g,b):(w=Vr(g),w.c(),w.m(v.parentNode,v)):w&&(w.d(1),w=null)},i:Te,o:Te,d(g){g&&u(e),g&&u(f),w&&w.d(g),g&&u(v),m=!1,_()}}}function So(n,e,t){let{turbine:r}=e,s=!1;const a=()=>t(1,s=!s);return n.$$set=i=>{"turbine"in i&&t(0,r=i.turbine)},[r,s,a]}class To extends Ge{constructor(e){super(),Je(this,e,So,Io,Qe,{turbine:0})}}function Pr(n,e,t){const r=n.slice();return r[3]=e[t],r}function Ar(n){let e,t,r=n[0].operation,s=[];for(let a=0;a<r.length;a+=1)s[a]=Br(Pr(n,r,a));return{c(){e=h("div"),t=h("ul");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=p(a,"DIV",{class:!0});var i=d(e);t=p(i,"UL",{class:!0});var c=d(t);for(let f=0;f<s.length;f+=1)s[f].l(c);c.forEach(u),i.forEach(u),this.h()},h(){l(t,"class","font-mono text-white text-lg"),l(e,"class","p-2")},m(a,i){Q(a,e,i),o(e,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null)},p(a,i){if(i&1){r=a[0].operation;let c;for(c=0;c<r.length;c+=1){const f=Pr(a,r,c);s[c]?s[c].p(f,i):(s[c]=Br(f),s[c].c(),s[c].m(t,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=r.length}},d(a){a&&u(e),Zr(s,a)}}}function Br(n){let e,t=n[3]+"",r,s;return{c(){e=h("li"),r=T(t),s=y(),this.h()},l(a){e=p(a,"LI",{class:!0});var i=d(e);r=O(i,t),s=N(i),i.forEach(u),this.h()},h(){l(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(a,i){Q(a,e,i),o(e,r),o(e,s)},p(a,i){i&1&&t!==(t=a[3]+"")&&_e(r,t)},d(a){a&&u(e)}}}function Oo(n){let e,t,r,s,a,i,c,f,v,m,_=n[1]&&Ar(n);return{c(){e=h("button"),t=W("svg"),r=W("path"),s=y(),a=h("h1"),i=T("Operazioni"),c=y(),_&&_.c(),f=ct(),this.h()},l(w){e=p(w,"BUTTON",{class:!0});var g=d(e);t=F(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var b=d(t);r=F(b,"path",{d:!0}),d(r).forEach(u),b.forEach(u),s=N(g),a=p(g,"H1",{class:!0});var E=d(a);i=O(E,"Operazioni"),E.forEach(u),g.forEach(u),c=N(w),_&&_.l(w),f=ct(),this.h()},h(){l(r,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-tool"),l(a,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(w,g){Q(w,e,g),o(e,t),o(t,r),o(e,s),o(e,a),o(a,i),Q(w,c,g),_&&_.m(w,g),Q(w,f,g),v||(m=M(e,"click",Cl(n[2])),v=!0)},p(w,[g]){w[1]?_?_.p(w,g):(_=Ar(w),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},i:Te,o:Te,d(w){w&&u(e),w&&u(c),_&&_.d(w),w&&u(f),v=!1,m()}}}function Co(n,e,t){let{turbine:r}=e,s=!1;const a=()=>t(1,s=!s);return n.$$set=i=>{"turbine"in i&&t(0,r=i.turbine)},[r,s,a]}class Mo extends Ge{constructor(e){super(),Je(this,e,Co,Oo,Qe,{turbine:0})}}const lo="https://dockyard-handler.herokuapp.com/v1.0.0";async function Lr(n){if(console.log("Retrieving steps for event "+n),typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Lt.get(lo+"/steps/"+n,t)).data}else console.log("Token not found in local storage")}async function Vo(n,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Lt.put(lo+"/step/complete?stepId="+n+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function zr(n,e,t){const r=n.slice();return r[6]=e[t],r}function Po(n){return{c:Te,l:Te,m:Te,p:Te,d:Te}}function Ao(n){let e=[],t=new Map,r,s=n[0];const a=i=>i[6].id;for(let i=0;i<s.length;i+=1){let c=zr(n,s,i),f=a(c);t.set(f,e[i]=Ur(f,c))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=ct()},l(i){for(let c=0;c<e.length;c+=1)e[c].l(i);r=ct()},m(i,c){for(let f=0;f<e.length;f+=1)e[f].m(i,c);Q(i,r,c)},p(i,c){c&7&&(s=i[0],e=Zl(e,c,a,1,i,s,t,r.parentNode,eo,Ur,r,zr))},d(i){for(let c=0;c<e.length;c+=1)e[c].d(i);i&&u(r)}}}function jr(n){let e,t,r,s,a,i,c;return{c(){e=h("div"),t=h("p"),r=T("Completato"),s=y(),a=W("svg"),i=W("path"),c=W("polyline"),this.h()},l(f){e=p(f,"DIV",{class:!0});var v=d(e);t=p(v,"P",{class:!0});var m=d(t);r=O(m,"Completato"),m.forEach(u),s=N(v),a=F(v,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var _=d(a);i=F(_,"path",{d:!0}),d(i).forEach(u),c=F(_,"polyline",{points:!0}),d(c).forEach(u),_.forEach(u),v.forEach(u),this.h()},h(){l(t,"class","font-bold uppercase"),l(i,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),l(c,"points","22 4 12 14.01 9 11.01"),l(a,"xmlns","http://www.w3.org/2000/svg"),l(a,"width","22"),l(a,"height","22"),l(a,"viewBox","0 0 24 24"),l(a,"fill","none"),l(a,"stroke","currentColor"),l(a,"stroke-width","2"),l(a,"stroke-linecap","round"),l(a,"stroke-linejoin","round"),l(a,"class","feather feather-check-circle text-green-500"),l(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(f,v){Q(f,e,v),o(e,t),o(t,r),o(e,s),o(e,a),o(a,i),o(a,c)},d(f){f&&u(e)}}}function Ur(n,e){let t,r,s,a,i,c,f,v=e[6].name+"",m,_,w=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,g,b,E;function C(){return e[4](e[6])}let k=w&&jr();return{key:n,first:null,c(){t=h("div"),r=h("input"),i=y(),c=h("div"),f=h("p"),m=T(v),_=y(),k&&k.c(),g=y(),this.h()},l(D){t=p(D,"DIV",{class:!0});var I=d(t);r=p(I,"INPUT",{type:!0,class:!0}),i=N(I),c=p(I,"DIV",{class:!0});var V=d(c);f=p(V,"P",{});var A=d(f);m=O(A,v),A.forEach(u),V.forEach(u),_=N(I),k&&k.l(I),g=N(I),I.forEach(u),this.h()},h(){l(r,"type","checkbox"),l(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=s=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=a=e[6].complete,l(c,"class","col-span-6 text-left"),l(t,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm"),this.first=t},m(D,I){Q(D,t,I),o(t,r),o(t,i),o(t,c),o(c,f),o(f,m),o(t,_),k&&k.m(t,null),o(t,g),b||(E=M(r,"click",C),b=!0)},p(D,I){e=D,I&3&&s!==(s=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=s),I&1&&a!==(a=e[6].complete)&&(r.checked=a),I&1&&v!==(v=e[6].name+"")&&_e(m,v),I&3&&(w=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),w?k||(k=jr(),k.c(),k.m(t,g)):k&&(k.d(1),k=null)},d(D){D&&u(t),k&&k.d(),b=!1,E()}}}function Bo(n){let e,t;return{c(){e=h("div"),t=T("Caricamento..."),this.h()},l(r){e=p(r,"DIV",{class:!0});var s=d(e);t=O(s,"Caricamento..."),s.forEach(u),this.h()},h(){l(e,"class","col-span-7 text-center")},m(r,s){Q(r,e,s),o(e,t)},p:Te,d(r){r&&u(e)}}}function Lo(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b={ctx:n,current:null,token:null,hasCatch:!1,pending:Bo,then:Ao,catch:Po,value:0};return Ir(_=n[0],b),{c(){e=h("div"),t=h("div"),r=W("svg"),s=W("path"),a=W("path"),i=y(),c=h("h1"),f=T("Tracciamento fasi"),v=y(),m=h("div"),b.block.c(),this.h()},l(E){e=p(E,"DIV",{class:!0});var C=d(e);t=p(C,"DIV",{class:!0});var k=d(t);r=F(k,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(r);s=F(D,"path",{d:!0}),d(s).forEach(u),a=F(D,"path",{d:!0}),d(a).forEach(u),D.forEach(u),i=N(k),c=p(k,"H1",{class:!0});var I=d(c);f=O(I,"Tracciamento fasi"),I.forEach(u),k.forEach(u),v=N(C),m=p(C,"DIV",{id:!0,class:!0});var V=d(m);b.block.l(V),V.forEach(u),C.forEach(u),this.h()},h(){l(s,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),l(a,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),l(r,"xmlns","http://www.w3.org/2000/svg"),l(r,"width","24"),l(r,"height","24"),l(r,"viewBox","0 0 24 24"),l(r,"fill","none"),l(r,"stroke","currentColor"),l(r,"stroke-width","2"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"class","feather feather-link"),l(c,"class","font-mono text-xl"),l(t,"class","flex flex-row items-center md:justify-center mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),l(m,"id","stepsContainer"),l(m,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-44 md:h-64 gap-2 scrollbar-none mt-5 items-center"),l(e,"class","col-span-1 text-white ring-2 ring-gray-400 rounded-sm")},m(E,C){Q(E,e,C),o(e,t),o(t,r),o(r,s),o(r,a),o(t,i),o(t,c),o(c,f),o(e,v),o(e,m),b.block.m(m,b.anchor=null),b.mount=()=>m,b.anchor=null},p(E,[C]){n=E,b.ctx=n,C&1&&_!==(_=n[0])&&Ir(_,b)||no(b,n,C)},i(E){w||lt(()=>{w=Dt(m,ut,{delay:500,duration:1e3}),w.start()}),g||lt(()=>{g=Dt(e,to,{delay:400,duration:1e3}),g.start()})},o:Te,d(E){E&&u(e),b.block.d(),b.token=null,b=null}}}function zo(n,e,t){let r,{turbine:s}=e,a=[];Xl(()=>{Lr(s.id).then(v=>{t(0,a=v)}),setTimeout(()=>{c()},1500)});const i=(v,m)=>{Vo(v,m).then(()=>{Lr(s.id).then(_=>{t(0,a=_),m?t(3,s.completedSteps+=1,s):t(3,s.completedSteps-=1,s),c()})})};function c(){const v=document.getElementById("stepsContainer"),m=9;if(v){const _=window.innerWidth<768?2:4,w=s.completedSteps-_;if(w>=0&&s.completedSteps<m){v.scrollTo({top:v.scrollHeight/m*(w+1),behavior:"smooth"});return}else if(s.completedSteps===m){setTimeout(()=>{v.scrollTo({top:0,behavior:"smooth"})},500);return}}}const f=v=>i(v.id,!v.complete);return n.$$set=v=>{"turbine"in v&&t(3,s=v.turbine)},n.$$.update=()=>{n.$$.dirty&9&&t(1,r=a[s.completedSteps])},[a,r,i,s,f]}class jo extends Ge{constructor(e){super(),Je(this,e,zo,Lo,Qe,{turbine:3})}}function Uo(n){let e,t,r,s,a,i,c,f,v,m,_,w,g;return{c(){e=h("div"),t=h("p"),r=T("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),s=y(),a=h("div"),i=h("button"),c=T("Annulla"),f=y(),v=h("button"),m=T("Conferma"),this.h()},l(b){e=p(b,"DIV",{class:!0});var E=d(e);t=p(E,"P",{class:!0});var C=d(t);r=O(C,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),C.forEach(u),s=N(E),a=p(E,"DIV",{class:!0});var k=d(a);i=p(k,"BUTTON",{class:!0});var D=d(i);c=O(D,"Annulla"),D.forEach(u),f=N(k),v=p(k,"BUTTON",{class:!0});var I=d(v);m=O(I,"Conferma"),I.forEach(u),k.forEach(u),E.forEach(u),this.h()},h(){l(t,"class","font-bold text-lg"),l(i,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),l(v,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),l(a,"class","flex justify-end mt-5 text-sm"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(b,E){Q(b,e,E),o(e,t),o(t,r),o(e,s),o(e,a),o(a,i),o(i,c),o(a,f),o(a,v),o(v,m),w||(g=[M(i,"click",n[1]),M(v,"click",n[0]),M(e,"click",n[2]),M(e,"keydown",n[2])],w=!0)},p:Te,i(b){_||lt(()=>{_=Dt(e,ut,{duration:300}),_.start()})},o:Te,d(b){b&&u(e),w=!1,$e(g)}}}function xo(n){const e=vt();return[()=>{e("confirm")},()=>{e("cancel")},a=>{a.stopPropagation()}]}class Wo extends Ge{constructor(e){super(),Je(this,e,xo,Uo,Qe,{})}}function xr(n){let e,t,r=n[0].turbineNumber+"",s;return{c(){e=h("span"),t=T("- "),s=T(r)},l(a){e=p(a,"SPAN",{});var i=d(e);t=O(i,"- "),s=O(i,r),i.forEach(u)},m(a,i){Q(a,e,i),o(e,t),o(e,s)},p(a,i){i&1&&r!==(r=a[0].turbineNumber+"")&&_e(s,r)},d(a){a&&u(e)}}}function Wr(n){let e,t,r,s,a;return t=new Wo({}),t.$on("confirm",n[4]),t.$on("cancel",n[7]),{c(){e=h("div"),He(t.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);Ke(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(i,c){Q(i,e,c),qe(t,e,null),r=!0,s||(a=[M(e,"click",n[8]),M(e,"keydown",n[9])],s=!0)},p:Te,i(i){r||(ve(t.$$.fragment,i),r=!0)},o(i){Ie(t.$$.fragment,i),r=!1},d(i){i&&u(e),Ye(t),s=!1,$e(a)}}}function Fr(n){let e,t,r,s=n[0].permittingDate+"",a;return{c(){e=h("p"),t=T("Valdità permitting: "),r=h("span"),a=T(s),this.h()},l(i){e=p(i,"P",{class:!0});var c=d(e);t=O(c,"Valdità permitting: "),r=p(c,"SPAN",{});var f=d(r);a=O(f,s),f.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(i,c){Q(i,e,c),o(e,t),o(e,r),o(r,a)},p(i,c){c&1&&s!==(s=i[0].permittingDate+"")&&_e(a,s)},d(i){i&&u(e)}}}function $r(n){let e,t,r,s=n[0].priorNotification+"",a;return{c(){e=h("p"),t=T("Valdità notifica: "),r=h("span"),a=T(s),this.h()},l(i){e=p(i,"P",{class:!0});var c=d(e);t=O(c,"Valdità notifica: "),r=p(c,"SPAN",{});var f=d(r);a=O(f,s),f.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(i,c){Q(i,e,c),o(e,t),o(e,r),o(r,a)},p(i,c){c&1&&s!==(s=i[0].priorNotification+"")&&_e(a,s)},d(i){i&&u(e)}}}function Fo(n){let e,t,r,s=n[0].turbineName+"",a,i,c,f,v,m,_,w,g,b,E,C,k,D,I,V,A,$,R,le,G,x,z,ee,L,B,j,oe,K,te,X=n[0].creationDate+"",we,S,H,Ee,Ne,De=n[0].turbineState+"",me,Pe,ae,Oe,ue,Ve,ie,q,se,U,Y,he,Le,We,ne=n[0].turbineNumber&&xr(n),pe=n[1]&&Wr(n),ye=n[0].permittingDate!==void 0&&Fr(n),J=n[0].priorNotification!==void 0&&$r(n);return Ve=new To({props:{turbine:n[0]}}),q=new Mo({props:{turbine:n[0]}}),U=new jo({props:{turbine:n[0]}}),{c(){e=h("div"),t=h("div"),r=h("h1"),a=T(s),i=y(),ne&&ne.c(),c=y(),f=h("div"),v=h("div"),m=h("div"),_=y(),pe&&pe.c(),w=y(),g=h("div"),b=h("button"),E=W("svg"),C=W("polyline"),k=W("path"),D=W("line"),I=W("line"),V=y(),A=h("button"),$=W("svg"),R=W("path"),le=y(),G=h("button"),x=W("svg"),z=W("line"),ee=W("line"),L=y(),B=h("div"),j=h("div"),oe=h("p"),K=T("Creazione: "),te=h("span"),we=T(X),S=y(),H=h("p"),Ee=T("Stato turbina: "),Ne=h("span"),me=T(De),Pe=y(),ye&&ye.c(),ae=y(),J&&J.c(),Oe=y(),ue=h("div"),He(Ve.$$.fragment),ie=y(),He(q.$$.fragment),se=y(),He(U.$$.fragment),this.h()},l(P){e=p(P,"DIV",{class:!0});var ce=d(e);t=p(ce,"DIV",{class:!0});var be=d(t);r=p(be,"H1",{class:!0});var de=d(r);a=O(de,s),i=N(de),ne&&ne.l(de),de.forEach(u),c=N(be),f=p(be,"DIV",{class:!0});var Ue=d(f);v=p(Ue,"DIV",{class:!0});var Ce=d(v);m=p(Ce,"DIV",{class:!0}),d(m).forEach(u),_=N(Ce),pe&&pe.l(Ce),w=N(Ce),g=p(Ce,"DIV",{class:!0});var Me=d(g);b=p(Me,"BUTTON",{class:!0});var re=d(b);E=F(re,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ge=d(E);C=F(ge,"polyline",{points:!0}),d(C).forEach(u),k=F(ge,"path",{d:!0}),d(k).forEach(u),D=F(ge,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(u),I=F(ge,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(I).forEach(u),ge.forEach(u),re.forEach(u),V=N(Me),A=p(Me,"BUTTON",{class:!0});var ze=d(A);$=F(ze,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ke=d($);R=F(ke,"path",{d:!0}),d(R).forEach(u),ke.forEach(u),ze.forEach(u),le=N(Me),G=p(Me,"BUTTON",{class:!0});var rt=d(G);x=F(rt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Xe=d(x);z=F(Xe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(z).forEach(u),ee=F(Xe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ee).forEach(u),Xe.forEach(u),rt.forEach(u),Me.forEach(u),Ce.forEach(u),Ue.forEach(u),be.forEach(u),L=N(ce),B=p(ce,"DIV",{class:!0});var Fe=d(B);j=p(Fe,"DIV",{class:!0});var Be=d(j);oe=p(Be,"P",{class:!0});var nt=d(oe);K=O(nt,"Creazione: "),te=p(nt,"SPAN",{});var xe=d(te);we=O(xe,X),xe.forEach(u),nt.forEach(u),S=N(Be),H=p(Be,"P",{class:!0});var Re=d(H);Ee=O(Re,"Stato turbina: "),Ne=p(Re,"SPAN",{});var dt=d(Ne);me=O(dt,De),dt.forEach(u),Re.forEach(u),Pe=N(Be),ye&&ye.l(Be),ae=N(Be),J&&J.l(Be),Oe=N(Be),ue=p(Be,"DIV",{class:!0});var ot=d(ue);Ke(Ve.$$.fragment,ot),ie=N(ot),Ke(q.$$.fragment,ot),ot.forEach(u),Be.forEach(u),se=N(Fe),Ke(U.$$.fragment,Fe),Fe.forEach(u),ce.forEach(u),this.h()},h(){l(r,"class","font-mono font-bold text-2xl md:text-4xl"),l(m,"class","col-span-3"),l(C,"points","3 6 5 6 21 6"),l(k,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),l(D,"x1","10"),l(D,"y1","11"),l(D,"x2","10"),l(D,"y2","17"),l(I,"x1","14"),l(I,"y1","11"),l(I,"x2","14"),l(I,"y2","17"),l(E,"xmlns","http://www.w3.org/2000/svg"),l(E,"width","20"),l(E,"height","20"),l(E,"viewBox","0 0 24 24"),l(E,"fill","none"),l(E,"stroke","currentColor"),l(E,"stroke-width","2"),l(E,"stroke-linecap","round"),l(E,"stroke-linejoin","round"),l(E,"class","feather feather-trash-2"),l(b,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(R,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),l($,"xmlns","http://www.w3.org/2000/svg"),l($,"width","20"),l($,"height","20"),l($,"viewBox","0 0 24 24"),l($,"fill","none"),l($,"stroke","currentColor"),l($,"stroke-width","2"),l($,"stroke-linecap","round"),l($,"stroke-linejoin","round"),l($,"class","feather feather-edit-2"),l(A,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),l(z,"x1","18"),l(z,"y1","6"),l(z,"x2","6"),l(z,"y2","18"),l(ee,"x1","6"),l(ee,"y1","6"),l(ee,"x2","18"),l(ee,"y2","18"),l(x,"xmlns","http://www.w3.org/2000/svg"),l(x,"width","24"),l(x,"height","24"),l(x,"viewBox","0 0 24 24"),l(x,"fill","none"),l(x,"stroke","currentColor"),l(x,"stroke-width","2"),l(x,"stroke-linecap","round"),l(x,"stroke-linejoin","round"),l(x,"class","feather feather-x"),l(G,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(g,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),l(v,"class","grid grid-cols-6"),l(f,"class","flex flex-row justify-end"),l(t,"class","w-full h-20 grid grid-cols-2 items-start"),l(oe,"class","font-mono text-white text-lg"),l(H,"class","font-mono text-white text-lg"),l(ue,"class","w-full mt-5"),l(j,"class","col-span-1"),l(B,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start gap-0 md:gap-4"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 md:min-w-min md:max-w-4xl z-50 h-[36rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(P,ce){Q(P,e,ce),o(e,t),o(t,r),o(r,a),o(r,i),ne&&ne.m(r,null),o(t,c),o(t,f),o(f,v),o(v,m),o(v,_),pe&&pe.m(v,null),o(v,w),o(v,g),o(g,b),o(b,E),o(E,C),o(E,k),o(E,D),o(E,I),o(g,V),o(g,A),o(A,$),o($,R),o(g,le),o(g,G),o(G,x),o(x,z),o(x,ee),o(e,L),o(e,B),o(B,j),o(j,oe),o(oe,K),o(oe,te),o(te,we),o(j,S),o(j,H),o(H,Ee),o(H,Ne),o(Ne,me),o(j,Pe),ye&&ye.m(j,null),o(j,ae),J&&J.m(j,null),o(j,Oe),o(j,ue),qe(Ve,ue,null),o(ue,ie),qe(q,ue,null),o(B,se),qe(U,B,null),he=!0,Le||(We=[M(b,"click",n[10]),M(A,"click",n[3]),M(G,"click",n[2]),M(e,"click",tt(n[5])),M(e,"keydown",tt(n[6]))],Le=!0)},p(P,[ce]){(!he||ce&1)&&s!==(s=P[0].turbineName+"")&&_e(a,s),P[0].turbineNumber?ne?ne.p(P,ce):(ne=xr(P),ne.c(),ne.m(r,null)):ne&&(ne.d(1),ne=null),P[1]?pe?(pe.p(P,ce),ce&2&&ve(pe,1)):(pe=Wr(P),pe.c(),ve(pe,1),pe.m(v,w)):pe&&(At(),Ie(pe,1,1,()=>{pe=null}),Bt()),(!he||ce&1)&&X!==(X=P[0].creationDate+"")&&_e(we,X),(!he||ce&1)&&De!==(De=P[0].turbineState+"")&&_e(me,De),P[0].permittingDate!==void 0?ye?ye.p(P,ce):(ye=Fr(P),ye.c(),ye.m(j,ae)):ye&&(ye.d(1),ye=null),P[0].priorNotification!==void 0?J?J.p(P,ce):(J=$r(P),J.c(),J.m(j,Oe)):J&&(J.d(1),J=null);const be={};ce&1&&(be.turbine=P[0]),Ve.$set(be);const de={};ce&1&&(de.turbine=P[0]),q.$set(de);const Ue={};ce&1&&(Ue.turbine=P[0]),U.$set(Ue)},i(P){he||(ve(pe),ve(Ve.$$.fragment,P),ve(q.$$.fragment,P),ve(U.$$.fragment,P),Y||lt(()=>{Y=Dt(e,ut,{duration:150}),Y.start()}),he=!0)},o(P){Ie(pe),Ie(Ve.$$.fragment,P),Ie(q.$$.fragment,P),Ie(U.$$.fragment,P),he=!1},d(P){P&&u(e),ne&&ne.d(),pe&&pe.d(),ye&&ye.d(),J&&J.d(),Ye(Ve),Ye(q),Ye(U),Le=!1,$e(We)}}}function $o(n,e,t){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const s=vt(),a=()=>{s("closeDetails")},i=()=>{s("editMode",r.id)};let c=!1;const f=()=>{t(1,c=!1),Eo(r.id).then(()=>{s("deleted")})};function v(E){Nt.call(this,n,E)}function m(E){Nt.call(this,n,E)}const _=()=>{t(1,c=!1)},w=()=>{t(1,c=!1)},g=()=>{t(1,c=!1)},b=()=>{t(1,c=!0)};return n.$$set=E=>{"turbine"in E&&t(0,r=E.turbine)},[r,c,a,i,f,v,m,_,w,g,b]}class Ro extends Ge{constructor(e){super(),Je(this,e,$o,Fo,Qe,{turbine:0})}}const et={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear",25:"Vasca sterrato",26:"Vasca asfalto"};function Rr(n,e,t){const r=n.slice();return r[7]=e[t],r[8]=e,r[9]=t,r}function Hr(n,e){let t,r,s,a,i,c=e[7].name+"",f,v,m,_;function w(...g){return e[5](e[7],e[8],e[9],...g)}return{key:n,first:null,c(){t=h("div"),r=h("input"),a=y(),i=h("p"),f=T(c),v=y(),this.h()},l(g){t=p(g,"DIV",{class:!0});var b=d(t);r=p(b,"INPUT",{class:!0,type:!0}),a=N(b),i=p(b,"P",{class:!0});var E=d(i);f=O(E,c),E.forEach(u),v=N(b),b.forEach(u),this.h()},h(){l(r,"class","checkbox"),r.checked=s=e[7].isSelected,l(r,"type","checkbox"),l(i,"class","font-mono"),l(t,"class","flex flex-row gap-4"),this.first=t},m(g,b){Q(g,t,b),o(t,r),o(t,a),o(t,i),o(i,f),o(t,v),m||(_=M(r,"change",w),m=!0)},p(g,b){e=g,b&1&&s!==(s=e[7].isSelected)&&(r.checked=s),b&1&&c!==(c=e[7].name+"")&&_e(f,c)},d(g){g&&u(t),m=!1,_()}}}function Ho(n){let e,t,r=[],s=new Map,a,i,c,f,v,m,_,w,g,b,E=n[0];const C=k=>k[7].name;for(let k=0;k<E.length;k+=1){let D=Rr(n,E,k),I=C(D);s.set(I,r[k]=Hr(I,D))}return{c(){e=h("div"),t=h("div");for(let k=0;k<r.length;k+=1)r[k].c();a=y(),i=h("div"),c=h("button"),f=T("Conferma"),v=y(),m=h("button"),_=T("Chiudi"),this.h()},l(k){e=p(k,"DIV",{class:!0});var D=d(e);t=p(D,"DIV",{class:!0});var I=d(t);for(let R=0;R<r.length;R+=1)r[R].l(I);I.forEach(u),a=N(D),i=p(D,"DIV",{class:!0});var V=d(i);c=p(V,"BUTTON",{class:!0});var A=d(c);f=O(A,"Conferma"),A.forEach(u),v=N(V),m=p(V,"BUTTON",{class:!0});var $=d(m);_=O($,"Chiudi"),$.forEach(u),V.forEach(u),D.forEach(u),this.h()},h(){l(t,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),l(c,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),l(m,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),l(i,"class","flex flex-row mt-5 gap-2 justify-center"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(k,D){Q(k,e,D),o(e,t);for(let I=0;I<r.length;I+=1)r[I].m(t,null);o(e,a),o(e,i),o(i,c),o(c,f),o(i,v),o(i,m),o(m,_),g||(b=[M(c,"click",tt(n[1])),M(m,"click",tt(n[2])),M(e,"click",tt(n[3])),M(e,"keydown",tt(n[4]))],g=!0)},p(k,[D]){D&1&&(E=k[0],r=Zl(r,D,C,1,k,E,s,t,eo,Hr,null,Rr))},i(k){w||lt(()=>{w=Dt(e,ut,{duration:300}),w.start()})},o:Te,d(k){k&&u(e);for(let D=0;D<r.length;D+=1)r[D].d();g=!1,$e(b)}}}function Ko(n,e,t){let{operations:r=[]}=e;const s=vt(),a=()=>{s("confirm",r)},i=()=>{s("cancel")};function c(m){Nt.call(this,n,m)}function f(m){Nt.call(this,n,m)}const v=(m,_,w,g)=>{t(0,_[w].isSelected=g.target.checked,r)};return n.$$set=m=>{"operations"in m&&t(0,r=m.operations)},[r,a,i,c,f,v]}class qo extends Ge{constructor(e){super(),Je(this,e,Ko,Ho,Qe,{operations:0})}}function Yo(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b,E,C,k,D,I,V,A,$;return{c(){e=h("div"),t=h("div"),r=h("button"),s=W("svg"),a=W("path"),i=W("line"),c=W("polyline"),v=T("Kilowatt"),_=y(),w=h("button"),g=W("svg"),b=W("path"),E=W("line"),C=W("polyline"),D=T("Megawatt"),this.h()},l(R){e=p(R,"DIV",{class:!0});var le=d(e);t=p(le,"DIV",{class:!0});var G=d(t);r=p(G,"BUTTON",{class:!0,type:!0});var x=d(r);s=F(x,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var z=d(s);a=F(z,"path",{d:!0}),d(a).forEach(u),i=F(z,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(i).forEach(u),c=F(z,"polyline",{points:!0}),d(c).forEach(u),z.forEach(u),v=O(x,"Kilowatt"),x.forEach(u),_=N(G),w=p(G,"BUTTON",{class:!0,type:!0});var ee=d(w);g=F(ee,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var L=d(g);b=F(L,"path",{d:!0}),d(b).forEach(u),E=F(L,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(E).forEach(u),C=F(L,"polyline",{points:!0}),d(C).forEach(u),L.forEach(u),D=O(ee,"Megawatt"),ee.forEach(u),G.forEach(u),le.forEach(u),this.h()},h(){l(a,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(i,"x1","23"),l(i,"y1","13"),l(i,"x2","23"),l(i,"y2","11"),l(c,"points","11 6 7 12 13 12 9 18"),l(s,"xmlns","http://www.w3.org/2000/svg"),l(s,"width","24"),l(s,"height","24"),l(s,"viewBox","0 0 24 24"),l(s,"fill","none"),l(s,"stroke","currentColor"),l(s,"stroke-width","2"),l(s,"stroke-linecap","round"),l(s,"stroke-linejoin","round"),l(s,"class",f=n[0]?"text-green-500":""),l(r,"class",m=it(n[0]?"button ring-4 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(b,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(E,"x1","23"),l(E,"y1","13"),l(E,"x2","23"),l(E,"y2","11"),l(C,"points","11 6 7 12 13 12 9 18"),l(g,"xmlns","http://www.w3.org/2000/svg"),l(g,"width","24"),l(g,"height","24"),l(g,"viewBox","0 0 24 24"),l(g,"fill","none"),l(g,"stroke","currentColor"),l(g,"stroke-width","2"),l(g,"stroke-linecap","round"),l(g,"stroke-linejoin","round"),l(g,"class",k=n[0]?"":"text-blue-500"),l(w,"class",I=it(n[0]?"button":"button ring-4 ring-blue-500")+" svelte-brr1w4"),l(w,"type","button"),l(t,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(R,le){Q(R,e,le),o(e,t),o(t,r),o(r,s),o(s,a),o(s,i),o(s,c),o(r,v),o(t,_),o(t,w),o(w,g),o(g,b),o(g,E),o(g,C),o(w,D),A||($=[M(r,"click",n[2]),M(w,"click",n[3])],A=!0)},p(R,[le]){le&1&&f!==(f=R[0]?"text-green-500":"")&&l(s,"class",f),le&1&&m!==(m=it(R[0]?"button ring-4 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",m),le&1&&k!==(k=R[0]?"":"text-blue-500")&&l(g,"class",k),le&1&&I!==(I=it(R[0]?"button":"button ring-4 ring-blue-500")+" svelte-brr1w4")&&l(w,"class",I)},i(R){V||lt(()=>{V=Dt(e,to,{duration:300}),V.start()})},o:Te,d(R){R&&u(e),A=!1,$e($)}}}function Go(n,e,t){let{isKilowatt:r=!0}=e;const s=vt(),a=()=>{s("change",r?"KILOWATT":"MEGAWATT")},i=()=>{t(0,r=!0),a()},c=()=>{t(0,r=!1),a()};return n.$$set=f=>{"isKilowatt"in f&&t(0,r=f.isKilowatt)},[r,a,i,c]}class Jo extends Ge{constructor(e){super(),Je(this,e,Go,Yo,Qe,{isKilowatt:0})}}function Qo(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b,E,C;return{c(){e=h("div"),t=h("div"),r=h("button"),s=T("In Marcia"),i=y(),c=h("button"),f=T("Limitata"),m=y(),_=h("button"),w=T("Ferma"),this.h()},l(k){e=p(k,"DIV",{class:!0});var D=d(e);t=p(D,"DIV",{class:!0});var I=d(t);r=p(I,"BUTTON",{class:!0,type:!0});var V=d(r);s=O(V,"In Marcia"),V.forEach(u),i=N(I),c=p(I,"BUTTON",{class:!0,type:!0});var A=d(c);f=O(A,"Limitata"),A.forEach(u),m=N(I),_=p(I,"BUTTON",{class:!0,type:!0});var $=d(_);w=O($,"Ferma"),$.forEach(u),I.forEach(u),D.forEach(u),this.h()},h(){l(r,"class",a=it(n[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(c,"class",v=it(n[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),l(c,"type","button"),l(_,"class",g=it(n[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),l(_,"type","button"),l(t,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(k,D){Q(k,e,D),o(e,t),o(t,r),o(r,s),o(t,i),o(t,c),o(c,f),o(t,m),o(t,_),o(_,w),E||(C=[M(r,"click",n[2]),M(c,"click",n[3]),M(_,"click",n[4])],E=!0)},p(k,[D]){D&1&&a!==(a=it(k[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",a),D&1&&v!==(v=it(k[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&l(c,"class",v),D&1&&g!==(g=it(k[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&l(_,"class",g)},i(k){b||lt(()=>{b=Dt(e,ut,{duration:300,delay:300}),b.start()})},o:Te,d(k){k&&u(e),E=!1,$e(C)}}}function Xo(n,e,t){let{state:r="In Marcia"}=e;const s=vt(),a=()=>{s("change",r)},i=()=>{t(0,r="In Marcia"),a()},c=()=>{t(0,r="Limitata"),a()},f=()=>{t(0,r="Ferma"),a()};return n.$$set=v=>{"state"in v&&t(0,r=v.state)},[r,a,i,c,f]}class Zo extends Ge{constructor(e){super(),Je(this,e,Xo,Qo,Qe,{state:0})}}function Kr(n){let e,t,r,s,a;return t=new qo({props:{operations:n[3]}}),t.$on("cancel",n[15]),t.$on("confirm",n[16]),{c(){e=h("div"),He(t.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);Ke(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(i,c){Q(i,e,c),qe(t,e,null),r=!0,s||(a=[M(e,"click",tt(n[17])),M(e,"keydown",tt(n[18]))],s=!0)},p(i,c){const f={};c[0]&8&&(f.operations=i[3]),t.$set(f)},i(i){r||(ve(t.$$.fragment,i),r=!0)},o(i){Ie(t.$$.fragment,i),r=!1},d(i){i&&u(e),Ye(t),s=!1,$e(a)}}}function en(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b,E,C,k,D,I,V,A,$,R,le,G,x,z,ee,L,B,j,oe,K,te,X,we,S,H,Ee,Ne,De,me,Pe,ae,Oe,ue,Ve,ie,q,se,U,Y,he,Le,We,ne,pe,ye,J,P,ce,be,de=n[1]?"modifica":"creazione",Ue,Ce,Me,re,ge,ze,ke,rt,Xe,Fe=n[0].turbineNumber+"",Be,nt,xe,Re,dt,ot,ft,ht=n[0].turbineName+"",It,zt,st,pt,St,Ml,jt,Jt=n[0].description+"",nl,Vl,Tt,Ut,Pl,Al,xt,Qt=(n[0].odlNumber||"N/A")+"",sl,Bl,Ot,Wt,Ll,zl,Ft,Xt=n[0].operation+"",al,jl,Ct,$t,Ul,xl,Rt,Zt=n[0].power+"",il,Wl,Mt,Ht,Fl,$l,Kt,el=n[0].turbineState+"",cl,Rl,mt,_t,Hl,Kl,Vt,tl,ll=n[1]?"Modifica":"Crea",ul,bt,ql,Ze,wt,dl,Yl,kt,fl,Gl,Et,hl,Se,Jl,er,Ae=n[2]&&Kr(n);return G=new Jo({props:{isKilowatt:n[0].power==="KILOWATT"}}),G.$on("change",n[24]),L=new Zo({props:{state:n[0].turbineState}}),L.$on("change",n[25]),{c(){e=h("div"),Ae&&Ae.c(),t=y(),r=h("form"),s=h("div"),a=h("div"),i=h("div"),c=h("input"),v=y(),m=h("input"),w=y(),g=h("input"),E=y(),C=h("input"),D=y(),I=h("div"),V=h("button"),A=h("input"),R=y(),le=h("div"),He(G.$$.fragment),x=y(),z=h("div"),ee=h("div"),He(L.$$.fragment),B=y(),j=h("div"),oe=h("label"),K=T("Data Inizio EEMM"),te=y(),X=h("input"),S=y(),H=h("div"),Ee=h("label"),Ne=T("Data Inizio OOCC"),De=y(),me=h("input"),ae=y(),Oe=h("div"),ue=h("label"),Ve=T("Validità permitting"),ie=y(),q=h("input"),U=y(),Y=h("div"),he=h("label"),Le=T("Validità notifica"),We=y(),ne=h("input"),ye=y(),J=h("div"),P=h("div"),ce=h("h2"),be=T("Riepilogo "),Ue=T(de),Ce=y(),Me=h("div"),re=y(),ge=h("p"),ze=h("span"),ke=T("Numero cantiere:"),rt=y(),Xe=h("span"),Be=T(Fe),nt=y(),xe=h("p"),Re=h("span"),dt=T("Aerogeneratore:"),ot=y(),ft=h("span"),It=T(ht),zt=y(),st=h("p"),pt=h("span"),St=T("Impianto eolico:"),Ml=y(),jt=h("span"),nl=T(Jt),Vl=y(),Tt=h("p"),Ut=h("span"),Pl=T("Numero ODL:"),Al=y(),xt=h("span"),sl=T(Qt),Bl=y(),Ot=h("p"),Wt=h("span"),Ll=T("Operazioni:"),zl=y(),Ft=h("span"),al=T(Xt),jl=y(),Ct=h("p"),$t=h("span"),Ul=T("Tipologia:"),xl=y(),Rt=h("span"),il=T(Zt),Wl=y(),Mt=h("p"),Ht=h("span"),Fl=T("Stato:"),$l=y(),Kt=h("span"),cl=T(el),Rl=y(),mt=h("div"),_t=h("button"),Hl=T("Annulla"),Kl=y(),Vt=h("button"),tl=h("p"),ul=T(ll),ql=y(),Ze=h("div"),wt=h("input"),Yl=y(),kt=h("input"),Gl=y(),Et=h("input"),this.h()},l(Z){e=p(Z,"DIV",{class:!0});var fe=d(e);Ae&&Ae.l(fe),t=N(fe),r=p(fe,"FORM",{});var Pt=d(r);s=p(Pt,"DIV",{id:!0,class:!0});var gt=d(s);a=p(gt,"DIV",{class:!0});var qt=d(a);i=p(qt,"DIV",{class:!0});var yt=d(i);c=p(yt,"INPUT",{class:!0,type:!0,placeholder:!0}),v=N(yt),m=p(yt,"INPUT",{class:!0,type:!0,placeholder:!0}),w=N(yt),g=p(yt,"INPUT",{class:!0,type:!0,placeholder:!0}),E=N(yt),C=p(yt,"INPUT",{class:!0,type:!0,placeholder:!0}),yt.forEach(u),D=N(qt),I=p(qt,"DIV",{class:!0});var tr=d(I);V=p(tr,"BUTTON",{type:!0,class:!0});var lr=d(V);A=p(lr,"INPUT",{class:!0,placeholder:!0}),lr.forEach(u),tr.forEach(u),R=N(qt),le=p(qt,"DIV",{class:!0});var rr=d(le);Ke(G.$$.fragment,rr),rr.forEach(u),qt.forEach(u),x=N(gt),z=p(gt,"DIV",{class:!0});var at=d(z);ee=p(at,"DIV",{class:!0});var or=d(ee);Ke(L.$$.fragment,or),or.forEach(u),B=N(at),j=p(at,"DIV",{});var pl=d(j);oe=p(pl,"LABEL",{for:!0,class:!0});var nr=d(oe);K=O(nr,"Data Inizio EEMM"),nr.forEach(u),te=N(pl),X=p(pl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),pl.forEach(u),S=N(at),H=p(at,"DIV",{});var gl=d(H);Ee=p(gl,"LABEL",{for:!0,class:!0});var sr=d(Ee);Ne=O(sr,"Data Inizio OOCC"),sr.forEach(u),De=N(gl),me=p(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(u),ae=N(at),Oe=p(at,"DIV",{});var vl=d(Oe);ue=p(vl,"LABEL",{for:!0,class:!0});var ar=d(ue);Ve=O(ar,"Validità permitting"),ar.forEach(u),ie=N(vl),q=p(vl,"INPUT",{class:!0,type:!0,placeholder:!0}),vl.forEach(u),U=N(at),Y=p(at,"DIV",{});var ml=d(Y);he=p(ml,"LABEL",{for:!0,class:!0});var ir=d(he);Le=O(ir,"Validità notifica"),ir.forEach(u),We=N(ml),ne=p(ml,"INPUT",{class:!0,type:!0,placeholder:!0}),ml.forEach(u),at.forEach(u),ye=N(gt),J=p(gt,"DIV",{class:!0});var _l=d(J);P=p(_l,"DIV",{class:!0});var je=d(P);ce=p(je,"H2",{class:!0});var Ql=d(ce);be=O(Ql,"Riepilogo "),Ue=O(Ql,de),Ql.forEach(u),Ce=N(je),Me=p(je,"DIV",{class:!0}),d(Me).forEach(u),re=N(je),ge=p(je,"P",{});var bl=d(ge);ze=p(bl,"SPAN",{class:!0});var cr=d(ze);ke=O(cr,"Numero cantiere:"),cr.forEach(u),rt=N(bl),Xe=p(bl,"SPAN",{class:!0});var ur=d(Xe);Be=O(ur,Fe),ur.forEach(u),bl.forEach(u),nt=N(je),xe=p(je,"P",{});var wl=d(xe);Re=p(wl,"SPAN",{class:!0});var dr=d(Re);dt=O(dr,"Aerogeneratore:"),dr.forEach(u),ot=N(wl),ft=p(wl,"SPAN",{class:!0});var fr=d(ft);It=O(fr,ht),fr.forEach(u),wl.forEach(u),zt=N(je),st=p(je,"P",{});var kl=d(st);pt=p(kl,"SPAN",{class:!0});var hr=d(pt);St=O(hr,"Impianto eolico:"),hr.forEach(u),Ml=N(kl),jt=p(kl,"SPAN",{class:!0});var pr=d(jt);nl=O(pr,Jt),pr.forEach(u),kl.forEach(u),Vl=N(je),Tt=p(je,"P",{});var El=d(Tt);Ut=p(El,"SPAN",{class:!0});var gr=d(Ut);Pl=O(gr,"Numero ODL:"),gr.forEach(u),Al=N(El),xt=p(El,"SPAN",{class:!0});var vr=d(xt);sl=O(vr,Qt),vr.forEach(u),El.forEach(u),Bl=N(je),Ot=p(je,"P",{});var yl=d(Ot);Wt=p(yl,"SPAN",{class:!0});var mr=d(Wt);Ll=O(mr,"Operazioni:"),mr.forEach(u),zl=N(yl),Ft=p(yl,"SPAN",{class:!0});var _r=d(Ft);al=O(_r,Xt),_r.forEach(u),yl.forEach(u),jl=N(je),Ct=p(je,"P",{});var Nl=d(Ct);$t=p(Nl,"SPAN",{class:!0});var br=d($t);Ul=O(br,"Tipologia:"),br.forEach(u),xl=N(Nl),Rt=p(Nl,"SPAN",{class:!0});var wr=d(Rt);il=O(wr,Zt),wr.forEach(u),Nl.forEach(u),Wl=N(je),Mt=p(je,"P",{});var Dl=d(Mt);Ht=p(Dl,"SPAN",{class:!0});var kr=d(Ht);Fl=O(kr,"Stato:"),kr.forEach(u),$l=N(Dl),Kt=p(Dl,"SPAN",{class:!0});var Er=d(Kt);cl=O(Er,el),Er.forEach(u),Dl.forEach(u),je.forEach(u),Rl=N(_l),mt=p(_l,"DIV",{class:!0});var Il=d(mt);_t=p(Il,"BUTTON",{type:!0,class:!0});var yr=d(_t);Hl=O(yr,"Annulla"),yr.forEach(u),Kl=N(Il),Vt=p(Il,"BUTTON",{class:!0});var Nr=d(Vt);tl=p(Nr,"P",{});var Dr=d(tl);ul=O(Dr,ll),Dr.forEach(u),Nr.forEach(u),Il.forEach(u),_l.forEach(u),gt.forEach(u),ql=N(Pt),Ze=p(Pt,"DIV",{class:!0});var Yt=d(Ze);wt=p(Yt,"INPUT",{type:!0,class:!0}),Yl=N(Yt),kt=p(Yt,"INPUT",{type:!0,class:!0}),Gl=N(Yt),Et=p(Yt,"INPUT",{type:!0,class:!0}),Yt.forEach(u),Pt.forEach(u),fe.forEach(u),this.h()},h(){l(c,"class","input"),l(c,"type","text"),c.value=f=n[0].turbineName,l(c,"placeholder","Aerogeneratore*"),c.required=!0,c.disabled=n[1],l(m,"class","input"),l(m,"type","text"),m.value=_=n[0].turbineNumber,l(m,"placeholder","Numero cantiere"),l(g,"class","input"),l(g,"type","text"),g.value=b=n[0].description,l(g,"placeholder","Impianto Eolico*"),g.required=!0,l(C,"class","input"),l(C,"type","number"),C.value=k=n[0].odlNumber,l(C,"placeholder","Numero ODL"),l(i,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(A,"class","w-full"),A.value=$=n[0].operation.length>0?n[0].operation.join(", "):"",A.disabled=!0,l(A,"placeholder","Operazioni*"),A.required=!0,l(V,"type","button"),l(V,"class","input hover:bg-gray-200 text-start transition ease-in-out"),l(I,"class","col-span-full mt-5"),l(le,"class","col-span-full mt-auto"),l(a,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(ee,"class","col-span-full"),l(oe,"for","dateEEMM"),l(oe,"class","font-mono text-white"),l(X,"id","dateEEMM"),l(X,"class","input"),l(X,"type","date"),X.value=we=n[0].startingDateEEMM!==void 0?n[0].startingDateEEMM:"",l(X,"placeholder","Data inizio EEMM"),l(Ee,"for","dateEEMM"),l(Ee,"class","font-mono text-white"),l(me,"class","input"),l(me,"type","date"),me.value=Pe=n[0].startingDateOOCC!==void 0?n[0].startingDateOOCC:"",l(me,"placeholder","Data inizio OOCC"),l(ue,"for","dateEEMM"),l(ue,"class","font-mono text-white"),l(q,"class","input"),l(q,"type","date"),q.value=se=n[0].permittingDate!==void 0?n[0].permittingDate:"",l(q,"placeholder","Validità permitting"),l(he,"for","dateEEMM"),l(he,"class","font-mono text-white"),l(ne,"class","input"),l(ne,"type","date"),ne.value=pe=n[0].priorNotification!==void 0?n[0].priorNotification:"",l(ne,"placeholder","Validità notifica"),l(z,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(ce,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),l(Me,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),l(ze,"class","font-mono font-bold text-gray-300"),l(Xe,"class","font-mono text-gray-300"),l(Re,"class","font-mono font-bold text-gray-300"),l(ft,"class","font-mono text-gray-300"),l(pt,"class","font-mono font-bold text-gray-300"),l(jt,"class","font-mono text-gray-300"),l(Ut,"class","font-mono font-bold text-gray-300"),l(xt,"class","font-mono text-gray-300"),l(Wt,"class","font-mono font-bold text-gray-300"),l(Ft,"class","font-mono text-gray-300"),l($t,"class","font-mono font-bold text-gray-300"),l(Rt,"class","font-mono text-gray-300"),l(Ht,"class","font-mono font-bold text-gray-300"),l(Kt,"class","font-mono text-gray-300"),l(P,"class","w-[15rem] md:w-[29rem] h-3/4"),l(_t,"type","button"),l(_t,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),l(Vt,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),l(mt,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),l(J,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(s,"id","scrollable"),l(s,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),l(wt,"type","checkbox"),wt.checked=dl=n[4]===0,l(wt,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),l(kt,"type","checkbox"),kt.checked=fl=n[4]===1,l(kt,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),l(Et,"type","checkbox"),Et.checked=hl=n[4]===2,l(Et,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),l(Ze,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),l(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(Z,fe){Q(Z,e,fe),Ae&&Ae.m(e,null),o(e,t),o(e,r),o(r,s),o(s,a),o(a,i),o(i,c),o(i,v),o(i,m),o(i,w),o(i,g),o(i,E),o(i,C),o(a,D),o(a,I),o(I,V),o(V,A),o(a,R),o(a,le),qe(G,le,null),o(s,x),o(s,z),o(z,ee),qe(L,ee,null),o(z,B),o(z,j),o(j,oe),o(oe,K),o(j,te),o(j,X),o(z,S),o(z,H),o(H,Ee),o(Ee,Ne),o(H,De),o(H,me),o(z,ae),o(z,Oe),o(Oe,ue),o(ue,Ve),o(Oe,ie),o(Oe,q),o(z,U),o(z,Y),o(Y,he),o(he,Le),o(Y,We),o(Y,ne),o(s,ye),o(s,J),o(J,P),o(P,ce),o(ce,be),o(ce,Ue),o(P,Ce),o(P,Me),o(P,re),o(P,ge),o(ge,ze),o(ze,ke),o(ge,rt),o(ge,Xe),o(Xe,Be),o(P,nt),o(P,xe),o(xe,Re),o(Re,dt),o(xe,ot),o(xe,ft),o(ft,It),o(P,zt),o(P,st),o(st,pt),o(pt,St),o(st,Ml),o(st,jt),o(jt,nl),o(P,Vl),o(P,Tt),o(Tt,Ut),o(Ut,Pl),o(Tt,Al),o(Tt,xt),o(xt,sl),o(P,Bl),o(P,Ot),o(Ot,Wt),o(Wt,Ll),o(Ot,zl),o(Ot,Ft),o(Ft,al),o(P,jl),o(P,Ct),o(Ct,$t),o($t,Ul),o(Ct,xl),o(Ct,Rt),o(Rt,il),o(P,Wl),o(P,Mt),o(Mt,Ht),o(Ht,Fl),o(Mt,$l),o(Mt,Kt),o(Kt,cl),o(J,Rl),o(J,mt),o(mt,_t),o(_t,Hl),o(mt,Kl),o(mt,Vt),o(Vt,tl),o(tl,ul),o(r,ql),o(r,Ze),o(Ze,wt),o(Ze,Yl),o(Ze,kt),o(Ze,Gl),o(Ze,Et),Se=!0,Jl||(er=[M(c,"change",n[19]),M(m,"change",n[20]),M(g,"change",n[21]),M(C,"change",n[22]),M(V,"click",n[23]),M(X,"change",n[26]),M(me,"change",n[27]),M(q,"change",n[28]),M(ne,"change",n[29]),M(_t,"click",n[9]),M(Vt,"click",Cl(n[10])),M(s,"click",tt(n[13])),M(s,"keydown",tt(n[14])),M(s,"scroll",n[5]),M(wt,"change",n[30]),M(kt,"change",n[31]),M(Et,"change",n[32]),M(Ze,"click",tt(n[11])),M(Ze,"keydown",tt(n[12])),M(e,"click",n[9]),M(e,"keydown",n[9])],Jl=!0)},p(Z,fe){Z[2]?Ae?(Ae.p(Z,fe),fe[0]&4&&ve(Ae,1)):(Ae=Kr(Z),Ae.c(),ve(Ae,1),Ae.m(e,t)):Ae&&(At(),Ie(Ae,1,1,()=>{Ae=null}),Bt()),(!Se||fe[0]&1&&f!==(f=Z[0].turbineName)&&c.value!==f)&&(c.value=f),(!Se||fe[0]&2)&&(c.disabled=Z[1]),(!Se||fe[0]&1&&_!==(_=Z[0].turbineNumber)&&m.value!==_)&&(m.value=_),(!Se||fe[0]&1&&b!==(b=Z[0].description)&&g.value!==b)&&(g.value=b),(!Se||fe[0]&1&&k!==(k=Z[0].odlNumber)&&C.value!==k)&&(C.value=k),(!Se||fe[0]&1&&$!==($=Z[0].operation.length>0?Z[0].operation.join(", "):"")&&A.value!==$)&&(A.value=$);const Pt={};fe[0]&1&&(Pt.isKilowatt=Z[0].power==="KILOWATT"),G.$set(Pt);const gt={};fe[0]&1&&(gt.state=Z[0].turbineState),L.$set(gt),(!Se||fe[0]&1&&we!==(we=Z[0].startingDateEEMM!==void 0?Z[0].startingDateEEMM:""))&&(X.value=we),(!Se||fe[0]&1&&Pe!==(Pe=Z[0].startingDateOOCC!==void 0?Z[0].startingDateOOCC:""))&&(me.value=Pe),(!Se||fe[0]&1&&se!==(se=Z[0].permittingDate!==void 0?Z[0].permittingDate:""))&&(q.value=se),(!Se||fe[0]&1&&pe!==(pe=Z[0].priorNotification!==void 0?Z[0].priorNotification:""))&&(ne.value=pe),(!Se||fe[0]&2)&&de!==(de=Z[1]?"modifica":"creazione")&&_e(Ue,de),(!Se||fe[0]&1)&&Fe!==(Fe=Z[0].turbineNumber+"")&&_e(Be,Fe),(!Se||fe[0]&1)&&ht!==(ht=Z[0].turbineName+"")&&_e(It,ht),(!Se||fe[0]&1)&&Jt!==(Jt=Z[0].description+"")&&_e(nl,Jt),(!Se||fe[0]&1)&&Qt!==(Qt=(Z[0].odlNumber||"N/A")+"")&&_e(sl,Qt),(!Se||fe[0]&1)&&Xt!==(Xt=Z[0].operation+"")&&_e(al,Xt),(!Se||fe[0]&1)&&Zt!==(Zt=Z[0].power+"")&&_e(il,Zt),(!Se||fe[0]&1)&&el!==(el=Z[0].turbineState+"")&&_e(cl,el),(!Se||fe[0]&2)&&ll!==(ll=Z[1]?"Modifica":"Crea")&&_e(ul,ll),(!Se||fe[0]&16&&dl!==(dl=Z[4]===0))&&(wt.checked=dl),(!Se||fe[0]&16&&fl!==(fl=Z[4]===1))&&(kt.checked=fl),(!Se||fe[0]&16&&hl!==(hl=Z[4]===2))&&(Et.checked=hl)},i(Z){Se||(ve(Ae),ve(G.$$.fragment,Z),ve(L.$$.fragment,Z),lt(()=>{bt||(bt=Tl(s,ut,{duration:150},!0)),bt.run(1)}),Se=!0)},o(Z){Ie(Ae),Ie(G.$$.fragment,Z),Ie(L.$$.fragment,Z),bt||(bt=Tl(s,ut,{duration:150},!1)),bt.run(0),Se=!1},d(Z){Z&&u(e),Ae&&Ae.d(),Ye(G),Ye(L),Z&&bt&&bt.end(),Jl=!1,$e(er)}}}function tn(n,e,t){let{isEditMode:r=!1}=e,{windfarm:s={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const a=vt();let i=!1,c=[];Xl(()=>{t(3,c=Object.values(et).map(S=>({name:S,isSelected:s.operation.includes(S)})))});let f=0;const v=()=>{const S=document.getElementById("scrollable"),H=S.scrollLeft,Ee=S.scrollWidth,Ne=S.offsetWidth,De=Ee-H-Ne;H<=10?t(4,f=0):De<=10?t(4,f=2):t(4,f=1)},m=()=>{document.getElementById("scrollable").scrollTo({left:0,behavior:"smooth"})},_=()=>{const S=document.getElementById("scrollable");S.scrollTo({left:S.scrollWidth,behavior:"smooth"})},w=()=>{const S=document.getElementById("scrollable");let H=S.scrollWidth/2;window.innerWidth<768&&(H=S.scrollWidth/3),S.scrollTo({left:H,behavior:"smooth"})},g=()=>{a("close")},b=()=>{if(s.turbineName===""||s.description===""||s.operation.length===0){console.log("Cannot submit missing required fields");return}r?No(s).then(S=>{S!==void 0&&S.status===200?a("updated"):console.log("Error while updating windfarm: ",S)}).catch(S=>{console.log(S)}):yo(s).then(()=>{a("created")}).catch(S=>{console.log(S)})};function E(S){Nt.call(this,n,S)}function C(S){Nt.call(this,n,S)}function k(S){Nt.call(this,n,S)}function D(S){Nt.call(this,n,S)}const I=()=>{t(2,i=!1)},V=S=>{t(3,c=S.detail),t(0,s.operation=c.filter(H=>H.isSelected).map(H=>H.name),s),t(2,i=!1)},A=()=>{t(2,i=!1)},$=()=>{t(2,i=!1)},R=S=>{t(0,s.turbineName=S.target.value,s)},le=S=>{t(0,s.turbineNumber=S.target.value,s)},G=S=>{t(0,s.description=S.target.value,s)},x=S=>{t(0,s.odlNumber=S.target.value,s)},z=()=>{t(2,i=!i)},ee=S=>t(0,s.power=S.detail,s),L=S=>t(0,s.turbineState=S.detail,s),B=S=>{t(0,s.startingDateEEMM=S.target.value,s)},j=S=>{t(0,s.startingDateOOCC=S.target.value,s)},oe=S=>{t(0,s.permittingDate=S.target.value,s)},K=S=>{t(0,s.priorNotification=S.target.value,s)},te=()=>{m()},X=()=>{w()},we=()=>{_()};return n.$$set=S=>{"isEditMode"in S&&t(1,r=S.isEditMode),"windfarm"in S&&t(0,s=S.windfarm)},[s,r,i,c,f,v,m,_,w,g,b,E,C,k,D,I,V,A,$,R,le,G,x,z,ee,L,B,j,oe,K,te,X,we]}class ro extends Ge{constructor(e){super(),Je(this,e,tn,en,Qe,{isEditMode:1,windfarm:0},null,[-1,-1])}}function ln(n){let e,t;return e=new ro({props:{windfarm:n[0],isEditMode:!0}}),e.$on("close",n[1]),e.$on("updated",n[2]),{c(){He(e.$$.fragment)},l(r){Ke(e.$$.fragment,r)},m(r,s){qe(e,r,s),t=!0},p(r,[s]){const a={};s&1&&(a.windfarm=r[0]),e.$set(a)},i(r){t||(ve(e.$$.fragment,r),t=!0)},o(r){Ie(e.$$.fragment,r),t=!1},d(r){Ye(e,r)}}}function rn(n,e,t){let{turbine:r}=e;const s=vt(),a=()=>{s("close")},i=()=>{s("updated")};return n.$$set=c=>{"turbine"in c&&t(0,r=c.turbine)},[r,a,i]}class on extends Ge{constructor(e){super(),Je(this,e,rn,ln,Qe,{turbine:0})}}function nn(n){let e,t;return e=new ro({props:{isEditMode:!1}}),e.$on("close",n[0]),e.$on("created",n[1]),{c(){He(e.$$.fragment)},l(r){Ke(e.$$.fragment,r)},m(r,s){qe(e,r,s),t=!0},p:Te,i(r){t||(ve(e.$$.fragment,r),t=!0)},o(r){Ie(e.$$.fragment,r),t=!1},d(r){Ye(e,r)}}}function sn(n){const e=vt();return[()=>{e("close")},()=>{e("created")}]}class an extends Ge{constructor(e){super(),Je(this,e,sn,nn,Qe,{})}}function qr(n,e,t){const r=n.slice();return r[6]=e[t],r}function Yr(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b,E,C,k,D,I,V,A,$,R,le,G,x,z,ee,L,B,j,oe;return{c(){e=h("div"),t=h("input"),r=y(),s=h("div"),a=h("select"),i=h("option"),c=T("Tutte le attività"),f=h("option"),v=T("In corso"),m=h("option"),_=T("Cantieri chiusi"),w=y(),g=h("div"),b=W("svg"),E=W("path"),C=y(),k=h("div"),D=h("select"),I=h("option"),V=T("Tutte le operazioni"),A=h("option"),$=T("Pale"),R=h("option"),le=T("Main components"),G=h("option"),x=T("Manutenzioni Ordinarie"),z=y(),ee=h("div"),L=W("svg"),B=W("path"),this.h()},l(K){e=p(K,"DIV",{class:!0});var te=d(e);t=p(te,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),r=N(te),s=p(te,"DIV",{class:!0});var X=d(s);a=p(X,"SELECT",{class:!0});var we=d(a);i=p(we,"OPTION",{});var S=d(i);c=O(S,"Tutte le attività"),S.forEach(u),f=p(we,"OPTION",{});var H=d(f);v=O(H,"In corso"),H.forEach(u),m=p(we,"OPTION",{});var Ee=d(m);_=O(Ee,"Cantieri chiusi"),Ee.forEach(u),we.forEach(u),w=N(X),g=p(X,"DIV",{class:!0});var Ne=d(g);b=F(Ne,"svg",{class:!0,xmlns:!0,viewBox:!0});var De=d(b);E=F(De,"path",{d:!0}),d(E).forEach(u),De.forEach(u),Ne.forEach(u),X.forEach(u),C=N(te),k=p(te,"DIV",{class:!0});var me=d(k);D=p(me,"SELECT",{class:!0});var Pe=d(D);I=p(Pe,"OPTION",{});var ae=d(I);V=O(ae,"Tutte le operazioni"),ae.forEach(u),A=p(Pe,"OPTION",{});var Oe=d(A);$=O(Oe,"Pale"),Oe.forEach(u),R=p(Pe,"OPTION",{});var ue=d(R);le=O(ue,"Main components"),ue.forEach(u),G=p(Pe,"OPTION",{});var Ve=d(G);x=O(Ve,"Manutenzioni Ordinarie"),Ve.forEach(u),Pe.forEach(u),z=N(me),ee=p(me,"DIV",{class:!0});var ie=d(ee);L=F(ie,"svg",{class:!0,xmlns:!0,viewBox:!0});var q=d(L);B=F(q,"path",{d:!0}),d(B).forEach(u),q.forEach(u),ie.forEach(u),me.forEach(u),te.forEach(u),this.h()},h(){l(t,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(t,"type","text"),l(t,"id","turbineName"),l(t,"name","turbineName"),l(t,"placeholder","Anno"),i.__value="ALL",i.value=i.__value,f.__value="ONLY_INCOMPLETE",f.value=f.__value,m.__value="ONLY_COMPLETED",m.value=m.__value,l(a,"class","w-full min-w-1/2 min-w-[13rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[3]===void 0&&lt(()=>n[23].call(a)),l(E,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(b,"class","w-6 h-6 text-white fill-current"),l(b,"xmlns","http://www.w3.org/2000/svg"),l(b,"viewBox","0 0 20 20"),l(g,"class","absolute top-2 right-2 font-bold"),l(s,"class","relative"),I.__value="ALL",I.value=I.__value,A.__value="ONLY_BLADES",A.value=A.__value,R.__value="MAIN_COMPS",R.value=R.__value,G.__value="MAINTENANCE",G.value=G.__value,l(D,"class","w-full min-w-1/2 min-w-[15rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[4]===void 0&&lt(()=>n[24].call(D)),l(B,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(L,"class","w-6 h-6 text-white fill-current"),l(L,"xmlns","http://www.w3.org/2000/svg"),l(L,"viewBox","0 0 20 20"),l(ee,"class","absolute top-2 right-2 font-bold"),l(k,"class","relative"),l(e,"class","flex flex-col md:flex-row gap-2")},m(K,te){Q(K,e,te),o(e,t),Ol(t,n[2]),o(e,r),o(e,s),o(s,a),o(a,i),o(i,c),o(a,f),o(f,v),o(a,m),o(m,_),Sl(a,n[3]),o(s,w),o(s,g),o(g,b),o(b,E),o(e,C),o(e,k),o(k,D),o(D,I),o(I,V),o(D,A),o(A,$),o(D,R),o(R,le),o(D,G),o(G,x),Sl(D,n[4]),o(k,z),o(k,ee),o(ee,L),o(L,B),j||(oe=[M(t,"input",n[22]),M(a,"change",n[23]),M(D,"change",n[24])],j=!0)},p(K,te){te&4&&t.value!==K[2]&&Ol(t,K[2]),te&8&&Sl(a,K[3]),te&16&&Sl(D,K[4])},d(K){K&&u(e),j=!1,$e(oe)}}}function cn(n){let e,t=[],r=new Map,s,a=n[5];const i=c=>c[6].id;for(let c=0;c<a.length;c+=1){let f=qr(n,a,c),v=i(f);r.set(v,t[c]=Gr(v,f))}return{c(){e=h("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=p(c,"DIV",{class:!0});var f=d(e);for(let v=0;v<t.length;v+=1)t[v].l(f);f.forEach(u),this.h()},h(){l(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(c,f){Q(c,e,f);for(let v=0;v<t.length;v+=1)t[v].m(e,null);s=!0},p(c,f){f&4128&&(a=c[5],At(),t=Zl(t,f,i,1,c,a,r,e,so,Gr,null,qr),Bt())},i(c){if(!s){for(let f=0;f<a.length;f+=1)ve(t[f]);s=!0}},o(c){for(let f=0;f<t.length;f+=1)Ie(t[f]);s=!1},d(c){c&&u(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function un(n){let e,t,r,s,a;return{c(){e=h("div"),t=h("div"),r=y(),s=h("p"),a=T("Caricamento in corso..."),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);t=p(c,"DIV",{class:!0}),d(t).forEach(u),r=N(c),s=p(c,"P",{class:!0});var f=d(s);a=O(f,"Caricamento in corso..."),f.forEach(u),c.forEach(u),this.h()},h(){l(t,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),l(s,"class","mt-4 text-xl font-bold font-mono"),l(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(i,c){Q(i,e,c),o(e,t),o(e,r),o(e,s),o(s,a)},p:Te,i:Te,o:Te,d(i){i&&u(e)}}}function Gr(n,e){let t,r,s;return r=new ko({props:{turbine:e[6]}}),r.$on("showDetails",e[12]),{key:n,first:null,c(){t=ct(),He(r.$$.fragment),this.h()},l(a){t=ct(),Ke(r.$$.fragment,a),this.h()},h(){this.first=t},m(a,i){Q(a,t,i),qe(r,a,i),s=!0},p(a,i){e=a;const c={};i&32&&(c.turbine=e[6]),r.$set(c)},i(a){s||(ve(r.$$.fragment,a),s=!0)},o(a){Ie(r.$$.fragment,a),s=!1},d(a){a&&u(t),Ye(r,a)}}}function Jr(n){let e,t,r,s,a;return t=new Ro({props:{turbine:n[6]}}),t.$on("closeDetails",n[13]),t.$on("editMode",n[15]),t.$on("deleted",n[14]),{c(){e=h("div"),He(t.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);Ke(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(i,c){Q(i,e,c),qe(t,e,null),r=!0,s||(a=[M(e,"click",n[13]),M(e,"keydown",n[13])],s=!0)},p(i,c){const f={};c&64&&(f.turbine=i[6]),t.$set(f)},i(i){r||(ve(t.$$.fragment,i),r=!0)},o(i){Ie(t.$$.fragment,i),r=!1},d(i){i&&u(e),Ye(t),s=!1,$e(a)}}}function Qr(n){let e,t,r,s,a;return t=new on({props:{turbine:n[6]}}),t.$on("close",n[25]),t.$on("updated",n[18]),{c(){e=h("div"),He(t.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);Ke(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(i,c){Q(i,e,c),qe(t,e,null),r=!0,s||(a=[M(e,"click",n[13]),M(e,"keydown",n[13])],s=!0)},p(i,c){const f={};c&64&&(f.turbine=i[6]),t.$set(f)},i(i){r||(ve(t.$$.fragment,i),r=!0)},o(i){Ie(t.$$.fragment,i),r=!1},d(i){i&&u(e),Ye(t),s=!1,$e(a)}}}function Xr(n){let e,t,r,s,a;return t=new an({}),t.$on("close",n[26]),t.$on("created",n[17]),{c(){e=h("div"),He(t.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);Ke(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(i,c){Q(i,e,c),qe(t,e,null),r=!0,s||(a=[M(e,"click",n[13]),M(e,"keydown",n[13])],s=!0)},p:Te,i(i){r||(ve(t.$$.fragment,i),r=!0)},o(i){Ie(t.$$.fragment,i),r=!1},d(i){i&&u(e),Ye(t),s=!1,$e(a)}}}function dn(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b,E,C,k,D,I,V,A,$,R,le,G,x,z,ee,L,B,j,oe,K,te,X,we,S,H,Ee,Ne,De,me,Pe,ae=n[10]&&Yr(n);const Oe=[un,cn],ue=[];function Ve(U,Y){return U[0].length===0?0:1}te=Ve(n),X=ue[te]=Oe[te](n);let ie=n[7]&&Jr(n),q=n[8]&&Qr(n),se=n[9]&&Xr(n);return{c(){e=h("div"),t=h("div"),r=h("section"),s=h("div"),a=h("input"),i=y(),c=h("button"),f=W("svg"),v=W("polygon"),_=y(),ae&&ae.c(),w=y(),g=h("div"),b=h("p"),E=T(n[11]),C=T(" risultati"),k=y(),D=h("div"),I=h("button"),V=W("svg"),A=W("path"),$=W("polyline"),R=W("line"),le=W("line"),G=W("polyline"),z=y(),ee=h("button"),L=W("svg"),B=W("line"),j=W("line"),oe=y(),K=h("section"),X.c(),we=y(),ie&&ie.c(),S=y(),q&&q.c(),H=y(),se&&se.c(),this.h()},l(U){e=p(U,"DIV",{});var Y=d(e);t=p(Y,"DIV",{id:!0,class:!0});var he=d(t);r=p(he,"SECTION",{class:!0,id:!0});var Le=d(r);s=p(Le,"DIV",{class:!0});var We=d(s);a=p(We,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=N(We),c=p(We,"BUTTON",{class:!0});var ne=d(c);f=F(ne,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var pe=d(f);v=F(pe,"polygon",{points:!0}),d(v).forEach(u),pe.forEach(u),ne.forEach(u),We.forEach(u),_=N(Le),ae&&ae.l(Le),Le.forEach(u),w=N(he),g=p(he,"DIV",{class:!0});var ye=d(g);b=p(ye,"P",{class:!0});var J=d(b);E=O(J,n[11]),C=O(J," risultati"),J.forEach(u),k=N(ye),D=p(ye,"DIV",{class:!0});var P=d(D);I=p(P,"BUTTON",{class:!0});var ce=d(I);V=F(ce,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var be=d(V);A=F(be,"path",{d:!0}),d(A).forEach(u),$=F(be,"polyline",{points:!0}),d($).forEach(u),R=F(be,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(R).forEach(u),le=F(be,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(le).forEach(u),G=F(be,"polyline",{points:!0}),d(G).forEach(u),be.forEach(u),ce.forEach(u),z=N(P),ee=p(P,"BUTTON",{class:!0});var de=d(ee);L=F(de,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ue=d(L);B=F(Ue,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(B).forEach(u),j=F(Ue,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(j).forEach(u),Ue.forEach(u),de.forEach(u),P.forEach(u),ye.forEach(u),oe=N(he),K=p(he,"SECTION",{class:!0});var Ce=d(K);X.l(Ce),we=N(Ce),ie&&ie.l(Ce),S=N(Ce),q&&q.l(Ce),H=N(Ce),se&&se.l(Ce),Ce.forEach(u),he.forEach(u),Y.forEach(u),this.h()},h(){l(a,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(a,"type","text"),l(a,"id","turbineName"),l(a,"name","turbineName"),l(a,"placeholder","Cerca"),l(v,"points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"),l(f,"xmlns","http://www.w3.org/2000/svg"),l(f,"width","24"),l(f,"height","24"),l(f,"viewBox","0 0 24 24"),l(f,"fill","none"),l(f,"stroke","currentColor"),l(f,"stroke-width","2"),l(f,"stroke-linecap","round"),l(f,"stroke-linejoin","round"),l(f,"class",m=n[10]?"text-blue-500 rotate-90":"text-white"),l(c,"class","py-2 px-2 hover:text-blue-500 bg-gray-700 rounded-sm md:rounded-md"),l(s,"class","items-center flex flex-row justify-between md:justify-start gap-2"),l(r,"class","mt-5 flex flex-col gap-3 font-mono h-min-[10vh]"),l(r,"id","filters"),l(b,"class","font-mono text-lg"),l(A,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),l($,"points","14 2 14 8 20 8"),l(R,"x1","16"),l(R,"y1","13"),l(R,"x2","8"),l(R,"y2","13"),l(le,"x1","16"),l(le,"y1","17"),l(le,"x2","8"),l(le,"y2","17"),l(G,"points","10 9 9 9 8 9"),l(V,"xmlns","http://www.w3.org/2000/svg"),l(V,"width","22"),l(V,"height","22"),l(V,"viewBox","0 0 24 24"),l(V,"fill","none"),l(V,"stroke","currentColor"),l(V,"stroke-width","2"),l(V,"stroke-linecap","round"),l(V,"stroke-linejoin","round"),l(V,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),l(I,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),I.disabled=x=n[0].length===0,l(B,"x1","12"),l(B,"y1","5"),l(B,"x2","12"),l(B,"y2","19"),l(j,"x1","5"),l(j,"y1","12"),l(j,"x2","19"),l(j,"y2","12"),l(L,"xmlns","http://www.w3.org/2000/svg"),l(L,"width","22"),l(L,"height","22"),l(L,"viewBox","0 0 24 24"),l(L,"fill","none"),l(L,"stroke","currentColor"),l(L,"stroke-width","2"),l(L,"stroke-linecap","round"),l(L,"stroke-linejoin","round"),l(L,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),l(ee,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),l(D,"class","justify-end flex flex-row gap-4"),l(g,"class","flex flex-row justify-between items-center h-[10vh]"),l(K,"class",Ee="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(n[10]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"),l(t,"id","full-content"),l(t,"class","p-4")},m(U,Y){Q(U,e,Y),o(e,t),o(t,r),o(r,s),o(s,a),Ol(a,n[1]),o(s,i),o(s,c),o(c,f),o(f,v),o(r,_),ae&&ae.m(r,null),o(t,w),o(t,g),o(g,b),o(b,E),o(b,C),o(g,k),o(g,D),o(D,I),o(I,V),o(V,A),o(V,$),o(V,R),o(V,le),o(V,G),o(D,z),o(D,ee),o(ee,L),o(L,B),o(L,j),o(t,oe),o(t,K),ue[te].m(K,null),o(K,we),ie&&ie.m(K,null),o(K,S),q&&q.m(K,null),o(K,H),se&&se.m(K,null),De=!0,me||(Pe=[M(a,"input",n[20]),M(c,"click",n[21]),M(I,"click",n[19]),M(ee,"click",n[16])],me=!0)},p(U,[Y]){Y&2&&a.value!==U[1]&&Ol(a,U[1]),(!De||Y&1024&&m!==(m=U[10]?"text-blue-500 rotate-90":"text-white"))&&l(f,"class",m),U[10]?ae?ae.p(U,Y):(ae=Yr(U),ae.c(),ae.m(r,null)):ae&&(ae.d(1),ae=null),(!De||Y&2048)&&_e(E,U[11]),(!De||Y&1&&x!==(x=U[0].length===0))&&(I.disabled=x);let he=te;te=Ve(U),te===he?ue[te].p(U,Y):(At(),Ie(ue[he],1,1,()=>{ue[he]=null}),Bt(),X=ue[te],X?X.p(U,Y):(X=ue[te]=Oe[te](U),X.c()),ve(X,1),X.m(K,we)),U[7]?ie?(ie.p(U,Y),Y&128&&ve(ie,1)):(ie=Jr(U),ie.c(),ve(ie,1),ie.m(K,S)):ie&&(At(),Ie(ie,1,1,()=>{ie=null}),Bt()),U[8]?q?(q.p(U,Y),Y&256&&ve(q,1)):(q=Qr(U),q.c(),ve(q,1),q.m(K,H)):q&&(At(),Ie(q,1,1,()=>{q=null}),Bt()),U[9]?se?(se.p(U,Y),Y&512&&ve(se,1)):(se=Xr(U),se.c(),ve(se,1),se.m(K,null)):se&&(At(),Ie(se,1,1,()=>{se=null}),Bt()),(!De||Y&1024&&Ee!==(Ee="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(U[10]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"))&&l(K,"class",Ee)},i(U){De||(ve(X),ve(ie),ve(q),ve(se),lt(()=>{Ne||(Ne=Tl(e,ut,{duration:200},!0)),Ne.run(1)}),De=!0)},o(U){Ie(X),Ie(ie),Ie(q),Ie(se),Ne||(Ne=Tl(e,ut,{duration:200},!1)),Ne.run(0),De=!1},d(U){U&&u(e),ae&&ae.d(),ue[te].d(),ie&&ie.d(),q&&q.d(),se&&se.d(),U&&Ne&&Ne.end(),me=!1,$e(Pe)}}}function fn(n,e,t){let r,s,a=!1,i={},c=[];Xl(()=>{rl().then(B=>{t(0,c=B)})});const f=B=>{const j=B.detail;t(6,i=c.find(oe=>oe.id===j)),t(7,a=!0),t(8,_=!1)},v=()=>{rl().then(B=>{t(0,c=B),t(7,a=!1)})},m=()=>{t(7,a=!1),rl().then(B=>{t(0,c=B)})};let _=!1;const w=B=>{const j=B.detail;t(6,i=c.find(oe=>oe.id===j)),t(7,a=!1),t(8,_=!0)};let g=!1;const b=()=>{t(9,g=!0),t(7,a=!1),t(8,_=!1)},E=()=>{t(9,g=!1),t(7,a=!1),t(8,_=!1),rl().then(B=>{console.log("Updating with: ",B),t(0,c=B)})},C=()=>{rl().then(B=>{t(0,c=B),t(8,_=!1)})},k=()=>{c.length>0&&Do().then(B=>{const j=new Blob([B.data],{type:"text/csv"}),oe=window.URL.createObjectURL(j),K=document.createElement("a");K.href=oe,K.download="export.csv",K.click()})};let D="",I="",V="ALL",A="ALL",$=!1;function R(){D=this.value,t(1,D)}const le=()=>{t(10,$=!$)};function G(){I=this.value,t(2,I)}function x(){V=Sr(this),t(3,V)}function z(){A=Sr(this),t(4,A)}const ee=()=>t(8,_=!1),L=()=>t(9,g=!1);return n.$$.update=()=>{n.$$.dirty&31&&t(5,r=c.filter(B=>{const j=D.toLowerCase(),oe=B.description.toLowerCase().includes(j),K=B.turbineName.toLowerCase().includes(j),te=B.turbineNumber.toLowerCase().includes(j),X=B.creationDate.includes(I),we=V==="ALL"||V==="ONLY_INCOMPLETE"&&!B.completionDate||V==="ONLY_COMPLETED"&&B.completionDate,S=A==="ALL"||A==="MAINTENANCE"&&B.operation.some(H=>H.includes(et[20])||H.includes(et[21])||H.includes(et[22])||H.includes(et[25])||H.includes(et[26]))||A==="ONLY_BLADES"&&B.operation.some(H=>H.includes(et[2]))||A==="MAIN_COMPS"&&B.operation.some(H=>!H.includes(et[20])&&!H.includes(et[21])&&!H.includes(et[22])&&!H.includes(et[25])&&!H.includes(et[26]));return(oe||K||te)&&X&&we&&S})),n.$$.dirty&32&&t(11,s=r.length)},[c,D,I,V,A,r,i,a,_,g,$,s,f,v,m,w,b,E,C,k,R,le,G,x,z,ee,L]}class gn extends Ge{constructor(e){super(),Je(this,e,fn,dn,Qe,{})}}export{gn as default};
