import{P as oo,S as Je,i as Qe,s as Xe,k as h,a as y,q as T,l as p,m as d,h as u,c as N,r as O,n as l,b as Q,C as o,u as me,B as De,Q as Zr,e as ct,w as $e,E as F,x as qe,F as W,y as Ye,G as M,O as Ql,f as ge,R as rt,T as Et,t as Ee,z as Ge,H as He,D as vt,U as Ir,V as no,o as Xl,W as Zl,X as eo,Y as lt,g as At,d as Bt,Z as kt,_ as Fe,$ as Tl,a0 as Ol,a1 as Sl,a2 as Sr,a3 as so}from"../../../chunks/index-38a06d27.js";import{a as Lt}from"../../../chunks/axios-67252f11.js";function ao(n){const e=n-1;return e*e*e+1}function to(n,{delay:e=0,duration:t=400,easing:r=oo}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:a=>`opacity: ${a*s}`}}function ut(n,{delay:e=0,duration:t=400,easing:r=ao}={}){const s=getComputedStyle(n),a=+s.opacity,i=parseFloat(s.height),c=parseFloat(s.paddingTop),f=parseFloat(s.paddingBottom),v=parseFloat(s.marginTop),m=parseFloat(s.marginBottom),_=parseFloat(s.borderTopWidth),w=parseFloat(s.borderBottomWidth);return{delay:e,duration:t,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*a};height: ${g*i}px;padding-top: ${g*c}px;padding-bottom: ${g*f}px;margin-top: ${g*v}px;margin-bottom: ${g*m}px;border-top-width: ${g*_}px;border-bottom-width: ${g*w}px;`}}const Gt={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Tr(n,e,t){const r=n.slice();return r[4]=e[t],r[6]=t,r}function io(n){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-gray-500 h-full w-full rounded")},m(t,r){Q(t,e,r)},d(t){t&&u(e)}}}function co(n){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-blue-800 h-full w-full rounded")},m(t,r){Q(t,e,r)},d(t){t&&u(e)}}}function uo(n){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-blue-500 h-full w-full rounded")},m(t,r){Q(t,e,r)},d(t){t&&u(e)}}}function Or(n){let e;function t(a,i){return a[6]<a[0]?uo:a[6]===a[0]?co:io}let r=t(n),s=r(n);return{c(){s.c(),e=ct()},l(a){s.l(a),e=ct()},m(a,i){s.m(a,i),Q(a,e,i)},p(a,i){r!==(r=t(a))&&(s.d(1),s=r(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s.d(a),a&&u(e)}}}function fo(n){let e,t,r,s,a=(n[1]||"Cantiere chiuso")+"",i,c=Array(n[2]),f=[];for(let v=0;v<c.length;v+=1)f[v]=Or(Tr(n,c,v));return{c(){e=h("div"),t=h("div");for(let v=0;v<f.length;v+=1)f[v].c();r=y(),s=h("span"),i=T(a),this.h()},l(v){e=p(v,"DIV",{class:!0});var m=d(e);t=p(m,"DIV",{class:!0});var _=d(t);for(let g=0;g<f.length;g+=1)f[g].l(_);_.forEach(u),r=N(m),s=p(m,"SPAN",{class:!0});var w=d(s);i=O(w,a),w.forEach(u),m.forEach(u),this.h()},h(){l(t,"class","transition duration-300 ease-in-out transform flex flex-row h-7 w-full lg:w-3/4 gap-0.5"),l(s,"class","absolute font-bold text-lg flex pl-2"),l(e,"class","flex")},m(v,m){Q(v,e,m),o(e,t);for(let _=0;_<f.length;_+=1)f[_].m(t,null);o(e,r),o(e,s),o(s,i)},p(v,[m]){if(m&1){c=Array(v[2]);let _;for(_=0;_<c.length;_+=1){const w=Tr(v,c,_);f[_]?f[_].p(w,m):(f[_]=Or(w),f[_].c(),f[_].m(t,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=c.length}m&2&&a!==(a=(v[1]||"Cantiere chiuso")+"")&&me(i,a)},i:De,o:De,d(v){v&&u(e),Zr(f,v)}}}function ho(n,e,t){let r,{completedSteps:s=0}=e,{creationDate:a=""}=e,i=a.includes("2022")?7:8;return n.$$set=c=>{"completedSteps"in c&&t(0,s=c.completedSteps),"creationDate"in c&&t(3,a=c.creationDate)},n.$$.update=()=>{n.$$.dirty&9&&t(1,r=a.includes("2022")?Gt[s+2]:Gt[s+1])},[s,r,i,a]}class po extends Je{constructor(e){super(),Qe(this,e,ho,fo,Xe,{completedSteps:0,creationDate:3})}}function Cr(n){let e,t,r=n[0].turbineNumber+"",s;return{c(){e=h("span"),t=T("- "),s=T(r),this.h()},l(a){e=p(a,"SPAN",{class:!0});var i=d(e);t=O(i,"- "),s=O(i,r),i.forEach(u),this.h()},h(){l(e,"class","hidden md:inline-block")},m(a,i){Q(a,e,i),o(e,t),o(e,s)},p(a,i){i&1&&r!==(r=a[0].turbineNumber+"")&&me(s,r)},d(a){a&&u(e)}}}function go(n){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","hidden md:flex col-span-2")},m(t,r){Q(t,e,r)},p:De,d(t){t&&u(e)}}}function vo(n){let e,t,r,s=n[0].odlNumber+"",a;return{c(){e=h("p"),t=T("ODL: "),r=h("span"),a=T(s),this.h()},l(i){e=p(i,"P",{class:!0});var c=d(e);t=O(c,"ODL: "),r=p(c,"SPAN",{class:!0});var f=d(r);a=O(f,s),f.forEach(u),c.forEach(u),this.h()},h(){l(r,"class","text-blue-400"),l(e,"class","flex md:justify-end")},m(i,c){Q(i,e,c),o(e,t),o(e,r),o(r,a)},p(i,c){c&1&&s!==(s=i[0].odlNumber+"")&&me(a,s)},d(i){i&&u(e)}}}function Mr(n){let e,t,r=n[0].operation[0]+"",s,a,i;return{c(){e=h("div"),t=h("p"),s=T(r),this.h()},l(c){e=p(c,"DIV",{class:!0});var f=d(e);t=p(f,"P",{});var v=d(t);s=O(v,r),v.forEach(u),f.forEach(u),this.h()},h(){l(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 left-10 cursor-default")},m(c,f){Q(c,e,f),o(e,t),o(t,s),a||(i=[M(e,"mouseover",n[7]),M(e,"focus",n[8]),M(e,"mouseleave",n[9]),M(e,"focusout",n[10])],a=!0)},p(c,f){f&1&&r!==(r=c[0].operation[0]+"")&&me(s,r)},d(c){c&&u(e),a=!1,He(i)}}}function mo(n){let e,t;return{c(){e=h("span"),t=T("Non disponibile"),this.h()},l(r){e=p(r,"SPAN",{class:!0});var s=d(e);t=O(s,"Non disponibile"),s.forEach(u),this.h()},h(){l(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(r,s){Q(r,e,s),o(e,t)},p:De,d(r){r&&u(e)}}}function _o(n){let e,t,r,s;return{c(){e=h("div"),t=h("span"),r=T(n[1]),this.h()},l(a){e=p(a,"DIV",{class:!0});var i=d(e);t=p(i,"SPAN",{class:!0});var c=d(t);r=O(c,n[1]),c.forEach(u),i.forEach(u),this.h()},h(){l(t,"class",s=n[4]?"text-red-500":""),l(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(a,i){Q(a,e,i),o(e,t),o(t,r)},p(a,i){i&2&&me(r,a[1]),i&16&&s!==(s=a[4]?"text-red-500":"")&&l(t,"class",s)},d(a){a&&u(e)}}}function bo(n){let e,t,r,s,a=n[0].turbineName+"",i,c,f,v,m,_,w,g,b,E,C,k,D,S,V,A,K=n[0].description+"",H,ee,G,x,z,Z,L,B,j,re,$,I,R,ke=n[0].turbineState+"",Me,te,ye,Ie,Se,ve,Pe,se,Te=(n[1]||"N/A")+"",ce,Ve,ae,q,ne,U,Y,fe,Le,We,oe,he,we,J=n[0].turbineNumber&&Cr(n);m=new po({props:{completedSteps:n[0].completedSteps,creationDate:n[0].creationDate}});function P(le,pe){return le[0].odlNumber!==void 0&&le[0].odlNumber!==0?vo:go}let ie=P(n),_e=ie(n),ue=n[2]&&Mr(n);function Ue(le,pe){return le[1]?_o:mo}let Oe=Ue(n),Ce=Oe(n);return{c(){e=h("div"),t=h("div"),r=h("div"),s=h("h1"),i=T(a),c=y(),J&&J.c(),f=y(),v=h("div"),$e(m.$$.fragment),_=y(),w=h("div"),g=y(),b=h("div"),E=y(),C=h("div"),k=F("svg"),D=F("path"),S=F("circle"),V=y(),A=h("span"),H=T(K),ee=y(),_e.c(),G=y(),x=h("div"),z=F("svg"),Z=F("path"),L=F("rect"),B=y(),ue&&ue.c(),j=y(),re=h("span"),$=T(n[3]),I=y(),R=h("span"),Me=T(ke),te=y(),ye=h("span"),Ie=T("Scadenza cantiere:"),Se=y(),ve=h("span"),Pe=T("Scadenza: "),se=h("span"),ce=T(Te),Ve=y(),Ce.c(),ae=y(),q=h("div"),ne=h("div"),U=h("button"),Y=F("svg"),fe=F("path"),Le=F("path"),this.h()},l(le){e=p(le,"DIV",{class:!0});var pe=d(e);t=p(pe,"DIV",{class:!0});var ze=d(t);r=p(ze,"DIV",{class:!0});var be=d(r);s=p(be,"H1",{class:!0});var ot=d(s);i=O(ot,a),c=N(ot),J&&J.l(ot),ot.forEach(u),f=N(be),v=p(be,"DIV",{class:!0});var Ze=d(v);qe(m.$$.fragment,Ze),Ze.forEach(u),_=N(be),w=p(be,"DIV",{class:!0}),d(w).forEach(u),g=N(be),b=p(be,"DIV",{class:!0}),d(b).forEach(u),E=N(be),C=p(be,"DIV",{class:!0});var Ke=d(C);k=W(Ke,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Be=d(k);D=W(Be,"path",{d:!0}),d(D).forEach(u),S=W(Be,"circle",{cx:!0,cy:!0,r:!0}),d(S).forEach(u),Be.forEach(u),V=N(Ke),A=p(Ke,"SPAN",{});var st=d(A);H=O(st,K),st.forEach(u),Ke.forEach(u),ee=N(be),_e.l(be),G=N(be),x=p(be,"DIV",{class:!0});var xe=d(x);z=W(xe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Re=d(z);Z=W(Re,"path",{d:!0}),d(Z).forEach(u),L=W(Re,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(L).forEach(u),Re.forEach(u),B=N(xe),ue&&ue.l(xe),j=N(xe),re=p(xe,"SPAN",{class:!0});var dt=d(re);$=O(dt,n[3]),dt.forEach(u),xe.forEach(u),I=N(be),R=p(be,"SPAN",{class:!0});var nt=d(R);Me=O(nt,ke),nt.forEach(u),te=N(be),ye=p(be,"SPAN",{class:!0});var ft=d(ye);Ie=O(ft,"Scadenza cantiere:"),ft.forEach(u),Se=N(be),ve=p(be,"SPAN",{class:!0});var ht=d(ve);Pe=O(ht,"Scadenza: "),se=p(ht,"SPAN",{class:!0});var yt=d(se);ce=O(yt,Te),yt.forEach(u),ht.forEach(u),Ve=N(be),Ce.l(be),be.forEach(u),ae=N(ze),q=p(ze,"DIV",{class:!0});var zt=d(q);ne=p(zt,"DIV",{class:!0});var at=d(ne);U=p(at,"BUTTON",{class:!0});var pt=d(U);Y=W(pt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Nt=d(Y);fe=W(Nt,"path",{d:!0}),d(fe).forEach(u),Le=W(Nt,"path",{d:!0}),d(Le).forEach(u),Nt.forEach(u),pt.forEach(u),at.forEach(u),zt.forEach(u),ze.forEach(u),pe.forEach(u),this.h()},h(){l(s,"class","font-bold text-4xl mt-3 col-span-1 md:col-span-2"),l(v,"class","col-span-1 md:col-span-2"),l(w,"class","col-span-1"),l(b,"class","hidden md:flex"),l(D,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),l(S,"cx","12"),l(S,"cy","10"),l(S,"r","3"),l(k,"xmlns","http://www.w3.org/2000/svg"),l(k,"width","24"),l(k,"height","24"),l(k,"viewBox","0 0 24 24"),l(k,"fill","none"),l(k,"stroke","currentColor"),l(k,"stroke-width","2"),l(k,"stroke-linecap","round"),l(k,"stroke-linejoin","round"),l(k,"class","feather feather-map-pin"),l(C,"class","flex gap-2 md:-mb-2"),l(Z,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),l(L,"x","8"),l(L,"y","2"),l(L,"width","8"),l(L,"height","4"),l(L,"rx","1"),l(L,"ry","1"),l(z,"xmlns","http://www.w3.org/2000/svg"),l(z,"width","24"),l(z,"height","24"),l(z,"viewBox","0 0 24 24"),l(z,"fill","none"),l(z,"stroke","currentColor"),l(z,"stroke-width","2"),l(z,"stroke-linecap","round"),l(z,"stroke-linejoin","round"),l(z,"class","feather feather-clipboard"),l(re,"class","flex select-none"),l(x,"class","flex gap-2"),l(R,"class","flex md:justify-end font-bold"),l(ye,"class","font-mono hidden xl:flex"),l(se,"class","font-bold"),l(ve,"class","font-mono flex xl:hidden"),l(r,"class","grid grid-cols-1 text-white font-mono gap-3"),l(fe,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),l(Le,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),l(Y,"xmlns","http://www.w3.org/2000/svg"),l(Y,"width","22"),l(Y,"height","22"),l(Y,"viewBox","0 0 24 24"),l(Y,"fill","none"),l(Y,"stroke","currentColor"),l(Y,"stroke-width","2"),l(Y,"stroke-linecap","round"),l(Y,"stroke-linejoin","round"),l(Y,"class","feather feather-book-open"),l(U,"class","py-2 px-2 hover:bg-gray-400 rounded-full group"),l(ne,"class","flex flex-col md:flex-row gap-2 md:gap-0"),l(q,"class","absolute top-0 right-0 mr-2 mt-2"),l(t,"class","bg-gray-800 px-4 my-2 mx-2 md:mx-0 rounded-sm shadow-md hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto md:h-68 xl:h-56 pb-5 content-start"),l(e,"class","snap-start pt-1")},m(le,pe){Q(le,e,pe),o(e,t),o(t,r),o(r,s),o(s,i),o(s,c),J&&J.m(s,null),o(r,f),o(r,v),Ye(m,v,null),o(r,_),o(r,w),o(r,g),o(r,b),o(r,E),o(r,C),o(C,k),o(k,D),o(k,S),o(C,V),o(C,A),o(A,H),o(r,ee),_e.m(r,null),o(r,G),o(r,x),o(x,z),o(z,Z),o(z,L),o(x,B),ue&&ue.m(x,null),o(x,j),o(x,re),o(re,$),o(r,I),o(r,R),o(R,Me),o(r,te),o(r,ye),o(ye,Ie),o(r,Se),o(r,ve),o(ve,Pe),o(ve,se),o(se,ce),o(r,Ve),Ce.m(r,null),o(t,ae),o(t,q),o(q,ne),o(ne,U),o(U,Y),o(Y,fe),o(Y,Le),oe=!0,he||(we=[M(x,"mouseover",n[11]),M(x,"focus",n[12]),M(x,"mouseleave",n[13]),M(x,"focusout",n[14]),M(U,"click",Ql(n[5]))],he=!0)},p(le,[pe]){(!oe||pe&1)&&a!==(a=le[0].turbineName+"")&&me(i,a),le[0].turbineNumber?J?J.p(le,pe):(J=Cr(le),J.c(),J.m(s,null)):J&&(J.d(1),J=null);const ze={};pe&1&&(ze.completedSteps=le[0].completedSteps),pe&1&&(ze.creationDate=le[0].creationDate),m.$set(ze),(!oe||pe&1)&&K!==(K=le[0].description+"")&&me(H,K),ie===(ie=P(le))&&_e?_e.p(le,pe):(_e.d(1),_e=ie(le),_e&&(_e.c(),_e.m(r,G))),le[2]?ue?ue.p(le,pe):(ue=Mr(le),ue.c(),ue.m(x,j)):ue&&(ue.d(1),ue=null),(!oe||pe&8)&&me($,le[3]),(!oe||pe&1)&&ke!==(ke=le[0].turbineState+"")&&me(Me,ke),(!oe||pe&2)&&Te!==(Te=(le[1]||"N/A")+"")&&me(ce,Te),Oe===(Oe=Ue(le))&&Ce?Ce.p(le,pe):(Ce.d(1),Ce=Oe(le),Ce&&(Ce.c(),Ce.m(r,null)))},i(le){oe||(ge(m.$$.fragment,le),We||rt(()=>{We=Et(t,ut,{duration:1e3}),We.start()}),oe=!0)},o(le){Ee(m.$$.fragment,le),oe=!1},d(le){le&&u(e),J&&J.d(),Ge(m),_e.d(),ue&&ue.d(),Ce.d(),he=!1,He(we)}}}function wo(n,e,t){let r,s,a,i,{turbine:c={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const f=vt(),v=()=>{f("showDetails",c.id)};let m=!1;const _=()=>t(2,m=!0),w=()=>t(2,m=!0),g=()=>t(2,m=!1),b=()=>t(2,m=!1),E=()=>t(2,m=!0),C=()=>t(2,m=!0),k=()=>t(2,m=!1),D=()=>t(2,m=!1);return n.$$set=S=>{"turbine"in S&&t(0,c=S.turbine)},n.$$.update=()=>{n.$$.dirty&1&&t(6,r=c.creationDate.includes("2022")?Gt[c.completedSteps+2]:Gt[c.completedSteps+1]),n.$$.dirty&65&&(r===Gt[3]?c.priorNotification:r===Gt[4]&&c.permittingDate),n.$$.dirty&1&&t(1,s=c.permittingDate?new Date(new Date(c.permittingDate).getTime()+90*24*60*60*1e3).toLocaleDateString("it-IT"):null),n.$$.dirty&3&&t(4,a=s&&new Date(c.permittingDate).getTime()+90*24*60*60*1e3<new Date().getTime()),n.$$.dirty&1&&t(3,i=c.operation[0]?c.operation[0].length>16?c.operation[0].substring(0,14)+"...":c.operation[0]:"")},[c,s,m,i,a,v,r,_,w,g,b,E,C,k,D]}class ko extends Je{constructor(e){super(),Qe(this,e,wo,bo,Xe,{turbine:0})}}const ol="https://dockyard-handler.herokuapp.com/v1.0.0";async function rl(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Lt.get(ol+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function Eo(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Lt.delete(ol+"/event?eventId="+n,t)}else console.log("Token not found in local storage")}async function yo(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Lt.post(ol+"/event",n,t)}else console.log("Token not found in local storage")}async function No(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(n)),await Lt.put(ol+"/event",n,t)}else console.log("Token not found in local storage")}async function Do(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Lt.get(ol+"/events/csv",e)}else console.log("Token not found in local storage")}function Vr(n){let e,t,r,s,a=(n[0].startingDateEEMM||"____/__/__")+"",i,c,f,v,m,_=(n[0].startingDateOOCC||"____/__/__")+"",w;return{c(){e=h("div"),t=h("p"),r=T("Inizio ATT EEMM: "),s=h("span"),i=T(a),c=y(),f=h("p"),v=T("Inizio ATT OOCC: "),m=h("span"),w=T(_),this.h()},l(g){e=p(g,"DIV",{class:!0});var b=d(e);t=p(b,"P",{class:!0});var E=d(t);r=O(E,"Inizio ATT EEMM: "),s=p(E,"SPAN",{class:!0});var C=d(s);i=O(C,a),C.forEach(u),E.forEach(u),c=N(b),f=p(b,"P",{class:!0});var k=d(f);v=O(k,"Inizio ATT OOCC: "),m=p(k,"SPAN",{class:!0});var D=d(m);w=O(D,_),D.forEach(u),k.forEach(u),b.forEach(u),this.h()},h(){l(s,"class","font-extralight"),l(t,"class","font-mono text-white text-lg"),l(m,"class","font-extralight"),l(f,"class","font-mono text-white text-lg"),l(e,"class","p-2 mb-2")},m(g,b){Q(g,e,b),o(e,t),o(t,r),o(t,s),o(s,i),o(e,c),o(e,f),o(f,v),o(f,m),o(m,w)},p(g,b){b&1&&a!==(a=(g[0].startingDateEEMM||"____/__/__")+"")&&me(i,a),b&1&&_!==(_=(g[0].startingDateOOCC||"____/__/__")+"")&&me(w,_)},d(g){g&&u(e)}}}function Io(n){let e,t,r,s,a,i,c,f,v,m,_,w=n[1]&&Vr(n);return{c(){e=h("button"),t=F("svg"),r=F("circle"),s=F("polyline"),a=y(),i=h("h1"),c=T("Tracciamento eventi"),f=y(),w&&w.c(),v=ct(),this.h()},l(g){e=p(g,"BUTTON",{class:!0});var b=d(e);t=W(b,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var E=d(t);r=W(E,"circle",{cx:!0,cy:!0,r:!0}),d(r).forEach(u),s=W(E,"polyline",{points:!0}),d(s).forEach(u),E.forEach(u),a=N(b),i=p(b,"H1",{class:!0});var C=d(i);c=O(C,"Tracciamento eventi"),C.forEach(u),b.forEach(u),f=N(g),w&&w.l(g),v=ct(),this.h()},h(){l(r,"cx","12"),l(r,"cy","12"),l(r,"r","10"),l(s,"points","12 6 12 12 16 14"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-clock"),l(i,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(g,b){Q(g,e,b),o(e,t),o(t,r),o(t,s),o(e,a),o(e,i),o(i,c),Q(g,f,b),w&&w.m(g,b),Q(g,v,b),m||(_=M(e,"click",Ql(n[2])),m=!0)},p(g,[b]){g[1]?w?w.p(g,b):(w=Vr(g),w.c(),w.m(v.parentNode,v)):w&&(w.d(1),w=null)},i:De,o:De,d(g){g&&u(e),g&&u(f),w&&w.d(g),g&&u(v),m=!1,_()}}}function So(n,e,t){let{turbine:r}=e,s=!1;const a=()=>t(1,s=!s);return n.$$set=i=>{"turbine"in i&&t(0,r=i.turbine)},[r,s,a]}class To extends Je{constructor(e){super(),Qe(this,e,So,Io,Xe,{turbine:0})}}function Pr(n,e,t){const r=n.slice();return r[3]=e[t],r}function Ar(n){let e,t,r=n[0].operation,s=[];for(let a=0;a<r.length;a+=1)s[a]=Br(Pr(n,r,a));return{c(){e=h("div"),t=h("ul");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=p(a,"DIV",{class:!0});var i=d(e);t=p(i,"UL",{class:!0});var c=d(t);for(let f=0;f<s.length;f+=1)s[f].l(c);c.forEach(u),i.forEach(u),this.h()},h(){l(t,"class","font-mono text-white text-lg"),l(e,"class","p-2")},m(a,i){Q(a,e,i),o(e,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null)},p(a,i){if(i&1){r=a[0].operation;let c;for(c=0;c<r.length;c+=1){const f=Pr(a,r,c);s[c]?s[c].p(f,i):(s[c]=Br(f),s[c].c(),s[c].m(t,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=r.length}},d(a){a&&u(e),Zr(s,a)}}}function Br(n){let e,t=n[3]+"",r,s;return{c(){e=h("li"),r=T(t),s=y(),this.h()},l(a){e=p(a,"LI",{class:!0});var i=d(e);r=O(i,t),s=N(i),i.forEach(u),this.h()},h(){l(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(a,i){Q(a,e,i),o(e,r),o(e,s)},p(a,i){i&1&&t!==(t=a[3]+"")&&me(r,t)},d(a){a&&u(e)}}}function Oo(n){let e,t,r,s,a,i,c,f,v,m,_=n[1]&&Ar(n);return{c(){e=h("button"),t=F("svg"),r=F("path"),s=y(),a=h("h1"),i=T("Operazioni"),c=y(),_&&_.c(),f=ct(),this.h()},l(w){e=p(w,"BUTTON",{class:!0});var g=d(e);t=W(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var b=d(t);r=W(b,"path",{d:!0}),d(r).forEach(u),b.forEach(u),s=N(g),a=p(g,"H1",{class:!0});var E=d(a);i=O(E,"Operazioni"),E.forEach(u),g.forEach(u),c=N(w),_&&_.l(w),f=ct(),this.h()},h(){l(r,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-tool"),l(a,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(w,g){Q(w,e,g),o(e,t),o(t,r),o(e,s),o(e,a),o(a,i),Q(w,c,g),_&&_.m(w,g),Q(w,f,g),v||(m=M(e,"click",Ql(n[2])),v=!0)},p(w,[g]){w[1]?_?_.p(w,g):(_=Ar(w),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},i:De,o:De,d(w){w&&u(e),w&&u(c),_&&_.d(w),w&&u(f),v=!1,m()}}}function Co(n,e,t){let{turbine:r}=e,s=!1;const a=()=>t(1,s=!s);return n.$$set=i=>{"turbine"in i&&t(0,r=i.turbine)},[r,s,a]}class Mo extends Je{constructor(e){super(),Qe(this,e,Co,Oo,Xe,{turbine:0})}}const lo="https://dockyard-handler.herokuapp.com/v1.0.0";async function Lr(n){if(console.log("Retrieving steps for event "+n),typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Lt.get(lo+"/steps/"+n,t)).data}else console.log("Token not found in local storage")}async function Vo(n,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Lt.put(lo+"/step/complete?stepId="+n+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function zr(n,e,t){const r=n.slice();return r[6]=e[t],r}function Po(n){return{c:De,l:De,m:De,p:De,d:De}}function Ao(n){let e=[],t=new Map,r,s=n[0];const a=i=>i[6].id;for(let i=0;i<s.length;i+=1){let c=zr(n,s,i),f=a(c);t.set(f,e[i]=Ur(f,c))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=ct()},l(i){for(let c=0;c<e.length;c+=1)e[c].l(i);r=ct()},m(i,c){for(let f=0;f<e.length;f+=1)e[f].m(i,c);Q(i,r,c)},p(i,c){c&7&&(s=i[0],e=Zl(e,c,a,1,i,s,t,r.parentNode,eo,Ur,r,zr))},d(i){for(let c=0;c<e.length;c+=1)e[c].d(i);i&&u(r)}}}function jr(n){let e,t,r,s,a,i,c;return{c(){e=h("div"),t=h("p"),r=T("Completato"),s=y(),a=F("svg"),i=F("path"),c=F("polyline"),this.h()},l(f){e=p(f,"DIV",{class:!0});var v=d(e);t=p(v,"P",{class:!0});var m=d(t);r=O(m,"Completato"),m.forEach(u),s=N(v),a=W(v,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var _=d(a);i=W(_,"path",{d:!0}),d(i).forEach(u),c=W(_,"polyline",{points:!0}),d(c).forEach(u),_.forEach(u),v.forEach(u),this.h()},h(){l(t,"class","font-bold uppercase"),l(i,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),l(c,"points","22 4 12 14.01 9 11.01"),l(a,"xmlns","http://www.w3.org/2000/svg"),l(a,"width","22"),l(a,"height","22"),l(a,"viewBox","0 0 24 24"),l(a,"fill","none"),l(a,"stroke","currentColor"),l(a,"stroke-width","2"),l(a,"stroke-linecap","round"),l(a,"stroke-linejoin","round"),l(a,"class","feather feather-check-circle text-green-500"),l(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(f,v){Q(f,e,v),o(e,t),o(t,r),o(e,s),o(e,a),o(a,i),o(a,c)},d(f){f&&u(e)}}}function Ur(n,e){let t,r,s,a,i,c,f,v=e[6].name+"",m,_,w=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,g,b,E;function C(){return e[4](e[6])}let k=w&&jr();return{key:n,first:null,c(){t=h("div"),r=h("input"),i=y(),c=h("div"),f=h("p"),m=T(v),_=y(),k&&k.c(),g=y(),this.h()},l(D){t=p(D,"DIV",{class:!0});var S=d(t);r=p(S,"INPUT",{type:!0,class:!0}),i=N(S),c=p(S,"DIV",{class:!0});var V=d(c);f=p(V,"P",{});var A=d(f);m=O(A,v),A.forEach(u),V.forEach(u),_=N(S),k&&k.l(S),g=N(S),S.forEach(u),this.h()},h(){l(r,"type","checkbox"),l(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=s=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=a=e[6].complete,l(c,"class","col-span-6 text-left"),l(t,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm"),this.first=t},m(D,S){Q(D,t,S),o(t,r),o(t,i),o(t,c),o(c,f),o(f,m),o(t,_),k&&k.m(t,null),o(t,g),b||(E=M(r,"click",C),b=!0)},p(D,S){e=D,S&3&&s!==(s=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=s),S&1&&a!==(a=e[6].complete)&&(r.checked=a),S&1&&v!==(v=e[6].name+"")&&me(m,v),S&3&&(w=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),w?k||(k=jr(),k.c(),k.m(t,g)):k&&(k.d(1),k=null)},d(D){D&&u(t),k&&k.d(),b=!1,E()}}}function Bo(n){let e,t;return{c(){e=h("div"),t=T("Caricamento..."),this.h()},l(r){e=p(r,"DIV",{class:!0});var s=d(e);t=O(s,"Caricamento..."),s.forEach(u),this.h()},h(){l(e,"class","col-span-7 text-center")},m(r,s){Q(r,e,s),o(e,t)},p:De,d(r){r&&u(e)}}}function Lo(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b={ctx:n,current:null,token:null,hasCatch:!1,pending:Bo,then:Ao,catch:Po,value:0};return Ir(_=n[0],b),{c(){e=h("div"),t=h("div"),r=F("svg"),s=F("path"),a=F("path"),i=y(),c=h("h1"),f=T("Tracciamento fasi"),v=y(),m=h("div"),b.block.c(),this.h()},l(E){e=p(E,"DIV",{class:!0});var C=d(e);t=p(C,"DIV",{class:!0});var k=d(t);r=W(k,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(r);s=W(D,"path",{d:!0}),d(s).forEach(u),a=W(D,"path",{d:!0}),d(a).forEach(u),D.forEach(u),i=N(k),c=p(k,"H1",{class:!0});var S=d(c);f=O(S,"Tracciamento fasi"),S.forEach(u),k.forEach(u),v=N(C),m=p(C,"DIV",{id:!0,class:!0});var V=d(m);b.block.l(V),V.forEach(u),C.forEach(u),this.h()},h(){l(s,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),l(a,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),l(r,"xmlns","http://www.w3.org/2000/svg"),l(r,"width","24"),l(r,"height","24"),l(r,"viewBox","0 0 24 24"),l(r,"fill","none"),l(r,"stroke","currentColor"),l(r,"stroke-width","2"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"class","feather feather-link"),l(c,"class","font-mono text-xl"),l(t,"class","flex flex-row items-center md:justify-center mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),l(m,"id","stepsContainer"),l(m,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-44 md:h-64 gap-2 scrollbar-none mt-5 items-center"),l(e,"class","col-span-1 text-white ring-2 ring-gray-400 rounded-sm")},m(E,C){Q(E,e,C),o(e,t),o(t,r),o(r,s),o(r,a),o(t,i),o(t,c),o(c,f),o(e,v),o(e,m),b.block.m(m,b.anchor=null),b.mount=()=>m,b.anchor=null},p(E,[C]){n=E,b.ctx=n,C&1&&_!==(_=n[0])&&Ir(_,b)||no(b,n,C)},i(E){w||rt(()=>{w=Et(m,ut,{delay:500,duration:1e3}),w.start()}),g||rt(()=>{g=Et(e,to,{delay:400,duration:1e3}),g.start()})},o:De,d(E){E&&u(e),b.block.d(),b.token=null,b=null}}}function zo(n,e,t){let r,{turbine:s}=e,a=[];Xl(()=>{Lr(s.id).then(v=>{t(0,a=v)}),setTimeout(()=>{c()},1500)});const i=(v,m)=>{Vo(v,m).then(()=>{Lr(s.id).then(_=>{t(0,a=_),m?t(3,s.completedSteps+=1,s):t(3,s.completedSteps-=1,s),c()})})};function c(){const v=document.getElementById("stepsContainer"),m=9;if(v){const _=window.innerWidth<768?2:4,w=s.completedSteps-_;if(w>=0&&s.completedSteps<m){v.scrollTo({top:v.scrollHeight/m*(w+1),behavior:"smooth"});return}else if(s.completedSteps===m){setTimeout(()=>{v.scrollTo({top:0,behavior:"smooth"})},500);return}}}const f=v=>i(v.id,!v.complete);return n.$$set=v=>{"turbine"in v&&t(3,s=v.turbine)},n.$$.update=()=>{n.$$.dirty&9&&t(1,r=a[s.completedSteps])},[a,r,i,s,f]}class jo extends Je{constructor(e){super(),Qe(this,e,zo,Lo,Xe,{turbine:3})}}function Uo(n){let e,t,r,s,a,i,c,f,v,m,_,w,g;return{c(){e=h("div"),t=h("p"),r=T("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),s=y(),a=h("div"),i=h("button"),c=T("Annulla"),f=y(),v=h("button"),m=T("Conferma"),this.h()},l(b){e=p(b,"DIV",{class:!0});var E=d(e);t=p(E,"P",{class:!0});var C=d(t);r=O(C,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),C.forEach(u),s=N(E),a=p(E,"DIV",{class:!0});var k=d(a);i=p(k,"BUTTON",{class:!0});var D=d(i);c=O(D,"Annulla"),D.forEach(u),f=N(k),v=p(k,"BUTTON",{class:!0});var S=d(v);m=O(S,"Conferma"),S.forEach(u),k.forEach(u),E.forEach(u),this.h()},h(){l(t,"class","font-bold text-lg"),l(i,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),l(v,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),l(a,"class","flex justify-end mt-5 text-sm"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(b,E){Q(b,e,E),o(e,t),o(t,r),o(e,s),o(e,a),o(a,i),o(i,c),o(a,f),o(a,v),o(v,m),w||(g=[M(i,"click",n[1]),M(v,"click",n[0]),M(e,"click",n[2]),M(e,"keydown",n[2])],w=!0)},p:De,i(b){_||rt(()=>{_=Et(e,ut,{duration:300}),_.start()})},o:De,d(b){b&&u(e),w=!1,He(g)}}}function xo(n){const e=vt();return[()=>{e("confirm")},()=>{e("cancel")},a=>{a.stopPropagation()}]}class Fo extends Je{constructor(e){super(),Qe(this,e,xo,Uo,Xe,{})}}function xr(n){let e,t,r=n[0].turbineNumber+"",s;return{c(){e=h("span"),t=T("- "),s=T(r)},l(a){e=p(a,"SPAN",{});var i=d(e);t=O(i,"- "),s=O(i,r),i.forEach(u)},m(a,i){Q(a,e,i),o(e,t),o(e,s)},p(a,i){i&1&&r!==(r=a[0].turbineNumber+"")&&me(s,r)},d(a){a&&u(e)}}}function Fr(n){let e,t,r,s,a;return t=new Fo({}),t.$on("confirm",n[4]),t.$on("cancel",n[7]),{c(){e=h("div"),$e(t.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);qe(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(i,c){Q(i,e,c),Ye(t,e,null),r=!0,s||(a=[M(e,"click",n[8]),M(e,"keydown",n[9])],s=!0)},p:De,i(i){r||(ge(t.$$.fragment,i),r=!0)},o(i){Ee(t.$$.fragment,i),r=!1},d(i){i&&u(e),Ge(t),s=!1,He(a)}}}function Wr(n){let e,t,r,s=n[0].permittingDate+"",a;return{c(){e=h("p"),t=T("Valdità permitting: "),r=h("span"),a=T(s),this.h()},l(i){e=p(i,"P",{class:!0});var c=d(e);t=O(c,"Valdità permitting: "),r=p(c,"SPAN",{});var f=d(r);a=O(f,s),f.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(i,c){Q(i,e,c),o(e,t),o(e,r),o(r,a)},p(i,c){c&1&&s!==(s=i[0].permittingDate+"")&&me(a,s)},d(i){i&&u(e)}}}function Kr(n){let e,t,r,s=n[0].priorNotification+"",a;return{c(){e=h("p"),t=T("Valdità notifica: "),r=h("span"),a=T(s),this.h()},l(i){e=p(i,"P",{class:!0});var c=d(e);t=O(c,"Valdità notifica: "),r=p(c,"SPAN",{});var f=d(r);a=O(f,s),f.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(i,c){Q(i,e,c),o(e,t),o(e,r),o(r,a)},p(i,c){c&1&&s!==(s=i[0].priorNotification+"")&&me(a,s)},d(i){i&&u(e)}}}function Wo(n){let e,t,r,s=n[0].turbineName+"",a,i,c,f,v,m,_,w,g,b,E,C,k,D,S,V,A,K,H,ee,G,x,z,Z,L,B,j,re,$,I,R=n[0].creationDate+"",ke,Me,te,ye,Ie,Se=n[0].turbineState+"",ve,Pe,se,Te,ce,Ve,ae,q,ne,U,Y,fe,Le,We,oe=n[0].turbineNumber&&xr(n),he=n[1]&&Fr(n),we=n[0].permittingDate!==void 0&&Wr(n),J=n[0].priorNotification!==void 0&&Kr(n);return Ve=new To({props:{turbine:n[0]}}),q=new Mo({props:{turbine:n[0]}}),U=new jo({props:{turbine:n[0]}}),{c(){e=h("div"),t=h("div"),r=h("h1"),a=T(s),i=y(),oe&&oe.c(),c=y(),f=h("div"),v=h("div"),m=h("div"),_=y(),he&&he.c(),w=y(),g=h("div"),b=h("button"),E=F("svg"),C=F("polyline"),k=F("path"),D=F("line"),S=F("line"),V=y(),A=h("button"),K=F("svg"),H=F("path"),ee=y(),G=h("button"),x=F("svg"),z=F("line"),Z=F("line"),L=y(),B=h("div"),j=h("div"),re=h("p"),$=T("Creazione: "),I=h("span"),ke=T(R),Me=y(),te=h("p"),ye=T("Stato turbina: "),Ie=h("span"),ve=T(Se),Pe=y(),we&&we.c(),se=y(),J&&J.c(),Te=y(),ce=h("div"),$e(Ve.$$.fragment),ae=y(),$e(q.$$.fragment),ne=y(),$e(U.$$.fragment),this.h()},l(P){e=p(P,"DIV",{class:!0});var ie=d(e);t=p(ie,"DIV",{class:!0});var _e=d(t);r=p(_e,"H1",{class:!0});var ue=d(r);a=O(ue,s),i=N(ue),oe&&oe.l(ue),ue.forEach(u),c=N(_e),f=p(_e,"DIV",{class:!0});var Ue=d(f);v=p(Ue,"DIV",{class:!0});var Oe=d(v);m=p(Oe,"DIV",{class:!0}),d(m).forEach(u),_=N(Oe),he&&he.l(Oe),w=N(Oe),g=p(Oe,"DIV",{class:!0});var Ce=d(g);b=p(Ce,"BUTTON",{class:!0});var le=d(b);E=W(le,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var pe=d(E);C=W(pe,"polyline",{points:!0}),d(C).forEach(u),k=W(pe,"path",{d:!0}),d(k).forEach(u),D=W(pe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(u),S=W(pe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(S).forEach(u),pe.forEach(u),le.forEach(u),V=N(Ce),A=p(Ce,"BUTTON",{class:!0});var ze=d(A);K=W(ze,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var be=d(K);H=W(be,"path",{d:!0}),d(H).forEach(u),be.forEach(u),ze.forEach(u),ee=N(Ce),G=p(Ce,"BUTTON",{class:!0});var ot=d(G);x=W(ot,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ze=d(x);z=W(Ze,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(z).forEach(u),Z=W(Ze,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Z).forEach(u),Ze.forEach(u),ot.forEach(u),Ce.forEach(u),Oe.forEach(u),Ue.forEach(u),_e.forEach(u),L=N(ie),B=p(ie,"DIV",{class:!0});var Ke=d(B);j=p(Ke,"DIV",{class:!0});var Be=d(j);re=p(Be,"P",{class:!0});var st=d(re);$=O(st,"Creazione: "),I=p(st,"SPAN",{});var xe=d(I);ke=O(xe,R),xe.forEach(u),st.forEach(u),Me=N(Be),te=p(Be,"P",{class:!0});var Re=d(te);ye=O(Re,"Stato turbina: "),Ie=p(Re,"SPAN",{});var dt=d(Ie);ve=O(dt,Se),dt.forEach(u),Re.forEach(u),Pe=N(Be),we&&we.l(Be),se=N(Be),J&&J.l(Be),Te=N(Be),ce=p(Be,"DIV",{class:!0});var nt=d(ce);qe(Ve.$$.fragment,nt),ae=N(nt),qe(q.$$.fragment,nt),nt.forEach(u),Be.forEach(u),ne=N(Ke),qe(U.$$.fragment,Ke),Ke.forEach(u),ie.forEach(u),this.h()},h(){l(r,"class","font-mono font-bold text-2xl md:text-4xl"),l(m,"class","col-span-3"),l(C,"points","3 6 5 6 21 6"),l(k,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),l(D,"x1","10"),l(D,"y1","11"),l(D,"x2","10"),l(D,"y2","17"),l(S,"x1","14"),l(S,"y1","11"),l(S,"x2","14"),l(S,"y2","17"),l(E,"xmlns","http://www.w3.org/2000/svg"),l(E,"width","20"),l(E,"height","20"),l(E,"viewBox","0 0 24 24"),l(E,"fill","none"),l(E,"stroke","currentColor"),l(E,"stroke-width","2"),l(E,"stroke-linecap","round"),l(E,"stroke-linejoin","round"),l(E,"class","feather feather-trash-2"),l(b,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(H,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),l(K,"xmlns","http://www.w3.org/2000/svg"),l(K,"width","20"),l(K,"height","20"),l(K,"viewBox","0 0 24 24"),l(K,"fill","none"),l(K,"stroke","currentColor"),l(K,"stroke-width","2"),l(K,"stroke-linecap","round"),l(K,"stroke-linejoin","round"),l(K,"class","feather feather-edit-2"),l(A,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),l(z,"x1","18"),l(z,"y1","6"),l(z,"x2","6"),l(z,"y2","18"),l(Z,"x1","6"),l(Z,"y1","6"),l(Z,"x2","18"),l(Z,"y2","18"),l(x,"xmlns","http://www.w3.org/2000/svg"),l(x,"width","24"),l(x,"height","24"),l(x,"viewBox","0 0 24 24"),l(x,"fill","none"),l(x,"stroke","currentColor"),l(x,"stroke-width","2"),l(x,"stroke-linecap","round"),l(x,"stroke-linejoin","round"),l(x,"class","feather feather-x"),l(G,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(g,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),l(v,"class","grid grid-cols-6"),l(f,"class","flex flex-row justify-end"),l(t,"class","w-full h-20 grid grid-cols-2 items-start"),l(re,"class","font-mono text-white text-lg"),l(te,"class","font-mono text-white text-lg"),l(ce,"class","w-full mt-5"),l(j,"class","col-span-1"),l(B,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start gap-0 md:gap-4"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 md:min-w-min md:max-w-4xl z-50 h-[36rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(P,ie){Q(P,e,ie),o(e,t),o(t,r),o(r,a),o(r,i),oe&&oe.m(r,null),o(t,c),o(t,f),o(f,v),o(v,m),o(v,_),he&&he.m(v,null),o(v,w),o(v,g),o(g,b),o(b,E),o(E,C),o(E,k),o(E,D),o(E,S),o(g,V),o(g,A),o(A,K),o(K,H),o(g,ee),o(g,G),o(G,x),o(x,z),o(x,Z),o(e,L),o(e,B),o(B,j),o(j,re),o(re,$),o(re,I),o(I,ke),o(j,Me),o(j,te),o(te,ye),o(te,Ie),o(Ie,ve),o(j,Pe),we&&we.m(j,null),o(j,se),J&&J.m(j,null),o(j,Te),o(j,ce),Ye(Ve,ce,null),o(ce,ae),Ye(q,ce,null),o(B,ne),Ye(U,B,null),fe=!0,Le||(We=[M(b,"click",n[10]),M(A,"click",n[3]),M(G,"click",n[2]),M(e,"click",lt(n[5])),M(e,"keydown",lt(n[6]))],Le=!0)},p(P,[ie]){(!fe||ie&1)&&s!==(s=P[0].turbineName+"")&&me(a,s),P[0].turbineNumber?oe?oe.p(P,ie):(oe=xr(P),oe.c(),oe.m(r,null)):oe&&(oe.d(1),oe=null),P[1]?he?(he.p(P,ie),ie&2&&ge(he,1)):(he=Fr(P),he.c(),ge(he,1),he.m(v,w)):he&&(At(),Ee(he,1,1,()=>{he=null}),Bt()),(!fe||ie&1)&&R!==(R=P[0].creationDate+"")&&me(ke,R),(!fe||ie&1)&&Se!==(Se=P[0].turbineState+"")&&me(ve,Se),P[0].permittingDate!==void 0?we?we.p(P,ie):(we=Wr(P),we.c(),we.m(j,se)):we&&(we.d(1),we=null),P[0].priorNotification!==void 0?J?J.p(P,ie):(J=Kr(P),J.c(),J.m(j,Te)):J&&(J.d(1),J=null);const _e={};ie&1&&(_e.turbine=P[0]),Ve.$set(_e);const ue={};ie&1&&(ue.turbine=P[0]),q.$set(ue);const Ue={};ie&1&&(Ue.turbine=P[0]),U.$set(Ue)},i(P){fe||(ge(he),ge(Ve.$$.fragment,P),ge(q.$$.fragment,P),ge(U.$$.fragment,P),Y||rt(()=>{Y=Et(e,ut,{duration:150}),Y.start()}),fe=!0)},o(P){Ee(he),Ee(Ve.$$.fragment,P),Ee(q.$$.fragment,P),Ee(U.$$.fragment,P),fe=!1},d(P){P&&u(e),oe&&oe.d(),he&&he.d(),we&&we.d(),J&&J.d(),Ge(Ve),Ge(q),Ge(U),Le=!1,He(We)}}}function Ko(n,e,t){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const s=vt(),a=()=>{s("closeDetails")},i=()=>{s("editMode",r.id)};let c=!1;const f=()=>{t(1,c=!1),Eo(r.id).then(()=>{s("deleted")})};function v(E){kt.call(this,n,E)}function m(E){kt.call(this,n,E)}const _=()=>{t(1,c=!1)},w=()=>{t(1,c=!1)},g=()=>{t(1,c=!1)},b=()=>{t(1,c=!0)};return n.$$set=E=>{"turbine"in E&&t(0,r=E.turbine)},[r,c,a,i,f,v,m,_,w,g,b]}class Ho extends Je{constructor(e){super(),Qe(this,e,Ko,Wo,Xe,{turbine:0})}}const tt={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear",25:"Vasca sterrato",26:"Vasca asfalto"};function Hr(n,e,t){const r=n.slice();return r[7]=e[t],r[8]=e,r[9]=t,r}function Rr(n,e){let t,r,s,a,i,c=e[7].name+"",f,v,m,_;function w(...g){return e[5](e[7],e[8],e[9],...g)}return{key:n,first:null,c(){t=h("div"),r=h("input"),a=y(),i=h("p"),f=T(c),v=y(),this.h()},l(g){t=p(g,"DIV",{class:!0});var b=d(t);r=p(b,"INPUT",{class:!0,type:!0}),a=N(b),i=p(b,"P",{class:!0});var E=d(i);f=O(E,c),E.forEach(u),v=N(b),b.forEach(u),this.h()},h(){l(r,"class","checkbox"),r.checked=s=e[7].isSelected,l(r,"type","checkbox"),l(i,"class","font-mono"),l(t,"class","flex flex-row gap-4"),this.first=t},m(g,b){Q(g,t,b),o(t,r),o(t,a),o(t,i),o(i,f),o(t,v),m||(_=M(r,"change",w),m=!0)},p(g,b){e=g,b&1&&s!==(s=e[7].isSelected)&&(r.checked=s),b&1&&c!==(c=e[7].name+"")&&me(f,c)},d(g){g&&u(t),m=!1,_()}}}function Ro(n){let e,t,r=[],s=new Map,a,i,c,f,v,m,_,w,g,b,E=n[0];const C=k=>k[7].name;for(let k=0;k<E.length;k+=1){let D=Hr(n,E,k),S=C(D);s.set(S,r[k]=Rr(S,D))}return{c(){e=h("div"),t=h("div");for(let k=0;k<r.length;k+=1)r[k].c();a=y(),i=h("div"),c=h("button"),f=T("Conferma"),v=y(),m=h("button"),_=T("Chiudi"),this.h()},l(k){e=p(k,"DIV",{class:!0});var D=d(e);t=p(D,"DIV",{class:!0});var S=d(t);for(let H=0;H<r.length;H+=1)r[H].l(S);S.forEach(u),a=N(D),i=p(D,"DIV",{class:!0});var V=d(i);c=p(V,"BUTTON",{class:!0});var A=d(c);f=O(A,"Conferma"),A.forEach(u),v=N(V),m=p(V,"BUTTON",{class:!0});var K=d(m);_=O(K,"Chiudi"),K.forEach(u),V.forEach(u),D.forEach(u),this.h()},h(){l(t,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),l(c,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),l(m,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),l(i,"class","flex flex-row mt-5 gap-2 justify-center"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(k,D){Q(k,e,D),o(e,t);for(let S=0;S<r.length;S+=1)r[S].m(t,null);o(e,a),o(e,i),o(i,c),o(c,f),o(i,v),o(i,m),o(m,_),g||(b=[M(c,"click",lt(n[1])),M(m,"click",lt(n[2])),M(e,"click",lt(n[3])),M(e,"keydown",lt(n[4]))],g=!0)},p(k,[D]){D&1&&(E=k[0],r=Zl(r,D,C,1,k,E,s,t,eo,Rr,null,Hr))},i(k){w||rt(()=>{w=Et(e,ut,{duration:300}),w.start()})},o:De,d(k){k&&u(e);for(let D=0;D<r.length;D+=1)r[D].d();g=!1,He(b)}}}function $o(n,e,t){let{operations:r=[]}=e;const s=vt(),a=()=>{s("confirm",r)},i=()=>{s("cancel")};function c(m){kt.call(this,n,m)}function f(m){kt.call(this,n,m)}const v=(m,_,w,g)=>{t(0,_[w].isSelected=g.target.checked,r)};return n.$$set=m=>{"operations"in m&&t(0,r=m.operations)},[r,a,i,c,f,v]}class qo extends Je{constructor(e){super(),Qe(this,e,$o,Ro,Xe,{operations:0})}}function Yo(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b,E,C,k,D,S,V,A,K;return{c(){e=h("div"),t=h("div"),r=h("button"),s=F("svg"),a=F("path"),i=F("line"),c=F("polyline"),v=T("Kilowatt"),_=y(),w=h("button"),g=F("svg"),b=F("path"),E=F("line"),C=F("polyline"),D=T("Megawatt"),this.h()},l(H){e=p(H,"DIV",{class:!0});var ee=d(e);t=p(ee,"DIV",{class:!0});var G=d(t);r=p(G,"BUTTON",{class:!0,type:!0});var x=d(r);s=W(x,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var z=d(s);a=W(z,"path",{d:!0}),d(a).forEach(u),i=W(z,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(i).forEach(u),c=W(z,"polyline",{points:!0}),d(c).forEach(u),z.forEach(u),v=O(x,"Kilowatt"),x.forEach(u),_=N(G),w=p(G,"BUTTON",{class:!0,type:!0});var Z=d(w);g=W(Z,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var L=d(g);b=W(L,"path",{d:!0}),d(b).forEach(u),E=W(L,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(E).forEach(u),C=W(L,"polyline",{points:!0}),d(C).forEach(u),L.forEach(u),D=O(Z,"Megawatt"),Z.forEach(u),G.forEach(u),ee.forEach(u),this.h()},h(){l(a,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(i,"x1","23"),l(i,"y1","13"),l(i,"x2","23"),l(i,"y2","11"),l(c,"points","11 6 7 12 13 12 9 18"),l(s,"xmlns","http://www.w3.org/2000/svg"),l(s,"width","24"),l(s,"height","24"),l(s,"viewBox","0 0 24 24"),l(s,"fill","none"),l(s,"stroke","currentColor"),l(s,"stroke-width","2"),l(s,"stroke-linecap","round"),l(s,"stroke-linejoin","round"),l(s,"class",f=n[0]?"text-green-500":""),l(r,"class",m=Fe(n[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(b,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(E,"x1","23"),l(E,"y1","13"),l(E,"x2","23"),l(E,"y2","11"),l(C,"points","11 6 7 12 13 12 9 18"),l(g,"xmlns","http://www.w3.org/2000/svg"),l(g,"width","24"),l(g,"height","24"),l(g,"viewBox","0 0 24 24"),l(g,"fill","none"),l(g,"stroke","currentColor"),l(g,"stroke-width","2"),l(g,"stroke-linecap","round"),l(g,"stroke-linejoin","round"),l(g,"class",k=n[0]?"":"text-blue-500"),l(w,"class",S=Fe(n[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4"),l(w,"type","button"),l(t,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(H,ee){Q(H,e,ee),o(e,t),o(t,r),o(r,s),o(s,a),o(s,i),o(s,c),o(r,v),o(t,_),o(t,w),o(w,g),o(g,b),o(g,E),o(g,C),o(w,D),A||(K=[M(r,"click",n[2]),M(w,"click",n[3])],A=!0)},p(H,[ee]){ee&1&&f!==(f=H[0]?"text-green-500":"")&&l(s,"class",f),ee&1&&m!==(m=Fe(H[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",m),ee&1&&k!==(k=H[0]?"":"text-blue-500")&&l(g,"class",k),ee&1&&S!==(S=Fe(H[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4")&&l(w,"class",S)},i(H){V||rt(()=>{V=Et(e,to,{duration:300}),V.start()})},o:De,d(H){H&&u(e),A=!1,He(K)}}}function Go(n,e,t){let{isKilowatt:r=!0}=e;const s=vt(),a=()=>{s("change",r?"KILOWATT":"MEGAWATT")},i=()=>{t(0,r=!0),a()},c=()=>{t(0,r=!1),a()};return n.$$set=f=>{"isKilowatt"in f&&t(0,r=f.isKilowatt)},[r,a,i,c]}class Jo extends Je{constructor(e){super(),Qe(this,e,Go,Yo,Xe,{isKilowatt:0})}}function Qo(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b,E,C;return{c(){e=h("div"),t=h("div"),r=h("button"),s=T("In Marcia"),i=y(),c=h("button"),f=T("Limitata"),m=y(),_=h("button"),w=T("Ferma"),this.h()},l(k){e=p(k,"DIV",{class:!0});var D=d(e);t=p(D,"DIV",{class:!0});var S=d(t);r=p(S,"BUTTON",{class:!0,type:!0});var V=d(r);s=O(V,"In Marcia"),V.forEach(u),i=N(S),c=p(S,"BUTTON",{class:!0,type:!0});var A=d(c);f=O(A,"Limitata"),A.forEach(u),m=N(S),_=p(S,"BUTTON",{class:!0,type:!0});var K=d(_);w=O(K,"Ferma"),K.forEach(u),S.forEach(u),D.forEach(u),this.h()},h(){l(r,"class",a=Fe(n[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(c,"class",v=Fe(n[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),l(c,"type","button"),l(_,"class",g=Fe(n[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),l(_,"type","button"),l(t,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(k,D){Q(k,e,D),o(e,t),o(t,r),o(r,s),o(t,i),o(t,c),o(c,f),o(t,m),o(t,_),o(_,w),E||(C=[M(r,"click",n[2]),M(c,"click",n[3]),M(_,"click",n[4])],E=!0)},p(k,[D]){D&1&&a!==(a=Fe(k[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",a),D&1&&v!==(v=Fe(k[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&l(c,"class",v),D&1&&g!==(g=Fe(k[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&l(_,"class",g)},i(k){b||rt(()=>{b=Et(e,ut,{duration:300,delay:300}),b.start()})},o:De,d(k){k&&u(e),E=!1,He(C)}}}function Xo(n,e,t){let{state:r="In Marcia"}=e;const s=vt(),a=()=>{s("change",r)},i=()=>{t(0,r="In Marcia"),a()},c=()=>{t(0,r="Limitata"),a()},f=()=>{t(0,r="Ferma"),a()};return n.$$set=v=>{"state"in v&&t(0,r=v.state)},[r,a,i,c,f]}class Zo extends Je{constructor(e){super(),Qe(this,e,Xo,Qo,Xe,{state:0})}}function $r(n){let e,t,r,s,a;return t=new qo({props:{operations:n[3]}}),t.$on("cancel",n[12]),t.$on("confirm",n[13]),{c(){e=h("div"),$e(t.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);qe(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(i,c){Q(i,e,c),Ye(t,e,null),r=!0,s||(a=[M(e,"click",lt(n[14])),M(e,"keydown",lt(n[15]))],s=!0)},p(i,c){const f={};c&8&&(f.operations=i[3]),t.$set(f)},i(i){r||(ge(t.$$.fragment,i),r=!0)},o(i){Ee(t.$$.fragment,i),r=!1},d(i){i&&u(e),Ge(t),s=!1,He(a)}}}function en(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b,E,C,k,D,S,V,A,K,H,ee,G,x,z,Z,L,B,j,re,$,I,R,ke,Me,te,ye,Ie,Se,ve,Pe,se,Te,ce,Ve,ae,q,ne,U,Y,fe,Le,We,oe,he,we,J,P,ie,_e,ue=n[1]?"modifica":"creazione",Ue,Oe,Ce,le,pe,ze,be,ot,Ze,Ke=n[0].turbineNumber+"",Be,st,xe,Re,dt,nt,ft,ht=n[0].turbineName+"",yt,zt,at,pt,Nt,Cl,jt,Jt=n[0].description+"",nl,Ml,Dt,Ut,Vl,Pl,xt,Qt=(n[0].odlNumber||"N/A")+"",sl,Al,It,Ft,Bl,Ll,Wt,Xt=n[0].operation+"",al,zl,St,Kt,jl,Ul,Ht,Zt=n[0].power+"",il,xl,Tt,Rt,Fl,Wl,$t,el=n[0].turbineState+"",cl,Kl,mt,_t,Hl,Rl,Ot,tl,ll=n[1]?"Modifica":"Crea",ul,bt,$l,et,Ct,dl,ql,Mt,fl,Yl,Vt,hl,Ne,Gl,er,Ae=n[2]&&$r(n);return G=new Jo({props:{isKilowatt:n[0].power==="KILOWATT"}}),G.$on("change",n[21]),L=new Zo({props:{state:n[0].turbineState}}),L.$on("change",n[22]),{c(){e=h("div"),Ae&&Ae.c(),t=y(),r=h("form"),s=h("div"),a=h("div"),i=h("div"),c=h("input"),v=y(),m=h("input"),w=y(),g=h("input"),E=y(),C=h("input"),D=y(),S=h("div"),V=h("button"),A=h("input"),H=y(),ee=h("div"),$e(G.$$.fragment),x=y(),z=h("div"),Z=h("div"),$e(L.$$.fragment),B=y(),j=h("div"),re=h("label"),$=T("Data Inizio EEMM"),I=y(),R=h("input"),Me=y(),te=h("div"),ye=h("label"),Ie=T("Data Inizio OOCC"),Se=y(),ve=h("input"),se=y(),Te=h("div"),ce=h("label"),Ve=T("Validità permitting"),ae=y(),q=h("input"),U=y(),Y=h("div"),fe=h("label"),Le=T("Validità notifica"),We=y(),oe=h("input"),we=y(),J=h("div"),P=h("div"),ie=h("h2"),_e=T("Riepilogo "),Ue=T(ue),Oe=y(),Ce=h("div"),le=y(),pe=h("p"),ze=h("span"),be=T("Numero cantiere:"),ot=y(),Ze=h("span"),Be=T(Ke),st=y(),xe=h("p"),Re=h("span"),dt=T("Aerogeneratore:"),nt=y(),ft=h("span"),yt=T(ht),zt=y(),at=h("p"),pt=h("span"),Nt=T("Impianto eolico:"),Cl=y(),jt=h("span"),nl=T(Jt),Ml=y(),Dt=h("p"),Ut=h("span"),Vl=T("Numero ODL:"),Pl=y(),xt=h("span"),sl=T(Qt),Al=y(),It=h("p"),Ft=h("span"),Bl=T("Operazioni:"),Ll=y(),Wt=h("span"),al=T(Xt),zl=y(),St=h("p"),Kt=h("span"),jl=T("Tipologia:"),Ul=y(),Ht=h("span"),il=T(Zt),xl=y(),Tt=h("p"),Rt=h("span"),Fl=T("Stato:"),Wl=y(),$t=h("span"),cl=T(el),Kl=y(),mt=h("div"),_t=h("button"),Hl=T("Annulla"),Rl=y(),Ot=h("button"),tl=h("p"),ul=T(ll),$l=y(),et=h("div"),Ct=h("input"),ql=y(),Mt=h("input"),Yl=y(),Vt=h("input"),this.h()},l(X){e=p(X,"DIV",{class:!0});var de=d(e);Ae&&Ae.l(de),t=N(de),r=p(de,"FORM",{});var Pt=d(r);s=p(Pt,"DIV",{id:!0,class:!0});var gt=d(s);a=p(gt,"DIV",{class:!0});var qt=d(a);i=p(qt,"DIV",{class:!0});var wt=d(i);c=p(wt,"INPUT",{class:!0,type:!0,placeholder:!0}),v=N(wt),m=p(wt,"INPUT",{class:!0,type:!0,placeholder:!0}),w=N(wt),g=p(wt,"INPUT",{class:!0,type:!0,placeholder:!0}),E=N(wt),C=p(wt,"INPUT",{class:!0,type:!0,placeholder:!0}),wt.forEach(u),D=N(qt),S=p(qt,"DIV",{class:!0});var tr=d(S);V=p(tr,"BUTTON",{type:!0,class:!0});var lr=d(V);A=p(lr,"INPUT",{class:!0,placeholder:!0}),lr.forEach(u),tr.forEach(u),H=N(qt),ee=p(qt,"DIV",{class:!0});var rr=d(ee);qe(G.$$.fragment,rr),rr.forEach(u),qt.forEach(u),x=N(gt),z=p(gt,"DIV",{class:!0});var it=d(z);Z=p(it,"DIV",{class:!0});var or=d(Z);qe(L.$$.fragment,or),or.forEach(u),B=N(it),j=p(it,"DIV",{});var pl=d(j);re=p(pl,"LABEL",{for:!0,class:!0});var nr=d(re);$=O(nr,"Data Inizio EEMM"),nr.forEach(u),I=N(pl),R=p(pl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),pl.forEach(u),Me=N(it),te=p(it,"DIV",{});var gl=d(te);ye=p(gl,"LABEL",{for:!0,class:!0});var sr=d(ye);Ie=O(sr,"Data Inizio OOCC"),sr.forEach(u),Se=N(gl),ve=p(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(u),se=N(it),Te=p(it,"DIV",{});var vl=d(Te);ce=p(vl,"LABEL",{for:!0,class:!0});var ar=d(ce);Ve=O(ar,"Validità permitting"),ar.forEach(u),ae=N(vl),q=p(vl,"INPUT",{class:!0,type:!0,placeholder:!0}),vl.forEach(u),U=N(it),Y=p(it,"DIV",{});var ml=d(Y);fe=p(ml,"LABEL",{for:!0,class:!0});var ir=d(fe);Le=O(ir,"Validità notifica"),ir.forEach(u),We=N(ml),oe=p(ml,"INPUT",{class:!0,type:!0,placeholder:!0}),ml.forEach(u),it.forEach(u),we=N(gt),J=p(gt,"DIV",{class:!0});var _l=d(J);P=p(_l,"DIV",{class:!0});var je=d(P);ie=p(je,"H2",{class:!0});var Jl=d(ie);_e=O(Jl,"Riepilogo "),Ue=O(Jl,ue),Jl.forEach(u),Oe=N(je),Ce=p(je,"DIV",{class:!0}),d(Ce).forEach(u),le=N(je),pe=p(je,"P",{});var bl=d(pe);ze=p(bl,"SPAN",{class:!0});var cr=d(ze);be=O(cr,"Numero cantiere:"),cr.forEach(u),ot=N(bl),Ze=p(bl,"SPAN",{class:!0});var ur=d(Ze);Be=O(ur,Ke),ur.forEach(u),bl.forEach(u),st=N(je),xe=p(je,"P",{});var wl=d(xe);Re=p(wl,"SPAN",{class:!0});var dr=d(Re);dt=O(dr,"Aerogeneratore:"),dr.forEach(u),nt=N(wl),ft=p(wl,"SPAN",{class:!0});var fr=d(ft);yt=O(fr,ht),fr.forEach(u),wl.forEach(u),zt=N(je),at=p(je,"P",{});var kl=d(at);pt=p(kl,"SPAN",{class:!0});var hr=d(pt);Nt=O(hr,"Impianto eolico:"),hr.forEach(u),Cl=N(kl),jt=p(kl,"SPAN",{class:!0});var pr=d(jt);nl=O(pr,Jt),pr.forEach(u),kl.forEach(u),Ml=N(je),Dt=p(je,"P",{});var El=d(Dt);Ut=p(El,"SPAN",{class:!0});var gr=d(Ut);Vl=O(gr,"Numero ODL:"),gr.forEach(u),Pl=N(El),xt=p(El,"SPAN",{class:!0});var vr=d(xt);sl=O(vr,Qt),vr.forEach(u),El.forEach(u),Al=N(je),It=p(je,"P",{});var yl=d(It);Ft=p(yl,"SPAN",{class:!0});var mr=d(Ft);Bl=O(mr,"Operazioni:"),mr.forEach(u),Ll=N(yl),Wt=p(yl,"SPAN",{class:!0});var _r=d(Wt);al=O(_r,Xt),_r.forEach(u),yl.forEach(u),zl=N(je),St=p(je,"P",{});var Nl=d(St);Kt=p(Nl,"SPAN",{class:!0});var br=d(Kt);jl=O(br,"Tipologia:"),br.forEach(u),Ul=N(Nl),Ht=p(Nl,"SPAN",{class:!0});var wr=d(Ht);il=O(wr,Zt),wr.forEach(u),Nl.forEach(u),xl=N(je),Tt=p(je,"P",{});var Dl=d(Tt);Rt=p(Dl,"SPAN",{class:!0});var kr=d(Rt);Fl=O(kr,"Stato:"),kr.forEach(u),Wl=N(Dl),$t=p(Dl,"SPAN",{class:!0});var Er=d($t);cl=O(Er,el),Er.forEach(u),Dl.forEach(u),je.forEach(u),Kl=N(_l),mt=p(_l,"DIV",{class:!0});var Il=d(mt);_t=p(Il,"BUTTON",{type:!0,class:!0});var yr=d(_t);Hl=O(yr,"Annulla"),yr.forEach(u),Rl=N(Il),Ot=p(Il,"BUTTON",{class:!0});var Nr=d(Ot);tl=p(Nr,"P",{});var Dr=d(tl);ul=O(Dr,ll),Dr.forEach(u),Nr.forEach(u),Il.forEach(u),_l.forEach(u),gt.forEach(u),$l=N(Pt),et=p(Pt,"DIV",{class:!0});var Yt=d(et);Ct=p(Yt,"INPUT",{type:!0,class:!0}),ql=N(Yt),Mt=p(Yt,"INPUT",{type:!0,class:!0}),Yl=N(Yt),Vt=p(Yt,"INPUT",{type:!0,class:!0}),Yt.forEach(u),Pt.forEach(u),de.forEach(u),this.h()},h(){l(c,"class","input"),l(c,"type","text"),c.value=f=n[0].turbineName,l(c,"placeholder","Aerogeneratore*"),c.required=!0,c.disabled=n[1],l(m,"class","input"),l(m,"type","text"),m.value=_=n[0].turbineNumber,l(m,"placeholder","Numero cantiere"),l(g,"class","input"),l(g,"type","text"),g.value=b=n[0].description,l(g,"placeholder","Impianto Eolico*"),g.required=!0,l(C,"class","input"),l(C,"type","number"),C.value=k=n[0].odlNumber,l(C,"placeholder","Numero ODL"),l(i,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(A,"class","w-full"),A.value=K=n[0].operation.length>0?n[0].operation.join(", "):"",A.disabled=!0,l(A,"placeholder","Operazioni*"),A.required=!0,l(V,"type","button"),l(V,"class","input hover:bg-gray-200 text-start transition ease-in-out"),l(S,"class","col-span-full mt-5"),l(ee,"class","col-span-full mt-auto"),l(a,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(Z,"class","col-span-full"),l(re,"for","dateEEMM"),l(re,"class","font-mono text-white"),l(R,"id","dateEEMM"),l(R,"class","input"),l(R,"type","date"),R.value=ke=n[0].startingDateEEMM!==void 0?n[0].startingDateEEMM:"",l(R,"placeholder","Data inizio EEMM"),l(ye,"for","dateEEMM"),l(ye,"class","font-mono text-white"),l(ve,"class","input"),l(ve,"type","date"),ve.value=Pe=n[0].startingDateOOCC!==void 0?n[0].startingDateOOCC:"",l(ve,"placeholder","Data inizio OOCC"),l(ce,"for","dateEEMM"),l(ce,"class","font-mono text-white"),l(q,"class","input"),l(q,"type","date"),q.value=ne=n[0].permittingDate!==void 0?n[0].permittingDate:"",l(q,"placeholder","Validità permitting"),l(fe,"for","dateEEMM"),l(fe,"class","font-mono text-white"),l(oe,"class","input"),l(oe,"type","date"),oe.value=he=n[0].priorNotification!==void 0?n[0].priorNotification:"",l(oe,"placeholder","Validità notifica"),l(z,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(ie,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),l(Ce,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),l(ze,"class","font-mono font-bold text-gray-300"),l(Ze,"class","font-mono text-gray-300"),l(Re,"class","font-mono font-bold text-gray-300"),l(ft,"class","font-mono text-gray-300"),l(pt,"class","font-mono font-bold text-gray-300"),l(jt,"class","font-mono text-gray-300"),l(Ut,"class","font-mono font-bold text-gray-300"),l(xt,"class","font-mono text-gray-300"),l(Ft,"class","font-mono font-bold text-gray-300"),l(Wt,"class","font-mono text-gray-300"),l(Kt,"class","font-mono font-bold text-gray-300"),l(Ht,"class","font-mono text-gray-300"),l(Rt,"class","font-mono font-bold text-gray-300"),l($t,"class","font-mono text-gray-300"),l(P,"class","w-[15rem] md:w-[29rem] h-3/4"),l(_t,"type","button"),l(_t,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),l(Ot,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),l(mt,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),l(J,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(s,"id","scrollable"),l(s,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),l(Ct,"type","checkbox"),l(Ct,"class",dl=Fe(n[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(Mt,"type","checkbox"),l(Mt,"class",fl=Fe(n[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(Vt,"type","checkbox"),l(Vt,"class",hl=Fe(n[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(et,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),l(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(X,de){Q(X,e,de),Ae&&Ae.m(e,null),o(e,t),o(e,r),o(r,s),o(s,a),o(a,i),o(i,c),o(i,v),o(i,m),o(i,w),o(i,g),o(i,E),o(i,C),o(a,D),o(a,S),o(S,V),o(V,A),o(a,H),o(a,ee),Ye(G,ee,null),o(s,x),o(s,z),o(z,Z),Ye(L,Z,null),o(z,B),o(z,j),o(j,re),o(re,$),o(j,I),o(j,R),o(z,Me),o(z,te),o(te,ye),o(ye,Ie),o(te,Se),o(te,ve),o(z,se),o(z,Te),o(Te,ce),o(ce,Ve),o(Te,ae),o(Te,q),o(z,U),o(z,Y),o(Y,fe),o(fe,Le),o(Y,We),o(Y,oe),o(s,we),o(s,J),o(J,P),o(P,ie),o(ie,_e),o(ie,Ue),o(P,Oe),o(P,Ce),o(P,le),o(P,pe),o(pe,ze),o(ze,be),o(pe,ot),o(pe,Ze),o(Ze,Be),o(P,st),o(P,xe),o(xe,Re),o(Re,dt),o(xe,nt),o(xe,ft),o(ft,yt),o(P,zt),o(P,at),o(at,pt),o(pt,Nt),o(at,Cl),o(at,jt),o(jt,nl),o(P,Ml),o(P,Dt),o(Dt,Ut),o(Ut,Vl),o(Dt,Pl),o(Dt,xt),o(xt,sl),o(P,Al),o(P,It),o(It,Ft),o(Ft,Bl),o(It,Ll),o(It,Wt),o(Wt,al),o(P,zl),o(P,St),o(St,Kt),o(Kt,jl),o(St,Ul),o(St,Ht),o(Ht,il),o(P,xl),o(P,Tt),o(Tt,Rt),o(Rt,Fl),o(Tt,Wl),o(Tt,$t),o($t,cl),o(J,Kl),o(J,mt),o(mt,_t),o(_t,Hl),o(mt,Rl),o(mt,Ot),o(Ot,tl),o(tl,ul),o(r,$l),o(r,et),o(et,Ct),o(et,ql),o(et,Mt),o(et,Yl),o(et,Vt),Ne=!0,Gl||(er=[M(c,"change",n[16]),M(m,"change",n[17]),M(g,"change",n[18]),M(C,"change",n[19]),M(V,"click",n[20]),M(R,"change",n[23]),M(ve,"change",n[24]),M(q,"change",n[25]),M(oe,"change",n[26]),M(_t,"click",n[6]),M(Ot,"click",n[7]),M(s,"click",lt(n[10])),M(s,"keydown",lt(n[11])),M(Ct,"change",n[27]),M(Mt,"change",n[28]),M(Vt,"change",n[29]),M(et,"click",lt(n[8])),M(et,"keydown",lt(n[9])),M(e,"click",n[6]),M(e,"keydown",n[6])],Gl=!0)},p(X,[de]){X[2]?Ae?(Ae.p(X,de),de&4&&ge(Ae,1)):(Ae=$r(X),Ae.c(),ge(Ae,1),Ae.m(e,t)):Ae&&(At(),Ee(Ae,1,1,()=>{Ae=null}),Bt()),(!Ne||de&1&&f!==(f=X[0].turbineName)&&c.value!==f)&&(c.value=f),(!Ne||de&2)&&(c.disabled=X[1]),(!Ne||de&1&&_!==(_=X[0].turbineNumber)&&m.value!==_)&&(m.value=_),(!Ne||de&1&&b!==(b=X[0].description)&&g.value!==b)&&(g.value=b),(!Ne||de&1&&k!==(k=X[0].odlNumber)&&C.value!==k)&&(C.value=k),(!Ne||de&1&&K!==(K=X[0].operation.length>0?X[0].operation.join(", "):"")&&A.value!==K)&&(A.value=K);const Pt={};de&1&&(Pt.isKilowatt=X[0].power==="KILOWATT"),G.$set(Pt);const gt={};de&1&&(gt.state=X[0].turbineState),L.$set(gt),(!Ne||de&1&&ke!==(ke=X[0].startingDateEEMM!==void 0?X[0].startingDateEEMM:""))&&(R.value=ke),(!Ne||de&1&&Pe!==(Pe=X[0].startingDateOOCC!==void 0?X[0].startingDateOOCC:""))&&(ve.value=Pe),(!Ne||de&1&&ne!==(ne=X[0].permittingDate!==void 0?X[0].permittingDate:""))&&(q.value=ne),(!Ne||de&1&&he!==(he=X[0].priorNotification!==void 0?X[0].priorNotification:""))&&(oe.value=he),(!Ne||de&2)&&ue!==(ue=X[1]?"modifica":"creazione")&&me(Ue,ue),(!Ne||de&1)&&Ke!==(Ke=X[0].turbineNumber+"")&&me(Be,Ke),(!Ne||de&1)&&ht!==(ht=X[0].turbineName+"")&&me(yt,ht),(!Ne||de&1)&&Jt!==(Jt=X[0].description+"")&&me(nl,Jt),(!Ne||de&1)&&Qt!==(Qt=(X[0].odlNumber||"N/A")+"")&&me(sl,Qt),(!Ne||de&1)&&Xt!==(Xt=X[0].operation+"")&&me(al,Xt),(!Ne||de&1)&&Zt!==(Zt=X[0].power+"")&&me(il,Zt),(!Ne||de&1)&&el!==(el=X[0].turbineState+"")&&me(cl,el),(!Ne||de&2)&&ll!==(ll=X[1]?"Modifica":"Crea")&&me(ul,ll),(!Ne||de&16&&dl!==(dl=Fe(X[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Ct,"class",dl),(!Ne||de&16&&fl!==(fl=Fe(X[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Mt,"class",fl),(!Ne||de&16&&hl!==(hl=Fe(X[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Vt,"class",hl)},i(X){Ne||(ge(Ae),ge(G.$$.fragment,X),ge(L.$$.fragment,X),rt(()=>{bt||(bt=Tl(s,ut,{duration:150},!0)),bt.run(1)}),Ne=!0)},o(X){Ee(Ae),Ee(G.$$.fragment,X),Ee(L.$$.fragment,X),bt||(bt=Tl(s,ut,{duration:150},!1)),bt.run(0),Ne=!1},d(X){X&&u(e),Ae&&Ae.d(),Ge(G),Ge(L),X&&bt&&bt.end(),Gl=!1,He(er)}}}function tn(n,e,t){let{isEditMode:r=!1}=e,{windfarm:s={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const a=vt();let i=!1,c=[];Xl(()=>{t(3,c=Object.values(tt).map(I=>({name:I,isSelected:s.operation.includes(I)})))});let f=0;function v(){const I=document.getElementById("scrollable");let R=0;I!=null&&(f===1?window.innerWidth<768?R=I.scrollWidth/3:R=I.scrollWidth/2:f===2&&(R=I.scrollWidth),I.scrollTo({left:R,behavior:"smooth"}))}const m=()=>{a("close")},_=()=>{if(s.turbineName===""||s.description===""||s.operation.length===0){console.log("Cannot submit missing required fields");return}s.power==""&&t(0,s.power="KILOWATT",s),s.turbineState==""&&t(0,s.turbineState="In marcia",s),r?No(s).then(I=>{I!==void 0&&I.status===200?a("updated"):console.log("Error while updating windfarm: ",I)}).catch(I=>{console.log(I)}):yo(s).then(I=>{console.log(I),I!==void 0&&I.status===200?a("created"):console.log("Error while creating windfarm: ",I)}).catch(I=>{console.log(I)})};function w(I){kt.call(this,n,I)}function g(I){kt.call(this,n,I)}function b(I){kt.call(this,n,I)}function E(I){kt.call(this,n,I)}const C=()=>{t(2,i=!1)},k=I=>{t(3,c=I.detail),t(0,s.operation=c.filter(R=>R.isSelected).map(R=>R.name),s),t(2,i=!1)},D=()=>{t(2,i=!1)},S=()=>{t(2,i=!1)},V=I=>{t(0,s.turbineName=I.target.value,s)},A=I=>{t(0,s.turbineNumber=I.target.value,s)},K=I=>{t(0,s.description=I.target.value,s)},H=I=>{t(0,s.odlNumber=I.target.value,s)},ee=()=>{t(2,i=!i)},G=I=>t(0,s.power=I.detail,s),x=I=>t(0,s.turbineState=I.detail,s),z=I=>{t(0,s.startingDateEEMM=I.target.value,s)},Z=I=>{t(0,s.startingDateOOCC=I.target.value,s)},L=I=>{t(0,s.permittingDate=I.target.value,s)},B=I=>{t(0,s.priorNotification=I.target.value,s)},j=()=>{t(4,f=0),v()},re=()=>{t(4,f=1),v()},$=()=>{t(4,f=2),v()};return n.$$set=I=>{"isEditMode"in I&&t(1,r=I.isEditMode),"windfarm"in I&&t(0,s=I.windfarm)},[s,r,i,c,f,v,m,_,w,g,b,E,C,k,D,S,V,A,K,H,ee,G,x,z,Z,L,B,j,re,$]}class ro extends Je{constructor(e){super(),Qe(this,e,tn,en,Xe,{isEditMode:1,windfarm:0})}}function ln(n){let e,t;return e=new ro({props:{windfarm:n[0],isEditMode:!0}}),e.$on("close",n[1]),e.$on("updated",n[2]),{c(){$e(e.$$.fragment)},l(r){qe(e.$$.fragment,r)},m(r,s){Ye(e,r,s),t=!0},p(r,[s]){const a={};s&1&&(a.windfarm=r[0]),e.$set(a)},i(r){t||(ge(e.$$.fragment,r),t=!0)},o(r){Ee(e.$$.fragment,r),t=!1},d(r){Ge(e,r)}}}function rn(n,e,t){let{turbine:r}=e;const s=vt(),a=()=>{s("close")},i=()=>{s("updated")};return n.$$set=c=>{"turbine"in c&&t(0,r=c.turbine)},[r,a,i]}class on extends Je{constructor(e){super(),Qe(this,e,rn,ln,Xe,{turbine:0})}}function nn(n){let e,t;return e=new ro({props:{isEditMode:!1}}),e.$on("close",n[0]),e.$on("created",n[1]),{c(){$e(e.$$.fragment)},l(r){qe(e.$$.fragment,r)},m(r,s){Ye(e,r,s),t=!0},p:De,i(r){t||(ge(e.$$.fragment,r),t=!0)},o(r){Ee(e.$$.fragment,r),t=!1},d(r){Ge(e,r)}}}function sn(n){const e=vt();return[()=>{e("close")},()=>{e("created")}]}class an extends Je{constructor(e){super(),Qe(this,e,sn,nn,Xe,{})}}function qr(n,e,t){const r=n.slice();return r[6]=e[t],r}function Yr(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b,E,C,k,D,S,V,A,K,H,ee,G,x,z,Z,L,B,j,re;return{c(){e=h("div"),t=h("input"),r=y(),s=h("div"),a=h("select"),i=h("option"),c=T("Tutte le attività"),f=h("option"),v=T("In corso"),m=h("option"),_=T("Cantieri chiusi"),w=y(),g=h("div"),b=F("svg"),E=F("path"),C=y(),k=h("div"),D=h("select"),S=h("option"),V=T("Tutte le operazioni"),A=h("option"),K=T("Pale"),H=h("option"),ee=T("Main components"),G=h("option"),x=T("Manutenzioni Ordinarie"),z=y(),Z=h("div"),L=F("svg"),B=F("path"),this.h()},l($){e=p($,"DIV",{class:!0});var I=d(e);t=p(I,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),r=N(I),s=p(I,"DIV",{class:!0});var R=d(s);a=p(R,"SELECT",{class:!0});var ke=d(a);i=p(ke,"OPTION",{});var Me=d(i);c=O(Me,"Tutte le attività"),Me.forEach(u),f=p(ke,"OPTION",{});var te=d(f);v=O(te,"In corso"),te.forEach(u),m=p(ke,"OPTION",{});var ye=d(m);_=O(ye,"Cantieri chiusi"),ye.forEach(u),ke.forEach(u),w=N(R),g=p(R,"DIV",{class:!0});var Ie=d(g);b=W(Ie,"svg",{class:!0,xmlns:!0,viewBox:!0});var Se=d(b);E=W(Se,"path",{d:!0}),d(E).forEach(u),Se.forEach(u),Ie.forEach(u),R.forEach(u),C=N(I),k=p(I,"DIV",{class:!0});var ve=d(k);D=p(ve,"SELECT",{class:!0});var Pe=d(D);S=p(Pe,"OPTION",{});var se=d(S);V=O(se,"Tutte le operazioni"),se.forEach(u),A=p(Pe,"OPTION",{});var Te=d(A);K=O(Te,"Pale"),Te.forEach(u),H=p(Pe,"OPTION",{});var ce=d(H);ee=O(ce,"Main components"),ce.forEach(u),G=p(Pe,"OPTION",{});var Ve=d(G);x=O(Ve,"Manutenzioni Ordinarie"),Ve.forEach(u),Pe.forEach(u),z=N(ve),Z=p(ve,"DIV",{class:!0});var ae=d(Z);L=W(ae,"svg",{class:!0,xmlns:!0,viewBox:!0});var q=d(L);B=W(q,"path",{d:!0}),d(B).forEach(u),q.forEach(u),ae.forEach(u),ve.forEach(u),I.forEach(u),this.h()},h(){l(t,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(t,"type","text"),l(t,"id","turbineName"),l(t,"name","turbineName"),l(t,"placeholder","Anno"),i.__value="ALL",i.value=i.__value,f.__value="ONLY_INCOMPLETE",f.value=f.__value,m.__value="ONLY_COMPLETED",m.value=m.__value,l(a,"class","w-full min-w-1/2 min-w-[13rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[3]===void 0&&rt(()=>n[23].call(a)),l(E,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(b,"class","w-6 h-6 text-white fill-current"),l(b,"xmlns","http://www.w3.org/2000/svg"),l(b,"viewBox","0 0 20 20"),l(g,"class","absolute top-2 right-2 font-bold"),l(s,"class","relative"),S.__value="ALL",S.value=S.__value,A.__value="ONLY_BLADES",A.value=A.__value,H.__value="MAIN_COMPS",H.value=H.__value,G.__value="MAINTENANCE",G.value=G.__value,l(D,"class","w-full min-w-1/2 min-w-[15rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[4]===void 0&&rt(()=>n[24].call(D)),l(B,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(L,"class","w-6 h-6 text-white fill-current"),l(L,"xmlns","http://www.w3.org/2000/svg"),l(L,"viewBox","0 0 20 20"),l(Z,"class","absolute top-2 right-2 font-bold"),l(k,"class","relative"),l(e,"class","flex flex-col md:flex-row gap-2")},m($,I){Q($,e,I),o(e,t),Ol(t,n[2]),o(e,r),o(e,s),o(s,a),o(a,i),o(i,c),o(a,f),o(f,v),o(a,m),o(m,_),Sl(a,n[3]),o(s,w),o(s,g),o(g,b),o(b,E),o(e,C),o(e,k),o(k,D),o(D,S),o(S,V),o(D,A),o(A,K),o(D,H),o(H,ee),o(D,G),o(G,x),Sl(D,n[4]),o(k,z),o(k,Z),o(Z,L),o(L,B),j||(re=[M(t,"input",n[22]),M(a,"change",n[23]),M(D,"change",n[24])],j=!0)},p($,I){I&4&&t.value!==$[2]&&Ol(t,$[2]),I&8&&Sl(a,$[3]),I&16&&Sl(D,$[4])},d($){$&&u(e),j=!1,He(re)}}}function cn(n){let e,t=[],r=new Map,s,a=n[5];const i=c=>c[6].id;for(let c=0;c<a.length;c+=1){let f=qr(n,a,c),v=i(f);r.set(v,t[c]=Gr(v,f))}return{c(){e=h("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=p(c,"DIV",{class:!0});var f=d(e);for(let v=0;v<t.length;v+=1)t[v].l(f);f.forEach(u),this.h()},h(){l(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(c,f){Q(c,e,f);for(let v=0;v<t.length;v+=1)t[v].m(e,null);s=!0},p(c,f){f&4128&&(a=c[5],At(),t=Zl(t,f,i,1,c,a,r,e,so,Gr,null,qr),Bt())},i(c){if(!s){for(let f=0;f<a.length;f+=1)ge(t[f]);s=!0}},o(c){for(let f=0;f<t.length;f+=1)Ee(t[f]);s=!1},d(c){c&&u(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function un(n){let e,t,r,s,a;return{c(){e=h("div"),t=h("div"),r=y(),s=h("p"),a=T("Caricamento in corso..."),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);t=p(c,"DIV",{class:!0}),d(t).forEach(u),r=N(c),s=p(c,"P",{class:!0});var f=d(s);a=O(f,"Caricamento in corso..."),f.forEach(u),c.forEach(u),this.h()},h(){l(t,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),l(s,"class","mt-4 text-xl font-bold font-mono"),l(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(i,c){Q(i,e,c),o(e,t),o(e,r),o(e,s),o(s,a)},p:De,i:De,o:De,d(i){i&&u(e)}}}function Gr(n,e){let t,r,s;return r=new ko({props:{turbine:e[6]}}),r.$on("showDetails",e[12]),{key:n,first:null,c(){t=ct(),$e(r.$$.fragment),this.h()},l(a){t=ct(),qe(r.$$.fragment,a),this.h()},h(){this.first=t},m(a,i){Q(a,t,i),Ye(r,a,i),s=!0},p(a,i){e=a;const c={};i&32&&(c.turbine=e[6]),r.$set(c)},i(a){s||(ge(r.$$.fragment,a),s=!0)},o(a){Ee(r.$$.fragment,a),s=!1},d(a){a&&u(t),Ge(r,a)}}}function Jr(n){let e,t,r,s,a;return t=new Ho({props:{turbine:n[6]}}),t.$on("closeDetails",n[13]),t.$on("editMode",n[15]),t.$on("deleted",n[14]),{c(){e=h("div"),$e(t.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);qe(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(i,c){Q(i,e,c),Ye(t,e,null),r=!0,s||(a=[M(e,"click",n[13]),M(e,"keydown",n[13])],s=!0)},p(i,c){const f={};c&64&&(f.turbine=i[6]),t.$set(f)},i(i){r||(ge(t.$$.fragment,i),r=!0)},o(i){Ee(t.$$.fragment,i),r=!1},d(i){i&&u(e),Ge(t),s=!1,He(a)}}}function Qr(n){let e,t,r,s,a;return t=new on({props:{turbine:n[6]}}),t.$on("close",n[25]),t.$on("updated",n[18]),{c(){e=h("div"),$e(t.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);qe(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(i,c){Q(i,e,c),Ye(t,e,null),r=!0,s||(a=[M(e,"click",n[13]),M(e,"keydown",n[13])],s=!0)},p(i,c){const f={};c&64&&(f.turbine=i[6]),t.$set(f)},i(i){r||(ge(t.$$.fragment,i),r=!0)},o(i){Ee(t.$$.fragment,i),r=!1},d(i){i&&u(e),Ge(t),s=!1,He(a)}}}function Xr(n){let e,t,r,s,a;return t=new an({}),t.$on("close",n[26]),t.$on("created",n[17]),{c(){e=h("div"),$e(t.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var c=d(e);qe(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(i,c){Q(i,e,c),Ye(t,e,null),r=!0,s||(a=[M(e,"click",n[13]),M(e,"keydown",n[13])],s=!0)},p:De,i(i){r||(ge(t.$$.fragment,i),r=!0)},o(i){Ee(t.$$.fragment,i),r=!1},d(i){i&&u(e),Ge(t),s=!1,He(a)}}}function dn(n){let e,t,r,s,a,i,c,f,v,m,_,w,g,b,E,C,k,D,S,V,A,K,H,ee,G,x,z,Z,L,B,j,re,$,I,R,ke,Me,te,ye,Ie,Se,ve,Pe,se=n[10]&&Yr(n);const Te=[un,cn],ce=[];function Ve(U,Y){return U[0].length===0?0:1}I=Ve(n),R=ce[I]=Te[I](n);let ae=n[7]&&Jr(n),q=n[8]&&Qr(n),ne=n[9]&&Xr(n);return{c(){e=h("div"),t=h("div"),r=h("section"),s=h("div"),a=h("input"),i=y(),c=h("button"),f=F("svg"),v=F("polygon"),_=y(),se&&se.c(),w=y(),g=h("div"),b=h("p"),E=T(n[11]),C=T(" risultati"),k=y(),D=h("div"),S=h("button"),V=F("svg"),A=F("path"),K=F("polyline"),H=F("line"),ee=F("line"),G=F("polyline"),z=y(),Z=h("button"),L=F("svg"),B=F("line"),j=F("line"),re=y(),$=h("section"),R.c(),ke=y(),ae&&ae.c(),Me=y(),q&&q.c(),te=y(),ne&&ne.c(),this.h()},l(U){e=p(U,"DIV",{});var Y=d(e);t=p(Y,"DIV",{id:!0,class:!0});var fe=d(t);r=p(fe,"SECTION",{class:!0,id:!0});var Le=d(r);s=p(Le,"DIV",{class:!0});var We=d(s);a=p(We,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=N(We),c=p(We,"BUTTON",{class:!0});var oe=d(c);f=W(oe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var he=d(f);v=W(he,"polygon",{points:!0}),d(v).forEach(u),he.forEach(u),oe.forEach(u),We.forEach(u),_=N(Le),se&&se.l(Le),Le.forEach(u),w=N(fe),g=p(fe,"DIV",{class:!0});var we=d(g);b=p(we,"P",{class:!0});var J=d(b);E=O(J,n[11]),C=O(J," risultati"),J.forEach(u),k=N(we),D=p(we,"DIV",{class:!0});var P=d(D);S=p(P,"BUTTON",{class:!0});var ie=d(S);V=W(ie,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var _e=d(V);A=W(_e,"path",{d:!0}),d(A).forEach(u),K=W(_e,"polyline",{points:!0}),d(K).forEach(u),H=W(_e,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(H).forEach(u),ee=W(_e,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ee).forEach(u),G=W(_e,"polyline",{points:!0}),d(G).forEach(u),_e.forEach(u),ie.forEach(u),z=N(P),Z=p(P,"BUTTON",{class:!0});var ue=d(Z);L=W(ue,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ue=d(L);B=W(Ue,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(B).forEach(u),j=W(Ue,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(j).forEach(u),Ue.forEach(u),ue.forEach(u),P.forEach(u),we.forEach(u),re=N(fe),$=p(fe,"SECTION",{class:!0});var Oe=d($);R.l(Oe),ke=N(Oe),ae&&ae.l(Oe),Me=N(Oe),q&&q.l(Oe),te=N(Oe),ne&&ne.l(Oe),Oe.forEach(u),fe.forEach(u),Y.forEach(u),this.h()},h(){l(a,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(a,"type","text"),l(a,"id","turbineName"),l(a,"name","turbineName"),l(a,"placeholder","Cerca"),l(v,"points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"),l(f,"xmlns","http://www.w3.org/2000/svg"),l(f,"width","24"),l(f,"height","24"),l(f,"viewBox","0 0 24 24"),l(f,"fill","none"),l(f,"stroke","currentColor"),l(f,"stroke-width","2"),l(f,"stroke-linecap","round"),l(f,"stroke-linejoin","round"),l(f,"class",m=n[10]?"text-blue-500 rotate-90":"text-white"),l(c,"class","py-2 px-2 hover:text-blue-500 bg-gray-700 rounded-sm md:rounded-md"),l(s,"class","items-center flex flex-row justify-between md:justify-start gap-2"),l(r,"class","mt-5 flex flex-col gap-3 font-mono h-min-[10vh]"),l(r,"id","filters"),l(b,"class","font-mono text-lg"),l(A,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),l(K,"points","14 2 14 8 20 8"),l(H,"x1","16"),l(H,"y1","13"),l(H,"x2","8"),l(H,"y2","13"),l(ee,"x1","16"),l(ee,"y1","17"),l(ee,"x2","8"),l(ee,"y2","17"),l(G,"points","10 9 9 9 8 9"),l(V,"xmlns","http://www.w3.org/2000/svg"),l(V,"width","22"),l(V,"height","22"),l(V,"viewBox","0 0 24 24"),l(V,"fill","none"),l(V,"stroke","currentColor"),l(V,"stroke-width","2"),l(V,"stroke-linecap","round"),l(V,"stroke-linejoin","round"),l(V,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),l(S,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),S.disabled=x=n[0].length===0,l(B,"x1","12"),l(B,"y1","5"),l(B,"x2","12"),l(B,"y2","19"),l(j,"x1","5"),l(j,"y1","12"),l(j,"x2","19"),l(j,"y2","12"),l(L,"xmlns","http://www.w3.org/2000/svg"),l(L,"width","22"),l(L,"height","22"),l(L,"viewBox","0 0 24 24"),l(L,"fill","none"),l(L,"stroke","currentColor"),l(L,"stroke-width","2"),l(L,"stroke-linecap","round"),l(L,"stroke-linejoin","round"),l(L,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),l(Z,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),l(D,"class","justify-end flex flex-row gap-4"),l(g,"class","flex flex-row justify-between items-center h-[10vh]"),l($,"class",ye="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(n[10]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"),l(t,"id","full-content"),l(t,"class","p-4")},m(U,Y){Q(U,e,Y),o(e,t),o(t,r),o(r,s),o(s,a),Ol(a,n[1]),o(s,i),o(s,c),o(c,f),o(f,v),o(r,_),se&&se.m(r,null),o(t,w),o(t,g),o(g,b),o(b,E),o(b,C),o(g,k),o(g,D),o(D,S),o(S,V),o(V,A),o(V,K),o(V,H),o(V,ee),o(V,G),o(D,z),o(D,Z),o(Z,L),o(L,B),o(L,j),o(t,re),o(t,$),ce[I].m($,null),o($,ke),ae&&ae.m($,null),o($,Me),q&&q.m($,null),o($,te),ne&&ne.m($,null),Se=!0,ve||(Pe=[M(a,"input",n[20]),M(c,"click",n[21]),M(S,"click",n[19]),M(Z,"click",n[16])],ve=!0)},p(U,[Y]){Y&2&&a.value!==U[1]&&Ol(a,U[1]),(!Se||Y&1024&&m!==(m=U[10]?"text-blue-500 rotate-90":"text-white"))&&l(f,"class",m),U[10]?se?se.p(U,Y):(se=Yr(U),se.c(),se.m(r,null)):se&&(se.d(1),se=null),(!Se||Y&2048)&&me(E,U[11]),(!Se||Y&1&&x!==(x=U[0].length===0))&&(S.disabled=x);let fe=I;I=Ve(U),I===fe?ce[I].p(U,Y):(At(),Ee(ce[fe],1,1,()=>{ce[fe]=null}),Bt(),R=ce[I],R?R.p(U,Y):(R=ce[I]=Te[I](U),R.c()),ge(R,1),R.m($,ke)),U[7]?ae?(ae.p(U,Y),Y&128&&ge(ae,1)):(ae=Jr(U),ae.c(),ge(ae,1),ae.m($,Me)):ae&&(At(),Ee(ae,1,1,()=>{ae=null}),Bt()),U[8]?q?(q.p(U,Y),Y&256&&ge(q,1)):(q=Qr(U),q.c(),ge(q,1),q.m($,te)):q&&(At(),Ee(q,1,1,()=>{q=null}),Bt()),U[9]?ne?(ne.p(U,Y),Y&512&&ge(ne,1)):(ne=Xr(U),ne.c(),ge(ne,1),ne.m($,null)):ne&&(At(),Ee(ne,1,1,()=>{ne=null}),Bt()),(!Se||Y&1024&&ye!==(ye="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(U[10]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"))&&l($,"class",ye)},i(U){Se||(ge(R),ge(ae),ge(q),ge(ne),rt(()=>{Ie||(Ie=Tl(e,ut,{duration:200},!0)),Ie.run(1)}),Se=!0)},o(U){Ee(R),Ee(ae),Ee(q),Ee(ne),Ie||(Ie=Tl(e,ut,{duration:200},!1)),Ie.run(0),Se=!1},d(U){U&&u(e),se&&se.d(),ce[I].d(),ae&&ae.d(),q&&q.d(),ne&&ne.d(),U&&Ie&&Ie.end(),ve=!1,He(Pe)}}}function fn(n,e,t){let r,s,a=!1,i={},c=[];Xl(()=>{rl().then(B=>{t(0,c=B)})});const f=B=>{const j=B.detail;t(6,i=c.find(re=>re.id===j)),t(7,a=!0),t(8,_=!1)},v=()=>{rl().then(B=>{t(0,c=B),t(7,a=!1)})},m=()=>{t(7,a=!1),rl().then(B=>{t(0,c=B)})};let _=!1;const w=B=>{const j=B.detail;t(6,i=c.find(re=>re.id===j)),t(7,a=!1),t(8,_=!0)};let g=!1;const b=()=>{t(9,g=!0),t(7,a=!1),t(8,_=!1)},E=()=>{t(9,g=!1),t(7,a=!1),t(8,_=!1),rl().then(B=>{console.log("Updating with: ",B),t(0,c=B)})},C=()=>{rl().then(B=>{t(0,c=B),t(8,_=!1)})},k=()=>{c.length>0&&Do().then(B=>{const j=new Blob([B.data],{type:"text/csv"}),re=window.URL.createObjectURL(j),$=document.createElement("a");$.href=re,$.download="export.csv",$.click()})};let D="",S="",V="ALL",A="ALL",K=!1;function H(){D=this.value,t(1,D)}const ee=()=>{t(10,K=!K)};function G(){S=this.value,t(2,S)}function x(){V=Sr(this),t(3,V)}function z(){A=Sr(this),t(4,A)}const Z=()=>t(8,_=!1),L=()=>t(9,g=!1);return n.$$.update=()=>{n.$$.dirty&31&&t(5,r=c.filter(B=>{const j=D.toLowerCase(),re=B.description.toLowerCase().includes(j),$=B.turbineName.toLowerCase().includes(j),I=B.turbineNumber.toLowerCase().includes(j),R=B.creationDate.includes(S),ke=V==="ALL"||V==="ONLY_INCOMPLETE"&&!B.completionDate||V==="ONLY_COMPLETED"&&B.completionDate,Me=A==="ALL"||A==="MAINTENANCE"&&B.operation.some(te=>te.includes(tt[20])||te.includes(tt[21])||te.includes(tt[22])||te.includes(tt[25])||te.includes(tt[26]))||A==="ONLY_BLADES"&&B.operation.some(te=>te.includes(tt[2]))||A==="MAIN_COMPS"&&B.operation.some(te=>!te.includes(tt[20])&&!te.includes(tt[21])&&!te.includes(tt[22])&&!te.includes(tt[25])&&!te.includes(tt[26]));return(re||$||I)&&R&&ke&&Me})),n.$$.dirty&32&&t(11,s=r.length)},[c,D,S,V,A,r,i,a,_,g,K,s,f,v,m,w,b,E,C,k,H,ee,G,x,z,Z,L]}class gn extends Je{constructor(e){super(),Qe(this,e,fn,dn,Xe,{})}}export{gn as default};
