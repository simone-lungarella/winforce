import{P as nr,S as ut,i as dt,s as ft,k as f,a as w,q as D,l as h,m as d,h as u,c as k,r as I,n as l,b as se,C as o,u as me,B as Be,Q as $o,e as pl,w as at,E as J,x as st,F as Q,y as it,G as C,O as er,f as _e,R as _t,T as nl,t as Me,z as ct,H as tt,D as Lt,U as nt,V as Zl,W as tr,X as St,Y as It,g as ol,d as rl,Z as gl,o as $l,_ as So,$ as ar,a0 as xl,a1 as Wl,a2 as To,a3 as sr}from"../../../chunks/index-9eaa0f55.js";import{a as al}from"../../../chunks/axios-67252f11.js";function ir(n){const e=n-1;return e*e*e+1}function lr(n,{delay:e=0,duration:t=400,easing:r=nr}={}){const a=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:i=>`opacity: ${i*a}`}}function Et(n,{delay:e=0,duration:t=400,easing:r=ir}={}){const a=getComputedStyle(n),i=+a.opacity,s=parseFloat(a.height),c=parseFloat(a.paddingTop),p=parseFloat(a.paddingBottom),g=parseFloat(a.marginTop),v=parseFloat(a.marginBottom),b=parseFloat(a.borderTopWidth),T=parseFloat(a.borderBottomWidth);return{delay:e,duration:t,easing:r,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*i};height: ${_*s}px;padding-top: ${_*c}px;padding-bottom: ${_*p}px;margin-top: ${_*g}px;margin-bottom: ${_*v}px;border-top-width: ${_*b}px;border-bottom-width: ${_*T}px;`}}const hl={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Oo(n,e,t){const r=n.slice();return r[4]=e[t],r[6]=t,r}function cr(n){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-gray-500 h-full w-full rounded")},m(t,r){se(t,e,r)},d(t){t&&u(e)}}}function ur(n){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-blue-500 h-full w-full rounded")},m(t,r){se(t,e,r)},d(t){t&&u(e)}}}function Mo(n){let e;function t(i,s){return i[6]<i[0]?ur:cr}let r=t(n),a=r(n);return{c(){a.c(),e=pl()},l(i){a.l(i),e=pl()},m(i,s){a.m(i,s),se(i,e,s)},p(i,s){r!==(r=t(i))&&(a.d(1),a=r(i),a&&(a.c(),a.m(e.parentNode,e)))},d(i){a.d(i),i&&u(e)}}}function dr(n){let e,t,r,a,i=(n[1]||"Cantiere chiuso")+"",s,c=Array(n[2]),p=[];for(let g=0;g<c.length;g+=1)p[g]=Mo(Oo(n,c,g));return{c(){e=f("div"),t=f("div");for(let g=0;g<p.length;g+=1)p[g].c();r=w(),a=f("span"),s=D(i),this.h()},l(g){e=h(g,"DIV",{class:!0});var v=d(e);t=h(v,"DIV",{class:!0});var b=d(t);for(let _=0;_<p.length;_+=1)p[_].l(b);b.forEach(u),r=k(v),a=h(v,"SPAN",{class:!0});var T=d(a);s=I(T,i),T.forEach(u),v.forEach(u),this.h()},h(){l(t,"class","transition duration-300 ease-in-out transform flex flex-row h-7 w-full lg:w-3/4 gap-0.5"),l(a,"class","absolute font-bold text-lg flex pl-2"),l(e,"class","flex")},m(g,v){se(g,e,v),o(e,t);for(let b=0;b<p.length;b+=1)p[b].m(t,null);o(e,r),o(e,a),o(a,s)},p(g,[v]){if(v&1){c=Array(g[2]);let b;for(b=0;b<c.length;b+=1){const T=Oo(g,c,b);p[b]?p[b].p(T,v):(p[b]=Mo(T),p[b].c(),p[b].m(t,null))}for(;b<p.length;b+=1)p[b].d(1);p.length=c.length}v&2&&i!==(i=(g[1]||"Cantiere chiuso")+"")&&me(s,i)},i:Be,o:Be,d(g){g&&u(e),$o(p,g)}}}function fr(n,e,t){let r,{completedSteps:a=0}=e,{creationDate:i=""}=e,s=i.includes("2022")?7:8;return n.$$set=c=>{"completedSteps"in c&&t(0,a=c.completedSteps),"creationDate"in c&&t(3,i=c.creationDate)},n.$$.update=()=>{n.$$.dirty&9&&t(1,r=i.includes("2022")?hl[a+2]:hl[a+1])},[a,r,s,i]}class hr extends ut{constructor(e){super(),dt(this,e,fr,dr,ft,{completedSteps:0,creationDate:3})}}function Co(n){let e,t,r=n[0].turbineNumber+"",a;return{c(){e=f("span"),t=D("- "),a=D(r),this.h()},l(i){e=h(i,"SPAN",{class:!0});var s=d(e);t=I(s,"- "),a=I(s,r),s.forEach(u),this.h()},h(){l(e,"class","hidden md:inline-block")},m(i,s){se(i,e,s),o(e,t),o(e,a)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&me(a,r)},d(i){i&&u(e)}}}function pr(n){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","hidden md:flex col-span-2")},m(t,r){se(t,e,r)},p:Be,d(t){t&&u(e)}}}function gr(n){let e,t,r,a=n[0].odlNumber+"",i;return{c(){e=f("p"),t=D("ODL: "),r=f("span"),i=D(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);t=I(c,"ODL: "),r=h(c,"SPAN",{class:!0});var p=d(r);i=I(p,a),p.forEach(u),c.forEach(u),this.h()},h(){l(r,"class","text-blue-400"),l(e,"class","flex md:justify-end")},m(s,c){se(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=s[0].odlNumber+"")&&me(i,a)},d(s){s&&u(e)}}}function Vo(n){let e,t,r=n[0].operation[0]+"",a,i,s;return{c(){e=f("div"),t=f("p"),a=D(r),this.h()},l(c){e=h(c,"DIV",{class:!0});var p=d(e);t=h(p,"P",{});var g=d(t);a=I(g,r),g.forEach(u),p.forEach(u),this.h()},h(){l(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 left-10 cursor-default")},m(c,p){se(c,e,p),o(e,t),o(t,a),i||(s=[C(e,"mouseover",n[7]),C(e,"focus",n[8]),C(e,"mouseleave",n[9]),C(e,"focusout",n[10])],i=!0)},p(c,p){p&1&&r!==(r=c[0].operation[0]+"")&&me(a,r)},d(c){c&&u(e),i=!1,tt(s)}}}function vr(n){let e,t;return{c(){e=f("span"),t=D("Non disponibile"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=d(e);t=I(a,"Non disponibile"),a.forEach(u),this.h()},h(){l(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(r,a){se(r,e,a),o(e,t)},p:Be,d(r){r&&u(e)}}}function mr(n){let e,t,r,a;return{c(){e=f("div"),t=f("span"),r=D(n[1]),this.h()},l(i){e=h(i,"DIV",{class:!0});var s=d(e);t=h(s,"SPAN",{class:!0});var c=d(t);r=I(c,n[1]),c.forEach(u),s.forEach(u),this.h()},h(){l(t,"class",a=n[4]?"text-red-500":""),l(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(i,s){se(i,e,s),o(e,t),o(t,r)},p(i,s){s&2&&me(r,i[1]),s&16&&a!==(a=i[4]?"text-red-500":"")&&l(t,"class",a)},d(i){i&&u(e)}}}function _r(n){let e,t,r,a,i=n[0].turbineName+"",s,c,p,g,v,b,T,_,N,M,V,m,E,y,A,P,$=n[0].description+"",O,G,ee,re,U,Z,B,L,X,ie,K,le,R,ge=n[0].turbineState+"",Ae,te,be,S,he,ue,ze,ne,Ce=(n[1]||"N/A")+"",we,qe,oe,F,j,W,x,pe,Ue,Xe,ke,Ze,$e,ae=n[0].turbineNumber&&Co(n);v=new hr({props:{completedSteps:n[0].completedSteps,creationDate:n[0].creationDate}});function q(H,de){return H[0].odlNumber!==void 0&&H[0].odlNumber!==0?gr:pr}let We=q(n),Ie=We(n),ve=n[2]&&Vo(n);function et(H,de){return H[1]?mr:vr}let xe=et(n),Pe=xe(n);return{c(){e=f("div"),t=f("div"),r=f("div"),a=f("h1"),s=D(i),c=w(),ae&&ae.c(),p=w(),g=f("div"),at(v.$$.fragment),b=w(),T=f("div"),_=w(),N=f("div"),M=w(),V=f("div"),m=J("svg"),E=J("path"),y=J("circle"),A=w(),P=f("span"),O=D($),G=w(),Ie.c(),ee=w(),re=f("div"),U=J("svg"),Z=J("path"),B=J("rect"),L=w(),ve&&ve.c(),X=w(),ie=f("span"),K=D(n[3]),le=w(),R=f("span"),Ae=D(ge),te=w(),be=f("span"),S=D("Scadenza cantiere:"),he=w(),ue=f("span"),ze=D("Scadenza: "),ne=f("span"),we=D(Ce),qe=w(),Pe.c(),oe=w(),F=f("div"),j=f("div"),W=f("button"),x=J("svg"),pe=J("path"),Ue=J("path"),this.h()},l(H){e=h(H,"DIV",{class:!0});var de=d(e);t=h(de,"DIV",{class:!0});var Re=d(t);r=h(Re,"DIV",{class:!0});var ce=d(r);a=h(ce,"H1",{class:!0});var Ye=d(a);s=I(Ye,i),c=k(Ye),ae&&ae.l(Ye),Ye.forEach(u),p=k(ce),g=h(ce,"DIV",{class:!0});var lt=d(g);st(v.$$.fragment,lt),lt.forEach(u),b=k(ce),T=h(ce,"DIV",{class:!0}),d(T).forEach(u),_=k(ce),N=h(ce,"DIV",{class:!0}),d(N).forEach(u),M=k(ce),V=h(ce,"DIV",{class:!0});var ot=d(V);m=Q(ot,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ge=d(m);E=Q(Ge,"path",{d:!0}),d(E).forEach(u),y=Q(Ge,"circle",{cx:!0,cy:!0,r:!0}),d(y).forEach(u),Ge.forEach(u),A=k(ot),P=h(ot,"SPAN",{});var bt=d(P);O=I(bt,$),bt.forEach(u),ot.forEach(u),G=k(ce),Ie.l(ce),ee=k(ce),re=h(ce,"DIV",{class:!0});var Ve=d(re);U=Q(Ve,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var rt=d(U);Z=Q(rt,"path",{d:!0}),d(Z).forEach(u),B=Q(rt,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(B).forEach(u),rt.forEach(u),L=k(Ve),ve&&ve.l(Ve),X=k(Ve),ie=h(Ve,"SPAN",{class:!0});var Tt=d(ie);K=I(Tt,n[3]),Tt.forEach(u),Ve.forEach(u),le=k(ce),R=h(ce,"SPAN",{class:!0});var ye=d(R);Ae=I(ye,ge),ye.forEach(u),te=k(ce),be=h(ce,"SPAN",{class:!0});var Se=d(be);S=I(Se,"Scadenza cantiere:"),Se.forEach(u),he=k(ce),ue=h(ce,"SPAN",{class:!0});var Te=d(ue);ze=I(Te,"Scadenza: "),ne=h(Te,"SPAN",{class:!0});var Le=d(ne);we=I(Le,Ce),Le.forEach(u),Te.forEach(u),qe=k(ce),Pe.l(ce),ce.forEach(u),oe=k(Re),F=h(Re,"DIV",{class:!0});var je=d(F);j=h(je,"DIV",{class:!0});var Je=d(j);W=h(Je,"BUTTON",{class:!0});var Oe=d(W);x=Q(Oe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var z=d(x);pe=Q(z,"path",{d:!0}),d(pe).forEach(u),Ue=Q(z,"path",{d:!0}),d(Ue).forEach(u),z.forEach(u),Oe.forEach(u),Je.forEach(u),je.forEach(u),Re.forEach(u),de.forEach(u),this.h()},h(){l(a,"class","font-bold text-4xl mt-3 col-span-1 md:col-span-2"),l(g,"class","col-span-1 md:col-span-2"),l(T,"class","col-span-1"),l(N,"class","hidden md:flex"),l(E,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),l(y,"cx","12"),l(y,"cy","10"),l(y,"r","3"),l(m,"xmlns","http://www.w3.org/2000/svg"),l(m,"width","24"),l(m,"height","24"),l(m,"viewBox","0 0 24 24"),l(m,"fill","none"),l(m,"stroke","currentColor"),l(m,"stroke-width","2"),l(m,"stroke-linecap","round"),l(m,"stroke-linejoin","round"),l(m,"class","feather feather-map-pin"),l(V,"class","flex gap-2 md:-mb-2"),l(Z,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),l(B,"x","8"),l(B,"y","2"),l(B,"width","8"),l(B,"height","4"),l(B,"rx","1"),l(B,"ry","1"),l(U,"xmlns","http://www.w3.org/2000/svg"),l(U,"width","24"),l(U,"height","24"),l(U,"viewBox","0 0 24 24"),l(U,"fill","none"),l(U,"stroke","currentColor"),l(U,"stroke-width","2"),l(U,"stroke-linecap","round"),l(U,"stroke-linejoin","round"),l(U,"class","feather feather-clipboard"),l(ie,"class","flex select-none"),l(re,"class","flex gap-2"),l(R,"class","flex md:justify-end font-bold"),l(be,"class","font-mono hidden xl:flex"),l(ne,"class","font-bold"),l(ue,"class","font-mono flex xl:hidden"),l(r,"class","grid grid-cols-1 text-white font-mono gap-3"),l(pe,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),l(Ue,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),l(x,"xmlns","http://www.w3.org/2000/svg"),l(x,"width","22"),l(x,"height","22"),l(x,"viewBox","0 0 24 24"),l(x,"fill","none"),l(x,"stroke","currentColor"),l(x,"stroke-width","2"),l(x,"stroke-linecap","round"),l(x,"stroke-linejoin","round"),l(x,"class","feather feather-book-open"),l(W,"class","py-2 px-2 hover:bg-gray-400 rounded-full group"),l(j,"class","flex flex-col md:flex-row gap-2 md:gap-0"),l(F,"class","absolute top-0 right-0 mr-2 mt-2"),l(t,"class","bg-gray-800 px-4 my-2 mx-2 md:mx-0 rounded-sm shadow-md hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto md:h-68 xl:h-56 pb-5 content-start"),l(e,"class","snap-start pt-1")},m(H,de){se(H,e,de),o(e,t),o(t,r),o(r,a),o(a,s),o(a,c),ae&&ae.m(a,null),o(r,p),o(r,g),it(v,g,null),o(r,b),o(r,T),o(r,_),o(r,N),o(r,M),o(r,V),o(V,m),o(m,E),o(m,y),o(V,A),o(V,P),o(P,O),o(r,G),Ie.m(r,null),o(r,ee),o(r,re),o(re,U),o(U,Z),o(U,B),o(re,L),ve&&ve.m(re,null),o(re,X),o(re,ie),o(ie,K),o(r,le),o(r,R),o(R,Ae),o(r,te),o(r,be),o(be,S),o(r,he),o(r,ue),o(ue,ze),o(ue,ne),o(ne,we),o(r,qe),Pe.m(r,null),o(t,oe),o(t,F),o(F,j),o(j,W),o(W,x),o(x,pe),o(x,Ue),ke=!0,Ze||($e=[C(re,"mouseover",n[11]),C(re,"focus",n[12]),C(re,"mouseleave",n[13]),C(re,"focusout",n[14]),C(W,"click",er(n[5]))],Ze=!0)},p(H,[de]){(!ke||de&1)&&i!==(i=H[0].turbineName+"")&&me(s,i),H[0].turbineNumber?ae?ae.p(H,de):(ae=Co(H),ae.c(),ae.m(a,null)):ae&&(ae.d(1),ae=null);const Re={};de&1&&(Re.completedSteps=H[0].completedSteps),de&1&&(Re.creationDate=H[0].creationDate),v.$set(Re),(!ke||de&1)&&$!==($=H[0].description+"")&&me(O,$),We===(We=q(H))&&Ie?Ie.p(H,de):(Ie.d(1),Ie=We(H),Ie&&(Ie.c(),Ie.m(r,ee))),H[2]?ve?ve.p(H,de):(ve=Vo(H),ve.c(),ve.m(re,X)):ve&&(ve.d(1),ve=null),(!ke||de&8)&&me(K,H[3]),(!ke||de&1)&&ge!==(ge=H[0].turbineState+"")&&me(Ae,ge),(!ke||de&2)&&Ce!==(Ce=(H[1]||"N/A")+"")&&me(we,Ce),xe===(xe=et(H))&&Pe?Pe.p(H,de):(Pe.d(1),Pe=xe(H),Pe&&(Pe.c(),Pe.m(r,null)))},i(H){ke||(_e(v.$$.fragment,H),Xe||_t(()=>{Xe=nl(t,Et,{duration:1e3}),Xe.start()}),ke=!0)},o(H){Me(v.$$.fragment,H),ke=!1},d(H){H&&u(e),ae&&ae.d(),ct(v),Ie.d(),ve&&ve.d(),Pe.d(),Ze=!1,tt($e)}}}function br(n,e,t){let r,a,i,s,{turbine:c={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const p=Lt(),g=()=>{p("showDetails",c.id)};let v=!1;const b=()=>t(2,v=!0),T=()=>t(2,v=!0),_=()=>t(2,v=!1),N=()=>t(2,v=!1),M=()=>t(2,v=!0),V=()=>t(2,v=!0),m=()=>t(2,v=!1),E=()=>t(2,v=!1);return n.$$set=y=>{"turbine"in y&&t(0,c=y.turbine)},n.$$.update=()=>{n.$$.dirty&1&&t(6,r=c.creationDate.includes("2022")?hl[c.completedSteps+2]:hl[c.completedSteps+1]),n.$$.dirty&65&&(r===hl[3]?c.priorNotification:r===hl[4]&&c.permittingDate),n.$$.dirty&1&&t(1,a=c.permittingDate?new Date(new Date(c.permittingDate).getTime()+90*24*60*60*1e3).toLocaleDateString("it-IT"):null),n.$$.dirty&3&&t(4,i=a&&new Date(c.permittingDate).getTime()+90*24*60*60*1e3<new Date().getTime()),n.$$.dirty&1&&t(3,s=c.operation[0]?c.operation[0].length>16?c.operation[0].substring(0,14)+"...":c.operation[0]:"")},[c,a,v,s,i,g,r,b,T,_,N,M,V,m,E]}class wr extends ut{constructor(e){super(),dt(this,e,br,_r,ft,{turbine:0})}}const wl="https://dockyard-handler.herokuapp.com/v1.0.0";async function bl(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await al.get(wl+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function kr(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await al.delete(wl+"/event?eventId="+n,t)}else console.log("Token not found in local storage")}async function Er(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await al.post(wl+"/event",n,t)}else console.log("Token not found in local storage")}async function yr(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(n)),await al.put(wl+"/event",n,t)}else console.log("Token not found in local storage")}async function Nr(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await al.get(wl+"/events/csv",e)}else console.log("Token not found in local storage")}const mt={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear",25:"Vasca sterrato",26:"Vasca asfalto"};function Ao(n,e,t){const r=n.slice();return r[7]=e[t],r[8]=e,r[9]=t,r}function Po(n,e){let t,r,a,i,s,c=e[7].name+"",p,g,v,b;function T(..._){return e[5](e[7],e[8],e[9],..._)}return{key:n,first:null,c(){t=f("div"),r=f("input"),i=w(),s=f("p"),p=D(c),g=w(),this.h()},l(_){t=h(_,"DIV",{class:!0});var N=d(t);r=h(N,"INPUT",{class:!0,type:!0}),i=k(N),s=h(N,"P",{class:!0});var M=d(s);p=I(M,c),M.forEach(u),g=k(N),N.forEach(u),this.h()},h(){l(r,"class","checkbox"),r.checked=a=e[7].isSelected,l(r,"type","checkbox"),l(s,"class","font-mono"),l(t,"class","flex flex-row gap-4"),this.first=t},m(_,N){se(_,t,N),o(t,r),o(t,i),o(t,s),o(s,p),o(t,g),v||(b=C(r,"change",T),v=!0)},p(_,N){e=_,N&1&&a!==(a=e[7].isSelected)&&(r.checked=a),N&1&&c!==(c=e[7].name+"")&&me(p,c)},d(_){_&&u(t),v=!1,b()}}}function Dr(n){let e,t,r=[],a=new Map,i,s,c,p,g,v,b,T,_,N,M=n[0];const V=m=>m[7].name;for(let m=0;m<M.length;m+=1){let E=Ao(n,M,m),y=V(E);a.set(y,r[m]=Po(y,E))}return{c(){e=f("div"),t=f("div");for(let m=0;m<r.length;m+=1)r[m].c();i=w(),s=f("div"),c=f("button"),p=D("Conferma"),g=w(),v=f("button"),b=D("Chiudi"),this.h()},l(m){e=h(m,"DIV",{class:!0});var E=d(e);t=h(E,"DIV",{class:!0});var y=d(t);for(let O=0;O<r.length;O+=1)r[O].l(y);y.forEach(u),i=k(E),s=h(E,"DIV",{class:!0});var A=d(s);c=h(A,"BUTTON",{class:!0});var P=d(c);p=I(P,"Conferma"),P.forEach(u),g=k(A),v=h(A,"BUTTON",{class:!0});var $=d(v);b=I($,"Chiudi"),$.forEach(u),A.forEach(u),E.forEach(u),this.h()},h(){l(t,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),l(c,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),l(v,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),l(s,"class","flex flex-row mt-5 gap-2 justify-center"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(m,E){se(m,e,E),o(e,t);for(let y=0;y<r.length;y+=1)r[y].m(t,null);o(e,i),o(e,s),o(s,c),o(c,p),o(s,g),o(s,v),o(v,b),_||(N=[C(c,"click",nt(n[1])),C(v,"click",nt(n[2])),C(e,"click",nt(n[3])),C(e,"keydown",nt(n[4]))],_=!0)},p(m,[E]){E&1&&(M=m[0],r=Zl(r,E,V,1,m,M,a,t,tr,Po,null,Ao))},i(m){T||_t(()=>{T=nl(e,Et,{duration:300}),T.start()})},o:Be,d(m){m&&u(e);for(let E=0;E<r.length;E+=1)r[E].d();_=!1,tt(N)}}}function Ir(n,e,t){let{operations:r=[]}=e;const a=Lt(),i=()=>{a("confirm",r)},s=()=>{a("cancel")};function c(v){St.call(this,n,v)}function p(v){St.call(this,n,v)}const g=(v,b,T,_)=>{t(0,b[T].isSelected=_.target.checked,r)};return n.$$set=v=>{"operations"in v&&t(0,r=v.operations)},[r,i,s,c,p,g]}class Sr extends ut{constructor(e){super(),dt(this,e,Ir,Dr,ft,{operations:0})}}function Tr(n){let e,t,r,a,i,s,c,p,g,v,b,T,_,N,M,V,m,E,y,A,P,$;return{c(){e=f("div"),t=f("div"),r=f("button"),a=J("svg"),i=J("path"),s=J("line"),c=J("polyline"),g=D("Kilowatt"),b=w(),T=f("button"),_=J("svg"),N=J("path"),M=J("line"),V=J("polyline"),E=D("Megawatt"),this.h()},l(O){e=h(O,"DIV",{class:!0});var G=d(e);t=h(G,"DIV",{class:!0});var ee=d(t);r=h(ee,"BUTTON",{class:!0,type:!0});var re=d(r);a=Q(re,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var U=d(a);i=Q(U,"path",{d:!0}),d(i).forEach(u),s=Q(U,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),c=Q(U,"polyline",{points:!0}),d(c).forEach(u),U.forEach(u),g=I(re,"Kilowatt"),re.forEach(u),b=k(ee),T=h(ee,"BUTTON",{class:!0,type:!0});var Z=d(T);_=Q(Z,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var B=d(_);N=Q(B,"path",{d:!0}),d(N).forEach(u),M=Q(B,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(M).forEach(u),V=Q(B,"polyline",{points:!0}),d(V).forEach(u),B.forEach(u),E=I(Z,"Megawatt"),Z.forEach(u),ee.forEach(u),G.forEach(u),this.h()},h(){l(i,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(s,"x1","23"),l(s,"y1","13"),l(s,"x2","23"),l(s,"y2","11"),l(c,"points","11 6 7 12 13 12 9 18"),l(a,"xmlns","http://www.w3.org/2000/svg"),l(a,"width","24"),l(a,"height","24"),l(a,"viewBox","0 0 24 24"),l(a,"fill","none"),l(a,"stroke","currentColor"),l(a,"stroke-width","2"),l(a,"stroke-linecap","round"),l(a,"stroke-linejoin","round"),l(a,"class",p=n[0]?"text-green-500":""),l(r,"class",v=It(n[0]?"button ring-4 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(N,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(M,"x1","23"),l(M,"y1","13"),l(M,"x2","23"),l(M,"y2","11"),l(V,"points","11 6 7 12 13 12 9 18"),l(_,"xmlns","http://www.w3.org/2000/svg"),l(_,"width","24"),l(_,"height","24"),l(_,"viewBox","0 0 24 24"),l(_,"fill","none"),l(_,"stroke","currentColor"),l(_,"stroke-width","2"),l(_,"stroke-linecap","round"),l(_,"stroke-linejoin","round"),l(_,"class",m=n[0]?"":"text-blue-500"),l(T,"class",y=It(n[0]?"button":"button ring-4 ring-blue-500")+" svelte-brr1w4"),l(T,"type","button"),l(t,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(O,G){se(O,e,G),o(e,t),o(t,r),o(r,a),o(a,i),o(a,s),o(a,c),o(r,g),o(t,b),o(t,T),o(T,_),o(_,N),o(_,M),o(_,V),o(T,E),P||($=[C(r,"click",n[2]),C(T,"click",n[3])],P=!0)},p(O,[G]){G&1&&p!==(p=O[0]?"text-green-500":"")&&l(a,"class",p),G&1&&v!==(v=It(O[0]?"button ring-4 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",v),G&1&&m!==(m=O[0]?"":"text-blue-500")&&l(_,"class",m),G&1&&y!==(y=It(O[0]?"button":"button ring-4 ring-blue-500")+" svelte-brr1w4")&&l(T,"class",y)},i(O){A||_t(()=>{A=nl(e,lr,{duration:300}),A.start()})},o:Be,d(O){O&&u(e),P=!1,tt($)}}}function Or(n,e,t){let{isKilowatt:r=!0}=e;const a=Lt(),i=()=>{a("change",r?"KILOWATT":"MEGAWATT")},s=()=>{t(0,r=!0),i()},c=()=>{t(0,r=!1),i()};return n.$$set=p=>{"isKilowatt"in p&&t(0,r=p.isKilowatt)},[r,i,s,c]}class Mr extends ut{constructor(e){super(),dt(this,e,Or,Tr,ft,{isKilowatt:0})}}function Cr(n){let e,t,r,a,i,s,c,p,g,v,b,T,_,N,M,V;return{c(){e=f("div"),t=f("div"),r=f("button"),a=D("In Marcia"),s=w(),c=f("button"),p=D("Limitata"),v=w(),b=f("button"),T=D("Ferma"),this.h()},l(m){e=h(m,"DIV",{class:!0});var E=d(e);t=h(E,"DIV",{class:!0});var y=d(t);r=h(y,"BUTTON",{class:!0,type:!0});var A=d(r);a=I(A,"In Marcia"),A.forEach(u),s=k(y),c=h(y,"BUTTON",{class:!0,type:!0});var P=d(c);p=I(P,"Limitata"),P.forEach(u),v=k(y),b=h(y,"BUTTON",{class:!0,type:!0});var $=d(b);T=I($,"Ferma"),$.forEach(u),y.forEach(u),E.forEach(u),this.h()},h(){l(r,"class",i=It(n[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(c,"class",g=It(n[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),l(c,"type","button"),l(b,"class",_=It(n[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),l(b,"type","button"),l(t,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(m,E){se(m,e,E),o(e,t),o(t,r),o(r,a),o(t,s),o(t,c),o(c,p),o(t,v),o(t,b),o(b,T),M||(V=[C(r,"click",n[2]),C(c,"click",n[3]),C(b,"click",n[4])],M=!0)},p(m,[E]){E&1&&i!==(i=It(m[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",i),E&1&&g!==(g=It(m[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&l(c,"class",g),E&1&&_!==(_=It(m[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&l(b,"class",_)},i(m){N||_t(()=>{N=nl(e,Et,{duration:300,delay:300}),N.start()})},o:Be,d(m){m&&u(e),M=!1,tt(V)}}}function Vr(n,e,t){let{state:r="In Marcia"}=e;const a=Lt(),i=()=>{a("change",r)},s=()=>{t(0,r="In Marcia"),i()},c=()=>{t(0,r="Limitata"),i()},p=()=>{t(0,r="Ferma"),i()};return n.$$set=g=>{"state"in g&&t(0,r=g.state)},[r,i,s,c,p]}class Ar extends ut{constructor(e){super(),dt(this,e,Vr,Cr,ft,{state:0})}}function Lo(n){let e,t,r,a,i;return t=new Sr({props:{operations:n[3]}}),t.$on("cancel",n[16]),t.$on("confirm",n[17]),{c(){e=f("div"),at(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);st(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){se(s,e,c),it(t,e,null),r=!0,a||(i=[C(e,"click",nt(n[18])),C(e,"keydown",nt(n[19]))],a=!0)},p(s,c){const p={};c[0]&8&&(p.operations=s[3]),t.$set(p)},i(s){r||(_e(t.$$.fragment,s),r=!0)},o(s){Me(t.$$.fragment,s),r=!1},d(s){s&&u(e),ct(t),a=!1,tt(i)}}}function Pr(n){let e,t,r,a,i,s,c,p,g,v,b,T,_,N,M,V,m,E,y,A,P,$,O,G,ee,re,U,Z,B,L,X,ie,K,le,R,ge,Ae,te,be,S,he,ue,ze,ne,Ce,we,qe,oe,F,j,W,x,pe,Ue,Xe,ke,Ze,$e,ae,q,We,Ie,ve=n[1]?"modifica":"creazione",et,xe,Pe,H,de,Re,ce,Ye,lt,ot=n[0].turbineNumber+"",Ge,bt,Ve,rt,Tt,ye,Se,Te=n[0].turbineName+"",Le,je,Je,Oe,z,Ne,Fe,Qe=n[0].description+"",Ee,wt,ht,yt,sl,Bt,Ot,zt=(n[0].odlNumber||"N/A")+"",Zt,Ut,Nt,Mt,jt,$t,Ct,Vt=n[0].operation+"",el,Wt,pt,gt,il,xt,At,Ft=n[0].power+"",tl,Kt,kt,cl,Fl,Kl,ul,vl=n[0].turbineState+"",kl,Rl,Rt,Ht,Hl,ql,qt,ml,_l=n[1]?"Modifica":"Crea",El,yl,Yt,Yl,vt,Gt,Nl,Gl,Jt,Dl,Jl,Qt,Il,De,Ql,eo,Ke=n[2]&&Lo(n);return ee=new Mr({props:{isKilowatt:n[0].power==="KILOWATT"}}),ee.$on("change",n[25]),B=new Ar({props:{state:n[0].turbineState}}),B.$on("change",n[26]),{c(){e=f("div"),Ke&&Ke.c(),t=w(),r=f("form"),a=f("div"),i=f("div"),s=f("div"),c=f("input"),g=w(),v=f("input"),T=w(),_=f("input"),M=w(),V=f("input"),E=w(),y=f("div"),A=f("button"),P=f("input"),O=w(),G=f("div"),at(ee.$$.fragment),re=w(),U=f("div"),Z=f("div"),at(B.$$.fragment),L=w(),X=f("div"),ie=f("label"),K=D("Data Inizio EEMM"),le=w(),R=f("input"),Ae=w(),te=f("div"),be=f("label"),S=D("Data Inizio OOCC"),he=w(),ue=f("input"),ne=w(),Ce=f("div"),we=f("label"),qe=D("Validità permitting"),oe=w(),F=f("input"),W=w(),x=f("div"),pe=f("label"),Ue=D("Validità notifica"),Xe=w(),ke=f("input"),$e=w(),ae=f("div"),q=f("div"),We=f("h2"),Ie=D("Riepilogo "),et=D(ve),xe=w(),Pe=f("div"),H=w(),de=f("p"),Re=f("span"),ce=D("Numero cantiere:"),Ye=w(),lt=f("span"),Ge=D(ot),bt=w(),Ve=f("p"),rt=f("span"),Tt=D("Aerogeneratore:"),ye=w(),Se=f("span"),Le=D(Te),je=w(),Je=f("p"),Oe=f("span"),z=D("Impianto eolico:"),Ne=w(),Fe=f("span"),Ee=D(Qe),wt=w(),ht=f("p"),yt=f("span"),sl=D("Numero ODL:"),Bt=w(),Ot=f("span"),Zt=D(zt),Ut=w(),Nt=f("p"),Mt=f("span"),jt=D("Operazioni:"),$t=w(),Ct=f("span"),el=D(Vt),Wt=w(),pt=f("p"),gt=f("span"),il=D("Tipologia:"),xt=w(),At=f("span"),tl=D(Ft),Kt=w(),kt=f("p"),cl=f("span"),Fl=D("Stato:"),Kl=w(),ul=f("span"),kl=D(vl),Rl=w(),Rt=f("div"),Ht=f("button"),Hl=D("Annulla"),ql=w(),qt=f("button"),ml=f("p"),El=D(_l),Yl=w(),vt=f("div"),Gt=f("input"),Gl=w(),Jt=f("input"),Jl=w(),Qt=f("input"),this.h()},l(Y){e=h(Y,"DIV",{class:!0});var fe=d(e);Ke&&Ke.l(fe),t=k(fe),r=h(fe,"FORM",{});var ll=d(r);a=h(ll,"DIV",{id:!0,class:!0});var Pt=d(a);i=h(Pt,"DIV",{class:!0});var dl=d(i);s=h(dl,"DIV",{class:!0});var Xt=d(s);c=h(Xt,"INPUT",{class:!0,type:!0,placeholder:!0}),g=k(Xt),v=h(Xt,"INPUT",{class:!0,type:!0,placeholder:!0}),T=k(Xt),_=h(Xt,"INPUT",{class:!0,type:!0,placeholder:!0}),M=k(Xt),V=h(Xt,"INPUT",{class:!0,type:!0,placeholder:!0}),Xt.forEach(u),E=k(dl),y=h(dl,"DIV",{class:!0});var to=d(y);A=h(to,"BUTTON",{type:!0,class:!0});var lo=d(A);P=h(lo,"INPUT",{class:!0,placeholder:!0}),lo.forEach(u),to.forEach(u),O=k(dl),G=h(dl,"DIV",{class:!0});var oo=d(G);st(ee.$$.fragment,oo),oo.forEach(u),dl.forEach(u),re=k(Pt),U=h(Pt,"DIV",{class:!0});var Dt=d(U);Z=h(Dt,"DIV",{class:!0});var ro=d(Z);st(B.$$.fragment,ro),ro.forEach(u),L=k(Dt),X=h(Dt,"DIV",{});var Sl=d(X);ie=h(Sl,"LABEL",{for:!0,class:!0});var no=d(ie);K=I(no,"Data Inizio EEMM"),no.forEach(u),le=k(Sl),R=h(Sl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),Sl.forEach(u),Ae=k(Dt),te=h(Dt,"DIV",{});var Tl=d(te);be=h(Tl,"LABEL",{for:!0,class:!0});var ao=d(be);S=I(ao,"Data Inizio OOCC"),ao.forEach(u),he=k(Tl),ue=h(Tl,"INPUT",{class:!0,type:!0,placeholder:!0}),Tl.forEach(u),ne=k(Dt),Ce=h(Dt,"DIV",{});var Ol=d(Ce);we=h(Ol,"LABEL",{for:!0,class:!0});var so=d(we);qe=I(so,"Validità permitting"),so.forEach(u),oe=k(Ol),F=h(Ol,"INPUT",{class:!0,type:!0,placeholder:!0}),Ol.forEach(u),W=k(Dt),x=h(Dt,"DIV",{});var Ml=d(x);pe=h(Ml,"LABEL",{for:!0,class:!0});var io=d(pe);Ue=I(io,"Validità notifica"),io.forEach(u),Xe=k(Ml),ke=h(Ml,"INPUT",{class:!0,type:!0,placeholder:!0}),Ml.forEach(u),Dt.forEach(u),$e=k(Pt),ae=h(Pt,"DIV",{class:!0});var Cl=d(ae);q=h(Cl,"DIV",{class:!0});var He=d(q);We=h(He,"H2",{class:!0});var Xl=d(We);Ie=I(Xl,"Riepilogo "),et=I(Xl,ve),Xl.forEach(u),xe=k(He),Pe=h(He,"DIV",{class:!0}),d(Pe).forEach(u),H=k(He),de=h(He,"P",{});var Vl=d(de);Re=h(Vl,"SPAN",{class:!0});var co=d(Re);ce=I(co,"Numero cantiere:"),co.forEach(u),Ye=k(Vl),lt=h(Vl,"SPAN",{class:!0});var uo=d(lt);Ge=I(uo,ot),uo.forEach(u),Vl.forEach(u),bt=k(He),Ve=h(He,"P",{});var Al=d(Ve);rt=h(Al,"SPAN",{class:!0});var fo=d(rt);Tt=I(fo,"Aerogeneratore:"),fo.forEach(u),ye=k(Al),Se=h(Al,"SPAN",{class:!0});var ho=d(Se);Le=I(ho,Te),ho.forEach(u),Al.forEach(u),je=k(He),Je=h(He,"P",{});var Pl=d(Je);Oe=h(Pl,"SPAN",{class:!0});var po=d(Oe);z=I(po,"Impianto eolico:"),po.forEach(u),Ne=k(Pl),Fe=h(Pl,"SPAN",{class:!0});var go=d(Fe);Ee=I(go,Qe),go.forEach(u),Pl.forEach(u),wt=k(He),ht=h(He,"P",{});var Ll=d(ht);yt=h(Ll,"SPAN",{class:!0});var vo=d(yt);sl=I(vo,"Numero ODL:"),vo.forEach(u),Bt=k(Ll),Ot=h(Ll,"SPAN",{class:!0});var mo=d(Ot);Zt=I(mo,zt),mo.forEach(u),Ll.forEach(u),Ut=k(He),Nt=h(He,"P",{});var Bl=d(Nt);Mt=h(Bl,"SPAN",{class:!0});var _o=d(Mt);jt=I(_o,"Operazioni:"),_o.forEach(u),$t=k(Bl),Ct=h(Bl,"SPAN",{class:!0});var bo=d(Ct);el=I(bo,Vt),bo.forEach(u),Bl.forEach(u),Wt=k(He),pt=h(He,"P",{});var zl=d(pt);gt=h(zl,"SPAN",{class:!0});var wo=d(gt);il=I(wo,"Tipologia:"),wo.forEach(u),xt=k(zl),At=h(zl,"SPAN",{class:!0});var ko=d(At);tl=I(ko,Ft),ko.forEach(u),zl.forEach(u),Kt=k(He),kt=h(He,"P",{});var Ul=d(kt);cl=h(Ul,"SPAN",{class:!0});var Eo=d(cl);Fl=I(Eo,"Stato:"),Eo.forEach(u),Kl=k(Ul),ul=h(Ul,"SPAN",{class:!0});var yo=d(ul);kl=I(yo,vl),yo.forEach(u),Ul.forEach(u),He.forEach(u),Rl=k(Cl),Rt=h(Cl,"DIV",{class:!0});var jl=d(Rt);Ht=h(jl,"BUTTON",{type:!0,class:!0});var No=d(Ht);Hl=I(No,"Annulla"),No.forEach(u),ql=k(jl),qt=h(jl,"BUTTON",{class:!0});var Do=d(qt);ml=h(Do,"P",{});var Io=d(ml);El=I(Io,_l),Io.forEach(u),Do.forEach(u),jl.forEach(u),Cl.forEach(u),Pt.forEach(u),Yl=k(ll),vt=h(ll,"DIV",{class:!0});var fl=d(vt);Gt=h(fl,"INPUT",{type:!0,class:!0}),Gl=k(fl),Jt=h(fl,"INPUT",{type:!0,class:!0}),Jl=k(fl),Qt=h(fl,"INPUT",{type:!0,class:!0}),fl.forEach(u),ll.forEach(u),fe.forEach(u),this.h()},h(){l(c,"class","input"),l(c,"type","text"),c.value=p=n[0].turbineName,l(c,"placeholder","Aerogeneratore*"),c.required=!0,c.disabled=n[1],l(v,"class","input"),l(v,"type","text"),v.value=b=n[0].turbineNumber,l(v,"placeholder","Numero cantiere"),l(_,"class","input"),l(_,"type","text"),_.value=N=n[0].description,l(_,"placeholder","Impianto Eolico*"),_.required=!0,l(V,"class","input"),l(V,"type","number"),V.value=m=n[0].odlNumber,l(V,"placeholder","Numero ODL"),l(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(P,"class","w-full"),P.value=$=n[0].operation.length>0?n[0].operation.join(", "):"",P.disabled=!0,l(P,"placeholder","Operazioni*"),P.required=!0,l(A,"type","button"),l(A,"class","input hover:bg-gray-200 text-start transition ease-in-out"),l(y,"class","col-span-full mt-5"),l(G,"class","col-span-full mt-auto"),l(i,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(Z,"class","col-span-full"),l(ie,"for","dateEEMM"),l(ie,"class","font-mono text-white"),l(R,"id","dateEEMM"),l(R,"class","input"),l(R,"type","date"),R.value=ge=n[0].startingDateEEMM!==void 0?n[0].startingDateEEMM:"",l(R,"placeholder","Data inizio EEMM"),l(be,"for","dateEEMM"),l(be,"class","font-mono text-white"),l(ue,"class","input"),l(ue,"type","date"),ue.value=ze=n[0].startingDateOOCC!==void 0?n[0].startingDateOOCC:"",l(ue,"placeholder","Data inizio OOCC"),l(we,"for","dateEEMM"),l(we,"class","font-mono text-white"),l(F,"class","input"),l(F,"type","date"),F.value=j=n[0].permittingDate!==void 0?n[0].permittingDate:"",l(F,"placeholder","Validità permitting"),l(pe,"for","dateEEMM"),l(pe,"class","font-mono text-white"),l(ke,"class","input"),l(ke,"type","date"),ke.value=Ze=n[0].priorNotification!==void 0?n[0].priorNotification:"",l(ke,"placeholder","Validità notifica"),l(U,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(We,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),l(Pe,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),l(Re,"class","font-mono font-bold text-gray-300"),l(lt,"class","font-mono text-gray-300"),l(rt,"class","font-mono font-bold text-gray-300"),l(Se,"class","font-mono text-gray-300"),l(Oe,"class","font-mono font-bold text-gray-300"),l(Fe,"class","font-mono text-gray-300"),l(yt,"class","font-mono font-bold text-gray-300"),l(Ot,"class","font-mono text-gray-300"),l(Mt,"class","font-mono font-bold text-gray-300"),l(Ct,"class","font-mono text-gray-300"),l(gt,"class","font-mono font-bold text-gray-300"),l(At,"class","font-mono text-gray-300"),l(cl,"class","font-mono font-bold text-gray-300"),l(ul,"class","font-mono text-gray-300"),l(q,"class","w-[15rem] md:w-[29rem] h-3/4"),l(Ht,"type","button"),l(Ht,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 rounded w-24"),l(qt,"class",yl="font-bold font-mono bg-green-500 hover:bg-green-600 py-2 rounded w-24 disabled:"+n[5]+" svelte-1kr4p0s"),l(Rt,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),l(ae,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(a,"id","scrollable"),l(a,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),l(Gt,"type","checkbox"),Gt.checked=Nl=n[4]===0,l(Gt,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),l(Jt,"type","checkbox"),Jt.checked=Dl=n[4]===1,l(Jt,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),l(Qt,"type","checkbox"),Qt.checked=Il=n[4]===2,l(Qt,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),l(vt,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),l(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(Y,fe){se(Y,e,fe),Ke&&Ke.m(e,null),o(e,t),o(e,r),o(r,a),o(a,i),o(i,s),o(s,c),o(s,g),o(s,v),o(s,T),o(s,_),o(s,M),o(s,V),o(i,E),o(i,y),o(y,A),o(A,P),o(i,O),o(i,G),it(ee,G,null),o(a,re),o(a,U),o(U,Z),it(B,Z,null),o(U,L),o(U,X),o(X,ie),o(ie,K),o(X,le),o(X,R),o(U,Ae),o(U,te),o(te,be),o(be,S),o(te,he),o(te,ue),o(U,ne),o(U,Ce),o(Ce,we),o(we,qe),o(Ce,oe),o(Ce,F),o(U,W),o(U,x),o(x,pe),o(pe,Ue),o(x,Xe),o(x,ke),o(a,$e),o(a,ae),o(ae,q),o(q,We),o(We,Ie),o(We,et),o(q,xe),o(q,Pe),o(q,H),o(q,de),o(de,Re),o(Re,ce),o(de,Ye),o(de,lt),o(lt,Ge),o(q,bt),o(q,Ve),o(Ve,rt),o(rt,Tt),o(Ve,ye),o(Ve,Se),o(Se,Le),o(q,je),o(q,Je),o(Je,Oe),o(Oe,z),o(Je,Ne),o(Je,Fe),o(Fe,Ee),o(q,wt),o(q,ht),o(ht,yt),o(yt,sl),o(ht,Bt),o(ht,Ot),o(Ot,Zt),o(q,Ut),o(q,Nt),o(Nt,Mt),o(Mt,jt),o(Nt,$t),o(Nt,Ct),o(Ct,el),o(q,Wt),o(q,pt),o(pt,gt),o(gt,il),o(pt,xt),o(pt,At),o(At,tl),o(q,Kt),o(q,kt),o(kt,cl),o(cl,Fl),o(kt,Kl),o(kt,ul),o(ul,kl),o(ae,Rl),o(ae,Rt),o(Rt,Ht),o(Ht,Hl),o(Rt,ql),o(Rt,qt),o(qt,ml),o(ml,El),o(r,Yl),o(r,vt),o(vt,Gt),o(vt,Gl),o(vt,Jt),o(vt,Jl),o(vt,Qt),De=!0,Ql||(eo=[C(c,"change",n[20]),C(v,"change",n[21]),C(_,"change",n[22]),C(V,"change",n[23]),C(A,"click",n[24]),C(R,"change",n[27]),C(ue,"change",n[28]),C(F,"change",n[29]),C(ke,"change",n[30]),C(Ht,"click",n[10]),C(qt,"click",er(n[11])),C(a,"click",nt(n[14])),C(a,"keydown",nt(n[15])),C(a,"scroll",n[6]),C(Gt,"change",n[31]),C(Jt,"change",n[32]),C(Qt,"change",n[33]),C(vt,"click",nt(n[12])),C(vt,"keydown",nt(n[13])),C(e,"click",n[10]),C(e,"keydown",n[10])],Ql=!0)},p(Y,fe){Y[2]?Ke?(Ke.p(Y,fe),fe[0]&4&&_e(Ke,1)):(Ke=Lo(Y),Ke.c(),_e(Ke,1),Ke.m(e,t)):Ke&&(ol(),Me(Ke,1,1,()=>{Ke=null}),rl()),(!De||fe[0]&1&&p!==(p=Y[0].turbineName)&&c.value!==p)&&(c.value=p),(!De||fe[0]&2)&&(c.disabled=Y[1]),(!De||fe[0]&1&&b!==(b=Y[0].turbineNumber)&&v.value!==b)&&(v.value=b),(!De||fe[0]&1&&N!==(N=Y[0].description)&&_.value!==N)&&(_.value=N),(!De||fe[0]&1&&m!==(m=Y[0].odlNumber)&&V.value!==m)&&(V.value=m),(!De||fe[0]&1&&$!==($=Y[0].operation.length>0?Y[0].operation.join(", "):"")&&P.value!==$)&&(P.value=$);const ll={};fe[0]&1&&(ll.isKilowatt=Y[0].power==="KILOWATT"),ee.$set(ll);const Pt={};fe[0]&1&&(Pt.state=Y[0].turbineState),B.$set(Pt),(!De||fe[0]&1&&ge!==(ge=Y[0].startingDateEEMM!==void 0?Y[0].startingDateEEMM:""))&&(R.value=ge),(!De||fe[0]&1&&ze!==(ze=Y[0].startingDateOOCC!==void 0?Y[0].startingDateOOCC:""))&&(ue.value=ze),(!De||fe[0]&1&&j!==(j=Y[0].permittingDate!==void 0?Y[0].permittingDate:""))&&(F.value=j),(!De||fe[0]&1&&Ze!==(Ze=Y[0].priorNotification!==void 0?Y[0].priorNotification:""))&&(ke.value=Ze),(!De||fe[0]&2)&&ve!==(ve=Y[1]?"modifica":"creazione")&&me(et,ve),(!De||fe[0]&1)&&ot!==(ot=Y[0].turbineNumber+"")&&me(Ge,ot),(!De||fe[0]&1)&&Te!==(Te=Y[0].turbineName+"")&&me(Le,Te),(!De||fe[0]&1)&&Qe!==(Qe=Y[0].description+"")&&me(Ee,Qe),(!De||fe[0]&1)&&zt!==(zt=(Y[0].odlNumber||"N/A")+"")&&me(Zt,zt),(!De||fe[0]&1)&&Vt!==(Vt=Y[0].operation+"")&&me(el,Vt),(!De||fe[0]&1)&&Ft!==(Ft=Y[0].power+"")&&me(tl,Ft),(!De||fe[0]&1)&&vl!==(vl=Y[0].turbineState+"")&&me(kl,vl),(!De||fe[0]&2)&&_l!==(_l=Y[1]?"Modifica":"Crea")&&me(El,_l),(!De||fe[0]&32&&yl!==(yl="font-bold font-mono bg-green-500 hover:bg-green-600 py-2 rounded w-24 disabled:"+Y[5]+" svelte-1kr4p0s"))&&l(qt,"class",yl),(!De||fe[0]&16&&Nl!==(Nl=Y[4]===0))&&(Gt.checked=Nl),(!De||fe[0]&16&&Dl!==(Dl=Y[4]===1))&&(Jt.checked=Dl),(!De||fe[0]&16&&Il!==(Il=Y[4]===2))&&(Qt.checked=Il)},i(Y){De||(_e(Ke),_e(ee.$$.fragment,Y),_e(B.$$.fragment,Y),_t(()=>{Yt||(Yt=gl(a,Et,{duration:150},!0)),Yt.run(1)}),De=!0)},o(Y){Me(Ke),Me(ee.$$.fragment,Y),Me(B.$$.fragment,Y),Yt||(Yt=gl(a,Et,{duration:150},!1)),Yt.run(0),De=!1},d(Y){Y&&u(e),Ke&&Ke.d(),ct(ee),ct(B),Y&&Yt&&Yt.end(),Ql=!1,tt(eo)}}}function Lr(n,e,t){let{isEditMode:r=!1}=e,{windfarm:a={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const i=Lt();let s=!1,c=[];$l(()=>{t(3,c=Object.values(mt).map(S=>({name:S,isSelected:a.operation.includes(S)})))});let p=0;const g=()=>{const S=document.getElementById("scrollable"),he=S.scrollLeft,ue=S.scrollWidth,ze=S.offsetWidth,ne=ue-he-ze;he<=10?t(4,p=0):ne<=10?t(4,p=2):t(4,p=1)},v=()=>{document.getElementById("scrollable").scrollTo({left:0,behavior:"smooth"})},b=()=>{const S=document.getElementById("scrollable");S.scrollTo({left:S.scrollWidth,behavior:"smooth"})},T=()=>{const S=document.getElementById("scrollable");let he=S.scrollWidth/2;window.innerWidth<768&&(he=S.scrollWidth/3),S.scrollTo({left:he,behavior:"smooth"})},_=()=>{i("close")},N=()=>a.turbineName!==""&&a.description!==""&&a.operation.length>0&&a.operation[0]!=="",M=()=>{t(0,a={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null})};let V=!1;const m=()=>{if(!V){if(t(5,V=!0),!N()){console.log("Cannot submit missing required fields");return}r?yr(a).then(S=>{S!==void 0&&S.status===200?(i("updated"),t(5,V=!1),M()):console.log("Error while updating windfarm: ",S)}).catch(S=>{console.log(S)}):Er(a).then(()=>{i("created"),t(5,V=!1),M()}).catch(S=>{console.log(S)})}};function E(S){St.call(this,n,S)}function y(S){St.call(this,n,S)}function A(S){St.call(this,n,S)}function P(S){St.call(this,n,S)}const $=()=>{t(2,s=!1)},O=S=>{t(3,c=S.detail),t(0,a.operation=c.filter(he=>he.isSelected).map(he=>he.name),a),t(2,s=!1)},G=()=>{t(2,s=!1)},ee=()=>{t(2,s=!1)},re=S=>{t(0,a.turbineName=S.target.value,a)},U=S=>{t(0,a.turbineNumber=S.target.value,a)},Z=S=>{t(0,a.description=S.target.value,a)},B=S=>{t(0,a.odlNumber=S.target.value,a)},L=()=>{t(2,s=!s)},X=S=>t(0,a.power=S.detail,a),ie=S=>t(0,a.turbineState=S.detail,a),K=S=>{t(0,a.startingDateEEMM=S.target.value,a)},le=S=>{t(0,a.startingDateOOCC=S.target.value,a)},R=S=>{t(0,a.permittingDate=S.target.value,a)},ge=S=>{t(0,a.priorNotification=S.target.value,a)},Ae=()=>{v()},te=()=>{T()},be=()=>{b()};return n.$$set=S=>{"isEditMode"in S&&t(1,r=S.isEditMode),"windfarm"in S&&t(0,a=S.windfarm)},[a,r,s,c,p,V,g,v,b,T,_,m,E,y,A,P,$,O,G,ee,re,U,Z,B,L,X,ie,K,le,R,ge,Ae,te,be]}class or extends ut{constructor(e){super(),dt(this,e,Lr,Pr,ft,{isEditMode:1,windfarm:0},null,[-1,-1])}}function Br(n){let e,t;return e=new or({props:{windfarm:n[0],isEditMode:!0}}),e.$on("close",n[1]),e.$on("updated",n[2]),{c(){at(e.$$.fragment)},l(r){st(e.$$.fragment,r)},m(r,a){it(e,r,a),t=!0},p(r,[a]){const i={};a&1&&(i.windfarm=r[0]),e.$set(i)},i(r){t||(_e(e.$$.fragment,r),t=!0)},o(r){Me(e.$$.fragment,r),t=!1},d(r){ct(e,r)}}}function zr(n,e,t){let{turbine:r}=e;const a=Lt(),i=()=>{a("close")},s=()=>{a("updated")};return n.$$set=c=>{"turbine"in c&&t(0,r=c.turbine)},[r,i,s]}class Ur extends ut{constructor(e){super(),dt(this,e,zr,Br,ft,{turbine:0})}}function jr(n){let e,t;return e=new or({props:{isEditMode:!1}}),e.$on("close",n[0]),e.$on("created",n[1]),{c(){at(e.$$.fragment)},l(r){st(e.$$.fragment,r)},m(r,a){it(e,r,a),t=!0},p:Be,i(r){t||(_e(e.$$.fragment,r),t=!0)},o(r){Me(e.$$.fragment,r),t=!1},d(r){ct(e,r)}}}function Wr(n){const e=Lt();return[()=>{e("close")},()=>{e("created")}]}class xr extends ut{constructor(e){super(),dt(this,e,Wr,jr,ft,{})}}const rr="https://dockyard-handler.herokuapp.com/v1.0.0";async function Bo(n){if(console.log("Retrieving steps for event "+n),typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await al.get(rr+"/steps/"+n,t)).data}else console.log("Token not found in local storage")}async function Fr(n,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await al.put(rr+"/step/complete?stepId="+n+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function zo(n,e,t){const r=n.slice();return r[6]=e[t],r}function Kr(n){return{c:Be,l:Be,m:Be,p:Be,d:Be}}function Rr(n){let e=[],t=new Map,r,a=n[0];const i=s=>s[6].id;for(let s=0;s<a.length;s+=1){let c=zo(n,a,s),p=i(c);t.set(p,e[s]=jo(p,c))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=pl()},l(s){for(let c=0;c<e.length;c+=1)e[c].l(s);r=pl()},m(s,c){for(let p=0;p<e.length;p+=1)e[p].m(s,c);se(s,r,c)},p(s,c){c&7&&(a=s[0],e=Zl(e,c,i,1,s,a,t,r.parentNode,tr,jo,r,zo))},d(s){for(let c=0;c<e.length;c+=1)e[c].d(s);s&&u(r)}}}function Uo(n){let e,t,r,a,i,s,c;return{c(){e=f("div"),t=f("p"),r=D("Completato"),a=w(),i=J("svg"),s=J("path"),c=J("polyline"),this.h()},l(p){e=h(p,"DIV",{class:!0});var g=d(e);t=h(g,"P",{class:!0});var v=d(t);r=I(v,"Completato"),v.forEach(u),a=k(g),i=Q(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var b=d(i);s=Q(b,"path",{d:!0}),d(s).forEach(u),c=Q(b,"polyline",{points:!0}),d(c).forEach(u),b.forEach(u),g.forEach(u),this.h()},h(){l(t,"class","font-bold uppercase"),l(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),l(c,"points","22 4 12 14.01 9 11.01"),l(i,"xmlns","http://www.w3.org/2000/svg"),l(i,"width","22"),l(i,"height","22"),l(i,"viewBox","0 0 24 24"),l(i,"fill","none"),l(i,"stroke","currentColor"),l(i,"stroke-width","2"),l(i,"stroke-linecap","round"),l(i,"stroke-linejoin","round"),l(i,"class","feather feather-check-circle text-green-500"),l(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(p,g){se(p,e,g),o(e,t),o(t,r),o(e,a),o(e,i),o(i,s),o(i,c)},d(p){p&&u(e)}}}function jo(n,e){let t,r,a,i,s,c,p,g=e[6].name+"",v,b,T=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,_,N,M;function V(){return e[4](e[6])}let m=T&&Uo();return{key:n,first:null,c(){t=f("div"),r=f("input"),s=w(),c=f("div"),p=f("p"),v=D(g),b=w(),m&&m.c(),_=w(),this.h()},l(E){t=h(E,"DIV",{class:!0});var y=d(t);r=h(y,"INPUT",{type:!0,class:!0}),s=k(y),c=h(y,"DIV",{class:!0});var A=d(c);p=h(A,"P",{});var P=d(p);v=I(P,g),P.forEach(u),A.forEach(u),b=k(y),m&&m.l(y),_=k(y),y.forEach(u),this.h()},h(){l(r,"type","checkbox"),l(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=a=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=i=e[6].complete,l(c,"class","col-span-6 text-left"),l(t,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm mr-3"),this.first=t},m(E,y){se(E,t,y),o(t,r),o(t,s),o(t,c),o(c,p),o(p,v),o(t,b),m&&m.m(t,null),o(t,_),N||(M=C(r,"click",V),N=!0)},p(E,y){e=E,y&3&&a!==(a=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=a),y&1&&i!==(i=e[6].complete)&&(r.checked=i),y&1&&g!==(g=e[6].name+"")&&me(v,g),y&3&&(T=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),T?m||(m=Uo(),m.c(),m.m(t,_)):m&&(m.d(1),m=null)},d(E){E&&u(t),m&&m.d(),N=!1,M()}}}function Hr(n){let e,t;return{c(){e=f("div"),t=D("Caricamento..."),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=d(e);t=I(a,"Caricamento..."),a.forEach(u),this.h()},h(){l(e,"class","col-span-7 text-center")},m(r,a){se(r,e,a),o(e,t)},p:Be,d(r){r&&u(e)}}}function qr(n){let e,t,r,a,i,s,c,p,g,v,b,T,_,N={ctx:n,current:null,token:null,hasCatch:!1,pending:Hr,then:Rr,catch:Kr,value:0};return So(b=n[0],N),{c(){e=f("div"),t=f("div"),r=J("svg"),a=J("path"),i=J("path"),s=w(),c=f("h1"),p=D("Tracciamento fasi"),g=w(),v=f("div"),N.block.c(),this.h()},l(M){e=h(M,"DIV",{class:!0});var V=d(e);t=h(V,"DIV",{class:!0});var m=d(t);r=Q(m,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var E=d(r);a=Q(E,"path",{d:!0}),d(a).forEach(u),i=Q(E,"path",{d:!0}),d(i).forEach(u),E.forEach(u),s=k(m),c=h(m,"H1",{class:!0});var y=d(c);p=I(y,"Tracciamento fasi"),y.forEach(u),m.forEach(u),g=k(V),v=h(V,"DIV",{id:!0,class:!0});var A=d(v);N.block.l(A),A.forEach(u),V.forEach(u),this.h()},h(){l(a,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),l(i,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),l(r,"xmlns","http://www.w3.org/2000/svg"),l(r,"width","24"),l(r,"height","24"),l(r,"viewBox","0 0 24 24"),l(r,"fill","none"),l(r,"stroke","currentColor"),l(r,"stroke-width","2"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"class","feather feather-link"),l(c,"class","font-mono text-2xl"),l(t,"class","flex flex-row items-center md:justify-center mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),l(v,"id","stepsContainer"),l(v,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll max-h-96 gap-2 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800 items-center"),l(e,"class","col-span-1 text-white w-[19rem] p-1 md:p-0 md:w-[29rem]")},m(M,V){se(M,e,V),o(e,t),o(t,r),o(r,a),o(r,i),o(t,s),o(t,c),o(c,p),o(e,g),o(e,v),N.block.m(v,N.anchor=null),N.mount=()=>v,N.anchor=null},p(M,[V]){n=M,N.ctx=n,V&1&&b!==(b=n[0])&&So(b,N)||ar(N,n,V)},i(M){T||_t(()=>{T=nl(v,Et,{delay:500,duration:1e3}),T.start()}),_||_t(()=>{_=nl(e,lr,{delay:400,duration:1e3}),_.start()})},o:Be,d(M){M&&u(e),N.block.d(),N.token=null,N=null}}}function Yr(n,e,t){let r,{turbine:a}=e,i=[];$l(()=>{Bo(a.id).then(g=>{t(0,i=g)}),setTimeout(()=>{c()},1500)});const s=(g,v)=>{Fr(g,v).then(()=>{Bo(a.id).then(b=>{t(0,i=b),v?t(3,a.completedSteps+=1,a):t(3,a.completedSteps-=1,a),c()})})};function c(){const g=document.getElementById("stepsContainer"),v=9;if(g){const b=window.innerWidth<768?2:4,T=a.completedSteps-b;if(T>=0&&a.completedSteps<v){g.scrollTo({top:g.scrollHeight/v*(T+1),behavior:"smooth"});return}else if(a.completedSteps===v){setTimeout(()=>{g.scrollTo({top:0,behavior:"smooth"})},500);return}}}const p=g=>s(g.id,!g.complete);return n.$$set=g=>{"turbine"in g&&t(3,a=g.turbine)},n.$$.update=()=>{n.$$.dirty&9&&t(1,r=i[a.completedSteps])},[i,r,s,a,p]}class Gr extends ut{constructor(e){super(),dt(this,e,Yr,qr,ft,{turbine:3})}}function Jr(n){let e,t,r,a,i,s,c,p,g,v,b,T,_;return{c(){e=f("div"),t=f("p"),r=D("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),a=w(),i=f("div"),s=f("button"),c=D("Annulla"),p=w(),g=f("button"),v=D("Conferma"),this.h()},l(N){e=h(N,"DIV",{class:!0});var M=d(e);t=h(M,"P",{class:!0});var V=d(t);r=I(V,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),V.forEach(u),a=k(M),i=h(M,"DIV",{class:!0});var m=d(i);s=h(m,"BUTTON",{class:!0});var E=d(s);c=I(E,"Annulla"),E.forEach(u),p=k(m),g=h(m,"BUTTON",{class:!0});var y=d(g);v=I(y,"Conferma"),y.forEach(u),m.forEach(u),M.forEach(u),this.h()},h(){l(t,"class","font-bold text-lg"),l(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),l(g,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),l(i,"class","flex justify-end mt-5 text-sm"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(N,M){se(N,e,M),o(e,t),o(t,r),o(e,a),o(e,i),o(i,s),o(s,c),o(i,p),o(i,g),o(g,v),T||(_=[C(s,"click",n[1]),C(g,"click",n[0]),C(e,"click",n[2]),C(e,"keydown",n[2])],T=!0)},p:Be,i(N){b||_t(()=>{b=nl(e,Et,{duration:300}),b.start()})},o:Be,d(N){N&&u(e),T=!1,tt(_)}}}function Qr(n){const e=Lt();return[()=>{e("confirm")},()=>{e("cancel")},i=>{i.stopPropagation()}]}class Xr extends ut{constructor(e){super(),dt(this,e,Qr,Jr,ft,{})}}function Zr(n){let e,t,r=n[0]==="KILOWATT"?"Kw":"Mw",a,i;return{c(){e=f("div"),t=f("span"),a=D(r),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);t=h(c,"SPAN",{});var p=d(t);a=I(p,r),p.forEach(u),c.forEach(u),this.h()},h(){l(e,"class",i="font-mono ring-2 text-lg my-1 max-w-min "+(n[0]==="KILOWATT"?"ring-green-500 bg-green-100":"ring-blue-500 bg-blue-100")+" rounded px-2")},m(s,c){se(s,e,c),o(e,t),o(t,a)},p(s,[c]){c&1&&r!==(r=s[0]==="KILOWATT"?"Kw":"Mw")&&me(a,r),c&1&&i!==(i="font-mono ring-2 text-lg my-1 max-w-min "+(s[0]==="KILOWATT"?"ring-green-500 bg-green-100":"ring-blue-500 bg-blue-100")+" rounded px-2")&&l(e,"class",i)},i:Be,o:Be,d(s){s&&u(e)}}}function $r(n,e,t){let{power:r="KILOWATT"}=e;return n.$$set=a=>{"power"in a&&t(0,r=a.power)},[r]}class en extends ut{constructor(e){super(),dt(this,e,$r,Zr,ft,{power:0})}}function Wo(n,e,t){const r=n.slice();return r[20]=e[t],r}function xo(n){let e,t,r,a,i;return t=new Xr({}),t.$on("confirm",n[7]),t.$on("cancel",n[13]),{c(){e=f("div"),at(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);st(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,c){se(s,e,c),it(t,e,null),r=!0,a||(i=[C(e,"click",n[14]),C(e,"keydown",n[15])],a=!0)},p:Be,i(s){r||(_e(t.$$.fragment,s),r=!0)},o(s){Me(t.$$.fragment,s),r=!1},d(s){s&&u(e),ct(t),a=!1,tt(i)}}}function Fo(n){let e,t,r=n[0].turbineNumber+"",a;return{c(){e=f("span"),t=D("- "),a=D(r)},l(i){e=h(i,"SPAN",{});var s=d(e);t=I(s,"- "),a=I(s,r),s.forEach(u)},m(i,s){se(i,e,s),o(e,t),o(e,a)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&me(a,r)},d(i){i&&u(e)}}}function Ko(n){let e,t,r,a=(n[0].creationDate?n[0].creationDate.substring(0,10):new Date().toISOString().substring(0,10))+"",i;return{c(){e=f("p"),t=D("Creazione: "),r=f("span"),i=D(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);t=I(c,"Creazione: "),r=h(c,"SPAN",{});var p=d(r);i=I(p,a),p.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white")},m(s,c){se(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=(s[0].creationDate?s[0].creationDate.substring(0,10):new Date().toISOString().substring(0,10))+"")&&me(i,a)},d(s){s&&u(e)}}}function Ro(n){let e,t,r,a=n[0].permittingDate+"",i;return{c(){e=f("p"),t=D("Valdità permitting: "),r=f("span"),i=D(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);t=I(c,"Valdità permitting: "),r=h(c,"SPAN",{});var p=d(r);i=I(p,a),p.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white")},m(s,c){se(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=s[0].permittingDate+"")&&me(i,a)},d(s){s&&u(e)}}}function Ho(n){let e,t,r,a=n[0].priorNotification+"",i;return{c(){e=f("p"),t=D("Valdità notifica: "),r=f("span"),i=D(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);t=I(c,"Valdità notifica: "),r=h(c,"SPAN",{});var p=d(r);i=I(p,a),p.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white")},m(s,c){se(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=s[0].priorNotification+"")&&me(i,a)},d(s){s&&u(e)}}}function qo(n){let e,t=n[20]+"",r,a;return{c(){e=f("li"),r=D(t),a=w(),this.h()},l(i){e=h(i,"LI",{class:!0});var s=d(e);r=I(s,t),a=k(s),s.forEach(u),this.h()},h(){l(e,"class","text-sm list-disc ml-5 font-bold")},m(i,s){se(i,e,s),o(e,r),o(e,a)},p(i,s){s&1&&t!==(t=i[20]+"")&&me(r,t)},d(i){i&&u(e)}}}function tn(n){let e,t,r,a,i,s,c,p=n[0].turbineName+"",g,v,b,T,_,N,M,V,m,E=n[0].turbineState+"",y,A,P,$,O,G,ee,re,U,Z,B,L,X,ie,K,le,R,ge,Ae,te,be=(n[0].startingDateEEMM||"N/A")+"",S,he,ue,ze,ne,Ce=(n[0].startingDateOOCC||"N/A")+"",we,qe,oe,F,j,W,x,pe,Ue,Xe,ke,Ze,$e,ae,q,We,Ie,ve,et,xe,Pe,H,de,Re,ce,Ye,lt,ot,Ge,bt,Ve,rt,Tt,ye=n[2]&&xo(n),Se=n[0].turbineNumber&&Fo(n);T=new en({props:{power:n[0].power}});let Te=n[0].creationDate&&Ko(n),Le=n[0].permittingDate!==void 0&&Ro(n),je=n[0].priorNotification!==void 0&&Ho(n),Je=n[0].operation,Oe=[];for(let z=0;z<Je.length;z+=1)Oe[z]=qo(Wo(n,Je,z));return H=new Gr({props:{turbine:n[0]}}),{c(){e=f("div"),t=f("div"),ye&&ye.c(),r=w(),a=f("div"),i=f("div"),s=f("div"),c=f("h1"),g=D(p),v=w(),Se&&Se.c(),b=w(),at(T.$$.fragment),_=w(),Te&&Te.c(),N=w(),M=f("p"),V=D("Stato turbina: "),m=f("span"),y=D(E),A=w(),Le&&Le.c(),P=w(),je&&je.c(),$=w(),O=f("div"),G=f("p"),ee=D("Attività"),re=w(),U=f("div"),Z=f("ul");for(let z=0;z<Oe.length;z+=1)Oe[z].c();B=w(),L=f("div"),X=f("div"),ie=f("h1"),K=D("Tracciamento eventi"),le=w(),R=f("ul"),ge=f("li"),Ae=D("Inizio ATT EEMM: "),te=f("span"),S=D(be),he=w(),ue=f("li"),ze=D("Inizio ATT OOCC: "),ne=f("span"),we=D(Ce),qe=w(),oe=f("div"),F=f("button"),j=J("svg"),W=J("polyline"),x=J("path"),pe=J("line"),Ue=J("line"),Xe=w(),ke=f("p"),Ze=D("Elimina"),$e=w(),ae=f("button"),q=J("svg"),We=J("path"),Ie=w(),ve=f("p"),et=D("Modifica"),xe=w(),Pe=f("div"),at(H.$$.fragment),Re=w(),ce=f("div"),Ye=f("input"),ot=w(),Ge=f("input"),this.h()},l(z){e=h(z,"DIV",{class:!0});var Ne=d(e);t=h(Ne,"DIV",{id:!0,class:!0});var Fe=d(t);ye&&ye.l(Fe),r=k(Fe),a=h(Fe,"DIV",{class:!0});var Qe=d(a);i=h(Qe,"DIV",{class:!0});var Ee=d(i);s=h(Ee,"DIV",{class:!0});var wt=d(s);c=h(wt,"H1",{class:!0});var ht=d(c);g=I(ht,p),v=k(ht),Se&&Se.l(ht),ht.forEach(u),b=k(wt),st(T.$$.fragment,wt),wt.forEach(u),_=k(Ee),Te&&Te.l(Ee),N=k(Ee),M=h(Ee,"P",{class:!0});var yt=d(M);V=I(yt,"Stato turbina: "),m=h(yt,"SPAN",{});var sl=d(m);y=I(sl,E),sl.forEach(u),yt.forEach(u),A=k(Ee),Le&&Le.l(Ee),P=k(Ee),je&&je.l(Ee),Ee.forEach(u),$=k(Qe),O=h(Qe,"DIV",{class:!0});var Bt=d(O);G=h(Bt,"P",{class:!0});var Ot=d(G);ee=I(Ot,"Attività"),Ot.forEach(u),re=k(Bt),U=h(Bt,"DIV",{class:!0});var zt=d(U);Z=h(zt,"UL",{class:!0});var Zt=d(Z);for(let kt=0;kt<Oe.length;kt+=1)Oe[kt].l(Zt);Zt.forEach(u),zt.forEach(u),Bt.forEach(u),B=k(Qe),L=h(Qe,"DIV",{class:!0});var Ut=d(L);X=h(Ut,"DIV",{class:!0});var Nt=d(X);ie=h(Nt,"H1",{class:!0});var Mt=d(ie);K=I(Mt,"Tracciamento eventi"),Mt.forEach(u),Nt.forEach(u),le=k(Ut),R=h(Ut,"UL",{});var jt=d(R);ge=h(jt,"LI",{class:!0});var $t=d(ge);Ae=I($t,"Inizio ATT EEMM: "),te=h($t,"SPAN",{class:!0});var Ct=d(te);S=I(Ct,be),Ct.forEach(u),$t.forEach(u),he=k(jt),ue=h(jt,"LI",{class:!0});var Vt=d(ue);ze=I(Vt,"Inizio ATT OOCC: "),ne=h(Vt,"SPAN",{class:!0});var el=d(ne);we=I(el,Ce),el.forEach(u),Vt.forEach(u),jt.forEach(u),Ut.forEach(u),qe=k(Qe),oe=h(Qe,"DIV",{id:!0,class:!0});var Wt=d(oe);F=h(Wt,"BUTTON",{class:!0});var pt=d(F);j=Q(pt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var gt=d(j);W=Q(gt,"polyline",{points:!0}),d(W).forEach(u),x=Q(gt,"path",{d:!0}),d(x).forEach(u),pe=Q(gt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(pe).forEach(u),Ue=Q(gt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Ue).forEach(u),gt.forEach(u),Xe=k(pt),ke=h(pt,"P",{class:!0});var il=d(ke);Ze=I(il,"Elimina"),il.forEach(u),pt.forEach(u),$e=k(Wt),ae=h(Wt,"BUTTON",{class:!0});var xt=d(ae);q=Q(xt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var At=d(q);We=Q(At,"path",{d:!0}),d(We).forEach(u),At.forEach(u),Ie=k(xt),ve=h(xt,"P",{class:!0});var Ft=d(ve);et=I(Ft,"Modifica"),Ft.forEach(u),xt.forEach(u),Wt.forEach(u),Qe.forEach(u),xe=k(Fe),Pe=h(Fe,"DIV",{class:!0});var tl=d(Pe);st(H.$$.fragment,tl),tl.forEach(u),Fe.forEach(u),Re=k(Ne),ce=h(Ne,"DIV",{class:!0});var Kt=d(ce);Ye=h(Kt,"INPUT",{type:!0,class:!0}),ot=k(Kt),Ge=h(Kt,"INPUT",{type:!0,class:!0}),Kt.forEach(u),Ne.forEach(u),this.h()},h(){l(c,"class","font-mono font-bold text-2xl text-white mb-2"),l(s,"class","flex flex-row justify-between"),l(M,"class","font-mono text-white"),l(i,"class","grid grid-cols-1 w-[17rem] md:w-[27rem]"),l(G,"class","font-mono text-xl"),l(Z,"class","font-mono"),l(U,"class","p-2"),l(O,"class","ring-2 rounded ring-gray-600 px-2 py-1 text-white"),l(ie,"class","font-mono text-xl"),l(X,"class","flex flex-row font-mono text-white"),l(te,"class","font-extralight"),l(ge,"class","text-sm list-disc ml-5 font-bold text-white"),l(ne,"class","font-extralight"),l(ue,"class","text-sm list-disc ml-5 font-bold text-white"),l(L,"class","flex flex-col gap-2 ring-2 rounded ring-gray-600 px-2 pb-2 pt-1"),l(W,"points","3 6 5 6 21 6"),l(x,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),l(pe,"x1","10"),l(pe,"y1","11"),l(pe,"x2","10"),l(pe,"y2","17"),l(Ue,"x1","14"),l(Ue,"y1","11"),l(Ue,"x2","14"),l(Ue,"y2","17"),l(j,"xmlns","http://www.w3.org/2000/svg"),l(j,"width","20"),l(j,"height","20"),l(j,"viewBox","0 0 24 24"),l(j,"fill","none"),l(j,"stroke","currentColor"),l(j,"stroke-width","2"),l(j,"stroke-linecap","round"),l(j,"stroke-linejoin","round"),l(j,"class","feather feather-trash-2"),l(ke,"class","font-mono"),l(F,"class","flex flex-row gap-2 items-center text-red-500 hover:bg-gray-300 hover:shadow-sm bg-gray-200 rounded py-2 px-4"),l(We,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),l(q,"xmlns","http://www.w3.org/2000/svg"),l(q,"width","20"),l(q,"height","20"),l(q,"viewBox","0 0 24 24"),l(q,"fill","none"),l(q,"stroke","currentColor"),l(q,"stroke-width","2"),l(q,"stroke-linecap","round"),l(q,"stroke-linejoin","round"),l(q,"class","feather feather-edit-2"),l(ve,"class","font-mono"),l(ae,"class","flex flex-row gap-2 items-center text-blue-500 hover:bg-gray-300 hover:shadow-sm bg-gray-200 rounded py-2 px-4"),l(oe,"id","action-buttons"),l(oe,"class","grid place-content-center grid-flow-col gap-2 mt-6"),l(a,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(Pe,"class","flex flex-col bg-gray-800 rounded ring-2 ring-gray-500 snap-center p-1"),l(t,"id","scrollable"),l(t,"class","flex flex-row gap-5 text-black p-2 w-[20rem] md:w-[30rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),l(Ye,"type","checkbox"),Ye.checked=lt=n[1]===0,l(Ye,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1di21t9"),l(Ge,"type","checkbox"),Ge.checked=bt=n[1]===1,l(Ge,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1di21t9"),l(ce,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),l(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(z,Ne){se(z,e,Ne),o(e,t),ye&&ye.m(t,null),o(t,r),o(t,a),o(a,i),o(i,s),o(s,c),o(c,g),o(c,v),Se&&Se.m(c,null),o(s,b),it(T,s,null),o(i,_),Te&&Te.m(i,null),o(i,N),o(i,M),o(M,V),o(M,m),o(m,y),o(i,A),Le&&Le.m(i,null),o(i,P),je&&je.m(i,null),o(a,$),o(a,O),o(O,G),o(G,ee),o(O,re),o(O,U),o(U,Z);for(let Fe=0;Fe<Oe.length;Fe+=1)Oe[Fe].m(Z,null);o(a,B),o(a,L),o(L,X),o(X,ie),o(ie,K),o(L,le),o(L,R),o(R,ge),o(ge,Ae),o(ge,te),o(te,S),o(R,he),o(R,ue),o(ue,ze),o(ue,ne),o(ne,we),o(a,qe),o(a,oe),o(oe,F),o(F,j),o(j,W),o(j,x),o(j,pe),o(j,Ue),o(F,Xe),o(F,ke),o(ke,Ze),o(oe,$e),o(oe,ae),o(ae,q),o(q,We),o(ae,Ie),o(ae,ve),o(ve,et),o(t,xe),o(t,Pe),it(H,Pe,null),o(e,Re),o(e,ce),o(ce,Ye),o(ce,ot),o(ce,Ge),Ve=!0,rt||(Tt=[C(F,"click",n[16]),C(ae,"click",n[8]),C(t,"click",nt(n[11])),C(t,"keydown",nt(n[12])),C(t,"scroll",n[3]),C(Ye,"change",n[17]),C(Ge,"change",n[18]),C(ce,"click",nt(n[9])),C(ce,"keydown",nt(n[10])),C(e,"click",n[6]),C(e,"keydown",n[6])],rt=!0)},p(z,[Ne]){z[2]?ye?(ye.p(z,Ne),Ne&4&&_e(ye,1)):(ye=xo(z),ye.c(),_e(ye,1),ye.m(t,r)):ye&&(ol(),Me(ye,1,1,()=>{ye=null}),rl()),(!Ve||Ne&1)&&p!==(p=z[0].turbineName+"")&&me(g,p),z[0].turbineNumber?Se?Se.p(z,Ne):(Se=Fo(z),Se.c(),Se.m(c,null)):Se&&(Se.d(1),Se=null);const Fe={};if(Ne&1&&(Fe.power=z[0].power),T.$set(Fe),z[0].creationDate?Te?Te.p(z,Ne):(Te=Ko(z),Te.c(),Te.m(i,N)):Te&&(Te.d(1),Te=null),(!Ve||Ne&1)&&E!==(E=z[0].turbineState+"")&&me(y,E),z[0].permittingDate!==void 0?Le?Le.p(z,Ne):(Le=Ro(z),Le.c(),Le.m(i,P)):Le&&(Le.d(1),Le=null),z[0].priorNotification!==void 0?je?je.p(z,Ne):(je=Ho(z),je.c(),je.m(i,null)):je&&(je.d(1),je=null),Ne&1){Je=z[0].operation;let Ee;for(Ee=0;Ee<Je.length;Ee+=1){const wt=Wo(z,Je,Ee);Oe[Ee]?Oe[Ee].p(wt,Ne):(Oe[Ee]=qo(wt),Oe[Ee].c(),Oe[Ee].m(Z,null))}for(;Ee<Oe.length;Ee+=1)Oe[Ee].d(1);Oe.length=Je.length}(!Ve||Ne&1)&&be!==(be=(z[0].startingDateEEMM||"N/A")+"")&&me(S,be),(!Ve||Ne&1)&&Ce!==(Ce=(z[0].startingDateOOCC||"N/A")+"")&&me(we,Ce);const Qe={};Ne&1&&(Qe.turbine=z[0]),H.$set(Qe),(!Ve||Ne&2&&lt!==(lt=z[1]===0))&&(Ye.checked=lt),(!Ve||Ne&2&&bt!==(bt=z[1]===1))&&(Ge.checked=bt)},i(z){Ve||(_e(ye),_e(T.$$.fragment,z),_e(H.$$.fragment,z),_t(()=>{de||(de=gl(t,Et,{duration:150},!0)),de.run(1)}),Ve=!0)},o(z){Me(ye),Me(T.$$.fragment,z),Me(H.$$.fragment,z),de||(de=gl(t,Et,{duration:150},!1)),de.run(0),Ve=!1},d(z){z&&u(e),ye&&ye.d(),Se&&Se.d(),ct(T),Te&&Te.d(),Le&&Le.d(),je&&je.d(),$o(Oe,z),ct(H),z&&de&&de.end(),rt=!1,tt(Tt)}}}function ln(n,e,t){let{windfarm:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",creationDate:null,startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const a=Lt();let i=0;const s=()=>{const O=document.getElementById("scrollable");O&&(O.scrollLeft<=10?t(1,i=0):t(1,i=1))},c=()=>{const O=document.getElementById("scrollable");O&&O.scrollTo({left:0,behavior:"smooth"})},p=()=>{const O=document.getElementById("scrollable");O&&O.scrollTo({left:O.scrollWidth,behavior:"smooth"})},g=()=>{a("close")};let v=!1;const b=()=>{t(2,v=!1),kr(r.id).then(()=>{a("deleted")})},T=()=>{a("editMode",r.id)};function _(O){St.call(this,n,O)}function N(O){St.call(this,n,O)}function M(O){St.call(this,n,O)}function V(O){St.call(this,n,O)}const m=()=>{t(2,v=!1)},E=()=>{t(2,v=!1)},y=()=>{t(2,v=!1)},A=()=>{t(2,v=!0)},P=()=>{c()},$=()=>{p()};return n.$$set=O=>{"windfarm"in O&&t(0,r=O.windfarm)},[r,i,v,s,c,p,g,b,T,_,N,M,V,m,E,y,A,P,$]}class on extends ut{constructor(e){super(),dt(this,e,ln,tn,ft,{windfarm:0})}}function Yo(n,e,t){const r=n.slice();return r[6]=e[t],r}function Go(n){let e,t,r,a,i,s,c,p,g,v,b,T,_,N,M,V,m,E,y,A,P,$,O,G,ee,re,U,Z,B,L,X,ie;return{c(){e=f("div"),t=f("input"),r=w(),a=f("div"),i=f("select"),s=f("option"),c=D("Tutte le attività"),p=f("option"),g=D("In corso"),v=f("option"),b=D("Cantieri chiusi"),T=w(),_=f("div"),N=J("svg"),M=J("path"),V=w(),m=f("div"),E=f("select"),y=f("option"),A=D("Tutte le operazioni"),P=f("option"),$=D("Pale"),O=f("option"),G=D("Main components"),ee=f("option"),re=D("Manutenzioni Ordinarie"),U=w(),Z=f("div"),B=J("svg"),L=J("path"),this.h()},l(K){e=h(K,"DIV",{class:!0});var le=d(e);t=h(le,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),r=k(le),a=h(le,"DIV",{class:!0});var R=d(a);i=h(R,"SELECT",{class:!0});var ge=d(i);s=h(ge,"OPTION",{});var Ae=d(s);c=I(Ae,"Tutte le attività"),Ae.forEach(u),p=h(ge,"OPTION",{});var te=d(p);g=I(te,"In corso"),te.forEach(u),v=h(ge,"OPTION",{});var be=d(v);b=I(be,"Cantieri chiusi"),be.forEach(u),ge.forEach(u),T=k(R),_=h(R,"DIV",{class:!0});var S=d(_);N=Q(S,"svg",{class:!0,xmlns:!0,viewBox:!0});var he=d(N);M=Q(he,"path",{d:!0}),d(M).forEach(u),he.forEach(u),S.forEach(u),R.forEach(u),V=k(le),m=h(le,"DIV",{class:!0});var ue=d(m);E=h(ue,"SELECT",{class:!0});var ze=d(E);y=h(ze,"OPTION",{});var ne=d(y);A=I(ne,"Tutte le operazioni"),ne.forEach(u),P=h(ze,"OPTION",{});var Ce=d(P);$=I(Ce,"Pale"),Ce.forEach(u),O=h(ze,"OPTION",{});var we=d(O);G=I(we,"Main components"),we.forEach(u),ee=h(ze,"OPTION",{});var qe=d(ee);re=I(qe,"Manutenzioni Ordinarie"),qe.forEach(u),ze.forEach(u),U=k(ue),Z=h(ue,"DIV",{class:!0});var oe=d(Z);B=Q(oe,"svg",{class:!0,xmlns:!0,viewBox:!0});var F=d(B);L=Q(F,"path",{d:!0}),d(L).forEach(u),F.forEach(u),oe.forEach(u),ue.forEach(u),le.forEach(u),this.h()},h(){l(t,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(t,"type","text"),l(t,"id","turbineName"),l(t,"name","turbineName"),l(t,"placeholder","Anno"),s.__value="ALL",s.value=s.__value,p.__value="ONLY_INCOMPLETE",p.value=p.__value,v.__value="ONLY_COMPLETED",v.value=v.__value,l(i,"class","w-full min-w-1/2 min-w-[13rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[3]===void 0&&_t(()=>n[23].call(i)),l(M,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(N,"class","w-6 h-6 text-white fill-current"),l(N,"xmlns","http://www.w3.org/2000/svg"),l(N,"viewBox","0 0 20 20"),l(_,"class","absolute top-2 right-2 font-bold"),l(a,"class","relative"),y.__value="ALL",y.value=y.__value,P.__value="ONLY_BLADES",P.value=P.__value,O.__value="MAIN_COMPS",O.value=O.__value,ee.__value="MAINTENANCE",ee.value=ee.__value,l(E,"class","w-full min-w-1/2 min-w-[15rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[4]===void 0&&_t(()=>n[24].call(E)),l(L,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(B,"class","w-6 h-6 text-white fill-current"),l(B,"xmlns","http://www.w3.org/2000/svg"),l(B,"viewBox","0 0 20 20"),l(Z,"class","absolute top-2 right-2 font-bold"),l(m,"class","relative"),l(e,"class","flex flex-col md:flex-row gap-2")},m(K,le){se(K,e,le),o(e,t),xl(t,n[2]),o(e,r),o(e,a),o(a,i),o(i,s),o(s,c),o(i,p),o(p,g),o(i,v),o(v,b),Wl(i,n[3]),o(a,T),o(a,_),o(_,N),o(N,M),o(e,V),o(e,m),o(m,E),o(E,y),o(y,A),o(E,P),o(P,$),o(E,O),o(O,G),o(E,ee),o(ee,re),Wl(E,n[4]),o(m,U),o(m,Z),o(Z,B),o(B,L),X||(ie=[C(t,"input",n[22]),C(i,"change",n[23]),C(E,"change",n[24])],X=!0)},p(K,le){le&4&&t.value!==K[2]&&xl(t,K[2]),le&8&&Wl(i,K[3]),le&16&&Wl(E,K[4])},d(K){K&&u(e),X=!1,tt(ie)}}}function rn(n){let e,t=[],r=new Map,a,i=n[5];const s=c=>c[6].id;for(let c=0;c<i.length;c+=1){let p=Yo(n,i,c),g=s(p);r.set(g,t[c]=Jo(g,p))}return{c(){e=f("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=h(c,"DIV",{class:!0});var p=d(e);for(let g=0;g<t.length;g+=1)t[g].l(p);p.forEach(u),this.h()},h(){l(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(c,p){se(c,e,p);for(let g=0;g<t.length;g+=1)t[g].m(e,null);a=!0},p(c,p){p&4128&&(i=c[5],ol(),t=Zl(t,p,s,1,c,i,r,e,sr,Jo,null,Yo),rl())},i(c){if(!a){for(let p=0;p<i.length;p+=1)_e(t[p]);a=!0}},o(c){for(let p=0;p<t.length;p+=1)Me(t[p]);a=!1},d(c){c&&u(e);for(let p=0;p<t.length;p+=1)t[p].d()}}}function nn(n){let e,t,r,a,i;return{c(){e=f("div"),t=f("div"),r=w(),a=f("p"),i=D("Caricamento in corso..."),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);t=h(c,"DIV",{class:!0}),d(t).forEach(u),r=k(c),a=h(c,"P",{class:!0});var p=d(a);i=I(p,"Caricamento in corso..."),p.forEach(u),c.forEach(u),this.h()},h(){l(t,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),l(a,"class","mt-4 text-xl font-bold font-mono"),l(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(s,c){se(s,e,c),o(e,t),o(e,r),o(e,a),o(a,i)},p:Be,i:Be,o:Be,d(s){s&&u(e)}}}function Jo(n,e){let t,r,a;return r=new wr({props:{turbine:e[6]}}),r.$on("showDetails",e[12]),{key:n,first:null,c(){t=pl(),at(r.$$.fragment),this.h()},l(i){t=pl(),st(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){se(i,t,s),it(r,i,s),a=!0},p(i,s){e=i;const c={};s&32&&(c.turbine=e[6]),r.$set(c)},i(i){a||(_e(r.$$.fragment,i),a=!0)},o(i){Me(r.$$.fragment,i),a=!1},d(i){i&&u(t),ct(r,i)}}}function Qo(n){let e,t,r,a,i;return t=new on({props:{windfarm:n[6]}}),t.$on("closeDetails",n[13]),t.$on("editMode",n[15]),t.$on("deleted",n[14]),{c(){e=f("div"),at(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);st(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){se(s,e,c),it(t,e,null),r=!0,a||(i=[C(e,"click",n[13]),C(e,"keydown",n[13])],a=!0)},p(s,c){const p={};c&64&&(p.windfarm=s[6]),t.$set(p)},i(s){r||(_e(t.$$.fragment,s),r=!0)},o(s){Me(t.$$.fragment,s),r=!1},d(s){s&&u(e),ct(t),a=!1,tt(i)}}}function Xo(n){let e,t,r,a,i;return t=new Ur({props:{turbine:n[6]}}),t.$on("close",n[25]),t.$on("updated",n[18]),{c(){e=f("div"),at(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);st(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){se(s,e,c),it(t,e,null),r=!0,a||(i=[C(e,"click",n[13]),C(e,"keydown",n[13])],a=!0)},p(s,c){const p={};c&64&&(p.turbine=s[6]),t.$set(p)},i(s){r||(_e(t.$$.fragment,s),r=!0)},o(s){Me(t.$$.fragment,s),r=!1},d(s){s&&u(e),ct(t),a=!1,tt(i)}}}function Zo(n){let e,t,r,a,i;return t=new xr({}),t.$on("close",n[26]),t.$on("created",n[17]),{c(){e=f("div"),at(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);st(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){se(s,e,c),it(t,e,null),r=!0,a||(i=[C(e,"click",n[13]),C(e,"keydown",n[13])],a=!0)},p:Be,i(s){r||(_e(t.$$.fragment,s),r=!0)},o(s){Me(t.$$.fragment,s),r=!1},d(s){s&&u(e),ct(t),a=!1,tt(i)}}}function an(n){let e,t,r,a,i,s,c,p,g,v,b,T,_,N,M,V,m,E,y,A,P,$,O,G,ee,re,U,Z,B,L,X,ie,K,le,R,ge,Ae,te,be,S,he,ue,ze,ne=n[10]&&Go(n);const Ce=[nn,rn],we=[];function qe(W,x){return W[0].length===0?0:1}le=qe(n),R=we[le]=Ce[le](n);let oe=n[7]&&Qo(n),F=n[8]&&Xo(n),j=n[9]&&Zo(n);return{c(){e=f("div"),t=f("div"),r=f("section"),a=f("div"),i=f("input"),s=w(),c=f("button"),p=J("svg"),g=J("polygon"),b=w(),ne&&ne.c(),T=w(),_=f("div"),N=f("p"),M=D(n[11]),V=D(" risultati"),m=w(),E=f("div"),y=f("button"),A=J("svg"),P=J("path"),$=J("polyline"),O=J("line"),G=J("line"),ee=J("polyline"),U=w(),Z=f("button"),B=J("svg"),L=J("line"),X=J("line"),ie=w(),K=f("section"),R.c(),ge=w(),oe&&oe.c(),Ae=w(),F&&F.c(),te=w(),j&&j.c(),this.h()},l(W){e=h(W,"DIV",{});var x=d(e);t=h(x,"DIV",{id:!0,class:!0});var pe=d(t);r=h(pe,"SECTION",{class:!0,id:!0});var Ue=d(r);a=h(Ue,"DIV",{class:!0});var Xe=d(a);i=h(Xe,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),s=k(Xe),c=h(Xe,"BUTTON",{class:!0});var ke=d(c);p=Q(ke,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ze=d(p);g=Q(Ze,"polygon",{points:!0}),d(g).forEach(u),Ze.forEach(u),ke.forEach(u),Xe.forEach(u),b=k(Ue),ne&&ne.l(Ue),Ue.forEach(u),T=k(pe),_=h(pe,"DIV",{class:!0});var $e=d(_);N=h($e,"P",{class:!0});var ae=d(N);M=I(ae,n[11]),V=I(ae," risultati"),ae.forEach(u),m=k($e),E=h($e,"DIV",{class:!0});var q=d(E);y=h(q,"BUTTON",{class:!0});var We=d(y);A=Q(We,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ie=d(A);P=Q(Ie,"path",{d:!0}),d(P).forEach(u),$=Q(Ie,"polyline",{points:!0}),d($).forEach(u),O=Q(Ie,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(O).forEach(u),G=Q(Ie,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(G).forEach(u),ee=Q(Ie,"polyline",{points:!0}),d(ee).forEach(u),Ie.forEach(u),We.forEach(u),U=k(q),Z=h(q,"BUTTON",{class:!0});var ve=d(Z);B=Q(ve,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var et=d(B);L=Q(et,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(L).forEach(u),X=Q(et,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(X).forEach(u),et.forEach(u),ve.forEach(u),q.forEach(u),$e.forEach(u),ie=k(pe),K=h(pe,"SECTION",{class:!0});var xe=d(K);R.l(xe),ge=k(xe),oe&&oe.l(xe),Ae=k(xe),F&&F.l(xe),te=k(xe),j&&j.l(xe),xe.forEach(u),pe.forEach(u),x.forEach(u),this.h()},h(){l(i,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(i,"type","text"),l(i,"id","turbineName"),l(i,"name","turbineName"),l(i,"placeholder","Cerca"),l(g,"points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"),l(p,"xmlns","http://www.w3.org/2000/svg"),l(p,"width","24"),l(p,"height","24"),l(p,"viewBox","0 0 24 24"),l(p,"fill","none"),l(p,"stroke","currentColor"),l(p,"stroke-width","2"),l(p,"stroke-linecap","round"),l(p,"stroke-linejoin","round"),l(p,"class",v=n[10]?"text-blue-500 rotate-90":"text-white"),l(c,"class","py-2 px-2 hover:text-blue-500 bg-gray-700 rounded-sm md:rounded-md"),l(a,"class","items-center flex flex-row justify-between md:justify-start gap-2"),l(r,"class","mt-5 flex flex-col gap-3 font-mono h-min-[10vh]"),l(r,"id","filters"),l(N,"class","font-mono text-lg"),l(P,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),l($,"points","14 2 14 8 20 8"),l(O,"x1","16"),l(O,"y1","13"),l(O,"x2","8"),l(O,"y2","13"),l(G,"x1","16"),l(G,"y1","17"),l(G,"x2","8"),l(G,"y2","17"),l(ee,"points","10 9 9 9 8 9"),l(A,"xmlns","http://www.w3.org/2000/svg"),l(A,"width","22"),l(A,"height","22"),l(A,"viewBox","0 0 24 24"),l(A,"fill","none"),l(A,"stroke","currentColor"),l(A,"stroke-width","2"),l(A,"stroke-linecap","round"),l(A,"stroke-linejoin","round"),l(A,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),l(y,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),y.disabled=re=n[0].length===0,l(L,"x1","12"),l(L,"y1","5"),l(L,"x2","12"),l(L,"y2","19"),l(X,"x1","5"),l(X,"y1","12"),l(X,"x2","19"),l(X,"y2","12"),l(B,"xmlns","http://www.w3.org/2000/svg"),l(B,"width","22"),l(B,"height","22"),l(B,"viewBox","0 0 24 24"),l(B,"fill","none"),l(B,"stroke","currentColor"),l(B,"stroke-width","2"),l(B,"stroke-linecap","round"),l(B,"stroke-linejoin","round"),l(B,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),l(Z,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),l(E,"class","justify-end flex flex-row gap-4"),l(_,"class","flex flex-row justify-between items-center h-[10vh]"),l(K,"class",be="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(n[10]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"),l(t,"id","full-content"),l(t,"class","p-4")},m(W,x){se(W,e,x),o(e,t),o(t,r),o(r,a),o(a,i),xl(i,n[1]),o(a,s),o(a,c),o(c,p),o(p,g),o(r,b),ne&&ne.m(r,null),o(t,T),o(t,_),o(_,N),o(N,M),o(N,V),o(_,m),o(_,E),o(E,y),o(y,A),o(A,P),o(A,$),o(A,O),o(A,G),o(A,ee),o(E,U),o(E,Z),o(Z,B),o(B,L),o(B,X),o(t,ie),o(t,K),we[le].m(K,null),o(K,ge),oe&&oe.m(K,null),o(K,Ae),F&&F.m(K,null),o(K,te),j&&j.m(K,null),he=!0,ue||(ze=[C(i,"input",n[20]),C(c,"click",n[21]),C(y,"click",n[19]),C(Z,"click",n[16])],ue=!0)},p(W,[x]){x&2&&i.value!==W[1]&&xl(i,W[1]),(!he||x&1024&&v!==(v=W[10]?"text-blue-500 rotate-90":"text-white"))&&l(p,"class",v),W[10]?ne?ne.p(W,x):(ne=Go(W),ne.c(),ne.m(r,null)):ne&&(ne.d(1),ne=null),(!he||x&2048)&&me(M,W[11]),(!he||x&1&&re!==(re=W[0].length===0))&&(y.disabled=re);let pe=le;le=qe(W),le===pe?we[le].p(W,x):(ol(),Me(we[pe],1,1,()=>{we[pe]=null}),rl(),R=we[le],R?R.p(W,x):(R=we[le]=Ce[le](W),R.c()),_e(R,1),R.m(K,ge)),W[7]?oe?(oe.p(W,x),x&128&&_e(oe,1)):(oe=Qo(W),oe.c(),_e(oe,1),oe.m(K,Ae)):oe&&(ol(),Me(oe,1,1,()=>{oe=null}),rl()),W[8]?F?(F.p(W,x),x&256&&_e(F,1)):(F=Xo(W),F.c(),_e(F,1),F.m(K,te)):F&&(ol(),Me(F,1,1,()=>{F=null}),rl()),W[9]?j?(j.p(W,x),x&512&&_e(j,1)):(j=Zo(W),j.c(),_e(j,1),j.m(K,null)):j&&(ol(),Me(j,1,1,()=>{j=null}),rl()),(!he||x&1024&&be!==(be="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(W[10]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"))&&l(K,"class",be)},i(W){he||(_e(R),_e(oe),_e(F),_e(j),_t(()=>{S||(S=gl(e,Et,{duration:200},!0)),S.run(1)}),he=!0)},o(W){Me(R),Me(oe),Me(F),Me(j),S||(S=gl(e,Et,{duration:200},!1)),S.run(0),he=!1},d(W){W&&u(e),ne&&ne.d(),we[le].d(),oe&&oe.d(),F&&F.d(),j&&j.d(),W&&S&&S.end(),ue=!1,tt(ze)}}}function sn(n,e,t){let r,a,i=!1,s={},c=[];$l(()=>{bl().then(L=>{t(0,c=L)})});const p=L=>{const X=L.detail;t(6,s=c.find(ie=>ie.id===X)),t(7,i=!0),t(8,b=!1)},g=()=>{bl().then(L=>{t(0,c=L),t(7,i=!1)})},v=()=>{t(7,i=!1),bl().then(L=>{t(0,c=L)})};let b=!1;const T=L=>{const X=L.detail;t(6,s=c.find(ie=>ie.id===X)),t(7,i=!1),t(8,b=!0)};let _=!1;const N=()=>{t(9,_=!0),t(7,i=!1),t(8,b=!1)},M=()=>{t(9,_=!1),t(7,i=!1),t(8,b=!1),bl().then(L=>{console.log("Updating with: ",L),t(0,c=L)})},V=()=>{bl().then(L=>{t(0,c=L),t(8,b=!1)})},m=()=>{c.length>0&&Nr().then(L=>{const X=new Blob([L.data],{type:"text/csv"}),ie=window.URL.createObjectURL(X),K=document.createElement("a");K.href=ie,K.download="export.csv",K.click()})};let E="",y="",A="ALL",P="ALL",$=!1;function O(){E=this.value,t(1,E)}const G=()=>{t(10,$=!$)};function ee(){y=this.value,t(2,y)}function re(){A=To(this),t(3,A)}function U(){P=To(this),t(4,P)}const Z=()=>t(8,b=!1),B=()=>t(9,_=!1);return n.$$.update=()=>{n.$$.dirty&31&&t(5,r=c.filter(L=>{const X=E.toLowerCase(),ie=L.description.toLowerCase().includes(X),K=L.turbineName.toLowerCase().includes(X),le=L.turbineNumber.toLowerCase().includes(X),R=L.creationDate.includes(y),ge=A==="ALL"||A==="ONLY_INCOMPLETE"&&!L.completionDate||A==="ONLY_COMPLETED"&&L.completionDate,Ae=P==="ALL"||P==="MAINTENANCE"&&L.operation.some(te=>te.includes(mt[20])||te.includes(mt[21])||te.includes(mt[22])||te.includes(mt[25])||te.includes(mt[26]))||P==="ONLY_BLADES"&&L.operation.some(te=>te.includes(mt[2]))||P==="MAIN_COMPS"&&L.operation.some(te=>!te.includes(mt[20])&&!te.includes(mt[21])&&!te.includes(mt[22])&&!te.includes(mt[25])&&!te.includes(mt[26]));return(ie||K||le)&&R&&ge&&Ae})),n.$$.dirty&32&&t(11,a=r.length)},[c,E,y,A,P,r,s,i,b,_,$,a,p,g,v,T,N,M,V,m,O,G,ee,re,U,Z,B]}class dn extends ut{constructor(e){super(),dt(this,e,sn,an,ft,{})}}export{dn as default};
