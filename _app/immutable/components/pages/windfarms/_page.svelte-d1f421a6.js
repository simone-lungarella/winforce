import{P as pr,S as vt,i as mt,s as _t,k as f,a as b,q as T,l as h,m as d,h as u,c as w,r as S,n as t,b as ae,C as o,u as ge,B as Le,Q as ir,e as Dl,w as ft,E as H,x as ht,F as q,y as pt,G as O,O as cr,f as we,R as Et,T as vl,t as Ve,z as gt,H as st,D as Zt,U as ut,V as no,W as ur,X as Wt,Y as jt,g as pl,d as gl,Z as Il,o as ao,_ as Lo,$ as gr,a0 as Ql,a1 as Jl,a2 as Bo,a3 as vr}from"../../../chunks/index-9eaa0f55.js";import{a as ml}from"../../../chunks/axios-67252f11.js";function mr(n){const e=n-1;return e*e*e+1}function dr(n,{delay:e=0,duration:l=400,easing:r=pr}={}){const a=+getComputedStyle(n).opacity;return{delay:e,duration:l,easing:r,css:i=>`opacity: ${i*a}`}}function Tt(n,{delay:e=0,duration:l=400,easing:r=mr}={}){const a=getComputedStyle(n),i=+a.opacity,s=parseFloat(a.height),c=parseFloat(a.paddingTop),p=parseFloat(a.paddingBottom),g=parseFloat(a.marginTop),v=parseFloat(a.marginBottom),k=parseFloat(a.borderTopWidth),I=parseFloat(a.borderBottomWidth);return{delay:e,duration:l,easing:r,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*i};height: ${m*s}px;padding-top: ${m*c}px;padding-bottom: ${m*p}px;margin-top: ${m*g}px;margin-bottom: ${m*v}px;border-top-width: ${m*k}px;border-bottom-width: ${m*I}px;`}}const Nl={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function zo(n,e,l){const r=n.slice();return r[4]=e[l],r[6]=l,r}function _r(n){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","border border-gray-400 bg-gray-500 h-full w-full rounded")},m(l,r){ae(l,e,r)},d(l){l&&u(e)}}}function br(n){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","border border-gray-400 bg-blue-500 h-full w-full rounded")},m(l,r){ae(l,e,r)},d(l){l&&u(e)}}}function xo(n){let e;function l(i,s){return i[6]<i[0]?br:_r}let r=l(n),a=r(n);return{c(){a.c(),e=Dl()},l(i){a.l(i),e=Dl()},m(i,s){a.m(i,s),ae(i,e,s)},p(i,s){r!==(r=l(i))&&(a.d(1),a=r(i),a&&(a.c(),a.m(e.parentNode,e)))},d(i){a.d(i),i&&u(e)}}}function wr(n){let e,l,r,a,i=(n[1]||"Cantiere chiuso")+"",s,c=Array(n[2]),p=[];for(let g=0;g<c.length;g+=1)p[g]=xo(zo(n,c,g));return{c(){e=f("div"),l=f("div");for(let g=0;g<p.length;g+=1)p[g].c();r=b(),a=f("span"),s=T(i),this.h()},l(g){e=h(g,"DIV",{class:!0});var v=d(e);l=h(v,"DIV",{class:!0});var k=d(l);for(let m=0;m<p.length;m+=1)p[m].l(k);k.forEach(u),r=w(v),a=h(v,"SPAN",{class:!0});var I=d(a);s=S(I,i),I.forEach(u),v.forEach(u),this.h()},h(){t(l,"class","transition duration-300 ease-in-out transform flex flex-row h-7 w-full lg:w-3/4 gap-0.5"),t(a,"class","absolute font-bold text-lg flex pl-2"),t(e,"class","flex")},m(g,v){ae(g,e,v),o(e,l);for(let k=0;k<p.length;k+=1)p[k].m(l,null);o(e,r),o(e,a),o(a,s)},p(g,[v]){if(v&1){c=Array(g[2]);let k;for(k=0;k<c.length;k+=1){const I=zo(g,c,k);p[k]?p[k].p(I,v):(p[k]=xo(I),p[k].c(),p[k].m(l,null))}for(;k<p.length;k+=1)p[k].d(1);p.length=c.length}v&2&&i!==(i=(g[1]||"Cantiere chiuso")+"")&&ge(s,i)},i:Le,o:Le,d(g){g&&u(e),ir(p,g)}}}function kr(n,e,l){let r,{completedSteps:a=0}=e,{creationDate:i=""}=e,s=i.includes("2022")?7:8;return n.$$set=c=>{"completedSteps"in c&&l(0,a=c.completedSteps),"creationDate"in c&&l(3,i=c.creationDate)},n.$$.update=()=>{n.$$.dirty&9&&l(1,r=i.includes("2022")?Nl[a+2]:Nl[a+1])},[a,r,s,i]}class Er extends vt{constructor(e){super(),mt(this,e,kr,wr,_t,{completedSteps:0,creationDate:3})}}function Uo(n){let e,l,r=n[0].turbineNumber+"",a;return{c(){e=f("span"),l=T("- "),a=T(r),this.h()},l(i){e=h(i,"SPAN",{class:!0});var s=d(e);l=S(s,"- "),a=S(s,r),s.forEach(u),this.h()},h(){t(e,"class","hidden md:inline-block")},m(i,s){ae(i,e,s),o(e,l),o(e,a)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&ge(a,r)},d(i){i&&u(e)}}}function yr(n){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2")},m(l,r){ae(l,e,r)},p:Le,d(l){l&&u(e)}}}function Nr(n){let e,l,r,a=n[0].odlNumber+"",i;return{c(){e=f("p"),l=T("ODL: "),r=f("span"),i=T(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);l=S(c,"ODL: "),r=h(c,"SPAN",{class:!0});var p=d(r);i=S(p,a),p.forEach(u),c.forEach(u),this.h()},h(){t(r,"class","text-blue-400"),t(e,"class","flex md:justify-end")},m(s,c){ae(s,e,c),o(e,l),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=s[0].odlNumber+"")&&ge(i,a)},d(s){s&&u(e)}}}function jo(n){let e,l,r=n[0].operation[0]+"",a,i,s;return{c(){e=f("div"),l=f("p"),a=T(r),this.h()},l(c){e=h(c,"DIV",{class:!0});var p=d(e);l=h(p,"P",{});var g=d(l);a=S(g,r),g.forEach(u),p.forEach(u),this.h()},h(){t(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 left-10 cursor-default")},m(c,p){ae(c,e,p),o(e,l),o(l,a),i||(s=[O(e,"mouseover",n[7]),O(e,"focus",n[8]),O(e,"mouseleave",n[9]),O(e,"focusout",n[10])],i=!0)},p(c,p){p&1&&r!==(r=c[0].operation[0]+"")&&ge(a,r)},d(c){c&&u(e),i=!1,st(s)}}}function Dr(n){let e,l;return{c(){e=f("span"),l=T("Non disponibile"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=d(e);l=S(a,"Non disponibile"),a.forEach(u),this.h()},h(){t(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(r,a){ae(r,e,a),o(e,l)},p:Le,d(r){r&&u(e)}}}function Ir(n){let e,l,r,a;return{c(){e=f("div"),l=f("span"),r=T(n[1]),this.h()},l(i){e=h(i,"DIV",{class:!0});var s=d(e);l=h(s,"SPAN",{class:!0});var c=d(l);r=S(c,n[1]),c.forEach(u),s.forEach(u),this.h()},h(){t(l,"class",a=n[4]?"text-red-500":""),t(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(i,s){ae(i,e,s),o(e,l),o(l,r)},p(i,s){s&2&&ge(r,i[1]),s&16&&a!==(a=i[4]?"text-red-500":"")&&t(l,"class",a)},d(i){i&&u(e)}}}function Tr(n){let e,l,r,a,i=n[0].turbineName+"",s,c,p,g,v,k,I,m,D,M,C,_,N,E,x,L,le=n[0].description+"",j,K,V,U,$,X,B,fe,he,P,ee,R,G,ne=n[0].turbineState+"",ve,Me,Y,Q,y,te,Ae,Ne,_e=(n[1]||"N/A")+"",De,Ie,He,Se,me,je,ce,Be,ue,pe,Z,W,se,F=n[0].turbineNumber&&Uo(n);v=new Er({props:{completedSteps:n[0].completedSteps,creationDate:n[0].creationDate}});function Fe(A,oe){return A[0].odlNumber!==void 0&&A[0].odlNumber!==0?Nr:yr}let Ke=Fe(n),Oe=Ke(n),ie=n[2]&&jo(n);function it(A,oe){return A[1]?Ir:Dr}let Ze=it(n),ye=Ze(n);return{c(){e=f("div"),l=f("div"),r=f("div"),a=f("h1"),s=T(i),c=b(),F&&F.c(),p=b(),g=f("div"),ft(v.$$.fragment),k=b(),I=f("div"),m=b(),D=f("div"),M=b(),C=f("div"),_=H("svg"),N=H("path"),E=H("circle"),x=b(),L=f("span"),j=T(le),K=b(),Oe.c(),V=b(),U=f("div"),$=H("svg"),X=H("path"),B=H("rect"),fe=b(),ie&&ie.c(),he=b(),P=f("span"),ee=T(n[3]),R=b(),G=f("span"),ve=T(ne),Me=b(),Y=f("span"),Q=T("Scadenza cantiere:"),y=b(),te=f("span"),Ae=T("Scadenza: "),Ne=f("span"),De=T(_e),Ie=b(),ye.c(),He=b(),Se=f("div"),me=f("div"),je=f("button"),ce=H("svg"),Be=H("path"),ue=H("path"),this.h()},l(A){e=h(A,"DIV",{class:!0});var oe=d(e);l=h(oe,"DIV",{class:!0});var be=d(l);r=h(be,"DIV",{class:!0});var re=d(r);a=h(re,"H1",{class:!0});var nt=d(a);s=S(nt,i),c=w(nt),F&&F.l(nt),nt.forEach(u),p=w(re),g=h(re,"DIV",{class:!0});var tt=d(g);ht(v.$$.fragment,tt),tt.forEach(u),k=w(re),I=h(re,"DIV",{class:!0}),d(I).forEach(u),m=w(re),D=h(re,"DIV",{class:!0}),d(D).forEach(u),M=w(re),C=h(re,"DIV",{class:!0});var ze=d(C);_=q(ze,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var yt=d(_);N=q(yt,"path",{d:!0}),d(N).forEach(u),E=q(yt,"circle",{cx:!0,cy:!0,r:!0}),d(E).forEach(u),yt.forEach(u),x=w(ze),L=h(ze,"SPAN",{});var lt=d(L);j=S(lt,le),lt.forEach(u),ze.forEach(u),K=w(re),Oe.l(re),V=w(re),U=h(re,"DIV",{class:!0});var We=d(U);$=q(We,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var at=d($);X=q(at,"path",{d:!0}),d(X).forEach(u),B=q(at,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(B).forEach(u),at.forEach(u),fe=w(We),ie&&ie.l(We),he=w(We),P=h(We,"SPAN",{class:!0});var St=d(P);ee=S(St,n[3]),St.forEach(u),We.forEach(u),R=w(re),G=h(re,"SPAN",{class:!0});var qe=d(G);ve=S(qe,ne),qe.forEach(u),Me=w(re),Y=h(re,"SPAN",{class:!0});var ot=d(Y);Q=S(ot,"Scadenza cantiere:"),ot.forEach(u),y=w(re),te=h(re,"SPAN",{class:!0});var dt=d(te);Ae=S(dt,"Scadenza: "),Ne=h(dt,"SPAN",{class:!0});var Ot=d(Ne);De=S(Ot,_e),Ot.forEach(u),dt.forEach(u),Ie=w(re),ye.l(re),re.forEach(u),He=w(be),Se=h(be,"DIV",{class:!0});var Qe=d(Se);me=h(Qe,"DIV",{class:!0});var ct=d(me);je=h(ct,"BUTTON",{class:!0});var $e=d(je);ce=q($e,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Nt=d(ce);Be=q(Nt,"path",{d:!0}),d(Be).forEach(u),ue=q(Nt,"path",{d:!0}),d(ue).forEach(u),Nt.forEach(u),$e.forEach(u),ct.forEach(u),Qe.forEach(u),be.forEach(u),oe.forEach(u),this.h()},h(){t(a,"class","font-bold text-4xl mt-3 col-span-1 md:col-span-2"),t(g,"class","col-span-1 md:col-span-2"),t(I,"class","col-span-1"),t(D,"class","hidden md:flex"),t(N,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),t(E,"cx","12"),t(E,"cy","10"),t(E,"r","3"),t(_,"xmlns","http://www.w3.org/2000/svg"),t(_,"width","24"),t(_,"height","24"),t(_,"viewBox","0 0 24 24"),t(_,"fill","none"),t(_,"stroke","currentColor"),t(_,"stroke-width","2"),t(_,"stroke-linecap","round"),t(_,"stroke-linejoin","round"),t(_,"class","feather feather-map-pin"),t(C,"class","flex gap-2 md:-mb-2"),t(X,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),t(B,"x","8"),t(B,"y","2"),t(B,"width","8"),t(B,"height","4"),t(B,"rx","1"),t(B,"ry","1"),t($,"xmlns","http://www.w3.org/2000/svg"),t($,"width","24"),t($,"height","24"),t($,"viewBox","0 0 24 24"),t($,"fill","none"),t($,"stroke","currentColor"),t($,"stroke-width","2"),t($,"stroke-linecap","round"),t($,"stroke-linejoin","round"),t($,"class","feather feather-clipboard"),t(P,"class","flex select-none"),t(U,"class","flex gap-2"),t(G,"class","flex md:justify-end font-bold"),t(Y,"class","font-mono hidden xl:flex"),t(Ne,"class","font-bold"),t(te,"class","font-mono flex xl:hidden"),t(r,"class","grid grid-cols-1 text-white font-mono gap-3"),t(Be,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),t(ue,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),t(ce,"xmlns","http://www.w3.org/2000/svg"),t(ce,"width","22"),t(ce,"height","22"),t(ce,"viewBox","0 0 24 24"),t(ce,"fill","none"),t(ce,"stroke","currentColor"),t(ce,"stroke-width","2"),t(ce,"stroke-linecap","round"),t(ce,"stroke-linejoin","round"),t(ce,"class","feather feather-book-open"),t(je,"class","py-2 px-2 hover:bg-gray-400 rounded-full group"),t(me,"class","flex flex-col md:flex-row gap-2 md:gap-0"),t(Se,"class","absolute top-0 right-0 mr-2 mt-2"),t(l,"class","bg-gray-800 px-4 my-2 mx-2 md:mx-0 rounded-sm shadow-md hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto md:h-68 xl:h-56 pb-5 content-start"),t(e,"class","snap-start pt-1")},m(A,oe){ae(A,e,oe),o(e,l),o(l,r),o(r,a),o(a,s),o(a,c),F&&F.m(a,null),o(r,p),o(r,g),pt(v,g,null),o(r,k),o(r,I),o(r,m),o(r,D),o(r,M),o(r,C),o(C,_),o(_,N),o(_,E),o(C,x),o(C,L),o(L,j),o(r,K),Oe.m(r,null),o(r,V),o(r,U),o(U,$),o($,X),o($,B),o(U,fe),ie&&ie.m(U,null),o(U,he),o(U,P),o(P,ee),o(r,R),o(r,G),o(G,ve),o(r,Me),o(r,Y),o(Y,Q),o(r,y),o(r,te),o(te,Ae),o(te,Ne),o(Ne,De),o(r,Ie),ye.m(r,null),o(l,He),o(l,Se),o(Se,me),o(me,je),o(je,ce),o(ce,Be),o(ce,ue),Z=!0,W||(se=[O(U,"mouseover",n[11]),O(U,"focus",n[12]),O(U,"mouseleave",n[13]),O(U,"focusout",n[14]),O(je,"click",cr(n[5]))],W=!0)},p(A,[oe]){(!Z||oe&1)&&i!==(i=A[0].turbineName+"")&&ge(s,i),A[0].turbineNumber?F?F.p(A,oe):(F=Uo(A),F.c(),F.m(a,null)):F&&(F.d(1),F=null);const be={};oe&1&&(be.completedSteps=A[0].completedSteps),oe&1&&(be.creationDate=A[0].creationDate),v.$set(be),(!Z||oe&1)&&le!==(le=A[0].description+"")&&ge(j,le),Ke===(Ke=Fe(A))&&Oe?Oe.p(A,oe):(Oe.d(1),Oe=Ke(A),Oe&&(Oe.c(),Oe.m(r,V))),A[2]?ie?ie.p(A,oe):(ie=jo(A),ie.c(),ie.m(U,he)):ie&&(ie.d(1),ie=null),(!Z||oe&8)&&ge(ee,A[3]),(!Z||oe&1)&&ne!==(ne=A[0].turbineState+"")&&ge(ve,ne),(!Z||oe&2)&&_e!==(_e=(A[1]||"N/A")+"")&&ge(De,_e),Ze===(Ze=it(A))&&ye?ye.p(A,oe):(ye.d(1),ye=Ze(A),ye&&(ye.c(),ye.m(r,null)))},i(A){Z||(we(v.$$.fragment,A),pe||Et(()=>{pe=vl(l,Tt,{duration:1e3}),pe.start()}),Z=!0)},o(A){Ve(v.$$.fragment,A),Z=!1},d(A){A&&u(e),F&&F.d(),gt(v),Oe.d(),ie&&ie.d(),ye.d(),W=!1,st(se)}}}function Sr(n,e,l){let r,a,i,s,{turbine:c={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const p=Zt(),g=()=>{p("showDetails",c.id)};let v=!1;const k=()=>l(2,v=!0),I=()=>l(2,v=!0),m=()=>l(2,v=!1),D=()=>l(2,v=!1),M=()=>l(2,v=!0),C=()=>l(2,v=!0),_=()=>l(2,v=!1),N=()=>l(2,v=!1);return n.$$set=E=>{"turbine"in E&&l(0,c=E.turbine)},n.$$.update=()=>{n.$$.dirty&1&&l(6,r=c.creationDate.includes("2022")?Nl[c.completedSteps+2]:Nl[c.completedSteps+1]),n.$$.dirty&65&&(r===Nl[3]?c.priorNotification:r===Nl[4]&&c.permittingDate),n.$$.dirty&1&&l(1,a=c.permittingDate?new Date(new Date(c.permittingDate).getTime()+90*24*60*60*1e3).toLocaleDateString("it-IT"):null),n.$$.dirty&3&&l(4,i=a&&new Date(c.permittingDate).getTime()+90*24*60*60*1e3<new Date().getTime()),n.$$.dirty&1&&l(3,s=c.operation[0]?c.operation[0].length>16?c.operation[0].substring(0,14)+"...":c.operation[0]:"")},[c,a,v,s,i,g,r,k,I,m,D,M,C,_,N]}class Or extends vt{constructor(e){super(),mt(this,e,Sr,Tr,_t,{turbine:0})}}const Ml="https://dockyard-handler.herokuapp.com/v1.0.0";async function Ol(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await ml.get(Ml+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function Mr(n){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.delete(Ml+"/event?eventId="+n,l)}else console.log("Token not found in local storage")}async function Cr(n){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.post(Ml+"/event",n,l)}else console.log("Token not found in local storage")}async function Vr(n){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(n)),await ml.put(Ml+"/event",n,l)}else console.log("Token not found in local storage")}async function Ar(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.get(Ml+"/events/csv",e)}else console.log("Token not found in local storage")}const kt={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear",25:"Vasca sterrato",26:"Vasca asfalto",27:"Ispezione pale UT con PLE"};function Wo(n,e,l){const r=n.slice();return r[7]=e[l],r[8]=e,r[9]=l,r}function Fo(n,e){let l,r,a,i,s,c=e[7].name+"",p,g,v,k;function I(...m){return e[5](e[7],e[8],e[9],...m)}return{key:n,first:null,c(){l=f("div"),r=f("input"),i=b(),s=f("p"),p=T(c),g=b(),this.h()},l(m){l=h(m,"DIV",{class:!0});var D=d(l);r=h(D,"INPUT",{class:!0,type:!0}),i=w(D),s=h(D,"P",{class:!0});var M=d(s);p=S(M,c),M.forEach(u),g=w(D),D.forEach(u),this.h()},h(){t(r,"class","checkbox"),r.checked=a=e[7].isSelected,t(r,"type","checkbox"),t(s,"class","font-mono"),t(l,"class","flex flex-row gap-4"),this.first=l},m(m,D){ae(m,l,D),o(l,r),o(l,i),o(l,s),o(s,p),o(l,g),v||(k=O(r,"change",I),v=!0)},p(m,D){e=m,D&1&&a!==(a=e[7].isSelected)&&(r.checked=a),D&1&&c!==(c=e[7].name+"")&&ge(p,c)},d(m){m&&u(l),v=!1,k()}}}function Pr(n){let e,l,r=[],a=new Map,i,s,c,p,g,v,k,I,m,D,M=n[0];const C=_=>_[7].name;for(let _=0;_<M.length;_+=1){let N=Wo(n,M,_),E=C(N);a.set(E,r[_]=Fo(E,N))}return{c(){e=f("div"),l=f("div");for(let _=0;_<r.length;_+=1)r[_].c();i=b(),s=f("div"),c=f("button"),p=T("Conferma"),g=b(),v=f("button"),k=T("Chiudi"),this.h()},l(_){e=h(_,"DIV",{class:!0});var N=d(e);l=h(N,"DIV",{class:!0});var E=d(l);for(let j=0;j<r.length;j+=1)r[j].l(E);E.forEach(u),i=w(N),s=h(N,"DIV",{class:!0});var x=d(s);c=h(x,"BUTTON",{class:!0});var L=d(c);p=S(L,"Conferma"),L.forEach(u),g=w(x),v=h(x,"BUTTON",{class:!0});var le=d(v);k=S(le,"Chiudi"),le.forEach(u),x.forEach(u),N.forEach(u),this.h()},h(){t(l,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),t(c,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),t(v,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),t(s,"class","flex flex-row mt-5 gap-2 justify-center"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(_,N){ae(_,e,N),o(e,l);for(let E=0;E<r.length;E+=1)r[E].m(l,null);o(e,i),o(e,s),o(s,c),o(c,p),o(s,g),o(s,v),o(v,k),m||(D=[O(c,"click",ut(n[1])),O(v,"click",ut(n[2])),O(e,"click",ut(n[3])),O(e,"keydown",ut(n[4]))],m=!0)},p(_,[N]){N&1&&(M=_[0],r=no(r,N,C,1,_,M,a,l,ur,Fo,null,Wo))},i(_){I||Et(()=>{I=vl(e,Tt,{duration:300}),I.start()})},o:Le,d(_){_&&u(e);for(let N=0;N<r.length;N+=1)r[N].d();m=!1,st(D)}}}function Lr(n,e,l){let{operations:r=[]}=e;const a=Zt(),i=()=>{a("confirm",r)},s=()=>{a("cancel")};function c(v){Wt.call(this,n,v)}function p(v){Wt.call(this,n,v)}const g=(v,k,I,m)=>{l(0,k[I].isSelected=m.target.checked,r)};return n.$$set=v=>{"operations"in v&&l(0,r=v.operations)},[r,i,s,c,p,g]}class Br extends vt{constructor(e){super(),mt(this,e,Lr,Pr,_t,{operations:0})}}function zr(n){let e,l,r,a,i,s,c,p,g,v,k,I,m,D,M,C,_,N,E,x,L,le;return{c(){e=f("div"),l=f("div"),r=f("button"),a=H("svg"),i=H("path"),s=H("line"),c=H("polyline"),g=T("Kilowatt"),k=b(),I=f("button"),m=H("svg"),D=H("path"),M=H("line"),C=H("polyline"),N=T("Megawatt"),this.h()},l(j){e=h(j,"DIV",{class:!0});var K=d(e);l=h(K,"DIV",{class:!0});var V=d(l);r=h(V,"BUTTON",{class:!0,type:!0});var U=d(r);a=q(U,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var $=d(a);i=q($,"path",{d:!0}),d(i).forEach(u),s=q($,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),c=q($,"polyline",{points:!0}),d(c).forEach(u),$.forEach(u),g=S(U,"Kilowatt"),U.forEach(u),k=w(V),I=h(V,"BUTTON",{class:!0,type:!0});var X=d(I);m=q(X,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var B=d(m);D=q(B,"path",{d:!0}),d(D).forEach(u),M=q(B,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(M).forEach(u),C=q(B,"polyline",{points:!0}),d(C).forEach(u),B.forEach(u),N=S(X,"Megawatt"),X.forEach(u),V.forEach(u),K.forEach(u),this.h()},h(){t(i,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(s,"x1","23"),t(s,"y1","13"),t(s,"x2","23"),t(s,"y2","11"),t(c,"points","11 6 7 12 13 12 9 18"),t(a,"xmlns","http://www.w3.org/2000/svg"),t(a,"width","24"),t(a,"height","24"),t(a,"viewBox","0 0 24 24"),t(a,"fill","none"),t(a,"stroke","currentColor"),t(a,"stroke-width","2"),t(a,"stroke-linecap","round"),t(a,"stroke-linejoin","round"),t(a,"class",p=n[0]?"text-green-500":""),t(r,"class",v=jt(n[0]?"button ring-4 ring-green-500":"button")+" svelte-brr1w4"),t(r,"type","button"),t(D,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(M,"x1","23"),t(M,"y1","13"),t(M,"x2","23"),t(M,"y2","11"),t(C,"points","11 6 7 12 13 12 9 18"),t(m,"xmlns","http://www.w3.org/2000/svg"),t(m,"width","24"),t(m,"height","24"),t(m,"viewBox","0 0 24 24"),t(m,"fill","none"),t(m,"stroke","currentColor"),t(m,"stroke-width","2"),t(m,"stroke-linecap","round"),t(m,"stroke-linejoin","round"),t(m,"class",_=n[0]?"":"text-blue-500"),t(I,"class",E=jt(n[0]?"button":"button ring-4 ring-blue-500")+" svelte-brr1w4"),t(I,"type","button"),t(l,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(j,K){ae(j,e,K),o(e,l),o(l,r),o(r,a),o(a,i),o(a,s),o(a,c),o(r,g),o(l,k),o(l,I),o(I,m),o(m,D),o(m,M),o(m,C),o(I,N),L||(le=[O(r,"click",n[2]),O(I,"click",n[3])],L=!0)},p(j,[K]){K&1&&p!==(p=j[0]?"text-green-500":"")&&t(a,"class",p),K&1&&v!==(v=jt(j[0]?"button ring-4 ring-green-500":"button")+" svelte-brr1w4")&&t(r,"class",v),K&1&&_!==(_=j[0]?"":"text-blue-500")&&t(m,"class",_),K&1&&E!==(E=jt(j[0]?"button":"button ring-4 ring-blue-500")+" svelte-brr1w4")&&t(I,"class",E)},i(j){x||Et(()=>{x=vl(e,dr,{duration:300}),x.start()})},o:Le,d(j){j&&u(e),L=!1,st(le)}}}function xr(n,e,l){let{isKilowatt:r=!0}=e;const a=Zt(),i=()=>{a("change",r?"KILOWATT":"MEGAWATT")},s=()=>{l(0,r=!0),i()},c=()=>{l(0,r=!1),i()};return n.$$set=p=>{"isKilowatt"in p&&l(0,r=p.isKilowatt)},[r,i,s,c]}class Ur extends vt{constructor(e){super(),mt(this,e,xr,zr,_t,{isKilowatt:0})}}function jr(n){let e,l,r,a,i,s,c,p,g,v,k,I,m,D,M,C;return{c(){e=f("div"),l=f("div"),r=f("button"),a=T("In Marcia"),s=b(),c=f("button"),p=T("Limitata"),v=b(),k=f("button"),I=T("Ferma"),this.h()},l(_){e=h(_,"DIV",{class:!0});var N=d(e);l=h(N,"DIV",{class:!0});var E=d(l);r=h(E,"BUTTON",{class:!0,type:!0});var x=d(r);a=S(x,"In Marcia"),x.forEach(u),s=w(E),c=h(E,"BUTTON",{class:!0,type:!0});var L=d(c);p=S(L,"Limitata"),L.forEach(u),v=w(E),k=h(E,"BUTTON",{class:!0,type:!0});var le=d(k);I=S(le,"Ferma"),le.forEach(u),E.forEach(u),N.forEach(u),this.h()},h(){t(r,"class",i=jt(n[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),t(r,"type","button"),t(c,"class",g=jt(n[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),t(c,"type","button"),t(k,"class",m=jt(n[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),t(k,"type","button"),t(l,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(_,N){ae(_,e,N),o(e,l),o(l,r),o(r,a),o(l,s),o(l,c),o(c,p),o(l,v),o(l,k),o(k,I),M||(C=[O(r,"click",n[2]),O(c,"click",n[3]),O(k,"click",n[4])],M=!0)},p(_,[N]){N&1&&i!==(i=jt(_[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&t(r,"class",i),N&1&&g!==(g=jt(_[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&t(c,"class",g),N&1&&m!==(m=jt(_[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&t(k,"class",m)},i(_){D||Et(()=>{D=vl(e,Tt,{duration:300,delay:300}),D.start()})},o:Le,d(_){_&&u(e),M=!1,st(C)}}}function Wr(n,e,l){let{state:r="In Marcia"}=e;const a=Zt(),i=()=>{a("change",r)},s=()=>{l(0,r="In Marcia"),i()},c=()=>{l(0,r="Limitata"),i()},p=()=>{l(0,r="Ferma"),i()};return n.$$set=g=>{"state"in g&&l(0,r=g.state)},[r,i,s,c,p]}class Fr extends vt{constructor(e){super(),mt(this,e,Wr,jr,_t,{state:0})}}function Ko(n){let e,l,r,a,i;return l=new Br({props:{operations:n[3]}}),l.$on("cancel",n[16]),l.$on("confirm",n[17]),{c(){e=f("div"),ft(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(l.$$.fragment,c),c.forEach(u),this.h()},h(){t(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){ae(s,e,c),pt(l,e,null),r=!0,a||(i=[O(e,"click",ut(n[18])),O(e,"keydown",ut(n[19]))],a=!0)},p(s,c){const p={};c[0]&8&&(p.operations=s[3]),l.$set(p)},i(s){r||(we(l.$$.fragment,s),r=!0)},o(s){Ve(l.$$.fragment,s),r=!1},d(s){s&&u(e),gt(l),a=!1,st(i)}}}function Kr(n){let e,l,r,a,i,s,c,p,g,v,k,I,m,D,M,C,_,N,E,x,L,le,j,K,V,U,$,X,B,fe,he,P,ee,R,G,ne,ve,Me,Y,Q,y,te,Ae,Ne,_e,De,Ie,He,Se,me,je,ce,Be,ue,pe,Z,W,se,F,Fe,Ke,Oe,ie,it,Ze,ye,A,oe,be,re=n[1]?"modifica":"creazione",nt,tt,ze,yt,lt,We,at,St,qe,ot=n[0].turbineNumber+"",dt,Ot,Qe,ct,$e,Nt,Ft,Ce=n[0].turbineName+"",Re,Ye,Pe,xe,Ge,Mt,Ue,z=n[0].description+"",ke,rt,Xe,Ee,Dt,$t,Ct,el=(n[0].odlNumber||"N/A")+"",Kt,Vt,At,Rt,tl,_l,Ht,Pt=n[0].operation+"",dl,bl,bt,Lt,wl,fl,qt,Bt=n[0].power+"",Yt,Gt,zt,It,kl,El,Jt,xt=n[0].turbineState+"",ll,Xl,ol,rl,Zl,$l,Qt,Tl,Sl=n[1]?"Modifica":"Crea",Cl,nl,eo,wt,al,Vl,to,sl,Al,lo,il,Pl,Te,oo,so,Je=n[2]&&Ko(n);return P=new Ur({props:{isKilowatt:n[0].power==="KILOWATT"}}),P.$on("change",n[26]),ne=new Fr({props:{state:n[0].turbineState}}),ne.$on("change",n[27]),{c(){e=f("div"),Je&&Je.c(),l=b(),r=f("form"),a=f("div"),i=f("div"),s=f("div"),c=f("input"),g=b(),v=f("input"),I=b(),m=f("input"),M=b(),C=f("input"),N=b(),E=f("div"),x=f("button"),L=f("input"),j=b(),K=f("div"),V=f("label"),U=T("Non smantellare"),$=b(),X=f("input"),fe=b(),he=f("div"),ft(P.$$.fragment),ee=b(),R=f("div"),G=f("div"),ft(ne.$$.fragment),ve=b(),Me=f("div"),Y=f("label"),Q=T("Data Inizio EEMM"),y=b(),te=f("input"),Ne=b(),_e=f("div"),De=f("label"),Ie=T("Data Inizio OOCC"),He=b(),Se=f("input"),je=b(),ce=f("div"),Be=f("label"),ue=T("Validità permitting"),pe=b(),Z=f("input"),se=b(),F=f("div"),Fe=f("label"),Ke=T("Validità notifica"),Oe=b(),ie=f("input"),Ze=b(),ye=f("div"),A=f("div"),oe=f("h2"),be=T("Riepilogo "),nt=T(re),tt=b(),ze=f("div"),yt=b(),lt=f("p"),We=f("span"),at=T("Numero cantiere:"),St=b(),qe=f("span"),dt=T(ot),Ot=b(),Qe=f("p"),ct=f("span"),$e=T("Aerogeneratore:"),Nt=b(),Ft=f("span"),Re=T(Ce),Ye=b(),Pe=f("p"),xe=f("span"),Ge=T("Impianto eolico:"),Mt=b(),Ue=f("span"),ke=T(z),rt=b(),Xe=f("p"),Ee=f("span"),Dt=T("Numero ODL:"),$t=b(),Ct=f("span"),Kt=T(el),Vt=b(),At=f("p"),Rt=f("span"),tl=T("Operazioni:"),_l=b(),Ht=f("span"),dl=T(Pt),bl=b(),bt=f("p"),Lt=f("span"),wl=T("Tipologia:"),fl=b(),qt=f("span"),Yt=T(Bt),Gt=b(),zt=f("p"),It=f("span"),kl=T("Stato:"),El=b(),Jt=f("span"),ll=T(xt),Xl=b(),ol=f("div"),rl=f("button"),Zl=T("Annulla"),$l=b(),Qt=f("button"),Tl=f("p"),Cl=T(Sl),eo=b(),wt=f("div"),al=f("input"),to=b(),sl=f("input"),lo=b(),il=f("input"),this.h()},l(J){e=h(J,"DIV",{class:!0});var de=d(e);Je&&Je.l(de),l=w(de),r=h(de,"FORM",{});var hl=d(r);a=h(hl,"DIV",{id:!0,class:!0});var Xt=d(a);i=h(Xt,"DIV",{class:!0});var cl=d(i);s=h(cl,"DIV",{class:!0});var ul=d(s);c=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),g=w(ul),v=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),I=w(ul),m=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),M=w(ul),C=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),ul.forEach(u),N=w(cl),E=h(cl,"DIV",{class:!0});var io=d(E);x=h(io,"BUTTON",{type:!0,class:!0});var co=d(x);L=h(co,"INPUT",{class:!0,placeholder:!0}),co.forEach(u),io.forEach(u),j=w(cl),K=h(cl,"DIV",{class:!0});var Ll=d(K);V=h(Ll,"LABEL",{class:!0,for:!0});var uo=d(V);U=S(uo,"Non smantellare"),uo.forEach(u),$=w(Ll),X=h(Ll,"INPUT",{id:!0,class:!0,type:!0}),Ll.forEach(u),fe=w(cl),he=h(cl,"DIV",{class:!0});var fo=d(he);ht(P.$$.fragment,fo),fo.forEach(u),cl.forEach(u),ee=w(Xt),R=h(Xt,"DIV",{class:!0});var Ut=d(R);G=h(Ut,"DIV",{class:!0});var ho=d(G);ht(ne.$$.fragment,ho),ho.forEach(u),ve=w(Ut),Me=h(Ut,"DIV",{});var Bl=d(Me);Y=h(Bl,"LABEL",{for:!0,class:!0});var po=d(Y);Q=S(po,"Data Inizio EEMM"),po.forEach(u),y=w(Bl),te=h(Bl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),Bl.forEach(u),Ne=w(Ut),_e=h(Ut,"DIV",{});var zl=d(_e);De=h(zl,"LABEL",{for:!0,class:!0});var go=d(De);Ie=S(go,"Data Inizio OOCC"),go.forEach(u),He=w(zl),Se=h(zl,"INPUT",{class:!0,type:!0,placeholder:!0}),zl.forEach(u),je=w(Ut),ce=h(Ut,"DIV",{});var xl=d(ce);Be=h(xl,"LABEL",{for:!0,class:!0});var vo=d(Be);ue=S(vo,"Validità permitting"),vo.forEach(u),pe=w(xl),Z=h(xl,"INPUT",{class:!0,type:!0,placeholder:!0}),xl.forEach(u),se=w(Ut),F=h(Ut,"DIV",{});var Ul=d(F);Fe=h(Ul,"LABEL",{for:!0,class:!0});var mo=d(Fe);Ke=S(mo,"Validità notifica"),mo.forEach(u),Oe=w(Ul),ie=h(Ul,"INPUT",{class:!0,type:!0,placeholder:!0}),Ul.forEach(u),Ut.forEach(u),Ze=w(Xt),ye=h(Xt,"DIV",{class:!0});var jl=d(ye);A=h(jl,"DIV",{class:!0});var et=d(A);oe=h(et,"H2",{class:!0});var ro=d(oe);be=S(ro,"Riepilogo "),nt=S(ro,re),ro.forEach(u),tt=w(et),ze=h(et,"DIV",{class:!0}),d(ze).forEach(u),yt=w(et),lt=h(et,"P",{});var Wl=d(lt);We=h(Wl,"SPAN",{class:!0});var _o=d(We);at=S(_o,"Numero cantiere:"),_o.forEach(u),St=w(Wl),qe=h(Wl,"SPAN",{class:!0});var bo=d(qe);dt=S(bo,ot),bo.forEach(u),Wl.forEach(u),Ot=w(et),Qe=h(et,"P",{});var Fl=d(Qe);ct=h(Fl,"SPAN",{class:!0});var wo=d(ct);$e=S(wo,"Aerogeneratore:"),wo.forEach(u),Nt=w(Fl),Ft=h(Fl,"SPAN",{class:!0});var ko=d(Ft);Re=S(ko,Ce),ko.forEach(u),Fl.forEach(u),Ye=w(et),Pe=h(et,"P",{});var Kl=d(Pe);xe=h(Kl,"SPAN",{class:!0});var Eo=d(xe);Ge=S(Eo,"Impianto eolico:"),Eo.forEach(u),Mt=w(Kl),Ue=h(Kl,"SPAN",{class:!0});var yo=d(Ue);ke=S(yo,z),yo.forEach(u),Kl.forEach(u),rt=w(et),Xe=h(et,"P",{});var Rl=d(Xe);Ee=h(Rl,"SPAN",{class:!0});var No=d(Ee);Dt=S(No,"Numero ODL:"),No.forEach(u),$t=w(Rl),Ct=h(Rl,"SPAN",{class:!0});var Do=d(Ct);Kt=S(Do,el),Do.forEach(u),Rl.forEach(u),Vt=w(et),At=h(et,"P",{});var Hl=d(At);Rt=h(Hl,"SPAN",{class:!0});var Io=d(Rt);tl=S(Io,"Operazioni:"),Io.forEach(u),_l=w(Hl),Ht=h(Hl,"SPAN",{class:!0});var To=d(Ht);dl=S(To,Pt),To.forEach(u),Hl.forEach(u),bl=w(et),bt=h(et,"P",{});var ql=d(bt);Lt=h(ql,"SPAN",{class:!0});var So=d(Lt);wl=S(So,"Tipologia:"),So.forEach(u),fl=w(ql),qt=h(ql,"SPAN",{class:!0});var Oo=d(qt);Yt=S(Oo,Bt),Oo.forEach(u),ql.forEach(u),Gt=w(et),zt=h(et,"P",{});var Yl=d(zt);It=h(Yl,"SPAN",{class:!0});var Mo=d(It);kl=S(Mo,"Stato:"),Mo.forEach(u),El=w(Yl),Jt=h(Yl,"SPAN",{class:!0});var Co=d(Jt);ll=S(Co,xt),Co.forEach(u),Yl.forEach(u),et.forEach(u),Xl=w(jl),ol=h(jl,"DIV",{class:!0});var Gl=d(ol);rl=h(Gl,"BUTTON",{type:!0,class:!0});var Vo=d(rl);Zl=S(Vo,"Annulla"),Vo.forEach(u),$l=w(Gl),Qt=h(Gl,"BUTTON",{class:!0});var Ao=d(Qt);Tl=h(Ao,"P",{});var Po=d(Tl);Cl=S(Po,Sl),Po.forEach(u),Ao.forEach(u),Gl.forEach(u),jl.forEach(u),Xt.forEach(u),eo=w(hl),wt=h(hl,"DIV",{class:!0});var yl=d(wt);al=h(yl,"INPUT",{type:!0,class:!0}),to=w(yl),sl=h(yl,"INPUT",{type:!0,class:!0}),lo=w(yl),il=h(yl,"INPUT",{type:!0,class:!0}),yl.forEach(u),hl.forEach(u),de.forEach(u),this.h()},h(){t(c,"class","input"),t(c,"type","text"),c.value=p=n[0].turbineName,t(c,"placeholder","Aerogeneratore*"),c.required=!0,c.disabled=n[1],t(v,"class","input"),t(v,"type","text"),v.value=k=n[0].turbineNumber,t(v,"placeholder","Numero cantiere"),t(m,"class","input"),t(m,"type","text"),m.value=D=n[0].description,t(m,"placeholder","Impianto Eolico*"),m.required=!0,t(C,"class","input"),t(C,"type","number"),C.value=_=n[0].odlNumber,t(C,"placeholder","Numero ODL"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),t(L,"class","w-full"),L.value=le=n[0].operation.length>0?n[0].operation.join(", "):"",L.disabled=!0,t(L,"placeholder","Operazioni*"),L.required=!0,t(x,"type","button"),t(x,"class","input hover:bg-gray-200 text-start transition ease-in-out"),t(E,"class","col-span-full mt-5"),t(V,"class","text-xl text-white font-mono"),t(V,"for","smantleCheckbox"),t(X,"id","smantleCheckbox"),t(X,"class","checkbox w-8 h-8"),t(X,"type","checkbox"),X.value=B=n[0].toNotDismantle,t(K,"class","flex flex-row justify-between p-2 items-center"),t(he,"class","col-span-full mt-auto"),t(i,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(G,"class","col-span-full"),t(Y,"for","dateEEMM"),t(Y,"class","font-mono text-white"),t(te,"id","dateEEMM"),t(te,"class","input"),t(te,"type","date"),te.value=Ae=n[0].startingDateEEMM!==void 0?n[0].startingDateEEMM:"",t(te,"placeholder","Data inizio EEMM"),t(De,"for","dateEEMM"),t(De,"class","font-mono text-white"),t(Se,"class","input"),t(Se,"type","date"),Se.value=me=n[0].startingDateOOCC!==void 0?n[0].startingDateOOCC:"",t(Se,"placeholder","Data inizio OOCC"),t(Be,"for","dateEEMM"),t(Be,"class","font-mono text-white"),t(Z,"class","input"),t(Z,"type","date"),Z.value=W=n[0].permittingDate!==void 0?n[0].permittingDate:"",t(Z,"placeholder","Validità permitting"),t(Fe,"for","dateEEMM"),t(Fe,"class","font-mono text-white"),t(ie,"class","input"),t(ie,"type","date"),ie.value=it=n[0].priorNotification!==void 0?n[0].priorNotification:"",t(ie,"placeholder","Validità notifica"),t(R,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(oe,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),t(ze,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),t(We,"class","font-mono font-bold text-gray-300"),t(qe,"class","font-mono text-gray-300"),t(ct,"class","font-mono font-bold text-gray-300"),t(Ft,"class","font-mono text-gray-300"),t(xe,"class","font-mono font-bold text-gray-300"),t(Ue,"class","font-mono text-gray-300"),t(Ee,"class","font-mono font-bold text-gray-300"),t(Ct,"class","font-mono text-gray-300"),t(Rt,"class","font-mono font-bold text-gray-300"),t(Ht,"class","font-mono text-gray-300"),t(Lt,"class","font-mono font-bold text-gray-300"),t(qt,"class","font-mono text-gray-300"),t(It,"class","font-mono font-bold text-gray-300"),t(Jt,"class","font-mono text-gray-300"),t(A,"class","w-[15rem] md:w-[29rem] h-3/4"),t(rl,"type","button"),t(rl,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 rounded w-24"),t(Qt,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 rounded w-24"),Qt.disabled=n[5],t(ol,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),t(ye,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(a,"id","scrollable"),t(a,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),t(al,"type","checkbox"),al.checked=Vl=n[4]===0,t(al,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),t(sl,"type","checkbox"),sl.checked=Al=n[4]===1,t(sl,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),t(il,"type","checkbox"),il.checked=Pl=n[4]===2,t(il,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),t(wt,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),t(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(J,de){ae(J,e,de),Je&&Je.m(e,null),o(e,l),o(e,r),o(r,a),o(a,i),o(i,s),o(s,c),o(s,g),o(s,v),o(s,I),o(s,m),o(s,M),o(s,C),o(i,N),o(i,E),o(E,x),o(x,L),o(i,j),o(i,K),o(K,V),o(V,U),o(K,$),o(K,X),o(i,fe),o(i,he),pt(P,he,null),o(a,ee),o(a,R),o(R,G),pt(ne,G,null),o(R,ve),o(R,Me),o(Me,Y),o(Y,Q),o(Me,y),o(Me,te),o(R,Ne),o(R,_e),o(_e,De),o(De,Ie),o(_e,He),o(_e,Se),o(R,je),o(R,ce),o(ce,Be),o(Be,ue),o(ce,pe),o(ce,Z),o(R,se),o(R,F),o(F,Fe),o(Fe,Ke),o(F,Oe),o(F,ie),o(a,Ze),o(a,ye),o(ye,A),o(A,oe),o(oe,be),o(oe,nt),o(A,tt),o(A,ze),o(A,yt),o(A,lt),o(lt,We),o(We,at),o(lt,St),o(lt,qe),o(qe,dt),o(A,Ot),o(A,Qe),o(Qe,ct),o(ct,$e),o(Qe,Nt),o(Qe,Ft),o(Ft,Re),o(A,Ye),o(A,Pe),o(Pe,xe),o(xe,Ge),o(Pe,Mt),o(Pe,Ue),o(Ue,ke),o(A,rt),o(A,Xe),o(Xe,Ee),o(Ee,Dt),o(Xe,$t),o(Xe,Ct),o(Ct,Kt),o(A,Vt),o(A,At),o(At,Rt),o(Rt,tl),o(At,_l),o(At,Ht),o(Ht,dl),o(A,bl),o(A,bt),o(bt,Lt),o(Lt,wl),o(bt,fl),o(bt,qt),o(qt,Yt),o(A,Gt),o(A,zt),o(zt,It),o(It,kl),o(zt,El),o(zt,Jt),o(Jt,ll),o(ye,Xl),o(ye,ol),o(ol,rl),o(rl,Zl),o(ol,$l),o(ol,Qt),o(Qt,Tl),o(Tl,Cl),o(r,eo),o(r,wt),o(wt,al),o(wt,to),o(wt,sl),o(wt,lo),o(wt,il),Te=!0,oo||(so=[O(c,"change",n[20]),O(v,"change",n[21]),O(m,"change",n[22]),O(C,"change",n[23]),O(x,"click",n[24]),O(X,"change",n[25]),O(te,"change",n[28]),O(Se,"change",n[29]),O(Z,"change",n[30]),O(ie,"change",n[31]),O(rl,"click",n[10]),O(Qt,"click",cr(n[11])),O(a,"click",ut(n[14])),O(a,"keydown",ut(n[15])),O(a,"scroll",n[6]),O(al,"change",n[32]),O(sl,"change",n[33]),O(il,"change",n[34]),O(wt,"click",ut(n[12])),O(wt,"keydown",ut(n[13])),O(e,"click",n[10]),O(e,"keydown",n[10])],oo=!0)},p(J,de){J[2]?Je?(Je.p(J,de),de[0]&4&&we(Je,1)):(Je=Ko(J),Je.c(),we(Je,1),Je.m(e,l)):Je&&(pl(),Ve(Je,1,1,()=>{Je=null}),gl()),(!Te||de[0]&1&&p!==(p=J[0].turbineName)&&c.value!==p)&&(c.value=p),(!Te||de[0]&2)&&(c.disabled=J[1]),(!Te||de[0]&1&&k!==(k=J[0].turbineNumber)&&v.value!==k)&&(v.value=k),(!Te||de[0]&1&&D!==(D=J[0].description)&&m.value!==D)&&(m.value=D),(!Te||de[0]&1&&_!==(_=J[0].odlNumber)&&C.value!==_)&&(C.value=_),(!Te||de[0]&1&&le!==(le=J[0].operation.length>0?J[0].operation.join(", "):"")&&L.value!==le)&&(L.value=le),(!Te||de[0]&1&&B!==(B=J[0].toNotDismantle))&&(X.value=B);const hl={};de[0]&1&&(hl.isKilowatt=J[0].power==="KILOWATT"),P.$set(hl);const Xt={};de[0]&1&&(Xt.state=J[0].turbineState),ne.$set(Xt),(!Te||de[0]&1&&Ae!==(Ae=J[0].startingDateEEMM!==void 0?J[0].startingDateEEMM:""))&&(te.value=Ae),(!Te||de[0]&1&&me!==(me=J[0].startingDateOOCC!==void 0?J[0].startingDateOOCC:""))&&(Se.value=me),(!Te||de[0]&1&&W!==(W=J[0].permittingDate!==void 0?J[0].permittingDate:""))&&(Z.value=W),(!Te||de[0]&1&&it!==(it=J[0].priorNotification!==void 0?J[0].priorNotification:""))&&(ie.value=it),(!Te||de[0]&2)&&re!==(re=J[1]?"modifica":"creazione")&&ge(nt,re),(!Te||de[0]&1)&&ot!==(ot=J[0].turbineNumber+"")&&ge(dt,ot),(!Te||de[0]&1)&&Ce!==(Ce=J[0].turbineName+"")&&ge(Re,Ce),(!Te||de[0]&1)&&z!==(z=J[0].description+"")&&ge(ke,z),(!Te||de[0]&1)&&el!==(el=(J[0].odlNumber||"N/A")+"")&&ge(Kt,el),(!Te||de[0]&1)&&Pt!==(Pt=J[0].operation+"")&&ge(dl,Pt),(!Te||de[0]&1)&&Bt!==(Bt=J[0].power+"")&&ge(Yt,Bt),(!Te||de[0]&1)&&xt!==(xt=J[0].turbineState+"")&&ge(ll,xt),(!Te||de[0]&2)&&Sl!==(Sl=J[1]?"Modifica":"Crea")&&ge(Cl,Sl),(!Te||de[0]&32)&&(Qt.disabled=J[5]),(!Te||de[0]&16&&Vl!==(Vl=J[4]===0))&&(al.checked=Vl),(!Te||de[0]&16&&Al!==(Al=J[4]===1))&&(sl.checked=Al),(!Te||de[0]&16&&Pl!==(Pl=J[4]===2))&&(il.checked=Pl)},i(J){Te||(we(Je),we(P.$$.fragment,J),we(ne.$$.fragment,J),Et(()=>{nl||(nl=Il(a,Tt,{duration:150},!0)),nl.run(1)}),Te=!0)},o(J){Ve(Je),Ve(P.$$.fragment,J),Ve(ne.$$.fragment,J),nl||(nl=Il(a,Tt,{duration:150},!1)),nl.run(0),Te=!1},d(J){J&&u(e),Je&&Je.d(),gt(P),gt(ne),J&&nl&&nl.end(),oo=!1,st(so)}}}function Rr(n,e,l){let{isEditMode:r=!1}=e,{windfarm:a={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null,toNotDismantle:!1}}=e;const i=Zt();let s=!1,c=[];ao(()=>{l(3,c=Object.values(kt).map(y=>({name:y,isSelected:a.operation.includes(y)})))});let p=0;const g=()=>{const y=document.getElementById("scrollable"),te=y.scrollLeft,Ae=y.scrollWidth,Ne=y.offsetWidth,_e=Ae-te-Ne;te<=10?l(4,p=0):_e<=10?l(4,p=2):l(4,p=1)},v=()=>{document.getElementById("scrollable").scrollTo({left:0,behavior:"smooth"})},k=()=>{const y=document.getElementById("scrollable");y.scrollTo({left:y.scrollWidth,behavior:"smooth"})},I=()=>{const y=document.getElementById("scrollable");let te=y.scrollWidth/2;window.innerWidth<768&&(te=y.scrollWidth/3),y.scrollTo({left:te,behavior:"smooth"})},m=()=>{i("close")},D=()=>a.turbineName!==""&&a.description!==""&&a.operation.length>0&&a.operation[0]!=="",M=()=>{l(0,a={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null})};let C=!1;const _=()=>{C||!D()||(l(5,C=!0),r?Vr(a).then(y=>{y!==void 0&&y.status===200?(i("updated"),l(5,C=!1),M()):console.log("Error while updating windfarm: ",y)}).catch(y=>{console.log(y)}):Cr(a).then(()=>{i("created"),l(5,C=!1),M()}).catch(y=>{console.log(y)}))};function N(y){Wt.call(this,n,y)}function E(y){Wt.call(this,n,y)}function x(y){Wt.call(this,n,y)}function L(y){Wt.call(this,n,y)}const le=()=>{l(2,s=!1)},j=y=>{l(3,c=y.detail),l(0,a.operation=c.filter(te=>te.isSelected).map(te=>te.name),a),l(2,s=!1)},K=()=>{l(2,s=!1)},V=()=>{l(2,s=!1)},U=y=>{l(0,a.turbineName=y.target.value,a)},$=y=>{l(0,a.turbineNumber=y.target.value,a)},X=y=>{l(0,a.description=y.target.value,a)},B=y=>{l(0,a.odlNumber=y.target.value,a)},fe=()=>{l(2,s=!s)},he=y=>{l(0,a.toNotDismantle=y.target.checked,a)},P=y=>l(0,a.power=y.detail,a),ee=y=>l(0,a.turbineState=y.detail,a),R=y=>{l(0,a.startingDateEEMM=y.target.value,a)},G=y=>{l(0,a.startingDateOOCC=y.target.value,a)},ne=y=>{l(0,a.permittingDate=y.target.value,a)},ve=y=>{l(0,a.priorNotification=y.target.value,a)},Me=()=>{v()},Y=()=>{I()},Q=()=>{k()};return n.$$set=y=>{"isEditMode"in y&&l(1,r=y.isEditMode),"windfarm"in y&&l(0,a=y.windfarm)},[a,r,s,c,p,C,g,v,k,I,m,_,N,E,x,L,le,j,K,V,U,$,X,B,fe,he,P,ee,R,G,ne,ve,Me,Y,Q]}class fr extends vt{constructor(e){super(),mt(this,e,Rr,Kr,_t,{isEditMode:1,windfarm:0},null,[-1,-1])}}function Hr(n){let e,l;return e=new fr({props:{windfarm:n[0],isEditMode:!0}}),e.$on("close",n[1]),e.$on("updated",n[2]),{c(){ft(e.$$.fragment)},l(r){ht(e.$$.fragment,r)},m(r,a){pt(e,r,a),l=!0},p(r,[a]){const i={};a&1&&(i.windfarm=r[0]),e.$set(i)},i(r){l||(we(e.$$.fragment,r),l=!0)},o(r){Ve(e.$$.fragment,r),l=!1},d(r){gt(e,r)}}}function qr(n,e,l){let{turbine:r}=e;const a=Zt(),i=()=>{a("close")},s=()=>{a("updated")};return n.$$set=c=>{"turbine"in c&&l(0,r=c.turbine)},[r,i,s]}class Yr extends vt{constructor(e){super(),mt(this,e,qr,Hr,_t,{turbine:0})}}function Gr(n){let e,l;return e=new fr({props:{isEditMode:!1}}),e.$on("close",n[0]),e.$on("created",n[1]),{c(){ft(e.$$.fragment)},l(r){ht(e.$$.fragment,r)},m(r,a){pt(e,r,a),l=!0},p:Le,i(r){l||(we(e.$$.fragment,r),l=!0)},o(r){Ve(e.$$.fragment,r),l=!1},d(r){gt(e,r)}}}function Jr(n){const e=Zt();return[()=>{e("close")},()=>{e("created")}]}class Qr extends vt{constructor(e){super(),mt(this,e,Jr,Gr,_t,{})}}const hr="https://dockyard-handler.herokuapp.com/v1.0.0";async function Ro(n){if(console.log("Retrieving steps for event "+n),typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await ml.get(hr+"/steps/"+n,l)).data}else console.log("Token not found in local storage")}async function Xr(n,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.put(hr+"/step/complete?stepId="+n+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function Ho(n,e,l){const r=n.slice();return r[6]=e[l],r}function Zr(n){return{c:Le,l:Le,m:Le,p:Le,d:Le}}function $r(n){let e=[],l=new Map,r,a=n[0];const i=s=>s[6].id;for(let s=0;s<a.length;s+=1){let c=Ho(n,a,s),p=i(c);l.set(p,e[s]=Yo(p,c))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=Dl()},l(s){for(let c=0;c<e.length;c+=1)e[c].l(s);r=Dl()},m(s,c){for(let p=0;p<e.length;p+=1)e[p].m(s,c);ae(s,r,c)},p(s,c){c&7&&(a=s[0],e=no(e,c,i,1,s,a,l,r.parentNode,ur,Yo,r,Ho))},d(s){for(let c=0;c<e.length;c+=1)e[c].d(s);s&&u(r)}}}function qo(n){let e,l,r,a,i,s,c;return{c(){e=f("div"),l=f("p"),r=T("Completato"),a=b(),i=H("svg"),s=H("path"),c=H("polyline"),this.h()},l(p){e=h(p,"DIV",{class:!0});var g=d(e);l=h(g,"P",{class:!0});var v=d(l);r=S(v,"Completato"),v.forEach(u),a=w(g),i=q(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var k=d(i);s=q(k,"path",{d:!0}),d(s).forEach(u),c=q(k,"polyline",{points:!0}),d(c).forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){t(l,"class","font-bold uppercase"),t(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),t(c,"points","22 4 12 14.01 9 11.01"),t(i,"xmlns","http://www.w3.org/2000/svg"),t(i,"width","22"),t(i,"height","22"),t(i,"viewBox","0 0 24 24"),t(i,"fill","none"),t(i,"stroke","currentColor"),t(i,"stroke-width","2"),t(i,"stroke-linecap","round"),t(i,"stroke-linejoin","round"),t(i,"class","feather feather-check-circle text-green-500"),t(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(p,g){ae(p,e,g),o(e,l),o(l,r),o(e,a),o(e,i),o(i,s),o(i,c)},d(p){p&&u(e)}}}function Yo(n,e){let l,r,a,i,s,c,p,g=e[6].name+"",v,k,I=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,m,D,M;function C(){return e[4](e[6])}let _=I&&qo();return{key:n,first:null,c(){l=f("div"),r=f("input"),s=b(),c=f("div"),p=f("p"),v=T(g),k=b(),_&&_.c(),m=b(),this.h()},l(N){l=h(N,"DIV",{class:!0});var E=d(l);r=h(E,"INPUT",{type:!0,class:!0}),s=w(E),c=h(E,"DIV",{class:!0});var x=d(c);p=h(x,"P",{});var L=d(p);v=S(L,g),L.forEach(u),x.forEach(u),k=w(E),_&&_.l(E),m=w(E),E.forEach(u),this.h()},h(){t(r,"type","checkbox"),t(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=a=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=i=e[6].complete,t(c,"class","col-span-6 text-left"),t(l,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm mr-3"),this.first=l},m(N,E){ae(N,l,E),o(l,r),o(l,s),o(l,c),o(c,p),o(p,v),o(l,k),_&&_.m(l,null),o(l,m),D||(M=O(r,"click",C),D=!0)},p(N,E){e=N,E&3&&a!==(a=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=a),E&1&&i!==(i=e[6].complete)&&(r.checked=i),E&1&&g!==(g=e[6].name+"")&&ge(v,g),E&3&&(I=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),I?_||(_=qo(),_.c(),_.m(l,m)):_&&(_.d(1),_=null)},d(N){N&&u(l),_&&_.d(),D=!1,M()}}}function en(n){let e,l;return{c(){e=f("div"),l=T("Caricamento..."),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=d(e);l=S(a,"Caricamento..."),a.forEach(u),this.h()},h(){t(e,"class","col-span-7 text-center")},m(r,a){ae(r,e,a),o(e,l)},p:Le,d(r){r&&u(e)}}}function tn(n){let e,l,r,a,i,s,c,p,g,v,k,I,m,D={ctx:n,current:null,token:null,hasCatch:!1,pending:en,then:$r,catch:Zr,value:0};return Lo(k=n[0],D),{c(){e=f("div"),l=f("div"),r=H("svg"),a=H("path"),i=H("path"),s=b(),c=f("h1"),p=T("Tracciamento fasi"),g=b(),v=f("div"),D.block.c(),this.h()},l(M){e=h(M,"DIV",{class:!0});var C=d(e);l=h(C,"DIV",{class:!0});var _=d(l);r=q(_,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var N=d(r);a=q(N,"path",{d:!0}),d(a).forEach(u),i=q(N,"path",{d:!0}),d(i).forEach(u),N.forEach(u),s=w(_),c=h(_,"H1",{class:!0});var E=d(c);p=S(E,"Tracciamento fasi"),E.forEach(u),_.forEach(u),g=w(C),v=h(C,"DIV",{id:!0,class:!0});var x=d(v);D.block.l(x),x.forEach(u),C.forEach(u),this.h()},h(){t(a,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),t(i,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),t(r,"xmlns","http://www.w3.org/2000/svg"),t(r,"width","24"),t(r,"height","24"),t(r,"viewBox","0 0 24 24"),t(r,"fill","none"),t(r,"stroke","currentColor"),t(r,"stroke-width","2"),t(r,"stroke-linecap","round"),t(r,"stroke-linejoin","round"),t(r,"class","feather feather-link"),t(c,"class","font-mono text-2xl"),t(l,"class","flex flex-row items-center md:justify-center mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),t(v,"id","stepsContainer"),t(v,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll max-h-80 gap-2 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800 items-center"),t(e,"class","col-span-1 text-white w-[19rem] p-1 md:p-0 md:w-[29rem]")},m(M,C){ae(M,e,C),o(e,l),o(l,r),o(r,a),o(r,i),o(l,s),o(l,c),o(c,p),o(e,g),o(e,v),D.block.m(v,D.anchor=null),D.mount=()=>v,D.anchor=null},p(M,[C]){n=M,D.ctx=n,C&1&&k!==(k=n[0])&&Lo(k,D)||gr(D,n,C)},i(M){I||Et(()=>{I=vl(v,Tt,{delay:500,duration:1e3}),I.start()}),m||Et(()=>{m=vl(e,dr,{delay:400,duration:1e3}),m.start()})},o:Le,d(M){M&&u(e),D.block.d(),D.token=null,D=null}}}function ln(n,e,l){let r,{turbine:a}=e,i=[];ao(()=>{Ro(a.id).then(g=>{l(0,i=g)}),setTimeout(()=>{c()},1500)});const s=(g,v)=>{Xr(g,v).then(()=>{Ro(a.id).then(k=>{l(0,i=k),v?l(3,a.completedSteps+=1,a):l(3,a.completedSteps-=1,a),c()})})};function c(){const g=document.getElementById("stepsContainer"),v=9;if(g){const k=window.innerWidth<768?2:4,I=a.completedSteps-k;if(I>=0&&a.completedSteps<v){g.scrollTo({top:g.scrollHeight/v*(I+1),behavior:"smooth"});return}else if(a.completedSteps===v){setTimeout(()=>{g.scrollTo({top:0,behavior:"smooth"})},500);return}}}const p=g=>s(g.id,!g.complete);return n.$$set=g=>{"turbine"in g&&l(3,a=g.turbine)},n.$$.update=()=>{n.$$.dirty&9&&l(1,r=i[a.completedSteps])},[i,r,s,a,p]}class on extends vt{constructor(e){super(),mt(this,e,ln,tn,_t,{turbine:3})}}function rn(n){let e,l,r,a,i,s,c,p,g,v,k,I,m;return{c(){e=f("div"),l=f("p"),r=T("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),a=b(),i=f("div"),s=f("button"),c=T("Annulla"),p=b(),g=f("button"),v=T("Conferma"),this.h()},l(D){e=h(D,"DIV",{class:!0});var M=d(e);l=h(M,"P",{class:!0});var C=d(l);r=S(C,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),C.forEach(u),a=w(M),i=h(M,"DIV",{class:!0});var _=d(i);s=h(_,"BUTTON",{class:!0});var N=d(s);c=S(N,"Annulla"),N.forEach(u),p=w(_),g=h(_,"BUTTON",{class:!0});var E=d(g);v=S(E,"Conferma"),E.forEach(u),_.forEach(u),M.forEach(u),this.h()},h(){t(l,"class","font-bold text-lg"),t(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),t(g,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),t(i,"class","flex justify-end mt-5 text-sm"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(D,M){ae(D,e,M),o(e,l),o(l,r),o(e,a),o(e,i),o(i,s),o(s,c),o(i,p),o(i,g),o(g,v),I||(m=[O(s,"click",n[1]),O(g,"click",n[0]),O(e,"click",n[2]),O(e,"keydown",n[2])],I=!0)},p:Le,i(D){k||Et(()=>{k=vl(e,Tt,{duration:300}),k.start()})},o:Le,d(D){D&&u(e),I=!1,st(m)}}}function nn(n){const e=Zt();return[()=>{e("confirm")},()=>{e("cancel")},i=>{i.stopPropagation()}]}class an extends vt{constructor(e){super(),mt(this,e,nn,rn,_t,{})}}function sn(n){let e,l,r=n[0]==="KILOWATT"?"Kw":"Mw",a,i;return{c(){e=f("div"),l=f("span"),a=T(r),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);l=h(c,"SPAN",{});var p=d(l);a=S(p,r),p.forEach(u),c.forEach(u),this.h()},h(){t(e,"class",i="font-mono ring-2 text-lg my-1 max-w-min "+(n[0]==="KILOWATT"?"ring-green-500 bg-green-100":"ring-blue-500 bg-blue-100")+" rounded px-2")},m(s,c){ae(s,e,c),o(e,l),o(l,a)},p(s,[c]){c&1&&r!==(r=s[0]==="KILOWATT"?"Kw":"Mw")&&ge(a,r),c&1&&i!==(i="font-mono ring-2 text-lg my-1 max-w-min "+(s[0]==="KILOWATT"?"ring-green-500 bg-green-100":"ring-blue-500 bg-blue-100")+" rounded px-2")&&t(e,"class",i)},i:Le,o:Le,d(s){s&&u(e)}}}function cn(n,e,l){let{power:r="KILOWATT"}=e;return n.$$set=a=>{"power"in a&&l(0,r=a.power)},[r]}class un extends vt{constructor(e){super(),mt(this,e,cn,sn,_t,{power:0})}}function Go(n,e,l){const r=n.slice();return r[22]=e[l],r}function Jo(n){let e,l,r,a,i;return l=new an({}),l.$on("confirm",n[8]),l.$on("cancel",n[14]),{c(){e=f("div"),ft(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(l.$$.fragment,c),c.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,c){ae(s,e,c),pt(l,e,null),r=!0,a||(i=[O(e,"click",n[15]),O(e,"keydown",n[16])],a=!0)},p:Le,i(s){r||(we(l.$$.fragment,s),r=!0)},o(s){Ve(l.$$.fragment,s),r=!1},d(s){s&&u(e),gt(l),a=!1,st(i)}}}function Qo(n){let e,l,r=n[0].turbineNumber+"",a;return{c(){e=f("span"),l=T("- "),a=T(r)},l(i){e=h(i,"SPAN",{});var s=d(e);l=S(s,"- "),a=S(s,r),s.forEach(u)},m(i,s){ae(i,e,s),o(e,l),o(e,a)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&ge(a,r)},d(i){i&&u(e)}}}function Xo(n){let e,l,r,a=(n[0].creationDate?n[0].creationDate.substring(0,10):new Date().toISOString().substring(0,10))+"",i;return{c(){e=f("p"),l=T("Creazione: "),r=f("span"),i=T(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);l=S(c,"Creazione: "),r=h(c,"SPAN",{});var p=d(r);i=S(p,a),p.forEach(u),c.forEach(u),this.h()},h(){t(e,"class","font-mono text-white")},m(s,c){ae(s,e,c),o(e,l),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=(s[0].creationDate?s[0].creationDate.substring(0,10):new Date().toISOString().substring(0,10))+"")&&ge(i,a)},d(s){s&&u(e)}}}function Zo(n){let e,l,r,a=n[0].permittingDate+"",i;return{c(){e=f("p"),l=T("Valdità permitting: "),r=f("span"),i=T(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);l=S(c,"Valdità permitting: "),r=h(c,"SPAN",{});var p=d(r);i=S(p,a),p.forEach(u),c.forEach(u),this.h()},h(){t(e,"class","font-mono text-white")},m(s,c){ae(s,e,c),o(e,l),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=s[0].permittingDate+"")&&ge(i,a)},d(s){s&&u(e)}}}function $o(n){let e,l,r,a=n[0].priorNotification+"",i;return{c(){e=f("p"),l=T("Valdità notifica: "),r=f("span"),i=T(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);l=S(c,"Valdità notifica: "),r=h(c,"SPAN",{});var p=d(r);i=S(p,a),p.forEach(u),c.forEach(u),this.h()},h(){t(e,"class","font-mono text-white")},m(s,c){ae(s,e,c),o(e,l),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=s[0].priorNotification+"")&&ge(i,a)},d(s){s&&u(e)}}}function er(n){let e,l,r=n[0].toNotDismantle?"Da non smantellare":"Da smantellare",a;return{c(){e=f("div"),l=f("p"),a=T(r),this.h()},l(i){e=h(i,"DIV",{class:!0});var s=d(e);l=h(s,"P",{});var c=d(l);a=S(c,r),c.forEach(u),s.forEach(u),this.h()},h(){t(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 cursor-default top-8")},m(i,s){ae(i,e,s),o(e,l),o(l,a)},p(i,s){s&1&&r!==(r=i[0].toNotDismantle?"Da non smantellare":"Da smantellare")&&ge(a,r)},d(i){i&&u(e)}}}function tr(n){let e,l=n[22]+"",r,a;return{c(){e=f("li"),r=T(l),a=b(),this.h()},l(i){e=h(i,"LI",{class:!0});var s=d(e);r=S(s,l),a=w(s),s.forEach(u),this.h()},h(){t(e,"class","text-sm list-disc ml-5 font-bold")},m(i,s){ae(i,e,s),o(e,r),o(e,a)},p(i,s){s&1&&l!==(l=i[22]+"")&&ge(r,l)},d(i){i&&u(e)}}}function dn(n){let e,l,r,a,i,s,c,p=n[0].turbineName+"",g,v,k,I,m,D,M,C,_,N=n[0].turbineState+"",E,x,L,le,j,K,V,U,$,X,B,fe,he,P,ee,R,G,ne,ve,Me,Y,Q,y,te,Ae,Ne,_e,De,Ie,He=(n[0].startingDateEEMM||"N/A")+"",Se,me,je,ce,Be,ue=(n[0].startingDateOOCC||"N/A")+"",pe,Z,W,se,F,Fe,Ke,Oe,ie,it,Ze,ye,A,oe,be,re,nt,tt,ze,yt,lt,We,at,St,qe,ot,dt,Ot,Qe,ct,$e,Nt,Ft,Ce=n[2]&&Jo(n),Re=n[0].turbineNumber&&Qo(n);I=new un({props:{power:n[0].power}});let Ye=n[0].creationDate&&Xo(n),Pe=n[0].permittingDate!==void 0&&Zo(n),xe=n[0].priorNotification!==void 0&&$o(n),Ge=n[3]&&er(n),Mt=n[0].operation,Ue=[];for(let z=0;z<Mt.length;z+=1)Ue[z]=tr(Go(n,Mt,z));return We=new on({props:{turbine:n[0]}}),{c(){e=f("div"),l=f("div"),Ce&&Ce.c(),r=b(),a=f("div"),i=f("div"),s=f("div"),c=f("h1"),g=T(p),v=b(),Re&&Re.c(),k=b(),ft(I.$$.fragment),m=b(),Ye&&Ye.c(),D=b(),M=f("p"),C=T("Stato turbina: "),_=f("span"),E=T(N),x=b(),Pe&&Pe.c(),L=b(),xe&&xe.c(),le=b(),j=f("div"),K=f("div"),V=f("p"),U=T("Attività"),$=b(),X=f("button"),B=H("svg"),fe=H("circle"),he=H("line"),P=H("line"),R=b(),Ge&&Ge.c(),G=b(),ne=f("div"),ve=f("ul");for(let z=0;z<Ue.length;z+=1)Ue[z].c();Me=b(),Y=f("div"),Q=f("div"),y=f("h1"),te=T("Tracciamento eventi"),Ae=b(),Ne=f("ul"),_e=f("li"),De=T("Inizio ATT EEMM: "),Ie=f("span"),Se=T(He),me=b(),je=f("li"),ce=T("Inizio ATT OOCC: "),Be=f("span"),pe=T(ue),Z=b(),W=f("div"),se=f("button"),F=H("svg"),Fe=H("polyline"),Ke=H("path"),Oe=H("line"),ie=H("line"),it=b(),Ze=f("p"),ye=T("Elimina"),A=b(),oe=f("button"),be=H("svg"),re=H("path"),nt=b(),tt=f("p"),ze=T("Modifica"),yt=b(),lt=f("div"),ft(We.$$.fragment),St=b(),qe=f("div"),ot=f("input"),Ot=b(),Qe=f("input"),this.h()},l(z){e=h(z,"DIV",{class:!0});var ke=d(e);l=h(ke,"DIV",{id:!0,class:!0});var rt=d(l);Ce&&Ce.l(rt),r=w(rt),a=h(rt,"DIV",{class:!0});var Xe=d(a);i=h(Xe,"DIV",{class:!0});var Ee=d(i);s=h(Ee,"DIV",{class:!0});var Dt=d(s);c=h(Dt,"H1",{class:!0});var $t=d(c);g=S($t,p),v=w($t),Re&&Re.l($t),$t.forEach(u),k=w(Dt),ht(I.$$.fragment,Dt),Dt.forEach(u),m=w(Ee),Ye&&Ye.l(Ee),D=w(Ee),M=h(Ee,"P",{class:!0});var Ct=d(M);C=S(Ct,"Stato turbina: "),_=h(Ct,"SPAN",{});var el=d(_);E=S(el,N),el.forEach(u),Ct.forEach(u),x=w(Ee),Pe&&Pe.l(Ee),L=w(Ee),xe&&xe.l(Ee),Ee.forEach(u),le=w(Xe),j=h(Xe,"DIV",{class:!0});var Kt=d(j);K=h(Kt,"DIV",{class:!0});var Vt=d(K);V=h(Vt,"P",{class:!0});var At=d(V);U=S(At,"Attività"),At.forEach(u),$=w(Vt),X=h(Vt,"BUTTON",{class:!0});var Rt=d(X);B=q(Rt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var tl=d(B);fe=q(tl,"circle",{cx:!0,cy:!0,r:!0}),d(fe).forEach(u),he=q(tl,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(he).forEach(u),P=q(tl,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(P).forEach(u),tl.forEach(u),Rt.forEach(u),R=w(Vt),Ge&&Ge.l(Vt),Vt.forEach(u),G=w(Kt),ne=h(Kt,"DIV",{class:!0});var _l=d(ne);ve=h(_l,"UL",{class:!0});var Ht=d(ve);for(let ll=0;ll<Ue.length;ll+=1)Ue[ll].l(Ht);Ht.forEach(u),_l.forEach(u),Kt.forEach(u),Me=w(Xe),Y=h(Xe,"DIV",{class:!0});var Pt=d(Y);Q=h(Pt,"DIV",{class:!0});var dl=d(Q);y=h(dl,"H1",{class:!0});var bl=d(y);te=S(bl,"Tracciamento eventi"),bl.forEach(u),dl.forEach(u),Ae=w(Pt),Ne=h(Pt,"UL",{});var bt=d(Ne);_e=h(bt,"LI",{class:!0});var Lt=d(_e);De=S(Lt,"Inizio ATT EEMM: "),Ie=h(Lt,"SPAN",{class:!0});var wl=d(Ie);Se=S(wl,He),wl.forEach(u),Lt.forEach(u),me=w(bt),je=h(bt,"LI",{class:!0});var fl=d(je);ce=S(fl,"Inizio ATT OOCC: "),Be=h(fl,"SPAN",{class:!0});var qt=d(Be);pe=S(qt,ue),qt.forEach(u),fl.forEach(u),bt.forEach(u),Pt.forEach(u),Z=w(Xe),W=h(Xe,"DIV",{id:!0,class:!0});var Bt=d(W);se=h(Bt,"BUTTON",{class:!0});var Yt=d(se);F=q(Yt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Gt=d(F);Fe=q(Gt,"polyline",{points:!0}),d(Fe).forEach(u),Ke=q(Gt,"path",{d:!0}),d(Ke).forEach(u),Oe=q(Gt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Oe).forEach(u),ie=q(Gt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ie).forEach(u),Gt.forEach(u),it=w(Yt),Ze=h(Yt,"P",{class:!0});var zt=d(Ze);ye=S(zt,"Elimina"),zt.forEach(u),Yt.forEach(u),A=w(Bt),oe=h(Bt,"BUTTON",{class:!0});var It=d(oe);be=q(It,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var kl=d(be);re=q(kl,"path",{d:!0}),d(re).forEach(u),kl.forEach(u),nt=w(It),tt=h(It,"P",{class:!0});var El=d(tt);ze=S(El,"Modifica"),El.forEach(u),It.forEach(u),Bt.forEach(u),Xe.forEach(u),yt=w(rt),lt=h(rt,"DIV",{class:!0});var Jt=d(lt);ht(We.$$.fragment,Jt),Jt.forEach(u),rt.forEach(u),St=w(ke),qe=h(ke,"DIV",{class:!0});var xt=d(qe);ot=h(xt,"INPUT",{type:!0,class:!0}),Ot=w(xt),Qe=h(xt,"INPUT",{type:!0,class:!0}),xt.forEach(u),ke.forEach(u),this.h()},h(){t(c,"class","font-mono font-bold text-2xl text-white mb-2"),t(s,"class","flex flex-row justify-between"),t(M,"class","font-mono text-white"),t(i,"class","grid grid-cols-1 w-[17rem] md:w-[27rem]"),t(V,"class","font-mono text-xl"),t(fe,"cx","12"),t(fe,"cy","12"),t(fe,"r","10"),t(he,"x1","12"),t(he,"y1","16"),t(he,"x2","12"),t(he,"y2","12"),t(P,"x1","12"),t(P,"y1","8"),t(P,"x2","12.01"),t(P,"y2","8"),t(B,"xmlns","http://www.w3.org/2000/svg"),t(B,"width","16"),t(B,"height","16"),t(B,"viewBox","0 0 24 24"),t(B,"fill","none"),t(B,"stroke","currentColor"),t(B,"stroke-width","2"),t(B,"stroke-linecap","round"),t(B,"stroke-linejoin","round"),t(B,"class","feather feather-info"),t(X,"class",ee="hover:text-amber-400 "+(n[3]?"text-amber-400":"")),t(K,"class","flex flex-row items-center gap-2 relative"),t(ve,"class","font-mono"),t(ne,"class","p-2"),t(j,"class","ring-2 rounded ring-gray-600 px-2 py-1 text-white"),t(y,"class","font-mono text-xl"),t(Q,"class","flex flex-row font-mono text-white"),t(Ie,"class","font-extralight"),t(_e,"class","text-sm list-disc ml-5 font-bold text-white"),t(Be,"class","font-extralight"),t(je,"class","text-sm list-disc ml-5 font-bold text-white"),t(Y,"class","flex flex-col gap-2 ring-2 rounded ring-gray-600 px-2 pb-2 pt-1"),t(Fe,"points","3 6 5 6 21 6"),t(Ke,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),t(Oe,"x1","10"),t(Oe,"y1","11"),t(Oe,"x2","10"),t(Oe,"y2","17"),t(ie,"x1","14"),t(ie,"y1","11"),t(ie,"x2","14"),t(ie,"y2","17"),t(F,"xmlns","http://www.w3.org/2000/svg"),t(F,"width","20"),t(F,"height","20"),t(F,"viewBox","0 0 24 24"),t(F,"fill","none"),t(F,"stroke","currentColor"),t(F,"stroke-width","2"),t(F,"stroke-linecap","round"),t(F,"stroke-linejoin","round"),t(F,"class","feather feather-trash-2"),t(Ze,"class","font-mono"),t(se,"class","flex flex-row gap-2 items-center text-red-500 hover:bg-gray-300 hover:shadow-sm bg-gray-200 rounded py-2 px-4"),t(re,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),t(be,"xmlns","http://www.w3.org/2000/svg"),t(be,"width","20"),t(be,"height","20"),t(be,"viewBox","0 0 24 24"),t(be,"fill","none"),t(be,"stroke","currentColor"),t(be,"stroke-width","2"),t(be,"stroke-linecap","round"),t(be,"stroke-linejoin","round"),t(be,"class","feather feather-edit-2"),t(tt,"class","font-mono"),t(oe,"class","flex flex-row gap-2 items-center text-blue-500 hover:bg-gray-300 hover:shadow-sm bg-gray-200 rounded py-2 px-4"),t(W,"id","action-buttons"),t(W,"class","grid place-content-center grid-flow-col gap-2 mt-6"),t(a,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(lt,"class","flex flex-col bg-gray-800 rounded ring-2 ring-gray-500 snap-center p-1"),t(l,"id","scrollable"),t(l,"class","flex flex-row gap-5 text-black p-2 w-[20rem] md:w-[30rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),t(ot,"type","checkbox"),ot.checked=dt=n[1]===0,t(ot,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1di21t9"),t(Qe,"type","checkbox"),Qe.checked=ct=n[1]===1,t(Qe,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1di21t9"),t(qe,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),t(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(z,ke){ae(z,e,ke),o(e,l),Ce&&Ce.m(l,null),o(l,r),o(l,a),o(a,i),o(i,s),o(s,c),o(c,g),o(c,v),Re&&Re.m(c,null),o(s,k),pt(I,s,null),o(i,m),Ye&&Ye.m(i,null),o(i,D),o(i,M),o(M,C),o(M,_),o(_,E),o(i,x),Pe&&Pe.m(i,null),o(i,L),xe&&xe.m(i,null),o(a,le),o(a,j),o(j,K),o(K,V),o(V,U),o(K,$),o(K,X),o(X,B),o(B,fe),o(B,he),o(B,P),o(K,R),Ge&&Ge.m(K,null),o(j,G),o(j,ne),o(ne,ve);for(let rt=0;rt<Ue.length;rt+=1)Ue[rt].m(ve,null);o(a,Me),o(a,Y),o(Y,Q),o(Q,y),o(y,te),o(Y,Ae),o(Y,Ne),o(Ne,_e),o(_e,De),o(_e,Ie),o(Ie,Se),o(Ne,me),o(Ne,je),o(je,ce),o(je,Be),o(Be,pe),o(a,Z),o(a,W),o(W,se),o(se,F),o(F,Fe),o(F,Ke),o(F,Oe),o(F,ie),o(se,it),o(se,Ze),o(Ze,ye),o(W,A),o(W,oe),o(oe,be),o(be,re),o(oe,nt),o(oe,tt),o(tt,ze),o(l,yt),o(l,lt),pt(We,lt,null),o(e,St),o(e,qe),o(qe,ot),o(qe,Ot),o(qe,Qe),$e=!0,Nt||(Ft=[O(X,"click",n[17]),O(se,"click",n[18]),O(oe,"click",n[9]),O(l,"click",ut(n[12])),O(l,"keydown",ut(n[13])),O(l,"scroll",n[4]),O(ot,"change",n[19]),O(Qe,"change",n[20]),O(qe,"click",ut(n[10])),O(qe,"keydown",ut(n[11])),O(e,"click",n[7]),O(e,"keydown",n[7])],Nt=!0)},p(z,[ke]){z[2]?Ce?(Ce.p(z,ke),ke&4&&we(Ce,1)):(Ce=Jo(z),Ce.c(),we(Ce,1),Ce.m(l,r)):Ce&&(pl(),Ve(Ce,1,1,()=>{Ce=null}),gl()),(!$e||ke&1)&&p!==(p=z[0].turbineName+"")&&ge(g,p),z[0].turbineNumber?Re?Re.p(z,ke):(Re=Qo(z),Re.c(),Re.m(c,null)):Re&&(Re.d(1),Re=null);const rt={};if(ke&1&&(rt.power=z[0].power),I.$set(rt),z[0].creationDate?Ye?Ye.p(z,ke):(Ye=Xo(z),Ye.c(),Ye.m(i,D)):Ye&&(Ye.d(1),Ye=null),(!$e||ke&1)&&N!==(N=z[0].turbineState+"")&&ge(E,N),z[0].permittingDate!==void 0?Pe?Pe.p(z,ke):(Pe=Zo(z),Pe.c(),Pe.m(i,L)):Pe&&(Pe.d(1),Pe=null),z[0].priorNotification!==void 0?xe?xe.p(z,ke):(xe=$o(z),xe.c(),xe.m(i,null)):xe&&(xe.d(1),xe=null),(!$e||ke&8&&ee!==(ee="hover:text-amber-400 "+(z[3]?"text-amber-400":"")))&&t(X,"class",ee),z[3]?Ge?Ge.p(z,ke):(Ge=er(z),Ge.c(),Ge.m(K,null)):Ge&&(Ge.d(1),Ge=null),ke&1){Mt=z[0].operation;let Ee;for(Ee=0;Ee<Mt.length;Ee+=1){const Dt=Go(z,Mt,Ee);Ue[Ee]?Ue[Ee].p(Dt,ke):(Ue[Ee]=tr(Dt),Ue[Ee].c(),Ue[Ee].m(ve,null))}for(;Ee<Ue.length;Ee+=1)Ue[Ee].d(1);Ue.length=Mt.length}(!$e||ke&1)&&He!==(He=(z[0].startingDateEEMM||"N/A")+"")&&ge(Se,He),(!$e||ke&1)&&ue!==(ue=(z[0].startingDateOOCC||"N/A")+"")&&ge(pe,ue);const Xe={};ke&1&&(Xe.turbine=z[0]),We.$set(Xe),(!$e||ke&2&&dt!==(dt=z[1]===0))&&(ot.checked=dt),(!$e||ke&2&&ct!==(ct=z[1]===1))&&(Qe.checked=ct)},i(z){$e||(we(Ce),we(I.$$.fragment,z),we(We.$$.fragment,z),Et(()=>{at||(at=Il(l,Tt,{duration:150},!0)),at.run(1)}),$e=!0)},o(z){Ve(Ce),Ve(I.$$.fragment,z),Ve(We.$$.fragment,z),at||(at=Il(l,Tt,{duration:150},!1)),at.run(0),$e=!1},d(z){z&&u(e),Ce&&Ce.d(),Re&&Re.d(),gt(I),Ye&&Ye.d(),Pe&&Pe.d(),xe&&xe.d(),Ge&&Ge.d(),ir(Ue,z),gt(We),z&&at&&at.end(),Nt=!1,st(Ft)}}}function fn(n,e,l){let{windfarm:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",creationDate:null,startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null,toNotDismantle:!1}}=e;const a=Zt();let i=0;const s=()=>{const V=document.getElementById("scrollable");V&&(V.scrollLeft<=10?l(1,i=0):l(1,i=1))},c=()=>{const V=document.getElementById("scrollable");V&&V.scrollTo({left:0,behavior:"smooth"})},p=()=>{const V=document.getElementById("scrollable");V&&V.scrollTo({left:V.scrollWidth,behavior:"smooth"})},g=()=>{a("close")};let v=!1;const k=()=>{l(2,v=!1),Mr(r.id).then(()=>{a("deleted")})},I=()=>{a("editMode",r.id)};let m=!1;function D(V){Wt.call(this,n,V)}function M(V){Wt.call(this,n,V)}function C(V){Wt.call(this,n,V)}function _(V){Wt.call(this,n,V)}const N=()=>{l(2,v=!1)},E=()=>{l(2,v=!1)},x=()=>{l(2,v=!1)},L=()=>l(3,m=!m),le=()=>{l(2,v=!0)},j=()=>{c()},K=()=>{p()};return n.$$set=V=>{"windfarm"in V&&l(0,r=V.windfarm)},[r,i,v,m,s,c,p,g,k,I,D,M,C,_,N,E,x,L,le,j,K]}class hn extends vt{constructor(e){super(),mt(this,e,fn,dn,_t,{windfarm:0})}}function lr(n,e,l){const r=n.slice();return r[7]=e[l],r}function or(n){let e,l,r,a,i,s,c,p,g,v,k,I,m,D,M,C,_,N,E,x,L,le,j,K,V,U,$,X,B,fe,he,P;return{c(){e=f("div"),l=f("input"),r=b(),a=f("div"),i=f("select"),s=f("option"),c=T("Tutte le attività"),p=f("option"),g=T("In corso"),v=f("option"),k=T("Cantieri chiusi"),I=b(),m=f("div"),D=H("svg"),M=H("path"),C=b(),_=f("div"),N=f("select"),E=f("option"),x=T("Tutte le operazioni"),L=f("option"),le=T("Pale"),j=f("option"),K=T("Main components"),V=f("option"),U=T("Manutenzioni Ordinarie"),$=b(),X=f("div"),B=H("svg"),fe=H("path"),this.h()},l(ee){e=h(ee,"DIV",{class:!0});var R=d(e);l=h(R,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),r=w(R),a=h(R,"DIV",{class:!0});var G=d(a);i=h(G,"SELECT",{class:!0});var ne=d(i);s=h(ne,"OPTION",{});var ve=d(s);c=S(ve,"Tutte le attività"),ve.forEach(u),p=h(ne,"OPTION",{});var Me=d(p);g=S(Me,"In corso"),Me.forEach(u),v=h(ne,"OPTION",{});var Y=d(v);k=S(Y,"Cantieri chiusi"),Y.forEach(u),ne.forEach(u),I=w(G),m=h(G,"DIV",{class:!0});var Q=d(m);D=q(Q,"svg",{class:!0,xmlns:!0,viewBox:!0});var y=d(D);M=q(y,"path",{d:!0}),d(M).forEach(u),y.forEach(u),Q.forEach(u),G.forEach(u),C=w(R),_=h(R,"DIV",{class:!0});var te=d(_);N=h(te,"SELECT",{class:!0});var Ae=d(N);E=h(Ae,"OPTION",{});var Ne=d(E);x=S(Ne,"Tutte le operazioni"),Ne.forEach(u),L=h(Ae,"OPTION",{});var _e=d(L);le=S(_e,"Pale"),_e.forEach(u),j=h(Ae,"OPTION",{});var De=d(j);K=S(De,"Main components"),De.forEach(u),V=h(Ae,"OPTION",{});var Ie=d(V);U=S(Ie,"Manutenzioni Ordinarie"),Ie.forEach(u),Ae.forEach(u),$=w(te),X=h(te,"DIV",{class:!0});var He=d(X);B=q(He,"svg",{class:!0,xmlns:!0,viewBox:!0});var Se=d(B);fe=q(Se,"path",{d:!0}),d(fe).forEach(u),Se.forEach(u),He.forEach(u),te.forEach(u),R.forEach(u),this.h()},h(){t(l,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(l,"type","text"),t(l,"id","turbineName"),t(l,"name","turbineName"),t(l,"placeholder","Anno"),s.__value="ALL",s.value=s.__value,p.__value="ONLY_INCOMPLETE",p.value=p.__value,v.__value="ONLY_COMPLETED",v.value=v.__value,t(i,"class","w-full min-w-1/2 min-w-[13rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[3]===void 0&&Et(()=>n[25].call(i)),t(M,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),t(D,"class","w-6 h-6 text-white fill-current"),t(D,"xmlns","http://www.w3.org/2000/svg"),t(D,"viewBox","0 0 20 20"),t(m,"class","absolute top-2 right-2 font-bold"),t(a,"class","relative"),E.__value="ALL",E.value=E.__value,L.__value="ONLY_BLADES",L.value=L.__value,j.__value="MAIN_COMPS",j.value=j.__value,V.__value="MAINTENANCE",V.value=V.__value,t(N,"class","w-full min-w-1/2 min-w-[15rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[4]===void 0&&Et(()=>n[26].call(N)),t(fe,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),t(B,"class","w-6 h-6 text-white fill-current"),t(B,"xmlns","http://www.w3.org/2000/svg"),t(B,"viewBox","0 0 20 20"),t(X,"class","absolute top-2 right-2 font-bold"),t(_,"class","relative"),t(e,"class","flex flex-col md:flex-row gap-2")},m(ee,R){ae(ee,e,R),o(e,l),Ql(l,n[2]),o(e,r),o(e,a),o(a,i),o(i,s),o(s,c),o(i,p),o(p,g),o(i,v),o(v,k),Jl(i,n[3]),o(a,I),o(a,m),o(m,D),o(D,M),o(e,C),o(e,_),o(_,N),o(N,E),o(E,x),o(N,L),o(L,le),o(N,j),o(j,K),o(N,V),o(V,U),Jl(N,n[4]),o(_,$),o(_,X),o(X,B),o(B,fe),he||(P=[O(l,"input",n[24]),O(i,"change",n[25]),O(N,"change",n[26])],he=!0)},p(ee,R){R&4&&l.value!==ee[2]&&Ql(l,ee[2]),R&8&&Jl(i,ee[3]),R&16&&Jl(N,ee[4])},d(ee){ee&&u(e),he=!1,st(P)}}}function pn(n){let e,l=[],r=new Map,a,i=n[6];const s=c=>c[7].id;for(let c=0;c<i.length;c+=1){let p=lr(n,i,c),g=s(p);r.set(g,l[c]=rr(g,p))}return{c(){e=f("div");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=h(c,"DIV",{class:!0});var p=d(e);for(let g=0;g<l.length;g+=1)l[g].l(p);p.forEach(u),this.h()},h(){t(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(c,p){ae(c,e,p);for(let g=0;g<l.length;g+=1)l[g].m(e,null);a=!0},p(c,p){p&8256&&(i=c[6],pl(),l=no(l,p,s,1,c,i,r,e,vr,rr,null,lr),gl())},i(c){if(!a){for(let p=0;p<i.length;p+=1)we(l[p]);a=!0}},o(c){for(let p=0;p<l.length;p+=1)Ve(l[p]);a=!1},d(c){c&&u(e);for(let p=0;p<l.length;p+=1)l[p].d()}}}function gn(n){let e,l,r,a,i;return{c(){e=f("div"),l=f("div"),r=b(),a=f("p"),i=T("Caricamento in corso..."),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);l=h(c,"DIV",{class:!0}),d(l).forEach(u),r=w(c),a=h(c,"P",{class:!0});var p=d(a);i=S(p,"Caricamento in corso..."),p.forEach(u),c.forEach(u),this.h()},h(){t(l,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),t(a,"class","mt-4 text-xl font-bold font-mono"),t(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(s,c){ae(s,e,c),o(e,l),o(e,r),o(e,a),o(a,i)},p:Le,i:Le,o:Le,d(s){s&&u(e)}}}function rr(n,e){let l,r,a;return r=new Or({props:{turbine:e[7]}}),r.$on("showDetails",e[13]),{key:n,first:null,c(){l=Dl(),ft(r.$$.fragment),this.h()},l(i){l=Dl(),ht(r.$$.fragment,i),this.h()},h(){this.first=l},m(i,s){ae(i,l,s),pt(r,i,s),a=!0},p(i,s){e=i;const c={};s&64&&(c.turbine=e[7]),r.$set(c)},i(i){a||(we(r.$$.fragment,i),a=!0)},o(i){Ve(r.$$.fragment,i),a=!1},d(i){i&&u(l),gt(r,i)}}}function nr(n){let e,l,r,a,i;return l=new hn({props:{windfarm:n[7]}}),l.$on("closeDetails",n[14]),l.$on("editMode",n[16]),l.$on("deleted",n[15]),{c(){e=f("div"),ft(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(l.$$.fragment,c),c.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){ae(s,e,c),pt(l,e,null),r=!0,a||(i=[O(e,"click",n[14]),O(e,"keydown",n[14])],a=!0)},p(s,c){const p={};c&128&&(p.windfarm=s[7]),l.$set(p)},i(s){r||(we(l.$$.fragment,s),r=!0)},o(s){Ve(l.$$.fragment,s),r=!1},d(s){s&&u(e),gt(l),a=!1,st(i)}}}function ar(n){let e,l,r,a,i;return l=new Yr({props:{turbine:n[7]}}),l.$on("close",n[27]),l.$on("updated",n[19]),{c(){e=f("div"),ft(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(l.$$.fragment,c),c.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){ae(s,e,c),pt(l,e,null),r=!0,a||(i=[O(e,"click",n[14]),O(e,"keydown",n[14])],a=!0)},p(s,c){const p={};c&128&&(p.turbine=s[7]),l.$set(p)},i(s){r||(we(l.$$.fragment,s),r=!0)},o(s){Ve(l.$$.fragment,s),r=!1},d(s){s&&u(e),gt(l),a=!1,st(i)}}}function sr(n){let e,l,r,a,i;return l=new Qr({}),l.$on("close",n[28]),l.$on("created",n[18]),{c(){e=f("div"),ft(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(l.$$.fragment,c),c.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){ae(s,e,c),pt(l,e,null),r=!0,a||(i=[O(e,"click",n[14]),O(e,"keydown",n[14])],a=!0)},p:Le,i(s){r||(we(l.$$.fragment,s),r=!0)},o(s){Ve(l.$$.fragment,s),r=!1},d(s){s&&u(e),gt(l),a=!1,st(i)}}}function vn(n){let e,l,r,a,i,s,c,p,g,v,k,I,m,D,M,C,_,N,E,x,L,le,j,K,V,U,$,X,B,fe,he,P,ee,R,G,ne,ve,Me,Y,Q,y,te,Ae,Ne,_e,De,Ie,He,Se,me=n[11]&&or(n);const je=[gn,pn],ce=[];function Be(W,se){return W[0].length===0?0:1}Q=Be(n),y=ce[Q]=je[Q](n);let ue=n[8]&&nr(n),pe=n[9]&&ar(n),Z=n[10]&&sr(n);return{c(){e=f("div"),l=f("div"),r=f("section"),a=f("div"),i=f("input"),s=b(),c=f("button"),p=H("svg"),g=H("polygon"),k=b(),I=f("button"),m=H("svg"),D=H("polyline"),_=b(),me&&me.c(),N=b(),E=f("div"),x=f("p"),L=T(n[12]),le=T(" risultati"),j=b(),K=f("div"),V=f("button"),U=H("svg"),$=H("path"),X=H("polyline"),B=H("line"),fe=H("line"),he=H("polyline"),ee=b(),R=f("button"),G=H("svg"),ne=H("line"),ve=H("line"),Me=b(),Y=f("section"),y.c(),te=b(),ue&&ue.c(),Ae=b(),pe&&pe.c(),Ne=b(),Z&&Z.c(),this.h()},l(W){e=h(W,"DIV",{});var se=d(e);l=h(se,"DIV",{id:!0,class:!0});var F=d(l);r=h(F,"SECTION",{class:!0,id:!0});var Fe=d(r);a=h(Fe,"DIV",{class:!0});var Ke=d(a);i=h(Ke,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),s=w(Ke),c=h(Ke,"BUTTON",{class:!0});var Oe=d(c);p=q(Oe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ie=d(p);g=q(ie,"polygon",{points:!0}),d(g).forEach(u),ie.forEach(u),Oe.forEach(u),k=w(Ke),I=h(Ke,"BUTTON",{class:!0});var it=d(I);m=q(it,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ze=d(m);D=q(Ze,"polyline",{points:!0}),d(D).forEach(u),Ze.forEach(u),it.forEach(u),Ke.forEach(u),_=w(Fe),me&&me.l(Fe),Fe.forEach(u),N=w(F),E=h(F,"DIV",{class:!0});var ye=d(E);x=h(ye,"P",{class:!0});var A=d(x);L=S(A,n[12]),le=S(A," risultati"),A.forEach(u),j=w(ye),K=h(ye,"DIV",{class:!0});var oe=d(K);V=h(oe,"BUTTON",{class:!0});var be=d(V);U=q(be,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var re=d(U);$=q(re,"path",{d:!0}),d($).forEach(u),X=q(re,"polyline",{points:!0}),d(X).forEach(u),B=q(re,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(B).forEach(u),fe=q(re,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(fe).forEach(u),he=q(re,"polyline",{points:!0}),d(he).forEach(u),re.forEach(u),be.forEach(u),ee=w(oe),R=h(oe,"BUTTON",{class:!0});var nt=d(R);G=q(nt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var tt=d(G);ne=q(tt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ne).forEach(u),ve=q(tt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ve).forEach(u),tt.forEach(u),nt.forEach(u),oe.forEach(u),ye.forEach(u),Me=w(F),Y=h(F,"SECTION",{class:!0});var ze=d(Y);y.l(ze),te=w(ze),ue&&ue.l(ze),Ae=w(ze),pe&&pe.l(ze),Ne=w(ze),Z&&Z.l(ze),ze.forEach(u),F.forEach(u),se.forEach(u),this.h()},h(){t(i,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(i,"type","text"),t(i,"id","turbineName"),t(i,"name","turbineName"),t(i,"placeholder","Cerca"),t(g,"points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"),t(p,"xmlns","http://www.w3.org/2000/svg"),t(p,"width","24"),t(p,"height","24"),t(p,"viewBox","0 0 24 24"),t(p,"fill","none"),t(p,"stroke","currentColor"),t(p,"stroke-width","2"),t(p,"stroke-linecap","round"),t(p,"stroke-linejoin","round"),t(p,"class",v=n[11]?"text-blue-500 rotate-90":"text-white"),t(c,"class","py-2 px-2 hover:text-blue-500 bg-gray-700 rounded-sm md:rounded-md"),t(D,"points","18 15 12 9 6 15"),t(m,"xmlns","http://www.w3.org/2000/svg"),t(m,"width","24"),t(m,"height","24"),t(m,"viewBox","0 0 24 24"),t(m,"fill","none"),t(m,"stroke","currentColor"),t(m,"stroke-width","2"),t(m,"stroke-linecap","round"),t(m,"stroke-linejoin","round"),t(m,"class",M=n[5]==="NONE"?"text-white":"text-blue-500"),t(I,"class",C="py-2 px-2 hover:text-blue-500 bg-gray-700 rounded-sm md:rounded-md "+(n[5]==="NONE"?"text-white":"text-blue-500 rotate-180")),t(a,"class","items-center flex flex-row justify-between md:justify-start gap-2"),t(r,"class","mt-5 flex flex-col gap-3 font-mono h-min-[10vh]"),t(r,"id","filters"),t(x,"class","font-mono text-lg"),t($,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),t(X,"points","14 2 14 8 20 8"),t(B,"x1","16"),t(B,"y1","13"),t(B,"x2","8"),t(B,"y2","13"),t(fe,"x1","16"),t(fe,"y1","17"),t(fe,"x2","8"),t(fe,"y2","17"),t(he,"points","10 9 9 9 8 9"),t(U,"xmlns","http://www.w3.org/2000/svg"),t(U,"width","22"),t(U,"height","22"),t(U,"viewBox","0 0 24 24"),t(U,"fill","none"),t(U,"stroke","currentColor"),t(U,"stroke-width","2"),t(U,"stroke-linecap","round"),t(U,"stroke-linejoin","round"),t(U,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),t(V,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),V.disabled=P=n[0].length===0,t(ne,"x1","12"),t(ne,"y1","5"),t(ne,"x2","12"),t(ne,"y2","19"),t(ve,"x1","5"),t(ve,"y1","12"),t(ve,"x2","19"),t(ve,"y2","12"),t(G,"xmlns","http://www.w3.org/2000/svg"),t(G,"width","22"),t(G,"height","22"),t(G,"viewBox","0 0 24 24"),t(G,"fill","none"),t(G,"stroke","currentColor"),t(G,"stroke-width","2"),t(G,"stroke-linecap","round"),t(G,"stroke-linejoin","round"),t(G,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),t(R,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),t(K,"class","justify-end flex flex-row gap-4"),t(E,"class","flex flex-row justify-between items-center h-[10vh]"),t(Y,"class",_e="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(n[11]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"),t(l,"id","full-content"),t(l,"class","p-4")},m(W,se){ae(W,e,se),o(e,l),o(l,r),o(r,a),o(a,i),Ql(i,n[1]),o(a,s),o(a,c),o(c,p),o(p,g),o(a,k),o(a,I),o(I,m),o(m,D),o(r,_),me&&me.m(r,null),o(l,N),o(l,E),o(E,x),o(x,L),o(x,le),o(E,j),o(E,K),o(K,V),o(V,U),o(U,$),o(U,X),o(U,B),o(U,fe),o(U,he),o(K,ee),o(K,R),o(R,G),o(G,ne),o(G,ve),o(l,Me),o(l,Y),ce[Q].m(Y,null),o(Y,te),ue&&ue.m(Y,null),o(Y,Ae),pe&&pe.m(Y,null),o(Y,Ne),Z&&Z.m(Y,null),Ie=!0,He||(Se=[O(i,"input",n[21]),O(c,"click",n[22]),O(I,"click",n[23]),O(V,"click",n[20]),O(R,"click",n[17])],He=!0)},p(W,[se]){se&2&&i.value!==W[1]&&Ql(i,W[1]),(!Ie||se&2048&&v!==(v=W[11]?"text-blue-500 rotate-90":"text-white"))&&t(p,"class",v),(!Ie||se&32&&M!==(M=W[5]==="NONE"?"text-white":"text-blue-500"))&&t(m,"class",M),(!Ie||se&32&&C!==(C="py-2 px-2 hover:text-blue-500 bg-gray-700 rounded-sm md:rounded-md "+(W[5]==="NONE"?"text-white":"text-blue-500 rotate-180")))&&t(I,"class",C),W[11]?me?me.p(W,se):(me=or(W),me.c(),me.m(r,null)):me&&(me.d(1),me=null),(!Ie||se&4096)&&ge(L,W[12]),(!Ie||se&1&&P!==(P=W[0].length===0))&&(V.disabled=P);let F=Q;Q=Be(W),Q===F?ce[Q].p(W,se):(pl(),Ve(ce[F],1,1,()=>{ce[F]=null}),gl(),y=ce[Q],y?y.p(W,se):(y=ce[Q]=je[Q](W),y.c()),we(y,1),y.m(Y,te)),W[8]?ue?(ue.p(W,se),se&256&&we(ue,1)):(ue=nr(W),ue.c(),we(ue,1),ue.m(Y,Ae)):ue&&(pl(),Ve(ue,1,1,()=>{ue=null}),gl()),W[9]?pe?(pe.p(W,se),se&512&&we(pe,1)):(pe=ar(W),pe.c(),we(pe,1),pe.m(Y,Ne)):pe&&(pl(),Ve(pe,1,1,()=>{pe=null}),gl()),W[10]?Z?(Z.p(W,se),se&1024&&we(Z,1)):(Z=sr(W),Z.c(),we(Z,1),Z.m(Y,null)):Z&&(pl(),Ve(Z,1,1,()=>{Z=null}),gl()),(!Ie||se&2048&&_e!==(_e="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(W[11]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"))&&t(Y,"class",_e)},i(W){Ie||(we(y),we(ue),we(pe),we(Z),Et(()=>{De||(De=Il(e,Tt,{duration:200},!0)),De.run(1)}),Ie=!0)},o(W){Ve(y),Ve(ue),Ve(pe),Ve(Z),De||(De=Il(e,Tt,{duration:200},!1)),De.run(0),Ie=!1},d(W){W&&u(e),me&&me.d(),ce[Q].d(),ue&&ue.d(),pe&&pe.d(),Z&&Z.d(),W&&De&&De.end(),He=!1,st(Se)}}}function mn(n,e,l){let r,a,i=!1,s={},c=[];ao(()=>{Ol().then(P=>{l(0,c=P)})});const p=P=>{const ee=P.detail;l(7,s=c.find(R=>R.id===ee)),l(8,i=!0),l(9,k=!1)},g=()=>{Ol().then(P=>{l(0,c=P),l(8,i=!1)})},v=()=>{l(8,i=!1),Ol().then(P=>{l(0,c=P)})};let k=!1;const I=P=>{const ee=P.detail;l(7,s=c.find(R=>R.id===ee)),l(8,i=!1),l(9,k=!0)};let m=!1;const D=()=>{l(10,m=!0),l(8,i=!1),l(9,k=!1)},M=()=>{l(10,m=!1),l(8,i=!1),l(9,k=!1),Ol().then(P=>{console.log("Updating with: ",P),l(0,c=P)})},C=()=>{Ol().then(P=>{l(0,c=P),l(9,k=!1)})},_=()=>{c.length>0&&Ar().then(P=>{const ee=new Blob([P.data],{type:"text/csv"}),R=window.URL.createObjectURL(ee),G=document.createElement("a");G.href=R,G.download="export.csv",G.click()})};let N="",E="",x="ALL",L="ALL",le="NONE",j=!1;function K(){N=this.value,l(1,N)}const V=()=>{l(11,j=!j)},U=()=>{l(5,le=le==="ASC"?"NONE":"ASC")};function $(){E=this.value,l(2,E)}function X(){x=Bo(this),l(3,x)}function B(){L=Bo(this),l(4,L)}const fe=()=>l(9,k=!1),he=()=>l(10,m=!1);return n.$$.update=()=>{n.$$.dirty&63&&l(6,r=c.filter(P=>{const ee=N.toLowerCase(),R=P.description.toLowerCase().includes(ee),G=P.turbineName.toLowerCase().includes(ee),ne=P.turbineNumber.toLowerCase().includes(ee),ve=P.creationDate.includes(E),Me=x==="ALL"||x==="ONLY_INCOMPLETE"&&!P.completionDate||x==="ONLY_COMPLETED"&&P.completionDate,Y=L==="ALL"||L==="MAINTENANCE"&&P.operation.some(Q=>Q.includes(kt[20])||Q.includes(kt[21])||Q.includes(kt[22])||Q.includes(kt[25])||Q.includes(kt[26]))||L==="ONLY_BLADES"&&P.operation.some(Q=>Q.includes(kt[2]))||L==="MAIN_COMPS"&&P.operation.some(Q=>!Q.includes(kt[20])&&!Q.includes(kt[21])&&!Q.includes(kt[22])&&!Q.includes(kt[25])&&!Q.includes(kt[26]));return(R||G||ne)&&ve&&Me&&Y}).sort((P,ee)=>{if(le==="ASC")return ee.turbineNumber.localeCompare(P.turbineNumber)})),n.$$.dirty&64&&l(12,a=r.length)},[c,N,E,x,L,le,r,s,i,k,m,j,a,p,g,v,I,D,M,C,_,K,V,U,$,X,B,fe,he]}class wn extends vt{constructor(e){super(),mt(this,e,mn,vn,_t,{})}}export{wn as default};
