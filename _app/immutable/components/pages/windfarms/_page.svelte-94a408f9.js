import{O as Qr,S as Fe,i as We,s as He,k as f,q as S,a as y,E as x,l as h,m as d,r as T,c as N,h as u,F as L,n as t,b as W,C as o,G as B,P as Ql,u as ue,Q as et,R as ft,B as he,o as Il,D as nt,e as tt,T as Xr,U as Nl,V as Kr,W as Xl,X as qr,H as qe,w as $e,x as ze,y as xe,Y as Ke,f as ce,g as Lt,t as ke,d as Ft,z as Le,Z as dt,_ as Me,$ as Dl,a0 as yl,a1 as Zr}from"../../../chunks/index-b641a719.js";import{a as yt}from"../../../chunks/axios-67252f11.js";function eo(a){const e=a-1;return e*e*e+1}function Gr(a,{delay:e=0,duration:l=400,easing:r=Qr}={}){const n=+getComputedStyle(a).opacity;return{delay:e,duration:l,easing:r,css:c=>`opacity: ${c*n}`}}function lt(a,{delay:e=0,duration:l=400,easing:r=eo}={}){const n=getComputedStyle(a),c=+n.opacity,s=parseFloat(n.height),i=parseFloat(n.paddingTop),p=parseFloat(n.paddingBottom),m=parseFloat(n.marginTop),_=parseFloat(n.marginBottom),b=parseFloat(n.borderTopWidth),v=parseFloat(n.borderBottomWidth);return{delay:e,duration:l,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*c};height: ${g*s}px;padding-top: ${g*i}px;padding-bottom: ${g*p}px;margin-top: ${g*m}px;margin-bottom: ${g*_}px;border-top-width: ${g*b}px;border-bottom-width: ${g*v}px;`}}const Yl={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Dr(a){let e,l,r=a[0].turbineNumber+"",n;return{c(){e=f("span"),l=S("- "),n=S(r),this.h()},l(c){e=h(c,"SPAN",{class:!0});var s=d(e);l=T(s,"- "),n=T(s,r),s.forEach(u),this.h()},h(){t(e,"class","hidden md:inline-block")},m(c,s){W(c,e,s),o(e,l),o(e,n)},p(c,s){s&1&&r!==(r=c[0].turbineNumber+"")&&ue(n,r)},d(c){c&&u(e)}}}function to(a){let e,l;return{c(){e=f("span"),l=S("Completato"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=T(n,"Completato"),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 font-bold flex")},m(r,n){W(r,e,n),o(e,l)},p:he,d(r){r&&u(e)}}}function lo(a){let e,l;return{c(){e=f("span"),l=S(a[2]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=T(n,a[2]),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 font-bold flex")},m(r,n){W(r,e,n),o(e,l)},p(r,n){n&4&&ue(l,r[2])},d(r){r&&u(e)}}}function ro(a){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2 md:col-span-1")},m(l,r){W(l,e,r)},p:he,d(l){l&&u(e)}}}function oo(a){let e,l;return{c(){e=f("span"),l=S(a[1]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=T(n,a[1]),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 flex md:justify-end md:mr-5")},m(r,n){W(r,e,n),o(e,l)},p(r,n){n&2&&ue(l,r[1])},d(r){r&&u(e)}}}function no(a){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2 md:col-span-1")},m(l,r){W(l,e,r)},p:he,d(l){l&&u(e)}}}function ao(a){let e,l,r,n=a[0].odlNumber+"",c;return{c(){e=f("p"),l=S("ODL: "),r=f("span"),c=S(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=T(i,"ODL: "),r=h(i,"SPAN",{class:!0});var p=d(r);c=T(p,n),p.forEach(u),i.forEach(u),this.h()},h(){t(r,"class","text-blue-400"),t(e,"class","hidden md:group-hover:flex justify-end mr-5 col-span-1")},m(s,i){W(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&n!==(n=s[0].odlNumber+"")&&ue(c,n)},d(s){s&&u(e)}}}function so(a){let e,l,r,n,c=a[0].turbineName+"",s,i,p,m,_,b,v,g,w,E,O,k=a[0].description+"",D,I,z,j,P,q,M,H,A,$=a[0].operation[0]+"",ee,pe,G,Y=a[0].turbineState+"",ge,Ie,C,R,we,fe,me,X,re,oe,J,Z=a[0].turbineNumber&&Dr(a);function Q(U,ne){return U[2]?lo:to}let ye=Q(a),te=ye(a);function Ne(U,ne){return U[1]!==null&&U[1]!==void 0?oo:ro}let Ce=Ne(a),le=Ce(a);function Ae(U,ne){return U[0].odlNumber!==void 0&&U[0].odlNumber!==0?ao:no}let Ee=Ae(a),ve=Ee(a);return{c(){e=f("div"),l=f("div"),r=f("div"),n=f("h1"),s=S(c),i=y(),Z&&Z.c(),p=y(),te.c(),m=y(),le.c(),_=y(),b=f("div"),v=x("svg"),g=x("path"),w=x("circle"),E=y(),O=f("span"),D=S(k),I=y(),ve.c(),z=y(),j=f("div"),P=x("svg"),q=x("path"),M=x("rect"),H=y(),A=f("span"),ee=S($),pe=y(),G=f("span"),ge=S(Y),Ie=y(),C=f("div"),R=f("div"),we=f("button"),fe=x("svg"),me=x("circle"),X=x("line"),this.h()},l(U){e=h(U,"DIV",{class:!0});var ne=d(e);l=h(ne,"DIV",{class:!0});var Ge=d(l);r=h(Ge,"DIV",{class:!0});var K=d(r);n=h(K,"H1",{class:!0});var ie=d(n);s=T(ie,c),i=N(ie),Z&&Z.l(ie),ie.forEach(u),p=N(K),te.l(K),m=N(K),le.l(K),_=N(K),b=h(K,"DIV",{class:!0});var be=d(b);v=L(be,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var de=d(v);g=L(de,"path",{d:!0}),d(g).forEach(u),w=L(de,"circle",{cx:!0,cy:!0,r:!0}),d(w).forEach(u),de.forEach(u),E=N(be),O=h(be,"SPAN",{});var V=d(O);D=T(V,k),V.forEach(u),be.forEach(u),I=N(K),ve.l(K),z=N(K),j=h(K,"DIV",{class:!0});var ae=d(j);P=L(ae,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ve=d(P);q=L(Ve,"path",{d:!0}),d(q).forEach(u),M=L(Ve,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(M).forEach(u),Ve.forEach(u),H=N(ae),A=h(ae,"SPAN",{class:!0});var Oe=d(A);ee=T(Oe,$),Oe.forEach(u),ae.forEach(u),pe=N(K),G=h(K,"SPAN",{class:!0});var je=d(G);ge=T(je,Y),je.forEach(u),K.forEach(u),Ie=N(Ge),C=h(Ge,"DIV",{class:!0});var Ue=d(C);R=h(Ue,"DIV",{class:!0});var Pe=d(R);we=h(Pe,"BUTTON",{class:!0});var rt=d(we);fe=L(rt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Te=d(fe);me=L(Te,"circle",{cx:!0,cy:!0,r:!0}),d(me).forEach(u),X=L(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(X).forEach(u),Te.forEach(u),rt.forEach(u),Pe.forEach(u),Ue.forEach(u),Ge.forEach(u),ne.forEach(u),this.h()},h(){t(n,"class","font-bold text-4xl mt-5 col-span-1 md:col-span-2"),t(g,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),t(w,"cx","12"),t(w,"cy","10"),t(w,"r","3"),t(v,"xmlns","http://www.w3.org/2000/svg"),t(v,"width","24"),t(v,"height","24"),t(v,"viewBox","0 0 24 24"),t(v,"fill","none"),t(v,"stroke","currentColor"),t(v,"stroke-width","2"),t(v,"stroke-linecap","round"),t(v,"stroke-linejoin","round"),t(v,"class","feather feather-map-pin col-span-1"),t(b,"class","col-span-2 md:col-span-1 hidden group-hover:flex gap-2"),t(q,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),t(M,"x","8"),t(M,"y","2"),t(M,"width","8"),t(M,"height","4"),t(M,"rx","1"),t(M,"ry","1"),t(P,"xmlns","http://www.w3.org/2000/svg"),t(P,"width","24"),t(P,"height","24"),t(P,"viewBox","0 0 24 24"),t(P,"fill","none"),t(P,"stroke","currentColor"),t(P,"stroke-width","2"),t(P,"stroke-linecap","round"),t(P,"stroke-linejoin","round"),t(P,"class","feather feather-clipboard"),t(A,"class","col-span-2 md:col-span-1 hidden group-hover:flex"),t(j,"class","hidden group-hover:flex gap-2"),t(G,"class","col-span-2 md:col-span-1 hidden group-hover:flex md:justify-end md:mr-5 font-bold"),t(r,"class","grid grid-cols-1 md:grid-cols-2 text-white font-mono gap-4"),t(me,"cx","11"),t(me,"cy","11"),t(me,"r","8"),t(X,"x1","21"),t(X,"y1","21"),t(X,"x2","16.65"),t(X,"y2","16.65"),t(fe,"xmlns","http://www.w3.org/2000/svg"),t(fe,"width","20"),t(fe,"height","20"),t(fe,"viewBox","0 0 24 24"),t(fe,"fill","none"),t(fe,"stroke","currentColor"),t(fe,"stroke-width","2"),t(fe,"stroke-linecap","round"),t(fe,"stroke-linejoin","round"),t(fe,"class","feather feather-search"),t(we,"class","bg-gray-700 hover:bg-gray-600 py-2 px-4 rounded-sm"),t(R,"class","flex flex-col md:flex-row gap-2 md:gap-0"),t(C,"class","absolute top-0 right-0 mr-5 mt-5"),t(l,"class","bg-gray-800 md:h-32 px-4 my-3 hover:mx-2 md:hover:mx-0 rounded-sm shadow-md content-center hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto pb-5 md:hover:h-48 hover:content-start group"),t(e,"class","snap-start pt-1")},m(U,ne){W(U,e,ne),o(e,l),o(l,r),o(r,n),o(n,s),o(n,i),Z&&Z.m(n,null),o(r,p),te.m(r,null),o(r,m),le.m(r,null),o(r,_),o(r,b),o(b,v),o(v,g),o(v,w),o(b,E),o(b,O),o(O,D),o(r,I),ve.m(r,null),o(r,z),o(r,j),o(j,P),o(P,q),o(P,M),o(j,H),o(j,A),o(A,ee),o(r,pe),o(r,G),o(G,ge),o(l,Ie),o(l,C),o(C,R),o(R,we),o(we,fe),o(fe,me),o(fe,X),oe||(J=B(we,"click",Ql(a[3])),oe=!0)},p(U,[ne]){ne&1&&c!==(c=U[0].turbineName+"")&&ue(s,c),U[0].turbineNumber?Z?Z.p(U,ne):(Z=Dr(U),Z.c(),Z.m(n,null)):Z&&(Z.d(1),Z=null),ye===(ye=Q(U))&&te?te.p(U,ne):(te.d(1),te=ye(U),te&&(te.c(),te.m(r,m))),Ce===(Ce=Ne(U))&&le?le.p(U,ne):(le.d(1),le=Ce(U),le&&(le.c(),le.m(r,_))),ne&1&&k!==(k=U[0].description+"")&&ue(D,k),Ee===(Ee=Ae(U))&&ve?ve.p(U,ne):(ve.d(1),ve=Ee(U),ve&&(ve.c(),ve.m(r,z))),ne&1&&$!==($=U[0].operation[0]+"")&&ue(ee,$),ne&1&&Y!==(Y=U[0].turbineState+"")&&ue(ge,Y)},i(U){re||et(()=>{re=ft(l,lt,{duration:1e3}),re.start()})},o:he,d(U){U&&u(e),Z&&Z.d(),te.d(),le.d(),ve.d(),oe=!1,J()}}}function io(a,e,l){let r,{turbine:n={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e,c=null;Il(()=>{r===Yl[4]?l(1,c=n.priorNotification):r===Yl[5]&&l(1,c=n.permittingDate)});const s=nt(),i=()=>{s("showDetails",n.id)};return a.$$set=p=>{"turbine"in p&&l(0,n=p.turbine)},a.$$.update=()=>{a.$$.dirty&1&&l(2,r=Yl[n.completedSteps+1])},[n,c,r,i]}class co extends Fe{constructor(e){super(),We(this,e,io,so,He,{turbine:0})}}const Xt="https://dockyard-handler.herokuapp.com/v1.0.0";async function Qt(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await yt.get(Xt+"/events",e)).data}else console.log("Token not found in local storage")}async function uo(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await yt.delete(Xt+"/event?eventId="+a,l)}else console.log("Token not found in local storage")}async function fo(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await yt.post(Xt+"/event",a,l)}else console.log("Token not found in local storage")}async function ho(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(a)),await yt.put(Xt+"/event",a,l)}else console.log("Token not found in local storage")}async function po(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await yt.get(Xt+"/events/csv",e)}else console.log("Token not found in local storage")}function Ir(a){let e,l,r,n,c=(a[0].startingDateEEMM||"____/__/__")+"",s,i,p,m,_,b=(a[0].startingDateOOCC||"____/__/__")+"",v;return{c(){e=f("div"),l=f("p"),r=S("Inizio ATT EEMM: "),n=f("span"),s=S(c),i=y(),p=f("p"),m=S("Inizio ATT OOCC: "),_=f("span"),v=S(b),this.h()},l(g){e=h(g,"DIV",{class:!0});var w=d(e);l=h(w,"P",{class:!0});var E=d(l);r=T(E,"Inizio ATT EEMM: "),n=h(E,"SPAN",{class:!0});var O=d(n);s=T(O,c),O.forEach(u),E.forEach(u),i=N(w),p=h(w,"P",{class:!0});var k=d(p);m=T(k,"Inizio ATT OOCC: "),_=h(k,"SPAN",{class:!0});var D=d(_);v=T(D,b),D.forEach(u),k.forEach(u),w.forEach(u),this.h()},h(){t(n,"class","font-extralight"),t(l,"class","prose font-mono text-white"),t(_,"class","font-extralight"),t(p,"class","prose font-mono text-white"),t(e,"class","p-2 mb-2")},m(g,w){W(g,e,w),o(e,l),o(l,r),o(l,n),o(n,s),o(e,i),o(e,p),o(p,m),o(p,_),o(_,v)},p(g,w){w&1&&c!==(c=(g[0].startingDateEEMM||"____/__/__")+"")&&ue(s,c),w&1&&b!==(b=(g[0].startingDateOOCC||"____/__/__")+"")&&ue(v,b)},d(g){g&&u(e)}}}function go(a){let e,l,r,n,c,s,i,p,m,_,b,v=a[1]&&Ir(a);return{c(){e=f("button"),l=x("svg"),r=x("circle"),n=x("polyline"),c=y(),s=f("h1"),i=S("Tracciamento eventi"),p=y(),v&&v.c(),m=tt(),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var w=d(e);l=L(w,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var E=d(l);r=L(E,"circle",{cx:!0,cy:!0,r:!0}),d(r).forEach(u),n=L(E,"polyline",{points:!0}),d(n).forEach(u),E.forEach(u),c=N(w),s=h(w,"H1",{class:!0});var O=d(s);i=T(O,"Tracciamento eventi"),O.forEach(u),w.forEach(u),p=N(g),v&&v.l(g),m=tt(),this.h()},h(){t(r,"cx","12"),t(r,"cy","12"),t(r,"r","10"),t(n,"points","12 6 12 12 16 14"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"width","22"),t(l,"height","22"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(l,"stroke-linecap","round"),t(l,"stroke-linejoin","round"),t(l,"class","feather feather-clock"),t(s,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(g,w){W(g,e,w),o(e,l),o(l,r),o(l,n),o(e,c),o(e,s),o(s,i),W(g,p,w),v&&v.m(g,w),W(g,m,w),_||(b=B(e,"click",Ql(a[2])),_=!0)},p(g,[w]){g[1]?v?v.p(g,w):(v=Ir(g),v.c(),v.m(m.parentNode,m)):v&&(v.d(1),v=null)},i:he,o:he,d(g){g&&u(e),g&&u(p),v&&v.d(g),g&&u(m),_=!1,b()}}}function mo(a,e,l){let{turbine:r}=e,n=!1;const c=()=>l(1,n=!n);return a.$$set=s=>{"turbine"in s&&l(0,r=s.turbine)},[r,n,c]}class vo extends Fe{constructor(e){super(),We(this,e,mo,go,He,{turbine:0})}}function Sr(a,e,l){const r=a.slice();return r[3]=e[l],r}function Tr(a){let e,l,r=a[0].operation,n=[];for(let c=0;c<r.length;c+=1)n[c]=Cr(Sr(a,r,c));return{c(){e=f("div"),l=f("ul");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=h(c,"DIV",{class:!0});var s=d(e);l=h(s,"UL",{class:!0});var i=d(l);for(let p=0;p<n.length;p+=1)n[p].l(i);i.forEach(u),s.forEach(u),this.h()},h(){t(l,"class","prose font-mono text-white"),t(e,"class","p-2")},m(c,s){W(c,e,s),o(e,l);for(let i=0;i<n.length;i+=1)n[i].m(l,null)},p(c,s){if(s&1){r=c[0].operation;let i;for(i=0;i<r.length;i+=1){const p=Sr(c,r,i);n[i]?n[i].p(p,s):(n[i]=Cr(p),n[i].c(),n[i].m(l,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(c){c&&u(e),Xr(n,c)}}}function Cr(a){let e,l=a[3]+"",r,n;return{c(){e=f("li"),r=S(l),n=y(),this.h()},l(c){e=h(c,"LI",{class:!0});var s=d(e);r=T(s,l),n=N(s),s.forEach(u),this.h()},h(){t(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(c,s){W(c,e,s),o(e,r),o(e,n)},p(c,s){s&1&&l!==(l=c[3]+"")&&ue(r,l)},d(c){c&&u(e)}}}function _o(a){let e,l,r,n,c,s,i,p,m,_,b=a[1]&&Tr(a);return{c(){e=f("button"),l=x("svg"),r=x("path"),n=y(),c=f("h1"),s=S("Operazioni"),i=y(),b&&b.c(),p=tt(),this.h()},l(v){e=h(v,"BUTTON",{class:!0});var g=d(e);l=L(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var w=d(l);r=L(w,"path",{d:!0}),d(r).forEach(u),w.forEach(u),n=N(g),c=h(g,"H1",{class:!0});var E=d(c);s=T(E,"Operazioni"),E.forEach(u),g.forEach(u),i=N(v),b&&b.l(v),p=tt(),this.h()},h(){t(r,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"width","22"),t(l,"height","22"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(l,"stroke-linecap","round"),t(l,"stroke-linejoin","round"),t(l,"class","feather feather-tool"),t(c,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(v,g){W(v,e,g),o(e,l),o(l,r),o(e,n),o(e,c),o(c,s),W(v,i,g),b&&b.m(v,g),W(v,p,g),m||(_=B(e,"click",Ql(a[2])),m=!0)},p(v,[g]){v[1]?b?b.p(v,g):(b=Tr(v),b.c(),b.m(p.parentNode,p)):b&&(b.d(1),b=null)},i:he,o:he,d(v){v&&u(e),v&&u(i),b&&b.d(v),v&&u(p),m=!1,_()}}}function bo(a,e,l){let{turbine:r}=e,n=!1;const c=()=>l(1,n=!n);return a.$$set=s=>{"turbine"in s&&l(0,r=s.turbine)},[r,n,c]}class ko extends Fe{constructor(e){super(),We(this,e,bo,_o,He,{turbine:0})}}const Jr="https://dockyard-handler.herokuapp.com/v1.0.0";async function Or(a){if(console.log("Retrieving steps for event "+a),typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await yt.get(Jr+"/steps/"+a,l)).data}else console.log("Token not found in local storage")}async function wo(a,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await yt.put(Jr+"/step/complete?stepId="+a+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function Mr(a,e,l){const r=a.slice();return r[6]=e[l],r}function Eo(a){return{c:he,l:he,m:he,p:he,d:he}}function yo(a){let e=[],l=new Map,r,n=a[0];const c=s=>s[6].id;for(let s=0;s<n.length;s+=1){let i=Mr(a,n,s),p=c(i);l.set(p,e[s]=Pr(p,i))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=tt()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);r=tt()},m(s,i){for(let p=0;p<e.length;p+=1)e[p].m(s,i);W(s,r,i)},p(s,i){i&7&&(n=s[0],e=Xl(e,i,c,1,s,n,l,r.parentNode,qr,Pr,r,Mr))},d(s){for(let i=0;i<e.length;i+=1)e[i].d(s);s&&u(r)}}}function Vr(a){let e,l,r,n,c,s,i;return{c(){e=f("div"),l=f("p"),r=S("Completato"),n=y(),c=x("svg"),s=x("path"),i=x("polyline"),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=d(e);l=h(m,"P",{class:!0});var _=d(l);r=T(_,"Completato"),_.forEach(u),n=N(m),c=L(m,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var b=d(c);s=L(b,"path",{d:!0}),d(s).forEach(u),i=L(b,"polyline",{points:!0}),d(i).forEach(u),b.forEach(u),m.forEach(u),this.h()},h(){t(l,"class","font-bold uppercase"),t(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),t(i,"points","22 4 12 14.01 9 11.01"),t(c,"xmlns","http://www.w3.org/2000/svg"),t(c,"width","22"),t(c,"height","22"),t(c,"viewBox","0 0 24 24"),t(c,"fill","none"),t(c,"stroke","currentColor"),t(c,"stroke-width","2"),t(c,"stroke-linecap","round"),t(c,"stroke-linejoin","round"),t(c,"class","feather feather-check-circle text-green-500"),t(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(p,m){W(p,e,m),o(e,l),o(l,r),o(e,n),o(e,c),o(c,s),o(c,i)},d(p){p&&u(e)}}}function Pr(a,e){let l,r,n,c,s,i,p,m=e[6].name+"",_,b,v=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,g,w,E;function O(){return e[4](e[6])}let k=v&&Vr();return{key:a,first:null,c(){l=f("div"),r=f("input"),s=y(),i=f("div"),p=f("p"),_=S(m),b=y(),k&&k.c(),g=y(),this.h()},l(D){l=h(D,"DIV",{class:!0});var I=d(l);r=h(I,"INPUT",{type:!0,class:!0}),s=N(I),i=h(I,"DIV",{class:!0});var z=d(i);p=h(z,"P",{});var j=d(p);_=T(j,m),j.forEach(u),z.forEach(u),b=N(I),k&&k.l(I),g=N(I),I.forEach(u),this.h()},h(){t(r,"type","checkbox"),t(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=c=e[6].complete,t(i,"class","col-span-6 text-left"),t(l,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm"),this.first=l},m(D,I){W(D,l,I),o(l,r),o(l,s),o(l,i),o(i,p),o(p,_),o(l,b),k&&k.m(l,null),o(l,g),w||(E=B(r,"click",O),w=!0)},p(D,I){e=D,I&3&&n!==(n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=n),I&1&&c!==(c=e[6].complete)&&(r.checked=c),I&1&&m!==(m=e[6].name+"")&&ue(_,m),I&3&&(v=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),v?k||(k=Vr(),k.c(),k.m(l,g)):k&&(k.d(1),k=null)},d(D){D&&u(l),k&&k.d(),w=!1,E()}}}function No(a){let e,l;return{c(){e=f("div"),l=S("Caricamento..."),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=d(e);l=T(n,"Caricamento..."),n.forEach(u),this.h()},h(){t(e,"class","col-span-7 text-center")},m(r,n){W(r,e,n),o(e,l)},p:he,d(r){r&&u(e)}}}function Do(a){let e,l,r,n,c,s,i,p,m,_,b,v,g,w={ctx:a,current:null,token:null,hasCatch:!1,pending:No,then:yo,catch:Eo,value:0};return Nl(b=a[0],w),{c(){e=f("div"),l=f("div"),r=x("svg"),n=x("path"),c=x("path"),s=y(),i=f("h1"),p=S("Tracciamento fasi"),m=y(),_=f("div"),w.block.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var O=d(e);l=h(O,"DIV",{class:!0});var k=d(l);r=L(k,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(r);n=L(D,"path",{d:!0}),d(n).forEach(u),c=L(D,"path",{d:!0}),d(c).forEach(u),D.forEach(u),s=N(k),i=h(k,"H1",{class:!0});var I=d(i);p=T(I,"Tracciamento fasi"),I.forEach(u),k.forEach(u),m=N(O),_=h(O,"DIV",{id:!0,class:!0});var z=d(_);w.block.l(z),z.forEach(u),O.forEach(u),this.h()},h(){t(n,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),t(c,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),t(r,"xmlns","http://www.w3.org/2000/svg"),t(r,"width","24"),t(r,"height","24"),t(r,"viewBox","0 0 24 24"),t(r,"fill","none"),t(r,"stroke","currentColor"),t(r,"stroke-width","2"),t(r,"stroke-linecap","round"),t(r,"stroke-linejoin","round"),t(r,"class","feather feather-link"),t(i,"class","text-center font-mono text-xl"),t(l,"class","grid justify-center place-content-center items-center grid-flow-col mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),t(_,"id","stepsContainer"),t(_,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-32 md:h-64 gap-2 scrollbar-none shadow-md mt-5 items-center"),t(e,"class","col-span-1 text-white md:ring-2 ring-gray-400 rounded-sm")},m(E,O){W(E,e,O),o(e,l),o(l,r),o(r,n),o(r,c),o(l,s),o(l,i),o(i,p),o(e,m),o(e,_),w.block.m(_,w.anchor=null),w.mount=()=>_,w.anchor=null},p(E,[O]){a=E,w.ctx=a,O&1&&b!==(b=a[0])&&Nl(b,w)||Kr(w,a,O)},i(E){v||et(()=>{v=ft(_,lt,{delay:500,duration:1e3}),v.start()}),g||et(()=>{g=ft(e,Gr,{delay:400,duration:1e3}),g.start()})},o:he,d(E){E&&u(e),w.block.d(),w.token=null,w=null}}}function Io(a,e,l){let r,{turbine:n}=e,c=[];Il(()=>{Or(n.id).then(m=>{l(0,c=m)}),setTimeout(()=>{i()},1500)});const s=(m,_)=>{wo(m,_).then(()=>{Or(n.id).then(b=>{l(0,c=b),_?l(3,n.completedSteps+=1,n):l(3,n.completedSteps-=1,n),i()})})};function i(){const m=document.getElementById("stepsContainer"),_=9;if(m){const b=window.innerWidth<768?2:4,v=n.completedSteps-b;if(v>=0&&n.completedSteps<_){m.scrollTo({top:m.scrollHeight/_*(v+1),behavior:"smooth"});return}else if(n.completedSteps===_){setTimeout(()=>{m.scrollTo({top:0,behavior:"smooth"})},500);return}}}const p=m=>s(m.id,!m.complete);return a.$$set=m=>{"turbine"in m&&l(3,n=m.turbine)},a.$$.update=()=>{a.$$.dirty&9&&l(1,r=c[n.completedSteps])},[c,r,s,n,p]}class So extends Fe{constructor(e){super(),We(this,e,Io,Do,He,{turbine:3})}}function To(a){let e,l,r,n,c,s,i,p,m,_,b,v,g;return{c(){e=f("div"),l=f("p"),r=S("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),n=y(),c=f("div"),s=f("button"),i=S("Annulla"),p=y(),m=f("button"),_=S("Conferma"),this.h()},l(w){e=h(w,"DIV",{class:!0});var E=d(e);l=h(E,"P",{class:!0});var O=d(l);r=T(O,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),O.forEach(u),n=N(E),c=h(E,"DIV",{class:!0});var k=d(c);s=h(k,"BUTTON",{class:!0});var D=d(s);i=T(D,"Annulla"),D.forEach(u),p=N(k),m=h(k,"BUTTON",{class:!0});var I=d(m);_=T(I,"Conferma"),I.forEach(u),k.forEach(u),E.forEach(u),this.h()},h(){t(l,"class","font-bold text-lg"),t(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),t(m,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),t(c,"class","flex justify-end mt-5 text-sm"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(w,E){W(w,e,E),o(e,l),o(l,r),o(e,n),o(e,c),o(c,s),o(s,i),o(c,p),o(c,m),o(m,_),v||(g=[B(s,"click",a[1]),B(m,"click",a[0]),B(e,"click",a[2]),B(e,"keydown",a[2])],v=!0)},p:he,i(w){b||et(()=>{b=ft(e,lt,{duration:300}),b.start()})},o:he,d(w){w&&u(e),v=!1,qe(g)}}}function Co(a){const e=nt();return[()=>{e("confirm")},()=>{e("cancel")},c=>{c.stopPropagation()}]}class Oo extends Fe{constructor(e){super(),We(this,e,Co,To,He,{})}}function Br(a){let e,l,r=a[0].turbineNumber+"",n;return{c(){e=f("span"),l=S("- "),n=S(r)},l(c){e=h(c,"SPAN",{});var s=d(e);l=T(s,"- "),n=T(s,r),s.forEach(u)},m(c,s){W(c,e,s),o(e,l),o(e,n)},p(c,s){s&1&&r!==(r=c[0].turbineNumber+"")&&ue(n,r)},d(c){c&&u(e)}}}function Ar(a){let e,l,r,n,c;return l=new Oo({}),l.$on("confirm",a[4]),l.$on("cancel",a[7]),{c(){e=f("div"),$e(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);ze(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,i){W(s,e,i),xe(l,e,null),r=!0,n||(c=[B(e,"click",a[8]),B(e,"keydown",a[9])],n=!0)},p:he,i(s){r||(ce(l.$$.fragment,s),r=!0)},o(s){ke(l.$$.fragment,s),r=!1},d(s){s&&u(e),Le(l),n=!1,qe(c)}}}function jr(a){let e,l,r,n=a[0].permittingDate+"",c;return{c(){e=f("p"),l=S("Valdità permitting: "),r=f("span"),c=S(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=T(i,"Valdità permitting: "),r=h(i,"SPAN",{});var p=d(r);c=T(p,n),p.forEach(u),i.forEach(u),this.h()},h(){t(e,"class","prose font-mono text-white")},m(s,i){W(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&n!==(n=s[0].permittingDate+"")&&ue(c,n)},d(s){s&&u(e)}}}function Ur(a){let e,l,r,n=a[0].priorNotification+"",c;return{c(){e=f("p"),l=S("Valdità notifica: "),r=f("span"),c=S(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=T(i,"Valdità notifica: "),r=h(i,"SPAN",{});var p=d(r);c=T(p,n),p.forEach(u),i.forEach(u),this.h()},h(){t(e,"class","prose font-mono text-white")},m(s,i){W(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&n!==(n=s[0].priorNotification+"")&&ue(c,n)},d(s){s&&u(e)}}}function Mo(a){let e,l,r,n=a[0].turbineName+"",c,s,i,p,m,_,b,v,g,w,E,O,k,D,I,z,j,P,q,M,H,A,$,ee,pe,G,Y,ge,Ie,C,R=a[0].creationDate+"",we,fe,me,X,re,oe=a[0].turbineState+"",J,Z,Q,ye,te,Ne,Ce,le,Ae,Ee,ve,U,ne,Ge,K=a[0].turbineNumber&&Br(a),ie=a[1]&&Ar(a),be=a[0].permittingDate!==void 0&&jr(a),de=a[0].priorNotification!==void 0&&Ur(a);return Ne=new vo({props:{turbine:a[0]}}),le=new ko({props:{turbine:a[0]}}),Ee=new So({props:{turbine:a[0]}}),{c(){e=f("div"),l=f("div"),r=f("h1"),c=S(n),s=y(),K&&K.c(),i=y(),p=f("div"),m=f("div"),_=f("div"),b=y(),ie&&ie.c(),v=y(),g=f("div"),w=f("button"),E=x("svg"),O=x("polyline"),k=x("path"),D=x("line"),I=x("line"),z=y(),j=f("button"),P=x("svg"),q=x("path"),M=y(),H=f("button"),A=x("svg"),$=x("line"),ee=x("line"),pe=y(),G=f("div"),Y=f("div"),ge=f("p"),Ie=S("Creazione: "),C=f("span"),we=S(R),fe=y(),me=f("p"),X=S("Stato turbina: "),re=f("span"),J=S(oe),Z=y(),be&&be.c(),Q=y(),de&&de.c(),ye=y(),te=f("div"),$e(Ne.$$.fragment),Ce=y(),$e(le.$$.fragment),Ae=y(),$e(Ee.$$.fragment),this.h()},l(V){e=h(V,"DIV",{class:!0});var ae=d(e);l=h(ae,"DIV",{class:!0});var Ve=d(l);r=h(Ve,"H1",{class:!0});var Oe=d(r);c=T(Oe,n),s=N(Oe),K&&K.l(Oe),Oe.forEach(u),i=N(Ve),p=h(Ve,"DIV",{class:!0});var je=d(p);m=h(je,"DIV",{class:!0});var Ue=d(m);_=h(Ue,"DIV",{class:!0}),d(_).forEach(u),b=N(Ue),ie&&ie.l(Ue),v=N(Ue),g=h(Ue,"DIV",{class:!0});var Pe=d(g);w=h(Pe,"BUTTON",{class:!0});var rt=d(w);E=L(rt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Te=d(E);O=L(Te,"polyline",{points:!0}),d(O).forEach(u),k=L(Te,"path",{d:!0}),d(k).forEach(u),D=L(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(u),I=L(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(I).forEach(u),Te.forEach(u),rt.forEach(u),z=N(Pe),j=h(Pe,"BUTTON",{class:!0});var ot=d(j);P=L(ot,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Nt=d(P);q=L(Nt,"path",{d:!0}),d(q).forEach(u),Nt.forEach(u),ot.forEach(u),M=N(Pe),H=h(Pe,"BUTTON",{class:!0});var Dt=d(H);A=L(Dt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Je=d(A);$=L(Je,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d($).forEach(u),ee=L(Je,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ee).forEach(u),Je.forEach(u),Dt.forEach(u),Pe.forEach(u),Ue.forEach(u),je.forEach(u),Ve.forEach(u),pe=N(ae),G=h(ae,"DIV",{class:!0});var Ye=d(G);Y=h(Ye,"DIV",{class:!0});var Be=d(Y);ge=h(Be,"P",{class:!0});var ht=d(ge);Ie=T(ht,"Creazione: "),C=h(ht,"SPAN",{});var Qe=d(C);we=T(Qe,R),Qe.forEach(u),ht.forEach(u),fe=N(Be),me=h(Be,"P",{class:!0});var Xe=d(me);X=T(Xe,"Stato turbina: "),re=h(Xe,"SPAN",{});var It=d(re);J=T(It,oe),It.forEach(u),Xe.forEach(u),Z=N(Be),be&&be.l(Be),Q=N(Be),de&&de.l(Be),ye=N(Be),te=h(Be,"DIV",{class:!0});var at=d(te);ze(Ne.$$.fragment,at),Ce=N(at),ze(le.$$.fragment,at),at.forEach(u),Be.forEach(u),Ae=N(Ye),ze(Ee.$$.fragment,Ye),Ye.forEach(u),ae.forEach(u),this.h()},h(){t(r,"class","font-mono font-bold text-2xl md:text-4xl"),t(_,"class","col-span-3"),t(O,"points","3 6 5 6 21 6"),t(k,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),t(D,"x1","10"),t(D,"y1","11"),t(D,"x2","10"),t(D,"y2","17"),t(I,"x1","14"),t(I,"y1","11"),t(I,"x2","14"),t(I,"y2","17"),t(E,"xmlns","http://www.w3.org/2000/svg"),t(E,"width","20"),t(E,"height","20"),t(E,"viewBox","0 0 24 24"),t(E,"fill","none"),t(E,"stroke","currentColor"),t(E,"stroke-width","2"),t(E,"stroke-linecap","round"),t(E,"stroke-linejoin","round"),t(E,"class","feather feather-trash-2"),t(w,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(q,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),t(P,"xmlns","http://www.w3.org/2000/svg"),t(P,"width","20"),t(P,"height","20"),t(P,"viewBox","0 0 24 24"),t(P,"fill","none"),t(P,"stroke","currentColor"),t(P,"stroke-width","2"),t(P,"stroke-linecap","round"),t(P,"stroke-linejoin","round"),t(P,"class","feather feather-edit-2"),t(j,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),t($,"x1","18"),t($,"y1","6"),t($,"x2","6"),t($,"y2","18"),t(ee,"x1","6"),t(ee,"y1","6"),t(ee,"x2","18"),t(ee,"y2","18"),t(A,"xmlns","http://www.w3.org/2000/svg"),t(A,"width","24"),t(A,"height","24"),t(A,"viewBox","0 0 24 24"),t(A,"fill","none"),t(A,"stroke","currentColor"),t(A,"stroke-width","2"),t(A,"stroke-linecap","round"),t(A,"stroke-linejoin","round"),t(A,"class","feather feather-x"),t(H,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(g,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),t(m,"class","grid grid-cols-6"),t(p,"class","flex flex-row justify-end"),t(l,"class","w-full h-20 grid grid-cols-2 items-start"),t(ge,"class","prose font-mono text-white"),t(me,"class","prose font-mono text-white"),t(te,"class","w-full md:w-3/4 mt-5"),t(Y,"class","col-span-1"),t(G,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 md:w-auto z-50 h-[32rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(V,ae){W(V,e,ae),o(e,l),o(l,r),o(r,c),o(r,s),K&&K.m(r,null),o(l,i),o(l,p),o(p,m),o(m,_),o(m,b),ie&&ie.m(m,null),o(m,v),o(m,g),o(g,w),o(w,E),o(E,O),o(E,k),o(E,D),o(E,I),o(g,z),o(g,j),o(j,P),o(P,q),o(g,M),o(g,H),o(H,A),o(A,$),o(A,ee),o(e,pe),o(e,G),o(G,Y),o(Y,ge),o(ge,Ie),o(ge,C),o(C,we),o(Y,fe),o(Y,me),o(me,X),o(me,re),o(re,J),o(Y,Z),be&&be.m(Y,null),o(Y,Q),de&&de.m(Y,null),o(Y,ye),o(Y,te),xe(Ne,te,null),o(te,Ce),xe(le,te,null),o(G,Ae),xe(Ee,G,null),U=!0,ne||(Ge=[B(w,"click",a[10]),B(j,"click",a[3]),B(H,"click",a[2]),B(e,"click",Ke(a[5])),B(e,"keydown",Ke(a[6]))],ne=!0)},p(V,[ae]){(!U||ae&1)&&n!==(n=V[0].turbineName+"")&&ue(c,n),V[0].turbineNumber?K?K.p(V,ae):(K=Br(V),K.c(),K.m(r,null)):K&&(K.d(1),K=null),V[1]?ie?(ie.p(V,ae),ae&2&&ce(ie,1)):(ie=Ar(V),ie.c(),ce(ie,1),ie.m(m,v)):ie&&(Lt(),ke(ie,1,1,()=>{ie=null}),Ft()),(!U||ae&1)&&R!==(R=V[0].creationDate+"")&&ue(we,R),(!U||ae&1)&&oe!==(oe=V[0].turbineState+"")&&ue(J,oe),V[0].permittingDate!==void 0?be?be.p(V,ae):(be=jr(V),be.c(),be.m(Y,Q)):be&&(be.d(1),be=null),V[0].priorNotification!==void 0?de?de.p(V,ae):(de=Ur(V),de.c(),de.m(Y,ye)):de&&(de.d(1),de=null);const Ve={};ae&1&&(Ve.turbine=V[0]),Ne.$set(Ve);const Oe={};ae&1&&(Oe.turbine=V[0]),le.$set(Oe);const je={};ae&1&&(je.turbine=V[0]),Ee.$set(je)},i(V){U||(ce(ie),ce(Ne.$$.fragment,V),ce(le.$$.fragment,V),ce(Ee.$$.fragment,V),ve||et(()=>{ve=ft(e,lt,{duration:150}),ve.start()}),U=!0)},o(V){ke(ie),ke(Ne.$$.fragment,V),ke(le.$$.fragment,V),ke(Ee.$$.fragment,V),U=!1},d(V){V&&u(e),K&&K.d(),ie&&ie.d(),be&&be.d(),de&&de.d(),Le(Ne),Le(le),Le(Ee),ne=!1,qe(Ge)}}}function Vo(a,e,l){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const n=nt(),c=()=>{n("closeDetails")},s=()=>{n("editMode",r.id)};let i=!1;const p=()=>{l(1,i=!1),uo(r.id).then(()=>{n("deleted")})};function m(E){dt.call(this,a,E)}function _(E){dt.call(this,a,E)}const b=()=>{l(1,i=!1)},v=()=>{l(1,i=!1)},g=()=>{l(1,i=!1)},w=()=>{l(1,i=!0)};return a.$$set=E=>{"turbine"in E&&l(0,r=E.turbine)},[r,i,c,s,p,m,_,b,v,g,w]}class Po extends Fe{constructor(e){super(),We(this,e,Vo,Mo,He,{turbine:0})}}const Bo={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale"};function $r(a,e,l){const r=a.slice();return r[7]=e[l],r[8]=e,r[9]=l,r}function zr(a,e){let l,r,n,c,s,i=e[7].name+"",p,m,_,b;function v(...g){return e[5](e[7],e[8],e[9],...g)}return{key:a,first:null,c(){l=f("div"),r=f("input"),c=y(),s=f("p"),p=S(i),m=y(),this.h()},l(g){l=h(g,"DIV",{class:!0});var w=d(l);r=h(w,"INPUT",{class:!0,type:!0}),c=N(w),s=h(w,"P",{class:!0});var E=d(s);p=T(E,i),E.forEach(u),m=N(w),w.forEach(u),this.h()},h(){t(r,"class","checkbox"),r.checked=n=e[7].isSelected,t(r,"type","checkbox"),t(s,"class","font-mono"),t(l,"class","flex flex-row gap-4"),this.first=l},m(g,w){W(g,l,w),o(l,r),o(l,c),o(l,s),o(s,p),o(l,m),_||(b=B(r,"change",v),_=!0)},p(g,w){e=g,w&1&&n!==(n=e[7].isSelected)&&(r.checked=n),w&1&&i!==(i=e[7].name+"")&&ue(p,i)},d(g){g&&u(l),_=!1,b()}}}function Ao(a){let e,l,r=[],n=new Map,c,s,i,p,m,_,b,v,g,w,E=a[0];const O=k=>k[7].name;for(let k=0;k<E.length;k+=1){let D=$r(a,E,k),I=O(D);n.set(I,r[k]=zr(I,D))}return{c(){e=f("div"),l=f("div");for(let k=0;k<r.length;k+=1)r[k].c();c=y(),s=f("div"),i=f("button"),p=S("Conferma"),m=y(),_=f("button"),b=S("Chiudi"),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=d(e);l=h(D,"DIV",{class:!0});var I=d(l);for(let q=0;q<r.length;q+=1)r[q].l(I);I.forEach(u),c=N(D),s=h(D,"DIV",{class:!0});var z=d(s);i=h(z,"BUTTON",{class:!0});var j=d(i);p=T(j,"Conferma"),j.forEach(u),m=N(z),_=h(z,"BUTTON",{class:!0});var P=d(_);b=T(P,"Chiudi"),P.forEach(u),z.forEach(u),D.forEach(u),this.h()},h(){t(l,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),t(i,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),t(_,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),t(s,"class","flex flex-row mt-5 gap-2 justify-center"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(k,D){W(k,e,D),o(e,l);for(let I=0;I<r.length;I+=1)r[I].m(l,null);o(e,c),o(e,s),o(s,i),o(i,p),o(s,m),o(s,_),o(_,b),g||(w=[B(i,"click",Ke(a[1])),B(_,"click",Ke(a[2])),B(e,"click",Ke(a[3])),B(e,"keydown",Ke(a[4]))],g=!0)},p(k,[D]){D&1&&(E=k[0],r=Xl(r,D,O,1,k,E,n,l,qr,zr,null,$r))},i(k){v||et(()=>{v=ft(e,lt,{duration:300}),v.start()})},o:he,d(k){k&&u(e);for(let D=0;D<r.length;D+=1)r[D].d();g=!1,qe(w)}}}function jo(a,e,l){let{operations:r=[]}=e;const n=nt(),c=()=>{n("confirm",r)},s=()=>{n("cancel")};function i(_){dt.call(this,a,_)}function p(_){dt.call(this,a,_)}const m=(_,b,v,g)=>{l(0,b[v].isSelected=g.target.checked,r)};return a.$$set=_=>{"operations"in _&&l(0,r=_.operations)},[r,c,s,i,p,m]}class Uo extends Fe{constructor(e){super(),We(this,e,jo,Ao,He,{operations:0})}}function $o(a){let e,l,r,n,c,s,i,p,m,_,b,v,g,w,E,O,k,D,I,z,j,P;return{c(){e=f("div"),l=f("div"),r=f("button"),n=x("svg"),c=x("path"),s=x("line"),i=x("polyline"),m=S("Kilowatt"),b=y(),v=f("button"),g=x("svg"),w=x("path"),E=x("line"),O=x("polyline"),D=S("Megawatt"),this.h()},l(q){e=h(q,"DIV",{class:!0});var M=d(e);l=h(M,"DIV",{class:!0});var H=d(l);r=h(H,"BUTTON",{class:!0,type:!0});var A=d(r);n=L(A,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var $=d(n);c=L($,"path",{d:!0}),d(c).forEach(u),s=L($,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),i=L($,"polyline",{points:!0}),d(i).forEach(u),$.forEach(u),m=T(A,"Kilowatt"),A.forEach(u),b=N(H),v=h(H,"BUTTON",{class:!0,type:!0});var ee=d(v);g=L(ee,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var pe=d(g);w=L(pe,"path",{d:!0}),d(w).forEach(u),E=L(pe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(E).forEach(u),O=L(pe,"polyline",{points:!0}),d(O).forEach(u),pe.forEach(u),D=T(ee,"Megawatt"),ee.forEach(u),H.forEach(u),M.forEach(u),this.h()},h(){t(c,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(s,"x1","23"),t(s,"y1","13"),t(s,"x2","23"),t(s,"y2","11"),t(i,"points","11 6 7 12 13 12 9 18"),t(n,"xmlns","http://www.w3.org/2000/svg"),t(n,"width","24"),t(n,"height","24"),t(n,"viewBox","0 0 24 24"),t(n,"fill","none"),t(n,"stroke","currentColor"),t(n,"stroke-width","2"),t(n,"stroke-linecap","round"),t(n,"stroke-linejoin","round"),t(n,"class",p=a[0]?"text-green-500":""),t(r,"class",_=Me(a[0]?"button ring-2 ring-green-500":"button")+" svelte-1stm7rw"),t(r,"type","button"),t(w,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(E,"x1","23"),t(E,"y1","13"),t(E,"x2","23"),t(E,"y2","11"),t(O,"points","11 6 7 12 13 12 9 18"),t(g,"xmlns","http://www.w3.org/2000/svg"),t(g,"width","24"),t(g,"height","24"),t(g,"viewBox","0 0 24 24"),t(g,"fill","none"),t(g,"stroke","currentColor"),t(g,"stroke-width","2"),t(g,"stroke-linecap","round"),t(g,"stroke-linejoin","round"),t(g,"class",k=a[0]?"":"text-blue-500"),t(v,"class",I=Me(a[0]?"button":"button ring-2 ring-blue-500")+" svelte-1stm7rw"),t(v,"type","button"),t(l,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(q,M){W(q,e,M),o(e,l),o(l,r),o(r,n),o(n,c),o(n,s),o(n,i),o(r,m),o(l,b),o(l,v),o(v,g),o(g,w),o(g,E),o(g,O),o(v,D),j||(P=[B(r,"click",a[2]),B(v,"click",a[3])],j=!0)},p(q,[M]){M&1&&p!==(p=q[0]?"text-green-500":"")&&t(n,"class",p),M&1&&_!==(_=Me(q[0]?"button ring-2 ring-green-500":"button")+" svelte-1stm7rw")&&t(r,"class",_),M&1&&k!==(k=q[0]?"":"text-blue-500")&&t(g,"class",k),M&1&&I!==(I=Me(q[0]?"button":"button ring-2 ring-blue-500")+" svelte-1stm7rw")&&t(v,"class",I)},i(q){z||et(()=>{z=ft(e,Gr,{duration:300}),z.start()})},o:he,d(q){q&&u(e),j=!1,qe(P)}}}function zo(a,e,l){const r=nt();let n=!0;const c=()=>{r("change",n?"KILOWATT":"MEGAWATT")};return[n,c,()=>{l(0,n=!0),c()},()=>{l(0,n=!1),c()}]}class xo extends Fe{constructor(e){super(),We(this,e,zo,$o,He,{})}}function Lo(a){let e,l,r,n,c,s,i,p,m,_,b,v,g,w,E,O;return{c(){e=f("div"),l=f("div"),r=f("button"),n=S("In Marcia"),s=y(),i=f("button"),p=S("Limitata"),_=y(),b=f("button"),v=S("Ferma"),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=d(e);l=h(D,"DIV",{class:!0});var I=d(l);r=h(I,"BUTTON",{class:!0,type:!0});var z=d(r);n=T(z,"In Marcia"),z.forEach(u),s=N(I),i=h(I,"BUTTON",{class:!0,type:!0});var j=d(i);p=T(j,"Limitata"),j.forEach(u),_=N(I),b=h(I,"BUTTON",{class:!0,type:!0});var P=d(b);v=T(P,"Ferma"),P.forEach(u),I.forEach(u),D.forEach(u),this.h()},h(){t(r,"class",c=Me(a[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-1stm7rw"),t(r,"type","button"),t(i,"class",m=Me(a[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-1stm7rw"),t(i,"type","button"),t(b,"class",g=Me(a[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-1stm7rw"),t(b,"type","button"),t(l,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(k,D){W(k,e,D),o(e,l),o(l,r),o(r,n),o(l,s),o(l,i),o(i,p),o(l,_),o(l,b),o(b,v),E||(O=[B(r,"click",a[2]),B(i,"click",a[3]),B(b,"click",a[4])],E=!0)},p(k,[D]){D&1&&c!==(c=Me(k[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-1stm7rw")&&t(r,"class",c),D&1&&m!==(m=Me(k[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-1stm7rw")&&t(i,"class",m),D&1&&g!==(g=Me(k[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-1stm7rw")&&t(b,"class",g)},i(k){w||et(()=>{w=ft(e,lt,{duration:300,delay:300}),w.start()})},o:he,d(k){k&&u(e),E=!1,qe(O)}}}function Fo(a,e,l){const r=nt();let n="In Marcia";const c=()=>{r("change",n)};return[n,c,()=>{l(0,n="In Marcia"),c()},()=>{l(0,n="Limitata"),c()},()=>{l(0,n="Ferma"),c()}]}class Wo extends Fe{constructor(e){super(),We(this,e,Fo,Lo,He,{})}}function xr(a){let e,l,r,n,c;return l=new Uo({props:{operations:a[3]}}),l.$on("cancel",a[12]),l.$on("confirm",a[13]),{c(){e=f("div"),$e(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);ze(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){W(s,e,i),xe(l,e,null),r=!0,n||(c=[B(e,"click",Ke(a[14])),B(e,"keydown",Ke(a[15]))],n=!0)},p(s,i){const p={};i&8&&(p.operations=s[3]),l.$set(p)},i(s){r||(ce(l.$$.fragment,s),r=!0)},o(s){ke(l.$$.fragment,s),r=!1},d(s){s&&u(e),Le(l),n=!1,qe(c)}}}function Ho(a){let e,l,r,n,c,s,i,p,m,_,b,v,g,w,E,O,k,D,I,z,j,P,q,M,H,A,$,ee,pe,G,Y,ge,Ie,C,R,we,fe,me,X,re,oe,J,Z,Q,ye,te,Ne,Ce,le,Ae,Ee,ve,U,ne,Ge,K,ie,be,de,V,ae,Ve,Oe=a[1]?"modifica":"creazione",je,Ue,Pe,rt,Te,ot,Nt,Dt,Je,Ye=a[0].turbineNumber+"",Be,ht,Qe,Xe,It,at,St,Wt=a[0].turbineName+"",Zt,Sl,pt,Tt,Tl,Cl,Ct,Ht=a[0].description+"",el,Ol,gt,Ot,Ml,Vl,Mt,Rt=(a[0].odlNumber||"N/A")+"",tl,Pl,mt,Vt,Bl,Al,Pt,Kt=a[0].operation+"",ll,jl,vt,Bt,Ul,$l,At,qt=a[0].power+"",rl,zl,_t,jt,xl,Ll,Ut,Gt=a[0].turbineState+"",ol,Fl,st,it,Wl,Hl,bt,Jt,Yt=a[1]?"Modifica":"Crea",nl,ct,Rl,Re,kt,al,Kl,wt,sl,ql,Et,il,_e,Gl,Zl,De=a[2]&&xr(a);return H=new xo({}),H.$on("change",a[21]),pe=new Wo({}),pe.$on("change",a[22]),{c(){e=f("div"),De&&De.c(),l=y(),r=f("form"),n=f("div"),c=f("div"),s=f("div"),i=f("input"),m=y(),_=f("input"),v=y(),g=f("input"),E=y(),O=f("input"),D=y(),I=f("div"),z=f("button"),j=f("input"),q=y(),M=f("div"),$e(H.$$.fragment),A=y(),$=f("div"),ee=f("div"),$e(pe.$$.fragment),G=y(),Y=f("div"),ge=f("label"),Ie=S("Data Inizio EEMM"),C=y(),R=f("input"),fe=y(),me=f("div"),X=f("label"),re=S("Data Inizio OOCC"),oe=y(),J=f("input"),Q=y(),ye=f("div"),te=f("label"),Ne=S("Validità permitting"),Ce=y(),le=f("input"),Ee=y(),ve=f("div"),U=f("label"),ne=S("Validità notifica"),Ge=y(),K=f("input"),be=y(),de=f("div"),V=f("div"),ae=f("h2"),Ve=S("Riepilogo "),je=S(Oe),Ue=y(),Pe=f("div"),rt=y(),Te=f("p"),ot=f("span"),Nt=S("Numero cantiere:"),Dt=y(),Je=f("span"),Be=S(Ye),ht=y(),Qe=f("p"),Xe=f("span"),It=S("Aerogeneratore:"),at=y(),St=f("span"),Zt=S(Wt),Sl=y(),pt=f("p"),Tt=f("span"),Tl=S("Impianto eolico:"),Cl=y(),Ct=f("span"),el=S(Ht),Ol=y(),gt=f("p"),Ot=f("span"),Ml=S("Numero ODL:"),Vl=y(),Mt=f("span"),tl=S(Rt),Pl=y(),mt=f("p"),Vt=f("span"),Bl=S("Operazioni:"),Al=y(),Pt=f("span"),ll=S(Kt),jl=y(),vt=f("p"),Bt=f("span"),Ul=S("Tipologia:"),$l=y(),At=f("span"),rl=S(qt),zl=y(),_t=f("p"),jt=f("span"),xl=S("Stato:"),Ll=y(),Ut=f("span"),ol=S(Gt),Fl=y(),st=f("div"),it=f("button"),Wl=S("Annulla"),Hl=y(),bt=f("button"),Jt=f("p"),nl=S(Yt),Rl=y(),Re=f("div"),kt=f("input"),Kl=y(),wt=f("input"),ql=y(),Et=f("input"),this.h()},l(F){e=h(F,"DIV",{class:!0});var se=d(e);De&&De.l(se),l=N(se),r=h(se,"FORM",{});var cl=d(r);n=h(cl,"DIV",{id:!0,class:!0});var $t=d(n);c=h($t,"DIV",{class:!0});var zt=d(c);s=h(zt,"DIV",{class:!0});var ut=d(s);i=h(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),m=N(ut),_=h(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),v=N(ut),g=h(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),E=N(ut),O=h(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),ut.forEach(u),D=N(zt),I=h(zt,"DIV",{class:!0});var er=d(I);z=h(er,"BUTTON",{type:!0,class:!0});var tr=d(z);j=h(tr,"INPUT",{class:!0,placeholder:!0}),tr.forEach(u),er.forEach(u),q=N(zt),M=h(zt,"DIV",{class:!0});var lr=d(M);ze(H.$$.fragment,lr),lr.forEach(u),zt.forEach(u),A=N($t),$=h($t,"DIV",{class:!0});var Ze=d($);ee=h(Ze,"DIV",{class:!0});var rr=d(ee);ze(pe.$$.fragment,rr),rr.forEach(u),G=N(Ze),Y=h(Ze,"DIV",{});var ul=d(Y);ge=h(ul,"LABEL",{for:!0,class:!0});var or=d(ge);Ie=T(or,"Data Inizio EEMM"),or.forEach(u),C=N(ul),R=h(ul,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),ul.forEach(u),fe=N(Ze),me=h(Ze,"DIV",{});var dl=d(me);X=h(dl,"LABEL",{for:!0,class:!0});var nr=d(X);re=T(nr,"Data Inizio OOCC"),nr.forEach(u),oe=N(dl),J=h(dl,"INPUT",{class:!0,type:!0,placeholder:!0}),dl.forEach(u),Q=N(Ze),ye=h(Ze,"DIV",{});var fl=d(ye);te=h(fl,"LABEL",{for:!0,class:!0});var ar=d(te);Ne=T(ar,"Validità permitting"),ar.forEach(u),Ce=N(fl),le=h(fl,"INPUT",{class:!0,type:!0,placeholder:!0}),fl.forEach(u),Ee=N(Ze),ve=h(Ze,"DIV",{});var hl=d(ve);U=h(hl,"LABEL",{for:!0,class:!0});var sr=d(U);ne=T(sr,"Validità notifica"),sr.forEach(u),Ge=N(hl),K=h(hl,"INPUT",{class:!0,type:!0,placeholder:!0}),hl.forEach(u),Ze.forEach(u),be=N($t),de=h($t,"DIV",{class:!0});var pl=d(de);V=h(pl,"DIV",{class:!0});var Se=d(V);ae=h(Se,"H2",{class:!0});var Jl=d(ae);Ve=T(Jl,"Riepilogo "),je=T(Jl,Oe),Jl.forEach(u),Ue=N(Se),Pe=h(Se,"DIV",{class:!0}),d(Pe).forEach(u),rt=N(Se),Te=h(Se,"P",{});var gl=d(Te);ot=h(gl,"SPAN",{class:!0});var ir=d(ot);Nt=T(ir,"Numero cantiere:"),ir.forEach(u),Dt=N(gl),Je=h(gl,"SPAN",{class:!0});var cr=d(Je);Be=T(cr,Ye),cr.forEach(u),gl.forEach(u),ht=N(Se),Qe=h(Se,"P",{});var ml=d(Qe);Xe=h(ml,"SPAN",{class:!0});var ur=d(Xe);It=T(ur,"Aerogeneratore:"),ur.forEach(u),at=N(ml),St=h(ml,"SPAN",{class:!0});var dr=d(St);Zt=T(dr,Wt),dr.forEach(u),ml.forEach(u),Sl=N(Se),pt=h(Se,"P",{});var vl=d(pt);Tt=h(vl,"SPAN",{class:!0});var fr=d(Tt);Tl=T(fr,"Impianto eolico:"),fr.forEach(u),Cl=N(vl),Ct=h(vl,"SPAN",{class:!0});var hr=d(Ct);el=T(hr,Ht),hr.forEach(u),vl.forEach(u),Ol=N(Se),gt=h(Se,"P",{});var _l=d(gt);Ot=h(_l,"SPAN",{class:!0});var pr=d(Ot);Ml=T(pr,"Numero ODL:"),pr.forEach(u),Vl=N(_l),Mt=h(_l,"SPAN",{class:!0});var gr=d(Mt);tl=T(gr,Rt),gr.forEach(u),_l.forEach(u),Pl=N(Se),mt=h(Se,"P",{});var bl=d(mt);Vt=h(bl,"SPAN",{class:!0});var mr=d(Vt);Bl=T(mr,"Operazioni:"),mr.forEach(u),Al=N(bl),Pt=h(bl,"SPAN",{class:!0});var vr=d(Pt);ll=T(vr,Kt),vr.forEach(u),bl.forEach(u),jl=N(Se),vt=h(Se,"P",{});var kl=d(vt);Bt=h(kl,"SPAN",{class:!0});var _r=d(Bt);Ul=T(_r,"Tipologia:"),_r.forEach(u),$l=N(kl),At=h(kl,"SPAN",{class:!0});var br=d(At);rl=T(br,qt),br.forEach(u),kl.forEach(u),zl=N(Se),_t=h(Se,"P",{});var wl=d(_t);jt=h(wl,"SPAN",{class:!0});var kr=d(jt);xl=T(kr,"Stato:"),kr.forEach(u),Ll=N(wl),Ut=h(wl,"SPAN",{class:!0});var wr=d(Ut);ol=T(wr,Gt),wr.forEach(u),wl.forEach(u),Se.forEach(u),Fl=N(pl),st=h(pl,"DIV",{class:!0});var El=d(st);it=h(El,"BUTTON",{type:!0,class:!0});var Er=d(it);Wl=T(Er,"Annulla"),Er.forEach(u),Hl=N(El),bt=h(El,"BUTTON",{class:!0});var yr=d(bt);Jt=h(yr,"P",{});var Nr=d(Jt);nl=T(Nr,Yt),Nr.forEach(u),yr.forEach(u),El.forEach(u),pl.forEach(u),$t.forEach(u),Rl=N(cl),Re=h(cl,"DIV",{class:!0});var xt=d(Re);kt=h(xt,"INPUT",{type:!0,class:!0}),Kl=N(xt),wt=h(xt,"INPUT",{type:!0,class:!0}),ql=N(xt),Et=h(xt,"INPUT",{type:!0,class:!0}),xt.forEach(u),cl.forEach(u),se.forEach(u),this.h()},h(){t(i,"class","input"),t(i,"type","text"),i.value=p=a[0].turbineName,t(i,"placeholder","Aerogeneratore*"),i.required=!0,i.disabled=a[1],t(_,"class","input"),t(_,"type","text"),_.value=b=a[0].turbineNumber,t(_,"placeholder","Numero cantiere"),t(g,"class","input"),t(g,"type","text"),g.value=w=a[0].description,t(g,"placeholder","Impianto Eolico*"),g.required=!0,t(O,"class","input"),t(O,"type","number"),O.value=k=a[0].odlNumber,t(O,"placeholder","Numero ODL"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),t(j,"class","w-full"),j.value=P=a[0].operation.length>0?a[0].operation.join(", "):"",j.disabled=!0,t(j,"placeholder","Operazioni*"),j.required=!0,t(z,"type","button"),t(z,"class","input hover:bg-gray-200 text-start transition ease-in-out"),t(I,"class","col-span-full mt-5"),t(M,"class","col-span-full mt-auto"),t(c,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(ee,"class","col-span-full"),t(ge,"for","dateEEMM"),t(ge,"class","font-mono text-white"),t(R,"id","dateEEMM"),t(R,"class","input"),t(R,"type","date"),R.value=we=a[0].startingDateEEMM!==void 0?a[0].startingDateEEMM:"",t(R,"placeholder","Data inizio EEMM"),t(X,"for","dateEEMM"),t(X,"class","font-mono text-white"),t(J,"class","input"),t(J,"type","date"),J.value=Z=a[0].startingDateOOCC!==void 0?a[0].startingDateOOCC:"",t(J,"placeholder","Data inizio OOCC"),t(te,"for","dateEEMM"),t(te,"class","font-mono text-white"),t(le,"class","input"),t(le,"type","date"),le.value=Ae=a[0].permittingDate!==void 0?a[0].permittingDate:"",t(le,"placeholder","Validità permitting"),t(U,"for","dateEEMM"),t(U,"class","font-mono text-white"),t(K,"class","input"),t(K,"type","date"),K.value=ie=a[0].priorNotification!==void 0?a[0].priorNotification:"",t(K,"placeholder","Validità notifica"),t($,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(ae,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),t(Pe,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),t(ot,"class","font-mono font-bold text-gray-300"),t(Je,"class","font-mono text-gray-300"),t(Xe,"class","font-mono font-bold text-gray-300"),t(St,"class","font-mono text-gray-300"),t(Tt,"class","font-mono font-bold text-gray-300"),t(Ct,"class","font-mono text-gray-300"),t(Ot,"class","font-mono font-bold text-gray-300"),t(Mt,"class","font-mono text-gray-300"),t(Vt,"class","font-mono font-bold text-gray-300"),t(Pt,"class","font-mono text-gray-300"),t(Bt,"class","font-mono font-bold text-gray-300"),t(At,"class","font-mono text-gray-300"),t(jt,"class","font-mono font-bold text-gray-300"),t(Ut,"class","font-mono text-gray-300"),t(V,"class","w-[15rem] md:w-[29rem] h-3/4"),t(it,"type","button"),t(it,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),t(bt,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),t(st,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),t(de,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(n,"id","scrollable"),t(n,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),t(kt,"type","checkbox"),t(kt,"class",al=Me(a[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(wt,"type","checkbox"),t(wt,"class",sl=Me(a[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(Et,"type","checkbox"),t(Et,"class",il=Me(a[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(Re,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),t(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(F,se){W(F,e,se),De&&De.m(e,null),o(e,l),o(e,r),o(r,n),o(n,c),o(c,s),o(s,i),o(s,m),o(s,_),o(s,v),o(s,g),o(s,E),o(s,O),o(c,D),o(c,I),o(I,z),o(z,j),o(c,q),o(c,M),xe(H,M,null),o(n,A),o(n,$),o($,ee),xe(pe,ee,null),o($,G),o($,Y),o(Y,ge),o(ge,Ie),o(Y,C),o(Y,R),o($,fe),o($,me),o(me,X),o(X,re),o(me,oe),o(me,J),o($,Q),o($,ye),o(ye,te),o(te,Ne),o(ye,Ce),o(ye,le),o($,Ee),o($,ve),o(ve,U),o(U,ne),o(ve,Ge),o(ve,K),o(n,be),o(n,de),o(de,V),o(V,ae),o(ae,Ve),o(ae,je),o(V,Ue),o(V,Pe),o(V,rt),o(V,Te),o(Te,ot),o(ot,Nt),o(Te,Dt),o(Te,Je),o(Je,Be),o(V,ht),o(V,Qe),o(Qe,Xe),o(Xe,It),o(Qe,at),o(Qe,St),o(St,Zt),o(V,Sl),o(V,pt),o(pt,Tt),o(Tt,Tl),o(pt,Cl),o(pt,Ct),o(Ct,el),o(V,Ol),o(V,gt),o(gt,Ot),o(Ot,Ml),o(gt,Vl),o(gt,Mt),o(Mt,tl),o(V,Pl),o(V,mt),o(mt,Vt),o(Vt,Bl),o(mt,Al),o(mt,Pt),o(Pt,ll),o(V,jl),o(V,vt),o(vt,Bt),o(Bt,Ul),o(vt,$l),o(vt,At),o(At,rl),o(V,zl),o(V,_t),o(_t,jt),o(jt,xl),o(_t,Ll),o(_t,Ut),o(Ut,ol),o(de,Fl),o(de,st),o(st,it),o(it,Wl),o(st,Hl),o(st,bt),o(bt,Jt),o(Jt,nl),o(r,Rl),o(r,Re),o(Re,kt),o(Re,Kl),o(Re,wt),o(Re,ql),o(Re,Et),_e=!0,Gl||(Zl=[B(i,"change",a[16]),B(_,"change",a[17]),B(g,"change",a[18]),B(O,"change",a[19]),B(z,"click",a[20]),B(R,"change",a[23]),B(J,"change",a[24]),B(le,"change",a[25]),B(K,"change",a[26]),B(it,"click",a[6]),B(bt,"click",a[7]),B(n,"click",Ke(a[10])),B(n,"keydown",Ke(a[11])),B(kt,"change",a[27]),B(wt,"change",a[28]),B(Et,"change",a[29]),B(Re,"click",Ke(a[8])),B(Re,"keydown",Ke(a[9])),B(e,"click",a[6]),B(e,"keydown",a[6])],Gl=!0)},p(F,[se]){F[2]?De?(De.p(F,se),se&4&&ce(De,1)):(De=xr(F),De.c(),ce(De,1),De.m(e,l)):De&&(Lt(),ke(De,1,1,()=>{De=null}),Ft()),(!_e||se&1&&p!==(p=F[0].turbineName)&&i.value!==p)&&(i.value=p),(!_e||se&2)&&(i.disabled=F[1]),(!_e||se&1&&b!==(b=F[0].turbineNumber)&&_.value!==b)&&(_.value=b),(!_e||se&1&&w!==(w=F[0].description)&&g.value!==w)&&(g.value=w),(!_e||se&1&&k!==(k=F[0].odlNumber)&&O.value!==k)&&(O.value=k),(!_e||se&1&&P!==(P=F[0].operation.length>0?F[0].operation.join(", "):"")&&j.value!==P)&&(j.value=P),(!_e||se&1&&we!==(we=F[0].startingDateEEMM!==void 0?F[0].startingDateEEMM:""))&&(R.value=we),(!_e||se&1&&Z!==(Z=F[0].startingDateOOCC!==void 0?F[0].startingDateOOCC:""))&&(J.value=Z),(!_e||se&1&&Ae!==(Ae=F[0].permittingDate!==void 0?F[0].permittingDate:""))&&(le.value=Ae),(!_e||se&1&&ie!==(ie=F[0].priorNotification!==void 0?F[0].priorNotification:""))&&(K.value=ie),(!_e||se&2)&&Oe!==(Oe=F[1]?"modifica":"creazione")&&ue(je,Oe),(!_e||se&1)&&Ye!==(Ye=F[0].turbineNumber+"")&&ue(Be,Ye),(!_e||se&1)&&Wt!==(Wt=F[0].turbineName+"")&&ue(Zt,Wt),(!_e||se&1)&&Ht!==(Ht=F[0].description+"")&&ue(el,Ht),(!_e||se&1)&&Rt!==(Rt=(F[0].odlNumber||"N/A")+"")&&ue(tl,Rt),(!_e||se&1)&&Kt!==(Kt=F[0].operation+"")&&ue(ll,Kt),(!_e||se&1)&&qt!==(qt=F[0].power+"")&&ue(rl,qt),(!_e||se&1)&&Gt!==(Gt=F[0].turbineState+"")&&ue(ol,Gt),(!_e||se&2)&&Yt!==(Yt=F[1]?"Modifica":"Crea")&&ue(nl,Yt),(!_e||se&16&&al!==(al=Me(F[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(kt,"class",al),(!_e||se&16&&sl!==(sl=Me(F[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(wt,"class",sl),(!_e||se&16&&il!==(il=Me(F[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(Et,"class",il)},i(F){_e||(ce(De),ce(H.$$.fragment,F),ce(pe.$$.fragment,F),et(()=>{ct||(ct=Dl(n,lt,{duration:150},!0)),ct.run(1)}),_e=!0)},o(F){ke(De),ke(H.$$.fragment,F),ke(pe.$$.fragment,F),ct||(ct=Dl(n,lt,{duration:150},!1)),ct.run(0),_e=!1},d(F){F&&u(e),De&&De.d(),Le(H),Le(pe),F&&ct&&ct.end(),Gl=!1,qe(Zl)}}}function Ro(a,e,l){let{isEditMode:r=!1}=e,{windfarm:n={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const c=nt();let s=!1,i=[];Il(()=>{l(3,i=Object.values(Bo).map(C=>({name:C,isSelected:!1})))});let p=0;function m(){const C=document.getElementById("scrollable");let R=0;C!=null&&(p===1?window.innerWidth<768?R=C.scrollWidth/3:R=C.scrollWidth/2:p===2&&(R=C.scrollWidth),C.scrollTo({left:R,behavior:"smooth"}))}const _=()=>{c("close")},b=()=>{r?ho(n).then(C=>{C!==void 0&&C.status===200&&c("updated")}):fo(n).then(C=>{C!==void 0&&C.status===200&&c("created")})};function v(C){dt.call(this,a,C)}function g(C){dt.call(this,a,C)}function w(C){dt.call(this,a,C)}function E(C){dt.call(this,a,C)}const O=()=>{l(2,s=!1)},k=C=>{l(3,i=C.detail),l(0,n.operation=i.filter(R=>R.isSelected).map(R=>R.name),n),l(2,s=!1)},D=()=>{l(2,s=!1)},I=()=>{l(2,s=!1)},z=C=>{l(0,n.turbineName=C.target.value,n)},j=C=>{l(0,n.turbineNumber=C.target.value,n)},P=C=>{l(0,n.description=C.target.value,n)},q=C=>{l(0,n.odlNumber=C.target.value,n)},M=()=>{l(2,s=!s)},H=C=>l(0,n.power=C.detail,n),A=C=>l(0,n.turbineState=C.detail,n),$=C=>{l(0,n.startingDateEEMM=C.target.value,n)},ee=C=>{l(0,n.startingDateOOCC=C.target.value,n)},pe=C=>{l(0,n.permittingDate=C.target.value,n)},G=C=>{l(0,n.priorNotification=C.target.value,n)},Y=()=>{l(4,p=0),m()},ge=()=>{l(4,p=1),m()},Ie=()=>{l(4,p=2),m()};return a.$$set=C=>{"isEditMode"in C&&l(1,r=C.isEditMode),"windfarm"in C&&l(0,n=C.windfarm)},[n,r,s,i,p,m,_,b,v,g,w,E,O,k,D,I,z,j,P,q,M,H,A,$,ee,pe,G,Y,ge,Ie]}class Yr extends Fe{constructor(e){super(),We(this,e,Ro,Ho,He,{isEditMode:1,windfarm:0})}}function Ko(a){let e,l;return e=new Yr({props:{windfarm:a[0],isEditMode:!0}}),e.$on("close",a[1]),e.$on("updated",a[2]),{c(){$e(e.$$.fragment)},l(r){ze(e.$$.fragment,r)},m(r,n){xe(e,r,n),l=!0},p(r,[n]){const c={};n&1&&(c.windfarm=r[0]),e.$set(c)},i(r){l||(ce(e.$$.fragment,r),l=!0)},o(r){ke(e.$$.fragment,r),l=!1},d(r){Le(e,r)}}}function qo(a,e,l){let{turbine:r}=e;const n=nt(),c=()=>{n("close")},s=()=>{n("updated")};return a.$$set=i=>{"turbine"in i&&l(0,r=i.turbine)},[r,c,s]}class Go extends Fe{constructor(e){super(),We(this,e,qo,Ko,He,{turbine:0})}}function Jo(a){let e,l;return e=new Yr({props:{isEditMode:!1}}),e.$on("close",a[0]),e.$on("created",a[1]),{c(){$e(e.$$.fragment)},l(r){ze(e.$$.fragment,r)},m(r,n){xe(e,r,n),l=!0},p:he,i(r){l||(ce(e.$$.fragment,r),l=!0)},o(r){ke(e.$$.fragment,r),l=!1},d(r){Le(e,r)}}}function Yo(a){const e=nt();return[()=>{e("close")},()=>{e("created")}]}class Qo extends Fe{constructor(e){super(),We(this,e,Yo,Jo,He,{})}}function Lr(a,e,l){const r=a.slice();return r[3]=e[l],r}function Xo(a){let e,l,r,n=a[23]+"",c;return{c(){e=f("div"),l=f("p"),r=S("Errore nel caricamento: "),c=S(n),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);l=h(i,"P",{class:!0});var p=d(l);r=T(p,"Errore nel caricamento: "),c=T(p,n),p.forEach(u),i.forEach(u),this.h()},h(){t(l,"class","text-2xl font-bold font-mono"),t(e,"class","flex flex-col items-center justify-center h-full")},m(s,i){W(s,e,i),o(e,l),o(l,r),o(l,c)},p(s,i){i&16&&n!==(n=s[23]+"")&&ue(c,n)},i:he,o:he,d(s){s&&u(e)}}}function Zo(a){let e=[],l=new Map,r,n,c=a[4];const s=i=>i[3].id;for(let i=0;i<c.length;i+=1){let p=Lr(a,c,i),m=s(p);l.set(m,e[i]=Fr(m,p))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=tt()},l(i){for(let p=0;p<e.length;p+=1)e[p].l(i);r=tt()},m(i,p){for(let m=0;m<e.length;m+=1)e[m].m(i,p);W(i,r,p),n=!0},p(i,p){p&528&&(c=i[4],Lt(),e=Xl(e,p,s,1,i,c,l,r.parentNode,Zr,Fr,r,Lr),Ft())},i(i){if(!n){for(let p=0;p<c.length;p+=1)ce(e[p]);n=!0}},o(i){for(let p=0;p<e.length;p+=1)ke(e[p]);n=!1},d(i){for(let p=0;p<e.length;p+=1)e[p].d(i);i&&u(r)}}}function Fr(a,e){let l,r,n;return r=new co({props:{turbine:e[3]}}),r.$on("showDetails",e[9]),{key:a,first:null,c(){l=tt(),$e(r.$$.fragment),this.h()},l(c){l=tt(),ze(r.$$.fragment,c),this.h()},h(){this.first=l},m(c,s){W(c,l,s),xe(r,c,s),n=!0},p(c,s){e=c;const i={};s&16&&(i.turbine=e[3]),r.$set(i)},i(c){n||(ce(r.$$.fragment,c),n=!0)},o(c){ke(r.$$.fragment,c),n=!1},d(c){c&&u(l),Le(r,c)}}}function en(a){let e,l,r,n,c;return{c(){e=f("div"),l=f("div"),r=y(),n=f("p"),c=S("Caricamento..."),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);l=h(i,"DIV",{class:!0}),d(l).forEach(u),r=N(i),n=h(i,"P",{class:!0});var p=d(n);c=T(p,"Caricamento..."),p.forEach(u),i.forEach(u),this.h()},h(){t(l,"class","animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"),t(n,"class","text-2xl font-bold font-mono"),t(e,"class","flex flex-col items-center justify-center h-full")},m(s,i){W(s,e,i),o(e,l),o(e,r),o(e,n),o(n,c)},p:he,i:he,o:he,d(s){s&&u(e)}}}function Wr(a){let e,l,r,n,c;return l=new Po({props:{turbine:a[3]}}),l.$on("closeDetails",a[10]),l.$on("editMode",a[12]),l.$on("deleted",a[11]),{c(){e=f("div"),$e(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);ze(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){W(s,e,i),xe(l,e,null),r=!0,n||(c=[B(e,"click",a[10]),B(e,"keydown",a[10])],n=!0)},p(s,i){const p={};i&8&&(p.turbine=s[3]),l.$set(p)},i(s){r||(ce(l.$$.fragment,s),r=!0)},o(s){ke(l.$$.fragment,s),r=!1},d(s){s&&u(e),Le(l),n=!1,qe(c)}}}function Hr(a){let e,l,r,n,c;return l=new Go({props:{turbine:a[3]}}),l.$on("close",a[19]),l.$on("updated",a[15]),{c(){e=f("div"),$e(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);ze(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){W(s,e,i),xe(l,e,null),r=!0,n||(c=[B(e,"click",a[10]),B(e,"keydown",a[10])],n=!0)},p(s,i){const p={};i&8&&(p.turbine=s[3]),l.$set(p)},i(s){r||(ce(l.$$.fragment,s),r=!0)},o(s){ke(l.$$.fragment,s),r=!1},d(s){s&&u(e),Le(l),n=!1,qe(c)}}}function Rr(a){let e,l,r,n,c;return l=new Qo({}),l.$on("close",a[20]),l.$on("created",a[14]),{c(){e=f("div"),$e(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);ze(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){W(s,e,i),xe(l,e,null),r=!0,n||(c=[B(e,"click",a[10]),B(e,"keydown",a[10])],n=!0)},p:he,i(s){r||(ce(l.$$.fragment,s),r=!0)},o(s){ke(l.$$.fragment,s),r=!1},d(s){s&&u(e),Le(l),n=!1,qe(c)}}}function tn(a){let e,l,r,n,c,s,i,p,m,_,b,v,g,w,E,O,k,D,I,z,j,P,q,M,H,A,$,ee,pe,G,Y,ge,Ie,C,R,we,fe,me,X={ctx:a,current:null,token:null,hasCatch:!0,pending:en,then:Zo,catch:Xo,value:4,error:23,blocks:[,,,]};Nl(Y=a[4],X);let re=a[5]&&Wr(a),oe=a[6]&&Hr(a),J=a[7]&&Rr(a);return{c(){e=f("div"),l=f("section"),r=f("div"),n=f("input"),c=y(),s=f("input"),i=y(),p=f("div"),m=y(),_=f("div"),b=f("p"),v=S(a[8]),g=S(" risultati"),w=y(),E=f("div"),O=f("button"),k=x("svg"),D=x("path"),I=x("polyline"),z=x("line"),j=x("line"),P=x("polyline"),M=y(),H=f("button"),A=x("svg"),$=x("line"),ee=x("line"),pe=y(),G=f("section"),X.block.c(),ge=y(),re&&re.c(),Ie=y(),oe&&oe.c(),C=y(),J&&J.c(),this.h()},l(Z){e=h(Z,"DIV",{class:!0});var Q=d(e);l=h(Q,"SECTION",{class:!0});var ye=d(l);r=h(ye,"DIV",{class:!0});var te=d(r);n=h(te,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),c=N(te),s=h(te,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=N(te),p=h(te,"DIV",{class:!0}),d(p).forEach(u),te.forEach(u),ye.forEach(u),m=N(Q),_=h(Q,"DIV",{class:!0});var Ne=d(_);b=h(Ne,"P",{class:!0});var Ce=d(b);v=T(Ce,a[8]),g=T(Ce," risultati"),Ce.forEach(u),w=N(Ne),E=h(Ne,"DIV",{class:!0});var le=d(E);O=h(le,"BUTTON",{class:!0});var Ae=d(O);k=L(Ae,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ee=d(k);D=L(Ee,"path",{d:!0}),d(D).forEach(u),I=L(Ee,"polyline",{points:!0}),d(I).forEach(u),z=L(Ee,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(z).forEach(u),j=L(Ee,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(j).forEach(u),P=L(Ee,"polyline",{points:!0}),d(P).forEach(u),Ee.forEach(u),Ae.forEach(u),M=N(le),H=h(le,"BUTTON",{class:!0});var ve=d(H);A=L(ve,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var U=d(A);$=L(U,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d($).forEach(u),ee=L(U,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ee).forEach(u),U.forEach(u),ve.forEach(u),le.forEach(u),Ne.forEach(u),pe=N(Q),G=h(Q,"SECTION",{class:!0});var ne=d(G);X.block.l(ne),ge=N(ne),re&&re.l(ne),Ie=N(ne),oe&&oe.l(ne),C=N(ne),J&&J.l(ne),ne.forEach(u),Q.forEach(u),this.h()},h(){t(n,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(n,"type","text"),t(n,"id","turbineName"),t(n,"name","turbineName"),t(n,"placeholder","Cerca"),t(s,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(s,"type","text"),t(s,"id","turbineName"),t(s,"name","turbineName"),t(s,"placeholder","Anno"),t(p,"class","hidden md:flex justify-end w-full text-end text-2xl font-bold font-mono"),t(r,"class","flex flex-col md:flex-row gap-2"),t(l,"class","mt-5 md:ml-5"),t(b,"class","font-mono text-lg"),t(D,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),t(I,"points","14 2 14 8 20 8"),t(z,"x1","16"),t(z,"y1","13"),t(z,"x2","8"),t(z,"y2","13"),t(j,"x1","16"),t(j,"y1","17"),t(j,"x2","8"),t(j,"y2","17"),t(P,"points","10 9 9 9 8 9"),t(k,"xmlns","http://www.w3.org/2000/svg"),t(k,"width","22"),t(k,"height","22"),t(k,"viewBox","0 0 24 24"),t(k,"fill","none"),t(k,"stroke","currentColor"),t(k,"stroke-width","2"),t(k,"stroke-linecap","round"),t(k,"stroke-linejoin","round"),t(k,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),t(O,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),O.disabled=q=a[0].length===0,t($,"x1","12"),t($,"y1","5"),t($,"x2","12"),t($,"y2","19"),t(ee,"x1","5"),t(ee,"y1","12"),t(ee,"x2","19"),t(ee,"y2","12"),t(A,"xmlns","http://www.w3.org/2000/svg"),t(A,"width","22"),t(A,"height","22"),t(A,"viewBox","0 0 24 24"),t(A,"fill","none"),t(A,"stroke","currentColor"),t(A,"stroke-width","2"),t(A,"stroke-linecap","round"),t(A,"stroke-linejoin","round"),t(A,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),t(H,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),t(E,"class","justify-end flex flex-row gap-4"),t(_,"class","flex flex-row justify-between items-center mt-6 mb-4 mx-1 md:mx-6"),t(G,"class","max-h-[24rem] md:max-h-[36rem] md:p-4 overflow-y-scroll overflow-x-hidden scrollbar-none snap-mandatory snap-y"),t(e,"class","md:mt-16")},m(Z,Q){W(Z,e,Q),o(e,l),o(l,r),o(r,n),yl(n,a[1]),o(r,c),o(r,s),yl(s,a[2]),o(r,i),o(r,p),o(e,m),o(e,_),o(_,b),o(b,v),o(b,g),o(_,w),o(_,E),o(E,O),o(O,k),o(k,D),o(k,I),o(k,z),o(k,j),o(k,P),o(E,M),o(E,H),o(H,A),o(A,$),o(A,ee),o(e,pe),o(e,G),X.block.m(G,X.anchor=null),X.mount=()=>G,X.anchor=ge,o(G,ge),re&&re.m(G,null),o(G,Ie),oe&&oe.m(G,null),o(G,C),J&&J.m(G,null),we=!0,fe||(me=[B(n,"input",a[17]),B(s,"input",a[18]),B(O,"click",a[16]),B(H,"click",a[13])],fe=!0)},p(Z,[Q]){a=Z,Q&2&&n.value!==a[1]&&yl(n,a[1]),Q&4&&s.value!==a[2]&&yl(s,a[2]),(!we||Q&256)&&ue(v,a[8]),(!we||Q&1&&q!==(q=a[0].length===0))&&(O.disabled=q),X.ctx=a,Q&16&&Y!==(Y=a[4])&&Nl(Y,X)||Kr(X,a,Q),a[5]?re?(re.p(a,Q),Q&32&&ce(re,1)):(re=Wr(a),re.c(),ce(re,1),re.m(G,Ie)):re&&(Lt(),ke(re,1,1,()=>{re=null}),Ft()),a[6]?oe?(oe.p(a,Q),Q&64&&ce(oe,1)):(oe=Hr(a),oe.c(),ce(oe,1),oe.m(G,C)):oe&&(Lt(),ke(oe,1,1,()=>{oe=null}),Ft()),a[7]?J?(J.p(a,Q),Q&128&&ce(J,1)):(J=Rr(a),J.c(),ce(J,1),J.m(G,null)):J&&(Lt(),ke(J,1,1,()=>{J=null}),Ft())},i(Z){we||(ce(X.block),ce(re),ce(oe),ce(J),et(()=>{R||(R=Dl(e,lt,{duration:200},!0)),R.run(1)}),we=!0)},o(Z){for(let Q=0;Q<3;Q+=1){const ye=X.blocks[Q];ke(ye)}ke(re),ke(oe),ke(J),R||(R=Dl(e,lt,{duration:200},!1)),R.run(0),we=!1},d(Z){Z&&u(e),X.block.d(),X.token=null,X=null,re&&re.d(),oe&&oe.d(),J&&J.d(),Z&&R&&R.end(),fe=!1,qe(me)}}}function ln(a,e,l){let r,n,c=!1,s={},i=[];Il(()=>{Qt().then(M=>{l(0,i=M)})});const p=M=>{const H=M.detail;l(3,s=i.find(A=>A.id===H)),l(5,c=!0),l(6,b=!1)},m=()=>{Qt().then(M=>{l(0,i=M),l(5,c=!1)})},_=()=>{l(5,c=!1),Qt().then(M=>{l(0,i=M)})};let b=!1;const v=M=>{const H=M.detail;l(3,s=i.find(A=>A.id===H)),l(5,c=!1),l(6,b=!0)};let g=!1;const w=()=>{l(7,g=!0),l(5,c=!1),l(6,b=!1)},E=()=>{l(7,g=!1),l(5,c=!1),l(6,b=!1),Qt().then(M=>{console.log("Updating with: ",M),l(0,i=M)})},O=()=>{Qt().then(M=>{l(0,i=M),l(6,b=!1)})},k=()=>{i.length>0&&po().then(M=>{const H=new Blob([M.data],{type:"text/csv"}),A=window.URL.createObjectURL(H),$=document.createElement("a");$.href=A,$.download="export.csv",$.click()})};let D="",I=new Date().getFullYear().toString();function z(){D=this.value,l(1,D)}function j(){I=this.value,l(2,I)}const P=()=>l(6,b=!1),q=()=>l(7,g=!1);return a.$$.update=()=>{a.$$.dirty&7&&l(4,r=i.filter(M=>(M.description.toLowerCase().includes(D.toLowerCase())||M.turbineName.toLowerCase().includes(D.toLowerCase())||M.turbineNumber.toLowerCase().includes(D.toLowerCase()))&&M.creationDate.includes(I))),a.$$.dirty&16&&l(8,n=r.length)},[i,D,I,s,r,c,b,g,n,p,m,_,v,w,E,O,k,z,j,P,q]}class nn extends Fe{constructor(e){super(),We(this,e,ln,tn,He,{})}}export{nn as default};
