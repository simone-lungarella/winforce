import{P as Qr,S as Ye,i as qe,s as Ge,k as f,q as S,a as y,E as F,l as h,m as d,r as T,c as N,h as u,F as W,n as t,b as G,C as o,G as L,O as Gl,u as ge,Q as tt,R as gt,B as be,D as it,e as nt,T as Xr,U as Nr,V as Zr,o as Jl,W as Ql,X as Yr,H as Ze,w as We,x as He,y as Re,Y as Xe,f as de,g as Dt,t as _e,d as It,z as Ke,Z as pt,_ as Ue,$ as Dl,a0 as yl,a1 as Dr,a2 as eo,a3 as to}from"../../../chunks/index-6db6588e.js";import{a as St}from"../../../chunks/axios-67252f11.js";function lo(a){const e=a-1;return e*e*e+1}function qr(a,{delay:e=0,duration:l=400,easing:r=Qr}={}){const n=+getComputedStyle(a).opacity;return{delay:e,duration:l,easing:r,css:c=>`opacity: ${c*n}`}}function at(a,{delay:e=0,duration:l=400,easing:r=lo}={}){const n=getComputedStyle(a),c=+n.opacity,s=parseFloat(n.height),i=parseFloat(n.paddingTop),p=parseFloat(n.paddingBottom),m=parseFloat(n.marginTop),_=parseFloat(n.marginBottom),w=parseFloat(n.borderTopWidth),v=parseFloat(n.borderBottomWidth);return{delay:e,duration:l,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*c};height: ${g*s}px;padding-top: ${g*i}px;padding-bottom: ${g*p}px;margin-top: ${g*m}px;margin-bottom: ${g*_}px;border-top-width: ${g*w}px;border-bottom-width: ${g*v}px;`}}const Nl={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Ir(a){let e,l,r=a[0].turbineNumber+"",n;return{c(){e=f("span"),l=S("- "),n=S(r),this.h()},l(c){e=h(c,"SPAN",{class:!0});var s=d(e);l=T(s,"- "),n=T(s,r),s.forEach(u),this.h()},h(){t(e,"class","hidden md:inline-block")},m(c,s){G(c,e,s),o(e,l),o(e,n)},p(c,s){s&1&&r!==(r=c[0].turbineNumber+"")&&ge(n,r)},d(c){c&&u(e)}}}function ro(a){let e,l;return{c(){e=f("span"),l=S("Completato"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=T(n,"Completato"),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 font-bold flex")},m(r,n){G(r,e,n),o(e,l)},p:be,d(r){r&&u(e)}}}function oo(a){let e,l;return{c(){e=f("span"),l=S(a[1]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=T(n,a[1]),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 font-bold flex")},m(r,n){G(r,e,n),o(e,l)},p(r,n){n&2&&ge(l,r[1])},d(r){r&&u(e)}}}function no(a){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2 md:col-span-1")},m(l,r){G(l,e,r)},p:be,d(l){l&&u(e)}}}function ao(a){let e,l;return{c(){e=f("span"),l=S(a[2]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=T(n,a[2]),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 flex md:justify-end md:mr-5")},m(r,n){G(r,e,n),o(e,l)},p(r,n){n&4&&ge(l,r[2])},d(r){r&&u(e)}}}function so(a){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2 md:col-span-1")},m(l,r){G(l,e,r)},p:be,d(l){l&&u(e)}}}function io(a){let e,l,r,n=a[0].odlNumber+"",c;return{c(){e=f("p"),l=S("ODL: "),r=f("span"),c=S(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=T(i,"ODL: "),r=h(i,"SPAN",{class:!0});var p=d(r);c=T(p,n),p.forEach(u),i.forEach(u),this.h()},h(){t(r,"class","text-blue-400"),t(e,"class","hidden md:group-hover:flex justify-end mr-5 col-span-1")},m(s,i){G(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&n!==(n=s[0].odlNumber+"")&&ge(c,n)},d(s){s&&u(e)}}}function co(a){let e,l,r,n,c=a[0].turbineName+"",s,i,p,m,_,w,v,g,b,E,V,k=a[0].description+"",D,I,H,z,A,J,Q,re,C,x=a[0].operation[0]+"",U,oe,me,Y=a[0].turbineState+"",ce,Se,O,Z,we,q,ae,pe,Pe,fe,he,X=a[0].turbineNumber&&Ir(a);function Ae(j,R){return j[1]?oo:ro}let Ee=Ae(a),ne=Ee(a);function ke(j,R){return j[2]!==null&&j[2]!==void 0?ao:no}let Te=ke(a),le=Te(a);function je(j,R){return j[0].odlNumber!==void 0&&j[0].odlNumber!==0?io:so}let Ne=je(a),se=Ne(a);return{c(){e=f("div"),l=f("div"),r=f("div"),n=f("h1"),s=S(c),i=y(),X&&X.c(),p=y(),ne.c(),m=y(),le.c(),_=y(),w=f("div"),v=F("svg"),g=F("path"),b=F("circle"),E=y(),V=f("span"),D=S(k),I=y(),se.c(),H=y(),z=f("div"),A=F("svg"),J=F("path"),Q=F("rect"),re=y(),C=f("span"),U=S(x),oe=y(),me=f("span"),ce=S(Y),Se=y(),O=f("div"),Z=f("div"),we=f("button"),q=F("svg"),ae=F("circle"),pe=F("line"),this.h()},l(j){e=h(j,"DIV",{class:!0});var R=d(e);l=h(R,"DIV",{class:!0});var ie=d(l);r=h(ie,"DIV",{class:!0});var P=d(r);n=h(P,"H1",{class:!0});var B=d(n);s=T(B,c),i=N(B),X&&X.l(B),B.forEach(u),p=N(P),ne.l(P),m=N(P),le.l(P),_=N(P),w=h(P,"DIV",{class:!0});var $=d(w);v=W($,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ee=d(v);g=W(ee,"path",{d:!0}),d(g).forEach(u),b=W(ee,"circle",{cx:!0,cy:!0,r:!0}),d(b).forEach(u),ee.forEach(u),E=N($),V=h($,"SPAN",{});var M=d(V);D=T(M,k),M.forEach(u),$.forEach(u),I=N(P),se.l(P),H=N(P),z=h(P,"DIV",{class:!0});var te=d(z);A=W(te,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var De=d(A);J=W(De,"path",{d:!0}),d(J).forEach(u),Q=W(De,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(Q).forEach(u),De.forEach(u),re=N(te),C=h(te,"SPAN",{class:!0});var Oe=d(C);U=T(Oe,x),Oe.forEach(u),te.forEach(u),oe=N(P),me=h(P,"SPAN",{class:!0});var Le=d(me);ce=T(Le,Y),Le.forEach(u),P.forEach(u),Se=N(ie),O=h(ie,"DIV",{class:!0});var ze=d(O);Z=h(ze,"DIV",{class:!0});var Me=d(Z);we=h(Me,"BUTTON",{class:!0});var Je=d(we);q=W(Je,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ye=d(q);ae=W(ye,"circle",{cx:!0,cy:!0,r:!0}),d(ae).forEach(u),pe=W(ye,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(pe).forEach(u),ye.forEach(u),Je.forEach(u),Me.forEach(u),ze.forEach(u),ie.forEach(u),R.forEach(u),this.h()},h(){t(n,"class","font-bold text-4xl mt-5 col-span-1 md:col-span-2"),t(g,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),t(b,"cx","12"),t(b,"cy","10"),t(b,"r","3"),t(v,"xmlns","http://www.w3.org/2000/svg"),t(v,"width","24"),t(v,"height","24"),t(v,"viewBox","0 0 24 24"),t(v,"fill","none"),t(v,"stroke","currentColor"),t(v,"stroke-width","2"),t(v,"stroke-linecap","round"),t(v,"stroke-linejoin","round"),t(v,"class","feather feather-map-pin col-span-1"),t(w,"class","col-span-2 md:col-span-1 hidden group-hover:flex gap-2"),t(J,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),t(Q,"x","8"),t(Q,"y","2"),t(Q,"width","8"),t(Q,"height","4"),t(Q,"rx","1"),t(Q,"ry","1"),t(A,"xmlns","http://www.w3.org/2000/svg"),t(A,"width","24"),t(A,"height","24"),t(A,"viewBox","0 0 24 24"),t(A,"fill","none"),t(A,"stroke","currentColor"),t(A,"stroke-width","2"),t(A,"stroke-linecap","round"),t(A,"stroke-linejoin","round"),t(A,"class","feather feather-clipboard"),t(C,"class","col-span-2 md:col-span-1 hidden group-hover:flex"),t(z,"class","hidden group-hover:flex gap-2"),t(me,"class","col-span-2 md:col-span-1 hidden group-hover:flex md:justify-end md:mr-5 font-bold"),t(r,"class","grid grid-cols-1 md:grid-cols-2 text-white font-mono gap-4"),t(ae,"cx","11"),t(ae,"cy","11"),t(ae,"r","8"),t(pe,"x1","21"),t(pe,"y1","21"),t(pe,"x2","16.65"),t(pe,"y2","16.65"),t(q,"xmlns","http://www.w3.org/2000/svg"),t(q,"width","20"),t(q,"height","20"),t(q,"viewBox","0 0 24 24"),t(q,"fill","none"),t(q,"stroke","currentColor"),t(q,"stroke-width","2"),t(q,"stroke-linecap","round"),t(q,"stroke-linejoin","round"),t(q,"class","feather feather-search"),t(we,"class","bg-gray-700 hover:bg-gray-600 py-2 px-4 rounded-sm"),t(Z,"class","flex flex-col md:flex-row gap-2 md:gap-0"),t(O,"class","absolute top-0 right-0 mr-5 mt-5"),t(l,"class","bg-gray-800 md:h-32 px-4 my-3 hover:mx-2 md:hover:mx-0 rounded-sm shadow-md content-center hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto pb-5 md:hover:h-48 hover:content-start group"),t(e,"class","snap-start pt-1")},m(j,R){G(j,e,R),o(e,l),o(l,r),o(r,n),o(n,s),o(n,i),X&&X.m(n,null),o(r,p),ne.m(r,null),o(r,m),le.m(r,null),o(r,_),o(r,w),o(w,v),o(v,g),o(v,b),o(w,E),o(w,V),o(V,D),o(r,I),se.m(r,null),o(r,H),o(r,z),o(z,A),o(A,J),o(A,Q),o(z,re),o(z,C),o(C,U),o(r,oe),o(r,me),o(me,ce),o(l,Se),o(l,O),o(O,Z),o(Z,we),o(we,q),o(q,ae),o(q,pe),fe||(he=L(we,"click",Gl(a[3])),fe=!0)},p(j,[R]){R&1&&c!==(c=j[0].turbineName+"")&&ge(s,c),j[0].turbineNumber?X?X.p(j,R):(X=Ir(j),X.c(),X.m(n,null)):X&&(X.d(1),X=null),Ee===(Ee=Ae(j))&&ne?ne.p(j,R):(ne.d(1),ne=Ee(j),ne&&(ne.c(),ne.m(r,m))),Te===(Te=ke(j))&&le?le.p(j,R):(le.d(1),le=Te(j),le&&(le.c(),le.m(r,_))),R&1&&k!==(k=j[0].description+"")&&ge(D,k),Ne===(Ne=je(j))&&se?se.p(j,R):(se.d(1),se=Ne(j),se&&(se.c(),se.m(r,H))),R&1&&x!==(x=j[0].operation[0]+"")&&ge(U,x),R&1&&Y!==(Y=j[0].turbineState+"")&&ge(ce,Y)},i(j){Pe||tt(()=>{Pe=gt(l,at,{duration:1e3}),Pe.start()})},o:be,d(j){j&&u(e),X&&X.d(),ne.d(),le.d(),se.d(),fe=!1,he()}}}function uo(a,e,l){let r,n,{turbine:c={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const s=it(),i=()=>{s("showDetails",c.id)};return a.$$set=p=>{"turbine"in p&&l(0,c=p.turbine)},a.$$.update=()=>{a.$$.dirty&1&&l(1,r=c.creationDate.includes("2022")?Nl[c.completedSteps+2]:Nl[c.completedSteps+1]),a.$$.dirty&3&&l(2,n=r===Nl[3]?c.priorNotification:r===Nl[4]?c.permittingDate:null)},[c,r,n,i]}class fo extends Ye{constructor(e){super(),qe(this,e,uo,co,Ge,{turbine:0})}}const Xt="https://dockyard-handler.herokuapp.com/v1.0.0";async function Qt(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await St.get(Xt+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function ho(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await St.delete(Xt+"/event?eventId="+a,l)}else console.log("Token not found in local storage")}async function po(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await St.post(Xt+"/event",a,l)}else console.log("Token not found in local storage")}async function go(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(a)),await St.put(Xt+"/event",a,l)}else console.log("Token not found in local storage")}async function mo(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await St.get(Xt+"/events/csv",e)}else console.log("Token not found in local storage")}function Sr(a){let e,l,r,n,c=(a[0].startingDateEEMM||"____/__/__")+"",s,i,p,m,_,w=(a[0].startingDateOOCC||"____/__/__")+"",v;return{c(){e=f("div"),l=f("p"),r=S("Inizio ATT EEMM: "),n=f("span"),s=S(c),i=y(),p=f("p"),m=S("Inizio ATT OOCC: "),_=f("span"),v=S(w),this.h()},l(g){e=h(g,"DIV",{class:!0});var b=d(e);l=h(b,"P",{class:!0});var E=d(l);r=T(E,"Inizio ATT EEMM: "),n=h(E,"SPAN",{class:!0});var V=d(n);s=T(V,c),V.forEach(u),E.forEach(u),i=N(b),p=h(b,"P",{class:!0});var k=d(p);m=T(k,"Inizio ATT OOCC: "),_=h(k,"SPAN",{class:!0});var D=d(_);v=T(D,w),D.forEach(u),k.forEach(u),b.forEach(u),this.h()},h(){t(n,"class","font-extralight"),t(l,"class","font-mono text-white text-lg"),t(_,"class","font-extralight"),t(p,"class","font-mono text-white text-lg"),t(e,"class","p-2 mb-2")},m(g,b){G(g,e,b),o(e,l),o(l,r),o(l,n),o(n,s),o(e,i),o(e,p),o(p,m),o(p,_),o(_,v)},p(g,b){b&1&&c!==(c=(g[0].startingDateEEMM||"____/__/__")+"")&&ge(s,c),b&1&&w!==(w=(g[0].startingDateOOCC||"____/__/__")+"")&&ge(v,w)},d(g){g&&u(e)}}}function vo(a){let e,l,r,n,c,s,i,p,m,_,w,v=a[1]&&Sr(a);return{c(){e=f("button"),l=F("svg"),r=F("circle"),n=F("polyline"),c=y(),s=f("h1"),i=S("Tracciamento eventi"),p=y(),v&&v.c(),m=nt(),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var b=d(e);l=W(b,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var E=d(l);r=W(E,"circle",{cx:!0,cy:!0,r:!0}),d(r).forEach(u),n=W(E,"polyline",{points:!0}),d(n).forEach(u),E.forEach(u),c=N(b),s=h(b,"H1",{class:!0});var V=d(s);i=T(V,"Tracciamento eventi"),V.forEach(u),b.forEach(u),p=N(g),v&&v.l(g),m=nt(),this.h()},h(){t(r,"cx","12"),t(r,"cy","12"),t(r,"r","10"),t(n,"points","12 6 12 12 16 14"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"width","22"),t(l,"height","22"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(l,"stroke-linecap","round"),t(l,"stroke-linejoin","round"),t(l,"class","feather feather-clock"),t(s,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(g,b){G(g,e,b),o(e,l),o(l,r),o(l,n),o(e,c),o(e,s),o(s,i),G(g,p,b),v&&v.m(g,b),G(g,m,b),_||(w=L(e,"click",Gl(a[2])),_=!0)},p(g,[b]){g[1]?v?v.p(g,b):(v=Sr(g),v.c(),v.m(m.parentNode,m)):v&&(v.d(1),v=null)},i:be,o:be,d(g){g&&u(e),g&&u(p),v&&v.d(g),g&&u(m),_=!1,w()}}}function _o(a,e,l){let{turbine:r}=e,n=!1;const c=()=>l(1,n=!n);return a.$$set=s=>{"turbine"in s&&l(0,r=s.turbine)},[r,n,c]}class bo extends Ye{constructor(e){super(),qe(this,e,_o,vo,Ge,{turbine:0})}}function Tr(a,e,l){const r=a.slice();return r[3]=e[l],r}function Or(a){let e,l,r=a[0].operation,n=[];for(let c=0;c<r.length;c+=1)n[c]=Cr(Tr(a,r,c));return{c(){e=f("div"),l=f("ul");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=h(c,"DIV",{class:!0});var s=d(e);l=h(s,"UL",{class:!0});var i=d(l);for(let p=0;p<n.length;p+=1)n[p].l(i);i.forEach(u),s.forEach(u),this.h()},h(){t(l,"class","font-mono text-white text-lg"),t(e,"class","p-2")},m(c,s){G(c,e,s),o(e,l);for(let i=0;i<n.length;i+=1)n[i].m(l,null)},p(c,s){if(s&1){r=c[0].operation;let i;for(i=0;i<r.length;i+=1){const p=Tr(c,r,i);n[i]?n[i].p(p,s):(n[i]=Cr(p),n[i].c(),n[i].m(l,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(c){c&&u(e),Xr(n,c)}}}function Cr(a){let e,l=a[3]+"",r,n;return{c(){e=f("li"),r=S(l),n=y(),this.h()},l(c){e=h(c,"LI",{class:!0});var s=d(e);r=T(s,l),n=N(s),s.forEach(u),this.h()},h(){t(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(c,s){G(c,e,s),o(e,r),o(e,n)},p(c,s){s&1&&l!==(l=c[3]+"")&&ge(r,l)},d(c){c&&u(e)}}}function wo(a){let e,l,r,n,c,s,i,p,m,_,w=a[1]&&Or(a);return{c(){e=f("button"),l=F("svg"),r=F("path"),n=y(),c=f("h1"),s=S("Operazioni"),i=y(),w&&w.c(),p=nt(),this.h()},l(v){e=h(v,"BUTTON",{class:!0});var g=d(e);l=W(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var b=d(l);r=W(b,"path",{d:!0}),d(r).forEach(u),b.forEach(u),n=N(g),c=h(g,"H1",{class:!0});var E=d(c);s=T(E,"Operazioni"),E.forEach(u),g.forEach(u),i=N(v),w&&w.l(v),p=nt(),this.h()},h(){t(r,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"width","22"),t(l,"height","22"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(l,"stroke-linecap","round"),t(l,"stroke-linejoin","round"),t(l,"class","feather feather-tool"),t(c,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(v,g){G(v,e,g),o(e,l),o(l,r),o(e,n),o(e,c),o(c,s),G(v,i,g),w&&w.m(v,g),G(v,p,g),m||(_=L(e,"click",Gl(a[2])),m=!0)},p(v,[g]){v[1]?w?w.p(v,g):(w=Or(v),w.c(),w.m(p.parentNode,p)):w&&(w.d(1),w=null)},i:be,o:be,d(v){v&&u(e),v&&u(i),w&&w.d(v),v&&u(p),m=!1,_()}}}function ko(a,e,l){let{turbine:r}=e,n=!1;const c=()=>l(1,n=!n);return a.$$set=s=>{"turbine"in s&&l(0,r=s.turbine)},[r,n,c]}class Eo extends Ye{constructor(e){super(),qe(this,e,ko,wo,Ge,{turbine:0})}}const Gr="https://dockyard-handler.herokuapp.com/v1.0.0";async function Mr(a){if(console.log("Retrieving steps for event "+a),typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await St.get(Gr+"/steps/"+a,l)).data}else console.log("Token not found in local storage")}async function yo(a,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await St.put(Gr+"/step/complete?stepId="+a+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function Vr(a,e,l){const r=a.slice();return r[6]=e[l],r}function No(a){return{c:be,l:be,m:be,p:be,d:be}}function Do(a){let e=[],l=new Map,r,n=a[0];const c=s=>s[6].id;for(let s=0;s<n.length;s+=1){let i=Vr(a,n,s),p=c(i);l.set(p,e[s]=Br(p,i))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=nt()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);r=nt()},m(s,i){for(let p=0;p<e.length;p+=1)e[p].m(s,i);G(s,r,i)},p(s,i){i&7&&(n=s[0],e=Ql(e,i,c,1,s,n,l,r.parentNode,Yr,Br,r,Vr))},d(s){for(let i=0;i<e.length;i+=1)e[i].d(s);s&&u(r)}}}function Pr(a){let e,l,r,n,c,s,i;return{c(){e=f("div"),l=f("p"),r=S("Completato"),n=y(),c=F("svg"),s=F("path"),i=F("polyline"),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=d(e);l=h(m,"P",{class:!0});var _=d(l);r=T(_,"Completato"),_.forEach(u),n=N(m),c=W(m,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var w=d(c);s=W(w,"path",{d:!0}),d(s).forEach(u),i=W(w,"polyline",{points:!0}),d(i).forEach(u),w.forEach(u),m.forEach(u),this.h()},h(){t(l,"class","font-bold uppercase"),t(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),t(i,"points","22 4 12 14.01 9 11.01"),t(c,"xmlns","http://www.w3.org/2000/svg"),t(c,"width","22"),t(c,"height","22"),t(c,"viewBox","0 0 24 24"),t(c,"fill","none"),t(c,"stroke","currentColor"),t(c,"stroke-width","2"),t(c,"stroke-linecap","round"),t(c,"stroke-linejoin","round"),t(c,"class","feather feather-check-circle text-green-500"),t(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(p,m){G(p,e,m),o(e,l),o(l,r),o(e,n),o(e,c),o(c,s),o(c,i)},d(p){p&&u(e)}}}function Br(a,e){let l,r,n,c,s,i,p,m=e[6].name+"",_,w,v=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,g,b,E;function V(){return e[4](e[6])}let k=v&&Pr();return{key:a,first:null,c(){l=f("div"),r=f("input"),s=y(),i=f("div"),p=f("p"),_=S(m),w=y(),k&&k.c(),g=y(),this.h()},l(D){l=h(D,"DIV",{class:!0});var I=d(l);r=h(I,"INPUT",{type:!0,class:!0}),s=N(I),i=h(I,"DIV",{class:!0});var H=d(i);p=h(H,"P",{});var z=d(p);_=T(z,m),z.forEach(u),H.forEach(u),w=N(I),k&&k.l(I),g=N(I),I.forEach(u),this.h()},h(){t(r,"type","checkbox"),t(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=c=e[6].complete,t(i,"class","col-span-6 text-left"),t(l,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm"),this.first=l},m(D,I){G(D,l,I),o(l,r),o(l,s),o(l,i),o(i,p),o(p,_),o(l,w),k&&k.m(l,null),o(l,g),b||(E=L(r,"click",V),b=!0)},p(D,I){e=D,I&3&&n!==(n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=n),I&1&&c!==(c=e[6].complete)&&(r.checked=c),I&1&&m!==(m=e[6].name+"")&&ge(_,m),I&3&&(v=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),v?k||(k=Pr(),k.c(),k.m(l,g)):k&&(k.d(1),k=null)},d(D){D&&u(l),k&&k.d(),b=!1,E()}}}function Io(a){let e,l;return{c(){e=f("div"),l=S("Caricamento..."),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=d(e);l=T(n,"Caricamento..."),n.forEach(u),this.h()},h(){t(e,"class","col-span-7 text-center")},m(r,n){G(r,e,n),o(e,l)},p:be,d(r){r&&u(e)}}}function So(a){let e,l,r,n,c,s,i,p,m,_,w,v,g,b={ctx:a,current:null,token:null,hasCatch:!1,pending:Io,then:Do,catch:No,value:0};return Nr(w=a[0],b),{c(){e=f("div"),l=f("div"),r=F("svg"),n=F("path"),c=F("path"),s=y(),i=f("h1"),p=S("Tracciamento fasi"),m=y(),_=f("div"),b.block.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var V=d(e);l=h(V,"DIV",{class:!0});var k=d(l);r=W(k,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(r);n=W(D,"path",{d:!0}),d(n).forEach(u),c=W(D,"path",{d:!0}),d(c).forEach(u),D.forEach(u),s=N(k),i=h(k,"H1",{class:!0});var I=d(i);p=T(I,"Tracciamento fasi"),I.forEach(u),k.forEach(u),m=N(V),_=h(V,"DIV",{id:!0,class:!0});var H=d(_);b.block.l(H),H.forEach(u),V.forEach(u),this.h()},h(){t(n,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),t(c,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),t(r,"xmlns","http://www.w3.org/2000/svg"),t(r,"width","24"),t(r,"height","24"),t(r,"viewBox","0 0 24 24"),t(r,"fill","none"),t(r,"stroke","currentColor"),t(r,"stroke-width","2"),t(r,"stroke-linecap","round"),t(r,"stroke-linejoin","round"),t(r,"class","feather feather-link"),t(i,"class","text-center font-mono text-xl"),t(l,"class","grid justify-center place-content-center items-center grid-flow-col mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),t(_,"id","stepsContainer"),t(_,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-32 md:h-64 gap-2 scrollbar-none shadow-md mt-5 items-center"),t(e,"class","col-span-1 text-white md:ring-2 ring-gray-400 rounded-sm")},m(E,V){G(E,e,V),o(e,l),o(l,r),o(r,n),o(r,c),o(l,s),o(l,i),o(i,p),o(e,m),o(e,_),b.block.m(_,b.anchor=null),b.mount=()=>_,b.anchor=null},p(E,[V]){a=E,b.ctx=a,V&1&&w!==(w=a[0])&&Nr(w,b)||Zr(b,a,V)},i(E){v||tt(()=>{v=gt(_,at,{delay:500,duration:1e3}),v.start()}),g||tt(()=>{g=gt(e,qr,{delay:400,duration:1e3}),g.start()})},o:be,d(E){E&&u(e),b.block.d(),b.token=null,b=null}}}function To(a,e,l){let r,{turbine:n}=e,c=[];Jl(()=>{Mr(n.id).then(m=>{l(0,c=m)}),setTimeout(()=>{i()},1500)});const s=(m,_)=>{yo(m,_).then(()=>{Mr(n.id).then(w=>{l(0,c=w),_?l(3,n.completedSteps+=1,n):l(3,n.completedSteps-=1,n),i()})})};function i(){const m=document.getElementById("stepsContainer"),_=9;if(m){const w=window.innerWidth<768?2:4,v=n.completedSteps-w;if(v>=0&&n.completedSteps<_){m.scrollTo({top:m.scrollHeight/_*(v+1),behavior:"smooth"});return}else if(n.completedSteps===_){setTimeout(()=>{m.scrollTo({top:0,behavior:"smooth"})},500);return}}}const p=m=>s(m.id,!m.complete);return a.$$set=m=>{"turbine"in m&&l(3,n=m.turbine)},a.$$.update=()=>{a.$$.dirty&9&&l(1,r=c[n.completedSteps])},[c,r,s,n,p]}class Oo extends Ye{constructor(e){super(),qe(this,e,To,So,Ge,{turbine:3})}}function Co(a){let e,l,r,n,c,s,i,p,m,_,w,v,g;return{c(){e=f("div"),l=f("p"),r=S("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),n=y(),c=f("div"),s=f("button"),i=S("Annulla"),p=y(),m=f("button"),_=S("Conferma"),this.h()},l(b){e=h(b,"DIV",{class:!0});var E=d(e);l=h(E,"P",{class:!0});var V=d(l);r=T(V,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),V.forEach(u),n=N(E),c=h(E,"DIV",{class:!0});var k=d(c);s=h(k,"BUTTON",{class:!0});var D=d(s);i=T(D,"Annulla"),D.forEach(u),p=N(k),m=h(k,"BUTTON",{class:!0});var I=d(m);_=T(I,"Conferma"),I.forEach(u),k.forEach(u),E.forEach(u),this.h()},h(){t(l,"class","font-bold text-lg"),t(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),t(m,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),t(c,"class","flex justify-end mt-5 text-sm"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(b,E){G(b,e,E),o(e,l),o(l,r),o(e,n),o(e,c),o(c,s),o(s,i),o(c,p),o(c,m),o(m,_),v||(g=[L(s,"click",a[1]),L(m,"click",a[0]),L(e,"click",a[2]),L(e,"keydown",a[2])],v=!0)},p:be,i(b){w||tt(()=>{w=gt(e,at,{duration:300}),w.start()})},o:be,d(b){b&&u(e),v=!1,Ze(g)}}}function Mo(a){const e=it();return[()=>{e("confirm")},()=>{e("cancel")},c=>{c.stopPropagation()}]}class Vo extends Ye{constructor(e){super(),qe(this,e,Mo,Co,Ge,{})}}function Ar(a){let e,l,r=a[0].turbineNumber+"",n;return{c(){e=f("span"),l=S("- "),n=S(r)},l(c){e=h(c,"SPAN",{});var s=d(e);l=T(s,"- "),n=T(s,r),s.forEach(u)},m(c,s){G(c,e,s),o(e,l),o(e,n)},p(c,s){s&1&&r!==(r=c[0].turbineNumber+"")&&ge(n,r)},d(c){c&&u(e)}}}function Lr(a){let e,l,r,n,c;return l=new Vo({}),l.$on("confirm",a[4]),l.$on("cancel",a[7]),{c(){e=f("div"),We(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);He(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,i){G(s,e,i),Re(l,e,null),r=!0,n||(c=[L(e,"click",a[8]),L(e,"keydown",a[9])],n=!0)},p:be,i(s){r||(de(l.$$.fragment,s),r=!0)},o(s){_e(l.$$.fragment,s),r=!1},d(s){s&&u(e),Ke(l),n=!1,Ze(c)}}}function zr(a){let e,l,r,n=a[0].permittingDate+"",c;return{c(){e=f("p"),l=S("Valdità permitting: "),r=f("span"),c=S(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=T(i,"Valdità permitting: "),r=h(i,"SPAN",{});var p=d(r);c=T(p,n),p.forEach(u),i.forEach(u),this.h()},h(){t(e,"class","font-mono text-white text-lg")},m(s,i){G(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&n!==(n=s[0].permittingDate+"")&&ge(c,n)},d(s){s&&u(e)}}}function xr(a){let e,l,r,n=a[0].priorNotification+"",c;return{c(){e=f("p"),l=S("Valdità notifica: "),r=f("span"),c=S(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=T(i,"Valdità notifica: "),r=h(i,"SPAN",{});var p=d(r);c=T(p,n),p.forEach(u),i.forEach(u),this.h()},h(){t(e,"class","font-mono text-white text-lg")},m(s,i){G(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&n!==(n=s[0].priorNotification+"")&&ge(c,n)},d(s){s&&u(e)}}}function Po(a){let e,l,r,n=a[0].turbineName+"",c,s,i,p,m,_,w,v,g,b,E,V,k,D,I,H,z,A,J,Q,re,C,x,U,oe,me,Y,ce,Se,O,Z=a[0].creationDate+"",we,q,ae,pe,Pe,fe=a[0].turbineState+"",he,X,Ae,Ee,ne,ke,Te,le,je,Ne,se,j,R,ie,P=a[0].turbineNumber&&Ar(a),B=a[1]&&Lr(a),$=a[0].permittingDate!==void 0&&zr(a),ee=a[0].priorNotification!==void 0&&xr(a);return ke=new bo({props:{turbine:a[0]}}),le=new Eo({props:{turbine:a[0]}}),Ne=new Oo({props:{turbine:a[0]}}),{c(){e=f("div"),l=f("div"),r=f("h1"),c=S(n),s=y(),P&&P.c(),i=y(),p=f("div"),m=f("div"),_=f("div"),w=y(),B&&B.c(),v=y(),g=f("div"),b=f("button"),E=F("svg"),V=F("polyline"),k=F("path"),D=F("line"),I=F("line"),H=y(),z=f("button"),A=F("svg"),J=F("path"),Q=y(),re=f("button"),C=F("svg"),x=F("line"),U=F("line"),oe=y(),me=f("div"),Y=f("div"),ce=f("p"),Se=S("Creazione: "),O=f("span"),we=S(Z),q=y(),ae=f("p"),pe=S("Stato turbina: "),Pe=f("span"),he=S(fe),X=y(),$&&$.c(),Ae=y(),ee&&ee.c(),Ee=y(),ne=f("div"),We(ke.$$.fragment),Te=y(),We(le.$$.fragment),je=y(),We(Ne.$$.fragment),this.h()},l(M){e=h(M,"DIV",{class:!0});var te=d(e);l=h(te,"DIV",{class:!0});var De=d(l);r=h(De,"H1",{class:!0});var Oe=d(r);c=T(Oe,n),s=N(Oe),P&&P.l(Oe),Oe.forEach(u),i=N(De),p=h(De,"DIV",{class:!0});var Le=d(p);m=h(Le,"DIV",{class:!0});var ze=d(m);_=h(ze,"DIV",{class:!0}),d(_).forEach(u),w=N(ze),B&&B.l(ze),v=N(ze),g=h(ze,"DIV",{class:!0});var Me=d(g);b=h(Me,"BUTTON",{class:!0});var Je=d(b);E=W(Je,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ye=d(E);V=W(ye,"polyline",{points:!0}),d(V).forEach(u),k=W(ye,"path",{d:!0}),d(k).forEach(u),D=W(ye,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(u),I=W(ye,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(I).forEach(u),ye.forEach(u),Je.forEach(u),H=N(Me),z=h(Me,"BUTTON",{class:!0});var $e=d(z);A=W($e,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var et=d(A);J=W(et,"path",{d:!0}),d(J).forEach(u),et.forEach(u),$e.forEach(u),Q=N(Me),re=h(Me,"BUTTON",{class:!0});var st=d(re);C=W(st,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Be=d(C);x=W(Be,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(x).forEach(u),U=W(Be,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(U).forEach(u),Be.forEach(u),st.forEach(u),Me.forEach(u),ze.forEach(u),Le.forEach(u),De.forEach(u),oe=N(te),me=h(te,"DIV",{class:!0});var Fe=d(me);Y=h(Fe,"DIV",{class:!0});var Ce=d(Y);ce=h(Ce,"P",{class:!0});var xe=d(ce);Se=T(xe,"Creazione: "),O=h(xe,"SPAN",{});var lt=d(O);we=T(lt,Z),lt.forEach(u),xe.forEach(u),q=N(Ce),ae=h(Ce,"P",{class:!0});var rt=d(ae);pe=T(rt,"Stato turbina: "),Pe=h(rt,"SPAN",{});var Tt=d(Pe);he=T(Tt,fe),Tt.forEach(u),rt.forEach(u),X=N(Ce),$&&$.l(Ce),Ae=N(Ce),ee&&ee.l(Ce),Ee=N(Ce),ne=h(Ce,"DIV",{class:!0});var ct=d(ne);He(ke.$$.fragment,ct),Te=N(ct),He(le.$$.fragment,ct),ct.forEach(u),Ce.forEach(u),je=N(Fe),He(Ne.$$.fragment,Fe),Fe.forEach(u),te.forEach(u),this.h()},h(){t(r,"class","font-mono font-bold text-2xl md:text-4xl"),t(_,"class","col-span-3"),t(V,"points","3 6 5 6 21 6"),t(k,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),t(D,"x1","10"),t(D,"y1","11"),t(D,"x2","10"),t(D,"y2","17"),t(I,"x1","14"),t(I,"y1","11"),t(I,"x2","14"),t(I,"y2","17"),t(E,"xmlns","http://www.w3.org/2000/svg"),t(E,"width","20"),t(E,"height","20"),t(E,"viewBox","0 0 24 24"),t(E,"fill","none"),t(E,"stroke","currentColor"),t(E,"stroke-width","2"),t(E,"stroke-linecap","round"),t(E,"stroke-linejoin","round"),t(E,"class","feather feather-trash-2"),t(b,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(J,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),t(A,"xmlns","http://www.w3.org/2000/svg"),t(A,"width","20"),t(A,"height","20"),t(A,"viewBox","0 0 24 24"),t(A,"fill","none"),t(A,"stroke","currentColor"),t(A,"stroke-width","2"),t(A,"stroke-linecap","round"),t(A,"stroke-linejoin","round"),t(A,"class","feather feather-edit-2"),t(z,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),t(x,"x1","18"),t(x,"y1","6"),t(x,"x2","6"),t(x,"y2","18"),t(U,"x1","6"),t(U,"y1","6"),t(U,"x2","18"),t(U,"y2","18"),t(C,"xmlns","http://www.w3.org/2000/svg"),t(C,"width","24"),t(C,"height","24"),t(C,"viewBox","0 0 24 24"),t(C,"fill","none"),t(C,"stroke","currentColor"),t(C,"stroke-width","2"),t(C,"stroke-linecap","round"),t(C,"stroke-linejoin","round"),t(C,"class","feather feather-x"),t(re,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(g,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),t(m,"class","grid grid-cols-6"),t(p,"class","flex flex-row justify-end"),t(l,"class","w-full h-20 grid grid-cols-2 items-start"),t(ce,"class","font-mono text-white text-lg"),t(ae,"class","font-mono text-white text-lg"),t(ne,"class","w-full mt-5"),t(Y,"class","col-span-1"),t(me,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start gap-0 md:gap-4"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 md:min-w-min md:max-w-4xl z-50 h-[32rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(M,te){G(M,e,te),o(e,l),o(l,r),o(r,c),o(r,s),P&&P.m(r,null),o(l,i),o(l,p),o(p,m),o(m,_),o(m,w),B&&B.m(m,null),o(m,v),o(m,g),o(g,b),o(b,E),o(E,V),o(E,k),o(E,D),o(E,I),o(g,H),o(g,z),o(z,A),o(A,J),o(g,Q),o(g,re),o(re,C),o(C,x),o(C,U),o(e,oe),o(e,me),o(me,Y),o(Y,ce),o(ce,Se),o(ce,O),o(O,we),o(Y,q),o(Y,ae),o(ae,pe),o(ae,Pe),o(Pe,he),o(Y,X),$&&$.m(Y,null),o(Y,Ae),ee&&ee.m(Y,null),o(Y,Ee),o(Y,ne),Re(ke,ne,null),o(ne,Te),Re(le,ne,null),o(me,je),Re(Ne,me,null),j=!0,R||(ie=[L(b,"click",a[10]),L(z,"click",a[3]),L(re,"click",a[2]),L(e,"click",Xe(a[5])),L(e,"keydown",Xe(a[6]))],R=!0)},p(M,[te]){(!j||te&1)&&n!==(n=M[0].turbineName+"")&&ge(c,n),M[0].turbineNumber?P?P.p(M,te):(P=Ar(M),P.c(),P.m(r,null)):P&&(P.d(1),P=null),M[1]?B?(B.p(M,te),te&2&&de(B,1)):(B=Lr(M),B.c(),de(B,1),B.m(m,v)):B&&(Dt(),_e(B,1,1,()=>{B=null}),It()),(!j||te&1)&&Z!==(Z=M[0].creationDate+"")&&ge(we,Z),(!j||te&1)&&fe!==(fe=M[0].turbineState+"")&&ge(he,fe),M[0].permittingDate!==void 0?$?$.p(M,te):($=zr(M),$.c(),$.m(Y,Ae)):$&&($.d(1),$=null),M[0].priorNotification!==void 0?ee?ee.p(M,te):(ee=xr(M),ee.c(),ee.m(Y,Ee)):ee&&(ee.d(1),ee=null);const De={};te&1&&(De.turbine=M[0]),ke.$set(De);const Oe={};te&1&&(Oe.turbine=M[0]),le.$set(Oe);const Le={};te&1&&(Le.turbine=M[0]),Ne.$set(Le)},i(M){j||(de(B),de(ke.$$.fragment,M),de(le.$$.fragment,M),de(Ne.$$.fragment,M),se||tt(()=>{se=gt(e,at,{duration:150}),se.start()}),j=!0)},o(M){_e(B),_e(ke.$$.fragment,M),_e(le.$$.fragment,M),_e(Ne.$$.fragment,M),j=!1},d(M){M&&u(e),P&&P.d(),B&&B.d(),$&&$.d(),ee&&ee.d(),Ke(ke),Ke(le),Ke(Ne),R=!1,Ze(ie)}}}function Bo(a,e,l){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const n=it(),c=()=>{n("closeDetails")},s=()=>{n("editMode",r.id)};let i=!1;const p=()=>{l(1,i=!1),ho(r.id).then(()=>{n("deleted")})};function m(E){pt.call(this,a,E)}function _(E){pt.call(this,a,E)}const w=()=>{l(1,i=!1)},v=()=>{l(1,i=!1)},g=()=>{l(1,i=!1)},b=()=>{l(1,i=!0)};return a.$$set=E=>{"turbine"in E&&l(0,r=E.turbine)},[r,i,c,s,p,m,_,w,v,g,b]}class Ao extends Ye{constructor(e){super(),qe(this,e,Bo,Po,Ge,{turbine:0})}}const Lo={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear"};function Ur(a,e,l){const r=a.slice();return r[7]=e[l],r[8]=e,r[9]=l,r}function jr(a,e){let l,r,n,c,s,i=e[7].name+"",p,m,_,w;function v(...g){return e[5](e[7],e[8],e[9],...g)}return{key:a,first:null,c(){l=f("div"),r=f("input"),c=y(),s=f("p"),p=S(i),m=y(),this.h()},l(g){l=h(g,"DIV",{class:!0});var b=d(l);r=h(b,"INPUT",{class:!0,type:!0}),c=N(b),s=h(b,"P",{class:!0});var E=d(s);p=T(E,i),E.forEach(u),m=N(b),b.forEach(u),this.h()},h(){t(r,"class","checkbox"),r.checked=n=e[7].isSelected,t(r,"type","checkbox"),t(s,"class","font-mono"),t(l,"class","flex flex-row gap-4"),this.first=l},m(g,b){G(g,l,b),o(l,r),o(l,c),o(l,s),o(s,p),o(l,m),_||(w=L(r,"change",v),_=!0)},p(g,b){e=g,b&1&&n!==(n=e[7].isSelected)&&(r.checked=n),b&1&&i!==(i=e[7].name+"")&&ge(p,i)},d(g){g&&u(l),_=!1,w()}}}function zo(a){let e,l,r=[],n=new Map,c,s,i,p,m,_,w,v,g,b,E=a[0];const V=k=>k[7].name;for(let k=0;k<E.length;k+=1){let D=Ur(a,E,k),I=V(D);n.set(I,r[k]=jr(I,D))}return{c(){e=f("div"),l=f("div");for(let k=0;k<r.length;k+=1)r[k].c();c=y(),s=f("div"),i=f("button"),p=S("Conferma"),m=y(),_=f("button"),w=S("Chiudi"),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=d(e);l=h(D,"DIV",{class:!0});var I=d(l);for(let J=0;J<r.length;J+=1)r[J].l(I);I.forEach(u),c=N(D),s=h(D,"DIV",{class:!0});var H=d(s);i=h(H,"BUTTON",{class:!0});var z=d(i);p=T(z,"Conferma"),z.forEach(u),m=N(H),_=h(H,"BUTTON",{class:!0});var A=d(_);w=T(A,"Chiudi"),A.forEach(u),H.forEach(u),D.forEach(u),this.h()},h(){t(l,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),t(i,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),t(_,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),t(s,"class","flex flex-row mt-5 gap-2 justify-center"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(k,D){G(k,e,D),o(e,l);for(let I=0;I<r.length;I+=1)r[I].m(l,null);o(e,c),o(e,s),o(s,i),o(i,p),o(s,m),o(s,_),o(_,w),g||(b=[L(i,"click",Xe(a[1])),L(_,"click",Xe(a[2])),L(e,"click",Xe(a[3])),L(e,"keydown",Xe(a[4]))],g=!0)},p(k,[D]){D&1&&(E=k[0],r=Ql(r,D,V,1,k,E,n,l,Yr,jr,null,Ur))},i(k){v||tt(()=>{v=gt(e,at,{duration:300}),v.start()})},o:be,d(k){k&&u(e);for(let D=0;D<r.length;D+=1)r[D].d();g=!1,Ze(b)}}}function xo(a,e,l){let{operations:r=[]}=e;const n=it(),c=()=>{n("confirm",r)},s=()=>{n("cancel")};function i(_){pt.call(this,a,_)}function p(_){pt.call(this,a,_)}const m=(_,w,v,g)=>{l(0,w[v].isSelected=g.target.checked,r)};return a.$$set=_=>{"operations"in _&&l(0,r=_.operations)},[r,c,s,i,p,m]}class Uo extends Ye{constructor(e){super(),qe(this,e,xo,zo,Ge,{operations:0})}}function jo(a){let e,l,r,n,c,s,i,p,m,_,w,v,g,b,E,V,k,D,I,H,z,A;return{c(){e=f("div"),l=f("div"),r=f("button"),n=F("svg"),c=F("path"),s=F("line"),i=F("polyline"),m=S("Kilowatt"),w=y(),v=f("button"),g=F("svg"),b=F("path"),E=F("line"),V=F("polyline"),D=S("Megawatt"),this.h()},l(J){e=h(J,"DIV",{class:!0});var Q=d(e);l=h(Q,"DIV",{class:!0});var re=d(l);r=h(re,"BUTTON",{class:!0,type:!0});var C=d(r);n=W(C,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var x=d(n);c=W(x,"path",{d:!0}),d(c).forEach(u),s=W(x,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),i=W(x,"polyline",{points:!0}),d(i).forEach(u),x.forEach(u),m=T(C,"Kilowatt"),C.forEach(u),w=N(re),v=h(re,"BUTTON",{class:!0,type:!0});var U=d(v);g=W(U,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var oe=d(g);b=W(oe,"path",{d:!0}),d(b).forEach(u),E=W(oe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(E).forEach(u),V=W(oe,"polyline",{points:!0}),d(V).forEach(u),oe.forEach(u),D=T(U,"Megawatt"),U.forEach(u),re.forEach(u),Q.forEach(u),this.h()},h(){t(c,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(s,"x1","23"),t(s,"y1","13"),t(s,"x2","23"),t(s,"y2","11"),t(i,"points","11 6 7 12 13 12 9 18"),t(n,"xmlns","http://www.w3.org/2000/svg"),t(n,"width","24"),t(n,"height","24"),t(n,"viewBox","0 0 24 24"),t(n,"fill","none"),t(n,"stroke","currentColor"),t(n,"stroke-width","2"),t(n,"stroke-linecap","round"),t(n,"stroke-linejoin","round"),t(n,"class",p=a[0]?"text-green-500":""),t(r,"class",_=Ue(a[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),t(r,"type","button"),t(b,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(E,"x1","23"),t(E,"y1","13"),t(E,"x2","23"),t(E,"y2","11"),t(V,"points","11 6 7 12 13 12 9 18"),t(g,"xmlns","http://www.w3.org/2000/svg"),t(g,"width","24"),t(g,"height","24"),t(g,"viewBox","0 0 24 24"),t(g,"fill","none"),t(g,"stroke","currentColor"),t(g,"stroke-width","2"),t(g,"stroke-linecap","round"),t(g,"stroke-linejoin","round"),t(g,"class",k=a[0]?"":"text-blue-500"),t(v,"class",I=Ue(a[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4"),t(v,"type","button"),t(l,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(J,Q){G(J,e,Q),o(e,l),o(l,r),o(r,n),o(n,c),o(n,s),o(n,i),o(r,m),o(l,w),o(l,v),o(v,g),o(g,b),o(g,E),o(g,V),o(v,D),z||(A=[L(r,"click",a[2]),L(v,"click",a[3])],z=!0)},p(J,[Q]){Q&1&&p!==(p=J[0]?"text-green-500":"")&&t(n,"class",p),Q&1&&_!==(_=Ue(J[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&t(r,"class",_),Q&1&&k!==(k=J[0]?"":"text-blue-500")&&t(g,"class",k),Q&1&&I!==(I=Ue(J[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4")&&t(v,"class",I)},i(J){H||tt(()=>{H=gt(e,qr,{duration:300}),H.start()})},o:be,d(J){J&&u(e),z=!1,Ze(A)}}}function $o(a,e,l){const r=it();let n=!0;const c=()=>{r("change",n?"KILOWATT":"MEGAWATT")};return[n,c,()=>{l(0,n=!0),c()},()=>{l(0,n=!1),c()}]}class Fo extends Ye{constructor(e){super(),qe(this,e,$o,jo,Ge,{})}}function Wo(a){let e,l,r,n,c,s,i,p,m,_,w,v,g,b,E,V;return{c(){e=f("div"),l=f("div"),r=f("button"),n=S("In Marcia"),s=y(),i=f("button"),p=S("Limitata"),_=y(),w=f("button"),v=S("Ferma"),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=d(e);l=h(D,"DIV",{class:!0});var I=d(l);r=h(I,"BUTTON",{class:!0,type:!0});var H=d(r);n=T(H,"In Marcia"),H.forEach(u),s=N(I),i=h(I,"BUTTON",{class:!0,type:!0});var z=d(i);p=T(z,"Limitata"),z.forEach(u),_=N(I),w=h(I,"BUTTON",{class:!0,type:!0});var A=d(w);v=T(A,"Ferma"),A.forEach(u),I.forEach(u),D.forEach(u),this.h()},h(){t(r,"class",c=Ue(a[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),t(r,"type","button"),t(i,"class",m=Ue(a[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),t(i,"type","button"),t(w,"class",g=Ue(a[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),t(w,"type","button"),t(l,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(k,D){G(k,e,D),o(e,l),o(l,r),o(r,n),o(l,s),o(l,i),o(i,p),o(l,_),o(l,w),o(w,v),E||(V=[L(r,"click",a[2]),L(i,"click",a[3]),L(w,"click",a[4])],E=!0)},p(k,[D]){D&1&&c!==(c=Ue(k[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&t(r,"class",c),D&1&&m!==(m=Ue(k[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&t(i,"class",m),D&1&&g!==(g=Ue(k[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&t(w,"class",g)},i(k){b||tt(()=>{b=gt(e,at,{duration:300,delay:300}),b.start()})},o:be,d(k){k&&u(e),E=!1,Ze(V)}}}function Ho(a,e,l){const r=it();let n="In Marcia";const c=()=>{r("change",n)};return[n,c,()=>{l(0,n="In Marcia"),c()},()=>{l(0,n="Limitata"),c()},()=>{l(0,n="Ferma"),c()}]}class Ro extends Ye{constructor(e){super(),qe(this,e,Ho,Wo,Ge,{})}}function $r(a){let e,l,r,n,c;return l=new Uo({props:{operations:a[3]}}),l.$on("cancel",a[12]),l.$on("confirm",a[13]),{c(){e=f("div"),We(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);He(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){G(s,e,i),Re(l,e,null),r=!0,n||(c=[L(e,"click",Xe(a[14])),L(e,"keydown",Xe(a[15]))],n=!0)},p(s,i){const p={};i&8&&(p.operations=s[3]),l.$set(p)},i(s){r||(de(l.$$.fragment,s),r=!0)},o(s){_e(l.$$.fragment,s),r=!1},d(s){s&&u(e),Ke(l),n=!1,Ze(c)}}}function Ko(a){let e,l,r,n,c,s,i,p,m,_,w,v,g,b,E,V,k,D,I,H,z,A,J,Q,re,C,x,U,oe,me,Y,ce,Se,O,Z,we,q,ae,pe,Pe,fe,he,X,Ae,Ee,ne,ke,Te,le,je,Ne,se,j,R,ie,P,B,$,ee,M,te,De,Oe=a[1]?"modifica":"creazione",Le,ze,Me,Je,ye,$e,et,st,Be,Fe=a[0].turbineNumber+"",Ce,xe,lt,rt,Tt,ct,Ot,Wt=a[0].turbineName+"",Zt,Il,mt,Ct,Sl,Tl,Mt,Ht=a[0].description+"",el,Ol,vt,Vt,Cl,Ml,Pt,Rt=(a[0].odlNumber||"N/A")+"",tl,Vl,_t,Bt,Pl,Bl,At,Kt=a[0].operation+"",ll,Al,bt,Lt,Ll,zl,zt,Yt=a[0].power+"",rl,xl,wt,xt,Ul,jl,Ut,qt=a[0].turbineState+"",ol,$l,ut,dt,Fl,Wl,kt,Gt,Jt=a[1]?"Modifica":"Crea",nl,ft,Hl,Qe,Et,al,Rl,yt,sl,Kl,Nt,il,ve,Yl,Xl,Ie=a[2]&&$r(a);return re=new Fo({}),re.$on("change",a[21]),oe=new Ro({}),oe.$on("change",a[22]),{c(){e=f("div"),Ie&&Ie.c(),l=y(),r=f("form"),n=f("div"),c=f("div"),s=f("div"),i=f("input"),m=y(),_=f("input"),v=y(),g=f("input"),E=y(),V=f("input"),D=y(),I=f("div"),H=f("button"),z=f("input"),J=y(),Q=f("div"),We(re.$$.fragment),C=y(),x=f("div"),U=f("div"),We(oe.$$.fragment),me=y(),Y=f("div"),ce=f("label"),Se=S("Data Inizio EEMM"),O=y(),Z=f("input"),q=y(),ae=f("div"),pe=f("label"),Pe=S("Data Inizio OOCC"),fe=y(),he=f("input"),Ae=y(),Ee=f("div"),ne=f("label"),ke=S("Validità permitting"),Te=y(),le=f("input"),Ne=y(),se=f("div"),j=f("label"),R=S("Validità notifica"),ie=y(),P=f("input"),$=y(),ee=f("div"),M=f("div"),te=f("h2"),De=S("Riepilogo "),Le=S(Oe),ze=y(),Me=f("div"),Je=y(),ye=f("p"),$e=f("span"),et=S("Numero cantiere:"),st=y(),Be=f("span"),Ce=S(Fe),xe=y(),lt=f("p"),rt=f("span"),Tt=S("Aerogeneratore:"),ct=y(),Ot=f("span"),Zt=S(Wt),Il=y(),mt=f("p"),Ct=f("span"),Sl=S("Impianto eolico:"),Tl=y(),Mt=f("span"),el=S(Ht),Ol=y(),vt=f("p"),Vt=f("span"),Cl=S("Numero ODL:"),Ml=y(),Pt=f("span"),tl=S(Rt),Vl=y(),_t=f("p"),Bt=f("span"),Pl=S("Operazioni:"),Bl=y(),At=f("span"),ll=S(Kt),Al=y(),bt=f("p"),Lt=f("span"),Ll=S("Tipologia:"),zl=y(),zt=f("span"),rl=S(Yt),xl=y(),wt=f("p"),xt=f("span"),Ul=S("Stato:"),jl=y(),Ut=f("span"),ol=S(qt),$l=y(),ut=f("div"),dt=f("button"),Fl=S("Annulla"),Wl=y(),kt=f("button"),Gt=f("p"),nl=S(Jt),Hl=y(),Qe=f("div"),Et=f("input"),Rl=y(),yt=f("input"),Kl=y(),Nt=f("input"),this.h()},l(K){e=h(K,"DIV",{class:!0});var ue=d(e);Ie&&Ie.l(ue),l=N(ue),r=h(ue,"FORM",{});var cl=d(r);n=h(cl,"DIV",{id:!0,class:!0});var jt=d(n);c=h(jt,"DIV",{class:!0});var $t=d(c);s=h($t,"DIV",{class:!0});var ht=d(s);i=h(ht,"INPUT",{class:!0,type:!0,placeholder:!0}),m=N(ht),_=h(ht,"INPUT",{class:!0,type:!0,placeholder:!0}),v=N(ht),g=h(ht,"INPUT",{class:!0,type:!0,placeholder:!0}),E=N(ht),V=h(ht,"INPUT",{class:!0,type:!0,placeholder:!0}),ht.forEach(u),D=N($t),I=h($t,"DIV",{class:!0});var Zl=d(I);H=h(Zl,"BUTTON",{type:!0,class:!0});var er=d(H);z=h(er,"INPUT",{class:!0,placeholder:!0}),er.forEach(u),Zl.forEach(u),J=N($t),Q=h($t,"DIV",{class:!0});var tr=d(Q);He(re.$$.fragment,tr),tr.forEach(u),$t.forEach(u),C=N(jt),x=h(jt,"DIV",{class:!0});var ot=d(x);U=h(ot,"DIV",{class:!0});var lr=d(U);He(oe.$$.fragment,lr),lr.forEach(u),me=N(ot),Y=h(ot,"DIV",{});var ul=d(Y);ce=h(ul,"LABEL",{for:!0,class:!0});var rr=d(ce);Se=T(rr,"Data Inizio EEMM"),rr.forEach(u),O=N(ul),Z=h(ul,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),ul.forEach(u),q=N(ot),ae=h(ot,"DIV",{});var dl=d(ae);pe=h(dl,"LABEL",{for:!0,class:!0});var or=d(pe);Pe=T(or,"Data Inizio OOCC"),or.forEach(u),fe=N(dl),he=h(dl,"INPUT",{class:!0,type:!0,placeholder:!0}),dl.forEach(u),Ae=N(ot),Ee=h(ot,"DIV",{});var fl=d(Ee);ne=h(fl,"LABEL",{for:!0,class:!0});var nr=d(ne);ke=T(nr,"Validità permitting"),nr.forEach(u),Te=N(fl),le=h(fl,"INPUT",{class:!0,type:!0,placeholder:!0}),fl.forEach(u),Ne=N(ot),se=h(ot,"DIV",{});var hl=d(se);j=h(hl,"LABEL",{for:!0,class:!0});var ar=d(j);R=T(ar,"Validità notifica"),ar.forEach(u),ie=N(hl),P=h(hl,"INPUT",{class:!0,type:!0,placeholder:!0}),hl.forEach(u),ot.forEach(u),$=N(jt),ee=h(jt,"DIV",{class:!0});var pl=d(ee);M=h(pl,"DIV",{class:!0});var Ve=d(M);te=h(Ve,"H2",{class:!0});var ql=d(te);De=T(ql,"Riepilogo "),Le=T(ql,Oe),ql.forEach(u),ze=N(Ve),Me=h(Ve,"DIV",{class:!0}),d(Me).forEach(u),Je=N(Ve),ye=h(Ve,"P",{});var gl=d(ye);$e=h(gl,"SPAN",{class:!0});var sr=d($e);et=T(sr,"Numero cantiere:"),sr.forEach(u),st=N(gl),Be=h(gl,"SPAN",{class:!0});var ir=d(Be);Ce=T(ir,Fe),ir.forEach(u),gl.forEach(u),xe=N(Ve),lt=h(Ve,"P",{});var ml=d(lt);rt=h(ml,"SPAN",{class:!0});var cr=d(rt);Tt=T(cr,"Aerogeneratore:"),cr.forEach(u),ct=N(ml),Ot=h(ml,"SPAN",{class:!0});var ur=d(Ot);Zt=T(ur,Wt),ur.forEach(u),ml.forEach(u),Il=N(Ve),mt=h(Ve,"P",{});var vl=d(mt);Ct=h(vl,"SPAN",{class:!0});var dr=d(Ct);Sl=T(dr,"Impianto eolico:"),dr.forEach(u),Tl=N(vl),Mt=h(vl,"SPAN",{class:!0});var fr=d(Mt);el=T(fr,Ht),fr.forEach(u),vl.forEach(u),Ol=N(Ve),vt=h(Ve,"P",{});var _l=d(vt);Vt=h(_l,"SPAN",{class:!0});var hr=d(Vt);Cl=T(hr,"Numero ODL:"),hr.forEach(u),Ml=N(_l),Pt=h(_l,"SPAN",{class:!0});var pr=d(Pt);tl=T(pr,Rt),pr.forEach(u),_l.forEach(u),Vl=N(Ve),_t=h(Ve,"P",{});var bl=d(_t);Bt=h(bl,"SPAN",{class:!0});var gr=d(Bt);Pl=T(gr,"Operazioni:"),gr.forEach(u),Bl=N(bl),At=h(bl,"SPAN",{class:!0});var mr=d(At);ll=T(mr,Kt),mr.forEach(u),bl.forEach(u),Al=N(Ve),bt=h(Ve,"P",{});var wl=d(bt);Lt=h(wl,"SPAN",{class:!0});var vr=d(Lt);Ll=T(vr,"Tipologia:"),vr.forEach(u),zl=N(wl),zt=h(wl,"SPAN",{class:!0});var _r=d(zt);rl=T(_r,Yt),_r.forEach(u),wl.forEach(u),xl=N(Ve),wt=h(Ve,"P",{});var kl=d(wt);xt=h(kl,"SPAN",{class:!0});var br=d(xt);Ul=T(br,"Stato:"),br.forEach(u),jl=N(kl),Ut=h(kl,"SPAN",{class:!0});var wr=d(Ut);ol=T(wr,qt),wr.forEach(u),kl.forEach(u),Ve.forEach(u),$l=N(pl),ut=h(pl,"DIV",{class:!0});var El=d(ut);dt=h(El,"BUTTON",{type:!0,class:!0});var kr=d(dt);Fl=T(kr,"Annulla"),kr.forEach(u),Wl=N(El),kt=h(El,"BUTTON",{class:!0});var Er=d(kt);Gt=h(Er,"P",{});var yr=d(Gt);nl=T(yr,Jt),yr.forEach(u),Er.forEach(u),El.forEach(u),pl.forEach(u),jt.forEach(u),Hl=N(cl),Qe=h(cl,"DIV",{class:!0});var Ft=d(Qe);Et=h(Ft,"INPUT",{type:!0,class:!0}),Rl=N(Ft),yt=h(Ft,"INPUT",{type:!0,class:!0}),Kl=N(Ft),Nt=h(Ft,"INPUT",{type:!0,class:!0}),Ft.forEach(u),cl.forEach(u),ue.forEach(u),this.h()},h(){t(i,"class","input"),t(i,"type","text"),i.value=p=a[0].turbineName,t(i,"placeholder","Aerogeneratore*"),i.required=!0,i.disabled=a[1],t(_,"class","input"),t(_,"type","text"),_.value=w=a[0].turbineNumber,t(_,"placeholder","Numero cantiere"),t(g,"class","input"),t(g,"type","text"),g.value=b=a[0].description,t(g,"placeholder","Impianto Eolico*"),g.required=!0,t(V,"class","input"),t(V,"type","number"),V.value=k=a[0].odlNumber,t(V,"placeholder","Numero ODL"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),t(z,"class","w-full"),z.value=A=a[0].operation.length>0?a[0].operation.join(", "):"",z.disabled=!0,t(z,"placeholder","Operazioni*"),z.required=!0,t(H,"type","button"),t(H,"class","input hover:bg-gray-200 text-start transition ease-in-out"),t(I,"class","col-span-full mt-5"),t(Q,"class","col-span-full mt-auto"),t(c,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(U,"class","col-span-full"),t(ce,"for","dateEEMM"),t(ce,"class","font-mono text-white"),t(Z,"id","dateEEMM"),t(Z,"class","input"),t(Z,"type","date"),Z.value=we=a[0].startingDateEEMM!==void 0?a[0].startingDateEEMM:"",t(Z,"placeholder","Data inizio EEMM"),t(pe,"for","dateEEMM"),t(pe,"class","font-mono text-white"),t(he,"class","input"),t(he,"type","date"),he.value=X=a[0].startingDateOOCC!==void 0?a[0].startingDateOOCC:"",t(he,"placeholder","Data inizio OOCC"),t(ne,"for","dateEEMM"),t(ne,"class","font-mono text-white"),t(le,"class","input"),t(le,"type","date"),le.value=je=a[0].permittingDate!==void 0?a[0].permittingDate:"",t(le,"placeholder","Validità permitting"),t(j,"for","dateEEMM"),t(j,"class","font-mono text-white"),t(P,"class","input"),t(P,"type","date"),P.value=B=a[0].priorNotification!==void 0?a[0].priorNotification:"",t(P,"placeholder","Validità notifica"),t(x,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(te,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),t(Me,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),t($e,"class","font-mono font-bold text-gray-300"),t(Be,"class","font-mono text-gray-300"),t(rt,"class","font-mono font-bold text-gray-300"),t(Ot,"class","font-mono text-gray-300"),t(Ct,"class","font-mono font-bold text-gray-300"),t(Mt,"class","font-mono text-gray-300"),t(Vt,"class","font-mono font-bold text-gray-300"),t(Pt,"class","font-mono text-gray-300"),t(Bt,"class","font-mono font-bold text-gray-300"),t(At,"class","font-mono text-gray-300"),t(Lt,"class","font-mono font-bold text-gray-300"),t(zt,"class","font-mono text-gray-300"),t(xt,"class","font-mono font-bold text-gray-300"),t(Ut,"class","font-mono text-gray-300"),t(M,"class","w-[15rem] md:w-[29rem] h-3/4"),t(dt,"type","button"),t(dt,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),t(kt,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),t(ut,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),t(ee,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(n,"id","scrollable"),t(n,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),t(Et,"type","checkbox"),t(Et,"class",al=Ue(a[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(yt,"type","checkbox"),t(yt,"class",sl=Ue(a[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(Nt,"type","checkbox"),t(Nt,"class",il=Ue(a[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(Qe,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),t(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(K,ue){G(K,e,ue),Ie&&Ie.m(e,null),o(e,l),o(e,r),o(r,n),o(n,c),o(c,s),o(s,i),o(s,m),o(s,_),o(s,v),o(s,g),o(s,E),o(s,V),o(c,D),o(c,I),o(I,H),o(H,z),o(c,J),o(c,Q),Re(re,Q,null),o(n,C),o(n,x),o(x,U),Re(oe,U,null),o(x,me),o(x,Y),o(Y,ce),o(ce,Se),o(Y,O),o(Y,Z),o(x,q),o(x,ae),o(ae,pe),o(pe,Pe),o(ae,fe),o(ae,he),o(x,Ae),o(x,Ee),o(Ee,ne),o(ne,ke),o(Ee,Te),o(Ee,le),o(x,Ne),o(x,se),o(se,j),o(j,R),o(se,ie),o(se,P),o(n,$),o(n,ee),o(ee,M),o(M,te),o(te,De),o(te,Le),o(M,ze),o(M,Me),o(M,Je),o(M,ye),o(ye,$e),o($e,et),o(ye,st),o(ye,Be),o(Be,Ce),o(M,xe),o(M,lt),o(lt,rt),o(rt,Tt),o(lt,ct),o(lt,Ot),o(Ot,Zt),o(M,Il),o(M,mt),o(mt,Ct),o(Ct,Sl),o(mt,Tl),o(mt,Mt),o(Mt,el),o(M,Ol),o(M,vt),o(vt,Vt),o(Vt,Cl),o(vt,Ml),o(vt,Pt),o(Pt,tl),o(M,Vl),o(M,_t),o(_t,Bt),o(Bt,Pl),o(_t,Bl),o(_t,At),o(At,ll),o(M,Al),o(M,bt),o(bt,Lt),o(Lt,Ll),o(bt,zl),o(bt,zt),o(zt,rl),o(M,xl),o(M,wt),o(wt,xt),o(xt,Ul),o(wt,jl),o(wt,Ut),o(Ut,ol),o(ee,$l),o(ee,ut),o(ut,dt),o(dt,Fl),o(ut,Wl),o(ut,kt),o(kt,Gt),o(Gt,nl),o(r,Hl),o(r,Qe),o(Qe,Et),o(Qe,Rl),o(Qe,yt),o(Qe,Kl),o(Qe,Nt),ve=!0,Yl||(Xl=[L(i,"change",a[16]),L(_,"change",a[17]),L(g,"change",a[18]),L(V,"change",a[19]),L(H,"click",a[20]),L(Z,"change",a[23]),L(he,"change",a[24]),L(le,"change",a[25]),L(P,"change",a[26]),L(dt,"click",a[6]),L(kt,"click",a[7]),L(n,"click",Xe(a[10])),L(n,"keydown",Xe(a[11])),L(Et,"change",a[27]),L(yt,"change",a[28]),L(Nt,"change",a[29]),L(Qe,"click",Xe(a[8])),L(Qe,"keydown",Xe(a[9])),L(e,"click",a[6]),L(e,"keydown",a[6])],Yl=!0)},p(K,[ue]){K[2]?Ie?(Ie.p(K,ue),ue&4&&de(Ie,1)):(Ie=$r(K),Ie.c(),de(Ie,1),Ie.m(e,l)):Ie&&(Dt(),_e(Ie,1,1,()=>{Ie=null}),It()),(!ve||ue&1&&p!==(p=K[0].turbineName)&&i.value!==p)&&(i.value=p),(!ve||ue&2)&&(i.disabled=K[1]),(!ve||ue&1&&w!==(w=K[0].turbineNumber)&&_.value!==w)&&(_.value=w),(!ve||ue&1&&b!==(b=K[0].description)&&g.value!==b)&&(g.value=b),(!ve||ue&1&&k!==(k=K[0].odlNumber)&&V.value!==k)&&(V.value=k),(!ve||ue&1&&A!==(A=K[0].operation.length>0?K[0].operation.join(", "):"")&&z.value!==A)&&(z.value=A),(!ve||ue&1&&we!==(we=K[0].startingDateEEMM!==void 0?K[0].startingDateEEMM:""))&&(Z.value=we),(!ve||ue&1&&X!==(X=K[0].startingDateOOCC!==void 0?K[0].startingDateOOCC:""))&&(he.value=X),(!ve||ue&1&&je!==(je=K[0].permittingDate!==void 0?K[0].permittingDate:""))&&(le.value=je),(!ve||ue&1&&B!==(B=K[0].priorNotification!==void 0?K[0].priorNotification:""))&&(P.value=B),(!ve||ue&2)&&Oe!==(Oe=K[1]?"modifica":"creazione")&&ge(Le,Oe),(!ve||ue&1)&&Fe!==(Fe=K[0].turbineNumber+"")&&ge(Ce,Fe),(!ve||ue&1)&&Wt!==(Wt=K[0].turbineName+"")&&ge(Zt,Wt),(!ve||ue&1)&&Ht!==(Ht=K[0].description+"")&&ge(el,Ht),(!ve||ue&1)&&Rt!==(Rt=(K[0].odlNumber||"N/A")+"")&&ge(tl,Rt),(!ve||ue&1)&&Kt!==(Kt=K[0].operation+"")&&ge(ll,Kt),(!ve||ue&1)&&Yt!==(Yt=K[0].power+"")&&ge(rl,Yt),(!ve||ue&1)&&qt!==(qt=K[0].turbineState+"")&&ge(ol,qt),(!ve||ue&2)&&Jt!==(Jt=K[1]?"Modifica":"Crea")&&ge(nl,Jt),(!ve||ue&16&&al!==(al=Ue(K[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(Et,"class",al),(!ve||ue&16&&sl!==(sl=Ue(K[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(yt,"class",sl),(!ve||ue&16&&il!==(il=Ue(K[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(Nt,"class",il)},i(K){ve||(de(Ie),de(re.$$.fragment,K),de(oe.$$.fragment,K),tt(()=>{ft||(ft=Dl(n,at,{duration:150},!0)),ft.run(1)}),ve=!0)},o(K){_e(Ie),_e(re.$$.fragment,K),_e(oe.$$.fragment,K),ft||(ft=Dl(n,at,{duration:150},!1)),ft.run(0),ve=!1},d(K){K&&u(e),Ie&&Ie.d(),Ke(re),Ke(oe),K&&ft&&ft.end(),Yl=!1,Ze(Xl)}}}function Yo(a,e,l){let{isEditMode:r=!1}=e,{windfarm:n={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const c=it();let s=!1,i=[];Jl(()=>{l(3,i=Object.values(Lo).map(O=>({name:O,isSelected:!1})))});let p=0;function m(){const O=document.getElementById("scrollable");let Z=0;O!=null&&(p===1?window.innerWidth<768?Z=O.scrollWidth/3:Z=O.scrollWidth/2:p===2&&(Z=O.scrollWidth),O.scrollTo({left:Z,behavior:"smooth"}))}const _=()=>{c("close")},w=()=>{r?go(n).then(O=>{O!==void 0&&O.status===200&&c("updated")}):po(n).then(O=>{O!==void 0&&O.status===200&&c("created")})};function v(O){pt.call(this,a,O)}function g(O){pt.call(this,a,O)}function b(O){pt.call(this,a,O)}function E(O){pt.call(this,a,O)}const V=()=>{l(2,s=!1)},k=O=>{l(3,i=O.detail),l(0,n.operation=i.filter(Z=>Z.isSelected).map(Z=>Z.name),n),l(2,s=!1)},D=()=>{l(2,s=!1)},I=()=>{l(2,s=!1)},H=O=>{l(0,n.turbineName=O.target.value,n)},z=O=>{l(0,n.turbineNumber=O.target.value,n)},A=O=>{l(0,n.description=O.target.value,n)},J=O=>{l(0,n.odlNumber=O.target.value,n)},Q=()=>{l(2,s=!s)},re=O=>l(0,n.power=O.detail,n),C=O=>l(0,n.turbineState=O.detail,n),x=O=>{l(0,n.startingDateEEMM=O.target.value,n)},U=O=>{l(0,n.startingDateOOCC=O.target.value,n)},oe=O=>{l(0,n.permittingDate=O.target.value,n)},me=O=>{l(0,n.priorNotification=O.target.value,n)},Y=()=>{l(4,p=0),m()},ce=()=>{l(4,p=1),m()},Se=()=>{l(4,p=2),m()};return a.$$set=O=>{"isEditMode"in O&&l(1,r=O.isEditMode),"windfarm"in O&&l(0,n=O.windfarm)},[n,r,s,i,p,m,_,w,v,g,b,E,V,k,D,I,H,z,A,J,Q,re,C,x,U,oe,me,Y,ce,Se]}class Jr extends Ye{constructor(e){super(),qe(this,e,Yo,Ko,Ge,{isEditMode:1,windfarm:0})}}function qo(a){let e,l;return e=new Jr({props:{windfarm:a[0],isEditMode:!0}}),e.$on("close",a[1]),e.$on("updated",a[2]),{c(){We(e.$$.fragment)},l(r){He(e.$$.fragment,r)},m(r,n){Re(e,r,n),l=!0},p(r,[n]){const c={};n&1&&(c.windfarm=r[0]),e.$set(c)},i(r){l||(de(e.$$.fragment,r),l=!0)},o(r){_e(e.$$.fragment,r),l=!1},d(r){Ke(e,r)}}}function Go(a,e,l){let{turbine:r}=e;const n=it(),c=()=>{n("close")},s=()=>{n("updated")};return a.$$set=i=>{"turbine"in i&&l(0,r=i.turbine)},[r,c,s]}class Jo extends Ye{constructor(e){super(),qe(this,e,Go,qo,Ge,{turbine:0})}}function Qo(a){let e,l;return e=new Jr({props:{isEditMode:!1}}),e.$on("close",a[0]),e.$on("created",a[1]),{c(){We(e.$$.fragment)},l(r){He(e.$$.fragment,r)},m(r,n){Re(e,r,n),l=!0},p:be,i(r){l||(de(e.$$.fragment,r),l=!0)},o(r){_e(e.$$.fragment,r),l=!1},d(r){Ke(e,r)}}}function Xo(a){const e=it();return[()=>{e("close")},()=>{e("created")}]}class Zo extends Ye{constructor(e){super(),qe(this,e,Xo,Qo,Ge,{})}}function Fr(a,e,l){const r=a.slice();return r[5]=e[l],r}function en(a){let e=[],l=new Map,r,n,c=a[4];const s=i=>i[5].id;for(let i=0;i<c.length;i+=1){let p=Fr(a,c,i),m=s(p);l.set(m,e[i]=Wr(m,p))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=nt()},l(i){for(let p=0;p<e.length;p+=1)e[p].l(i);r=nt()},m(i,p){for(let m=0;m<e.length;m+=1)e[m].m(i,p);G(i,r,p),n=!0},p(i,p){p&1040&&(c=i[4],Dt(),e=Ql(e,p,s,1,i,c,l,r.parentNode,to,Wr,r,Fr),It())},i(i){if(!n){for(let p=0;p<c.length;p+=1)de(e[p]);n=!0}},o(i){for(let p=0;p<e.length;p+=1)_e(e[p]);n=!1},d(i){for(let p=0;p<e.length;p+=1)e[p].d(i);i&&u(r)}}}function tn(a){let e,l,r,n,c;return{c(){e=f("div"),l=f("div"),r=y(),n=f("p"),c=S("Caricamento in corso..."),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);l=h(i,"DIV",{class:!0}),d(l).forEach(u),r=N(i),n=h(i,"P",{class:!0});var p=d(n);c=T(p,"Caricamento in corso..."),p.forEach(u),i.forEach(u),this.h()},h(){t(l,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),t(n,"class","mt-4 text-xl font-bold font-mono"),t(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(s,i){G(s,e,i),o(e,l),o(e,r),o(e,n),o(n,c)},p:be,i:be,o:be,d(s){s&&u(e)}}}function Wr(a,e){let l,r,n;return r=new fo({props:{turbine:e[5]}}),r.$on("showDetails",e[10]),{key:a,first:null,c(){l=nt(),We(r.$$.fragment),this.h()},l(c){l=nt(),He(r.$$.fragment,c),this.h()},h(){this.first=l},m(c,s){G(c,l,s),Re(r,c,s),n=!0},p(c,s){e=c;const i={};s&16&&(i.turbine=e[5]),r.$set(i)},i(c){n||(de(r.$$.fragment,c),n=!0)},o(c){_e(r.$$.fragment,c),n=!1},d(c){c&&u(l),Ke(r,c)}}}function Hr(a){let e,l,r,n,c;return l=new Ao({props:{turbine:a[5]}}),l.$on("closeDetails",a[11]),l.$on("editMode",a[13]),l.$on("deleted",a[12]),{c(){e=f("div"),We(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);He(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){G(s,e,i),Re(l,e,null),r=!0,n||(c=[L(e,"click",a[11]),L(e,"keydown",a[11])],n=!0)},p(s,i){const p={};i&32&&(p.turbine=s[5]),l.$set(p)},i(s){r||(de(l.$$.fragment,s),r=!0)},o(s){_e(l.$$.fragment,s),r=!1},d(s){s&&u(e),Ke(l),n=!1,Ze(c)}}}function Rr(a){let e,l,r,n,c;return l=new Jo({props:{turbine:a[5]}}),l.$on("close",a[21]),l.$on("updated",a[16]),{c(){e=f("div"),We(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);He(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){G(s,e,i),Re(l,e,null),r=!0,n||(c=[L(e,"click",a[11]),L(e,"keydown",a[11])],n=!0)},p(s,i){const p={};i&32&&(p.turbine=s[5]),l.$set(p)},i(s){r||(de(l.$$.fragment,s),r=!0)},o(s){_e(l.$$.fragment,s),r=!1},d(s){s&&u(e),Ke(l),n=!1,Ze(c)}}}function Kr(a){let e,l,r,n,c;return l=new Zo({}),l.$on("close",a[22]),l.$on("created",a[15]),{c(){e=f("div"),We(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);He(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){G(s,e,i),Re(l,e,null),r=!0,n||(c=[L(e,"click",a[11]),L(e,"keydown",a[11])],n=!0)},p:be,i(s){r||(de(l.$$.fragment,s),r=!0)},o(s){_e(l.$$.fragment,s),r=!1},d(s){s&&u(e),Ke(l),n=!1,Ze(c)}}}function ln(a){let e,l,r,n,c,s,i,p,m,_,w,v,g,b,E,V,k,D,I,H,z,A,J,Q,re,C,x,U,oe,me,Y,ce,Se,O,Z,we,q,ae,pe,Pe,fe,he,X,Ae,Ee,ne,ke,Te,le,je;const Ne=[tn,en],se=[];function j(B,$){return B[0].length===0?0:1}he=j(a),X=se[he]=Ne[he](a);let R=a[6]&&Hr(a),ie=a[7]&&Rr(a),P=a[8]&&Kr(a);return{c(){e=f("div"),l=f("section"),r=f("div"),n=f("input"),c=y(),s=f("input"),i=y(),p=f("div"),m=f("select"),_=f("option"),w=S("Tutte"),v=f("option"),g=S("In corso"),b=f("option"),E=S("Cantieri chiusi"),V=y(),k=f("div"),D=F("svg"),I=F("path"),H=y(),z=f("div"),A=f("p"),J=S(a[9]),Q=S(" risultati"),re=y(),C=f("div"),x=f("button"),U=F("svg"),oe=F("path"),me=F("polyline"),Y=F("line"),ce=F("line"),Se=F("polyline"),Z=y(),we=f("button"),q=F("svg"),ae=F("line"),pe=F("line"),Pe=y(),fe=f("section"),X.c(),Ae=y(),R&&R.c(),Ee=y(),ie&&ie.c(),ne=y(),P&&P.c(),this.h()},l(B){e=h(B,"DIV",{class:!0});var $=d(e);l=h($,"SECTION",{class:!0});var ee=d(l);r=h(ee,"DIV",{class:!0});var M=d(r);n=h(M,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),c=N(M),s=h(M,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=N(M),p=h(M,"DIV",{class:!0});var te=d(p);m=h(te,"SELECT",{class:!0});var De=d(m);_=h(De,"OPTION",{});var Oe=d(_);w=T(Oe,"Tutte"),Oe.forEach(u),v=h(De,"OPTION",{});var Le=d(v);g=T(Le,"In corso"),Le.forEach(u),b=h(De,"OPTION",{});var ze=d(b);E=T(ze,"Cantieri chiusi"),ze.forEach(u),De.forEach(u),V=N(te),k=h(te,"DIV",{class:!0});var Me=d(k);D=W(Me,"svg",{class:!0,xmlns:!0,viewBox:!0});var Je=d(D);I=W(Je,"path",{d:!0}),d(I).forEach(u),Je.forEach(u),Me.forEach(u),te.forEach(u),M.forEach(u),ee.forEach(u),H=N($),z=h($,"DIV",{class:!0});var ye=d(z);A=h(ye,"P",{class:!0});var $e=d(A);J=T($e,a[9]),Q=T($e," risultati"),$e.forEach(u),re=N(ye),C=h(ye,"DIV",{class:!0});var et=d(C);x=h(et,"BUTTON",{class:!0});var st=d(x);U=W(st,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Be=d(U);oe=W(Be,"path",{d:!0}),d(oe).forEach(u),me=W(Be,"polyline",{points:!0}),d(me).forEach(u),Y=W(Be,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Y).forEach(u),ce=W(Be,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ce).forEach(u),Se=W(Be,"polyline",{points:!0}),d(Se).forEach(u),Be.forEach(u),st.forEach(u),Z=N(et),we=h(et,"BUTTON",{class:!0});var Fe=d(we);q=W(Fe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ce=d(q);ae=W(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ae).forEach(u),pe=W(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(pe).forEach(u),Ce.forEach(u),Fe.forEach(u),et.forEach(u),ye.forEach(u),Pe=N($),fe=h($,"SECTION",{class:!0});var xe=d(fe);X.l(xe),Ae=N(xe),R&&R.l(xe),Ee=N(xe),ie&&ie.l(xe),ne=N(xe),P&&P.l(xe),xe.forEach(u),$.forEach(u),this.h()},h(){t(n,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(n,"type","text"),t(n,"id","turbineName"),t(n,"name","turbineName"),t(n,"placeholder","Cerca"),t(s,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(s,"type","text"),t(s,"id","turbineName"),t(s,"name","turbineName"),t(s,"placeholder","Anno"),_.__value="ALL",_.value=_.__value,v.__value="ONLY_INCOMPLETE",v.value=v.__value,b.__value="ONLY_COMPLETED",b.value=b.__value,t(m,"class","w-full min-w-1/2 min-w-[12rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),a[3]===void 0&&tt(()=>a[20].call(m)),t(I,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),t(D,"class","w-6 h-6 text-white fill-current"),t(D,"xmlns","http://www.w3.org/2000/svg"),t(D,"viewBox","0 0 20 20"),t(k,"class","absolute top-2 right-2 font-bold"),t(p,"class","relative"),t(r,"class","flex flex-col md:flex-row gap-3 md:items-center font-mono"),t(l,"class","mt-5 md:ml-5"),t(A,"class","font-mono text-lg"),t(oe,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),t(me,"points","14 2 14 8 20 8"),t(Y,"x1","16"),t(Y,"y1","13"),t(Y,"x2","8"),t(Y,"y2","13"),t(ce,"x1","16"),t(ce,"y1","17"),t(ce,"x2","8"),t(ce,"y2","17"),t(Se,"points","10 9 9 9 8 9"),t(U,"xmlns","http://www.w3.org/2000/svg"),t(U,"width","22"),t(U,"height","22"),t(U,"viewBox","0 0 24 24"),t(U,"fill","none"),t(U,"stroke","currentColor"),t(U,"stroke-width","2"),t(U,"stroke-linecap","round"),t(U,"stroke-linejoin","round"),t(U,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),t(x,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),x.disabled=O=a[0].length===0,t(ae,"x1","12"),t(ae,"y1","5"),t(ae,"x2","12"),t(ae,"y2","19"),t(pe,"x1","5"),t(pe,"y1","12"),t(pe,"x2","19"),t(pe,"y2","12"),t(q,"xmlns","http://www.w3.org/2000/svg"),t(q,"width","22"),t(q,"height","22"),t(q,"viewBox","0 0 24 24"),t(q,"fill","none"),t(q,"stroke","currentColor"),t(q,"stroke-width","2"),t(q,"stroke-linecap","round"),t(q,"stroke-linejoin","round"),t(q,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),t(we,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),t(C,"class","justify-end flex flex-row gap-4"),t(z,"class","flex flex-row justify-between items-center mt-6 mb-4 mx-1 md:mx-6"),t(fe,"class","max-h-[18rem] md:max-h-[32rem] md:p-4 overflow-y-scroll scrollable pr-5 svelte-d0a6yq"),t(e,"class","md:mt-16")},m(B,$){G(B,e,$),o(e,l),o(l,r),o(r,n),yl(n,a[1]),o(r,c),o(r,s),yl(s,a[2]),o(r,i),o(r,p),o(p,m),o(m,_),o(_,w),o(m,v),o(v,g),o(m,b),o(b,E),Dr(m,a[3]),o(p,V),o(p,k),o(k,D),o(D,I),o(e,H),o(e,z),o(z,A),o(A,J),o(A,Q),o(z,re),o(z,C),o(C,x),o(x,U),o(U,oe),o(U,me),o(U,Y),o(U,ce),o(U,Se),o(C,Z),o(C,we),o(we,q),o(q,ae),o(q,pe),o(e,Pe),o(e,fe),se[he].m(fe,null),o(fe,Ae),R&&R.m(fe,null),o(fe,Ee),ie&&ie.m(fe,null),o(fe,ne),P&&P.m(fe,null),Te=!0,le||(je=[L(n,"input",a[18]),L(s,"input",a[19]),L(m,"change",a[20]),L(x,"click",a[17]),L(we,"click",a[14])],le=!0)},p(B,[$]){$&2&&n.value!==B[1]&&yl(n,B[1]),$&4&&s.value!==B[2]&&yl(s,B[2]),$&8&&Dr(m,B[3]),(!Te||$&512)&&ge(J,B[9]),(!Te||$&1&&O!==(O=B[0].length===0))&&(x.disabled=O);let ee=he;he=j(B),he===ee?se[he].p(B,$):(Dt(),_e(se[ee],1,1,()=>{se[ee]=null}),It(),X=se[he],X?X.p(B,$):(X=se[he]=Ne[he](B),X.c()),de(X,1),X.m(fe,Ae)),B[6]?R?(R.p(B,$),$&64&&de(R,1)):(R=Hr(B),R.c(),de(R,1),R.m(fe,Ee)):R&&(Dt(),_e(R,1,1,()=>{R=null}),It()),B[7]?ie?(ie.p(B,$),$&128&&de(ie,1)):(ie=Rr(B),ie.c(),de(ie,1),ie.m(fe,ne)):ie&&(Dt(),_e(ie,1,1,()=>{ie=null}),It()),B[8]?P?(P.p(B,$),$&256&&de(P,1)):(P=Kr(B),P.c(),de(P,1),P.m(fe,null)):P&&(Dt(),_e(P,1,1,()=>{P=null}),It())},i(B){Te||(de(X),de(R),de(ie),de(P),tt(()=>{ke||(ke=Dl(e,at,{duration:200},!0)),ke.run(1)}),Te=!0)},o(B){_e(X),_e(R),_e(ie),_e(P),ke||(ke=Dl(e,at,{duration:200},!1)),ke.run(0),Te=!1},d(B){B&&u(e),se[he].d(),R&&R.d(),ie&&ie.d(),P&&P.d(),B&&ke&&ke.end(),le=!1,Ze(je)}}}function rn(a,e,l){let r,n,c=!1,s={},i=[];Jl(()=>{Qt().then(C=>{l(0,i=C)})});const p=C=>{const x=C.detail;l(5,s=i.find(U=>U.id===x)),l(6,c=!0),l(7,w=!1)},m=()=>{Qt().then(C=>{l(0,i=C),l(6,c=!1)})},_=()=>{l(6,c=!1),Qt().then(C=>{l(0,i=C)})};let w=!1;const v=C=>{const x=C.detail;l(5,s=i.find(U=>U.id===x)),l(6,c=!1),l(7,w=!0)};let g=!1;const b=()=>{l(8,g=!0),l(6,c=!1),l(7,w=!1)},E=()=>{l(8,g=!1),l(6,c=!1),l(7,w=!1),Qt().then(C=>{console.log("Updating with: ",C),l(0,i=C)})},V=()=>{Qt().then(C=>{l(0,i=C),l(7,w=!1)})},k=()=>{i.length>0&&mo().then(C=>{const x=new Blob([C.data],{type:"text/csv"}),U=window.URL.createObjectURL(x),oe=document.createElement("a");oe.href=U,oe.download="export.csv",oe.click()})};let D="",I=new Date().getFullYear().toString(),H="ONLY_INCOMPLETE";function z(){D=this.value,l(1,D)}function A(){I=this.value,l(2,I)}function J(){H=eo(this),l(3,H)}const Q=()=>l(7,w=!1),re=()=>l(8,g=!1);return a.$$.update=()=>{a.$$.dirty&15&&l(4,r=i.filter(C=>(C.description.toLowerCase().includes(D.toLowerCase())||C.turbineName.toLowerCase().includes(D.toLowerCase())||C.turbineNumber.toLowerCase().includes(D.toLowerCase()))&&C.creationDate.includes(I)&&(H==="ALL"||H==="ONLY_INCOMPLETE"&&!C.completionDate||H==="ONLY_COMPLETED"&&C.completionDate))),a.$$.dirty&16&&l(9,n=r.length)},[i,D,I,H,r,s,c,w,g,n,p,m,_,v,b,E,V,k,z,A,J,Q,re]}class an extends Ye{constructor(e){super(),qe(this,e,rn,ln,Ge,{})}}export{an as default};
