import{O as Yr,S as We,i as He,s as Re,k as f,q as C,a as y,E as L,l as h,m as d,r as O,c as N,h as u,F,n as t,b as G,C as o,G as A,P as Jl,u as de,Q as et,R as ft,B as _e,D as nt,e as tt,T as Qr,U as Nr,V as Xr,o as Yl,W as Ql,X as Kr,H as Ge,w as ze,x as xe,y as Le,Y as qe,f as ce,g as yt,t as ve,d as Nt,z as Fe,Z as dt,_ as Ve,$ as Nl,a0 as yl,a1 as Zr}from"../../../chunks/index-b641a719.js";import{a as Dt}from"../../../chunks/axios-67252f11.js";function eo(a){const e=a-1;return e*e*e+1}function qr(a,{delay:e=0,duration:l=400,easing:r=Yr}={}){const n=+getComputedStyle(a).opacity;return{delay:e,duration:l,easing:r,css:c=>`opacity: ${c*n}`}}function lt(a,{delay:e=0,duration:l=400,easing:r=eo}={}){const n=getComputedStyle(a),c=+n.opacity,s=parseFloat(n.height),i=parseFloat(n.paddingTop),p=parseFloat(n.paddingBottom),m=parseFloat(n.marginTop),_=parseFloat(n.marginBottom),b=parseFloat(n.borderTopWidth),v=parseFloat(n.borderBottomWidth);return{delay:e,duration:l,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*c};height: ${g*s}px;padding-top: ${g*i}px;padding-bottom: ${g*p}px;margin-top: ${g*m}px;margin-bottom: ${g*_}px;border-top-width: ${g*b}px;border-bottom-width: ${g*v}px;`}}const Gl={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Dr(a){let e,l,r=a[0].turbineNumber+"",n;return{c(){e=f("span"),l=C("- "),n=C(r),this.h()},l(c){e=h(c,"SPAN",{class:!0});var s=d(e);l=O(s,"- "),n=O(s,r),s.forEach(u),this.h()},h(){t(e,"class","hidden md:inline-block")},m(c,s){G(c,e,s),o(e,l),o(e,n)},p(c,s){s&1&&r!==(r=c[0].turbineNumber+"")&&de(n,r)},d(c){c&&u(e)}}}function to(a){let e,l;return{c(){e=f("span"),l=C("Completato"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=O(n,"Completato"),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 font-bold flex")},m(r,n){G(r,e,n),o(e,l)},p:_e,d(r){r&&u(e)}}}function lo(a){let e,l;return{c(){e=f("span"),l=C(a[1]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=O(n,a[1]),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 font-bold flex")},m(r,n){G(r,e,n),o(e,l)},p(r,n){n&2&&de(l,r[1])},d(r){r&&u(e)}}}function ro(a){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2 md:col-span-1")},m(l,r){G(l,e,r)},p:_e,d(l){l&&u(e)}}}function oo(a){let e,l;return{c(){e=f("span"),l=C(a[2]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=O(n,a[2]),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 flex md:justify-end md:mr-5")},m(r,n){G(r,e,n),o(e,l)},p(r,n){n&4&&de(l,r[2])},d(r){r&&u(e)}}}function no(a){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2 md:col-span-1")},m(l,r){G(l,e,r)},p:_e,d(l){l&&u(e)}}}function ao(a){let e,l,r,n=a[0].odlNumber+"",c;return{c(){e=f("p"),l=C("ODL: "),r=f("span"),c=C(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=O(i,"ODL: "),r=h(i,"SPAN",{class:!0});var p=d(r);c=O(p,n),p.forEach(u),i.forEach(u),this.h()},h(){t(r,"class","text-blue-400"),t(e,"class","hidden md:group-hover:flex justify-end mr-5 col-span-1")},m(s,i){G(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&n!==(n=s[0].odlNumber+"")&&de(c,n)},d(s){s&&u(e)}}}function so(a){let e,l,r,n,c=a[0].turbineName+"",s,i,p,m,_,b,v,g,w,E,T,k=a[0].description+"",D,I,x,$,B,J,M,q,U,z=a[0].operation[0]+"",le,he,Q,H=a[0].turbineState+"",re,Ie,S,ee,ge,ne,pe,ke,Ce,we,ye,W=a[0].turbineNumber&&Dr(a);function oe(j,ae){return j[1]?lo:to}let X=oe(a),V=X(a);function Z(j,ae){return j[2]!==null&&j[2]!==void 0?oo:ro}let De=Z(a),te=De(a);function Oe(j,ae){return j[0].odlNumber!==void 0&&j[0].odlNumber!==0?ao:no}let Ee=Oe(a),fe=Ee(a);return{c(){e=f("div"),l=f("div"),r=f("div"),n=f("h1"),s=C(c),i=y(),W&&W.c(),p=y(),V.c(),m=y(),te.c(),_=y(),b=f("div"),v=L("svg"),g=L("path"),w=L("circle"),E=y(),T=f("span"),D=C(k),I=y(),fe.c(),x=y(),$=f("div"),B=L("svg"),J=L("path"),M=L("rect"),q=y(),U=f("span"),le=C(z),he=y(),Q=f("span"),re=C(H),Ie=y(),S=f("div"),ee=f("div"),ge=f("button"),ne=L("svg"),pe=L("circle"),ke=L("line"),this.h()},l(j){e=h(j,"DIV",{class:!0});var ae=d(e);l=h(ae,"DIV",{class:!0});var Ue=d(l);r=h(Ue,"DIV",{class:!0});var R=d(r);n=h(R,"H1",{class:!0});var Y=d(n);s=O(Y,c),i=N(Y),W&&W.l(Y),Y.forEach(u),p=N(R),V.l(R),m=N(R),te.l(R),_=N(R),b=h(R,"DIV",{class:!0});var be=d(b);v=F(be,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ue=d(v);g=F(ue,"path",{d:!0}),d(g).forEach(u),w=F(ue,"circle",{cx:!0,cy:!0,r:!0}),d(w).forEach(u),ue.forEach(u),E=N(be),T=h(be,"SPAN",{});var P=d(T);D=O(P,k),P.forEach(u),be.forEach(u),I=N(R),fe.l(R),x=N(R),$=h(R,"DIV",{class:!0});var se=d($);B=F(se,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Pe=d(B);J=F(Pe,"path",{d:!0}),d(J).forEach(u),M=F(Pe,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(M).forEach(u),Pe.forEach(u),q=N(se),U=h(se,"SPAN",{class:!0});var Me=d(U);le=O(Me,z),Me.forEach(u),se.forEach(u),he=N(R),Q=h(R,"SPAN",{class:!0});var $e=d(Q);re=O($e,H),$e.forEach(u),R.forEach(u),Ie=N(Ue),S=h(Ue,"DIV",{class:!0});var je=d(S);ee=h(je,"DIV",{class:!0});var Be=d(ee);ge=h(Be,"BUTTON",{class:!0});var rt=d(ge);ne=F(rt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Te=d(ne);pe=F(Te,"circle",{cx:!0,cy:!0,r:!0}),d(pe).forEach(u),ke=F(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ke).forEach(u),Te.forEach(u),rt.forEach(u),Be.forEach(u),je.forEach(u),Ue.forEach(u),ae.forEach(u),this.h()},h(){t(n,"class","font-bold text-4xl mt-5 col-span-1 md:col-span-2"),t(g,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),t(w,"cx","12"),t(w,"cy","10"),t(w,"r","3"),t(v,"xmlns","http://www.w3.org/2000/svg"),t(v,"width","24"),t(v,"height","24"),t(v,"viewBox","0 0 24 24"),t(v,"fill","none"),t(v,"stroke","currentColor"),t(v,"stroke-width","2"),t(v,"stroke-linecap","round"),t(v,"stroke-linejoin","round"),t(v,"class","feather feather-map-pin col-span-1"),t(b,"class","col-span-2 md:col-span-1 hidden group-hover:flex gap-2"),t(J,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),t(M,"x","8"),t(M,"y","2"),t(M,"width","8"),t(M,"height","4"),t(M,"rx","1"),t(M,"ry","1"),t(B,"xmlns","http://www.w3.org/2000/svg"),t(B,"width","24"),t(B,"height","24"),t(B,"viewBox","0 0 24 24"),t(B,"fill","none"),t(B,"stroke","currentColor"),t(B,"stroke-width","2"),t(B,"stroke-linecap","round"),t(B,"stroke-linejoin","round"),t(B,"class","feather feather-clipboard"),t(U,"class","col-span-2 md:col-span-1 hidden group-hover:flex"),t($,"class","hidden group-hover:flex gap-2"),t(Q,"class","col-span-2 md:col-span-1 hidden group-hover:flex md:justify-end md:mr-5 font-bold"),t(r,"class","grid grid-cols-1 md:grid-cols-2 text-white font-mono gap-4"),t(pe,"cx","11"),t(pe,"cy","11"),t(pe,"r","8"),t(ke,"x1","21"),t(ke,"y1","21"),t(ke,"x2","16.65"),t(ke,"y2","16.65"),t(ne,"xmlns","http://www.w3.org/2000/svg"),t(ne,"width","20"),t(ne,"height","20"),t(ne,"viewBox","0 0 24 24"),t(ne,"fill","none"),t(ne,"stroke","currentColor"),t(ne,"stroke-width","2"),t(ne,"stroke-linecap","round"),t(ne,"stroke-linejoin","round"),t(ne,"class","feather feather-search"),t(ge,"class","bg-gray-700 hover:bg-gray-600 py-2 px-4 rounded-sm"),t(ee,"class","flex flex-col md:flex-row gap-2 md:gap-0"),t(S,"class","absolute top-0 right-0 mr-5 mt-5"),t(l,"class","bg-gray-800 md:h-32 px-4 my-3 hover:mx-2 md:hover:mx-0 rounded-sm shadow-md content-center hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto pb-5 md:hover:h-48 hover:content-start group"),t(e,"class","snap-start pt-1")},m(j,ae){G(j,e,ae),o(e,l),o(l,r),o(r,n),o(n,s),o(n,i),W&&W.m(n,null),o(r,p),V.m(r,null),o(r,m),te.m(r,null),o(r,_),o(r,b),o(b,v),o(v,g),o(v,w),o(b,E),o(b,T),o(T,D),o(r,I),fe.m(r,null),o(r,x),o(r,$),o($,B),o(B,J),o(B,M),o($,q),o($,U),o(U,le),o(r,he),o(r,Q),o(Q,re),o(l,Ie),o(l,S),o(S,ee),o(ee,ge),o(ge,ne),o(ne,pe),o(ne,ke),we||(ye=A(ge,"click",Jl(a[3])),we=!0)},p(j,[ae]){ae&1&&c!==(c=j[0].turbineName+"")&&de(s,c),j[0].turbineNumber?W?W.p(j,ae):(W=Dr(j),W.c(),W.m(n,null)):W&&(W.d(1),W=null),X===(X=oe(j))&&V?V.p(j,ae):(V.d(1),V=X(j),V&&(V.c(),V.m(r,m))),De===(De=Z(j))&&te?te.p(j,ae):(te.d(1),te=De(j),te&&(te.c(),te.m(r,_))),ae&1&&k!==(k=j[0].description+"")&&de(D,k),Ee===(Ee=Oe(j))&&fe?fe.p(j,ae):(fe.d(1),fe=Ee(j),fe&&(fe.c(),fe.m(r,x))),ae&1&&z!==(z=j[0].operation[0]+"")&&de(le,z),ae&1&&H!==(H=j[0].turbineState+"")&&de(re,H)},i(j){Ce||et(()=>{Ce=ft(l,lt,{duration:1e3}),Ce.start()})},o:_e,d(j){j&&u(e),W&&W.d(),V.d(),te.d(),fe.d(),we=!1,ye()}}}function io(a,e,l){let r,n,{turbine:c={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const s=nt(),i=()=>{s("showDetails",c.id)};return a.$$set=p=>{"turbine"in p&&l(0,c=p.turbine)},a.$$.update=()=>{a.$$.dirty&1&&l(1,r=Gl[c.completedSteps+1]),a.$$.dirty&3&&l(2,n=r===Gl[3]?c.priorNotification:r===Gl[4]?c.permittingDate:null)},[c,r,n,i]}class co extends We{constructor(e){super(),He(this,e,io,so,Re,{turbine:0})}}const Xt="https://dockyard-handler.herokuapp.com/v1.0.0";async function Qt(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Dt.get(Xt+"/events",e)).data}else console.log("Token not found in local storage")}async function uo(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Dt.delete(Xt+"/event?eventId="+a,l)}else console.log("Token not found in local storage")}async function fo(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Dt.post(Xt+"/event",a,l)}else console.log("Token not found in local storage")}async function ho(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(a)),await Dt.put(Xt+"/event",a,l)}else console.log("Token not found in local storage")}async function po(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Dt.get(Xt+"/events/csv",e)}else console.log("Token not found in local storage")}function Ir(a){let e,l,r,n,c=(a[0].startingDateEEMM||"____/__/__")+"",s,i,p,m,_,b=(a[0].startingDateOOCC||"____/__/__")+"",v;return{c(){e=f("div"),l=f("p"),r=C("Inizio ATT EEMM: "),n=f("span"),s=C(c),i=y(),p=f("p"),m=C("Inizio ATT OOCC: "),_=f("span"),v=C(b),this.h()},l(g){e=h(g,"DIV",{class:!0});var w=d(e);l=h(w,"P",{class:!0});var E=d(l);r=O(E,"Inizio ATT EEMM: "),n=h(E,"SPAN",{class:!0});var T=d(n);s=O(T,c),T.forEach(u),E.forEach(u),i=N(w),p=h(w,"P",{class:!0});var k=d(p);m=O(k,"Inizio ATT OOCC: "),_=h(k,"SPAN",{class:!0});var D=d(_);v=O(D,b),D.forEach(u),k.forEach(u),w.forEach(u),this.h()},h(){t(n,"class","font-extralight"),t(l,"class","prose font-mono text-white"),t(_,"class","font-extralight"),t(p,"class","prose font-mono text-white"),t(e,"class","p-2 mb-2")},m(g,w){G(g,e,w),o(e,l),o(l,r),o(l,n),o(n,s),o(e,i),o(e,p),o(p,m),o(p,_),o(_,v)},p(g,w){w&1&&c!==(c=(g[0].startingDateEEMM||"____/__/__")+"")&&de(s,c),w&1&&b!==(b=(g[0].startingDateOOCC||"____/__/__")+"")&&de(v,b)},d(g){g&&u(e)}}}function go(a){let e,l,r,n,c,s,i,p,m,_,b,v=a[1]&&Ir(a);return{c(){e=f("button"),l=L("svg"),r=L("circle"),n=L("polyline"),c=y(),s=f("h1"),i=C("Tracciamento eventi"),p=y(),v&&v.c(),m=tt(),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var w=d(e);l=F(w,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var E=d(l);r=F(E,"circle",{cx:!0,cy:!0,r:!0}),d(r).forEach(u),n=F(E,"polyline",{points:!0}),d(n).forEach(u),E.forEach(u),c=N(w),s=h(w,"H1",{class:!0});var T=d(s);i=O(T,"Tracciamento eventi"),T.forEach(u),w.forEach(u),p=N(g),v&&v.l(g),m=tt(),this.h()},h(){t(r,"cx","12"),t(r,"cy","12"),t(r,"r","10"),t(n,"points","12 6 12 12 16 14"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"width","22"),t(l,"height","22"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(l,"stroke-linecap","round"),t(l,"stroke-linejoin","round"),t(l,"class","feather feather-clock"),t(s,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(g,w){G(g,e,w),o(e,l),o(l,r),o(l,n),o(e,c),o(e,s),o(s,i),G(g,p,w),v&&v.m(g,w),G(g,m,w),_||(b=A(e,"click",Jl(a[2])),_=!0)},p(g,[w]){g[1]?v?v.p(g,w):(v=Ir(g),v.c(),v.m(m.parentNode,m)):v&&(v.d(1),v=null)},i:_e,o:_e,d(g){g&&u(e),g&&u(p),v&&v.d(g),g&&u(m),_=!1,b()}}}function mo(a,e,l){let{turbine:r}=e,n=!1;const c=()=>l(1,n=!n);return a.$$set=s=>{"turbine"in s&&l(0,r=s.turbine)},[r,n,c]}class vo extends We{constructor(e){super(),He(this,e,mo,go,Re,{turbine:0})}}function Sr(a,e,l){const r=a.slice();return r[3]=e[l],r}function Tr(a){let e,l,r=a[0].operation,n=[];for(let c=0;c<r.length;c+=1)n[c]=Cr(Sr(a,r,c));return{c(){e=f("div"),l=f("ul");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=h(c,"DIV",{class:!0});var s=d(e);l=h(s,"UL",{class:!0});var i=d(l);for(let p=0;p<n.length;p+=1)n[p].l(i);i.forEach(u),s.forEach(u),this.h()},h(){t(l,"class","prose font-mono text-white"),t(e,"class","p-2")},m(c,s){G(c,e,s),o(e,l);for(let i=0;i<n.length;i+=1)n[i].m(l,null)},p(c,s){if(s&1){r=c[0].operation;let i;for(i=0;i<r.length;i+=1){const p=Sr(c,r,i);n[i]?n[i].p(p,s):(n[i]=Cr(p),n[i].c(),n[i].m(l,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(c){c&&u(e),Qr(n,c)}}}function Cr(a){let e,l=a[3]+"",r,n;return{c(){e=f("li"),r=C(l),n=y(),this.h()},l(c){e=h(c,"LI",{class:!0});var s=d(e);r=O(s,l),n=N(s),s.forEach(u),this.h()},h(){t(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(c,s){G(c,e,s),o(e,r),o(e,n)},p(c,s){s&1&&l!==(l=c[3]+"")&&de(r,l)},d(c){c&&u(e)}}}function _o(a){let e,l,r,n,c,s,i,p,m,_,b=a[1]&&Tr(a);return{c(){e=f("button"),l=L("svg"),r=L("path"),n=y(),c=f("h1"),s=C("Operazioni"),i=y(),b&&b.c(),p=tt(),this.h()},l(v){e=h(v,"BUTTON",{class:!0});var g=d(e);l=F(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var w=d(l);r=F(w,"path",{d:!0}),d(r).forEach(u),w.forEach(u),n=N(g),c=h(g,"H1",{class:!0});var E=d(c);s=O(E,"Operazioni"),E.forEach(u),g.forEach(u),i=N(v),b&&b.l(v),p=tt(),this.h()},h(){t(r,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"width","22"),t(l,"height","22"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(l,"stroke-linecap","round"),t(l,"stroke-linejoin","round"),t(l,"class","feather feather-tool"),t(c,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(v,g){G(v,e,g),o(e,l),o(l,r),o(e,n),o(e,c),o(c,s),G(v,i,g),b&&b.m(v,g),G(v,p,g),m||(_=A(e,"click",Jl(a[2])),m=!0)},p(v,[g]){v[1]?b?b.p(v,g):(b=Tr(v),b.c(),b.m(p.parentNode,p)):b&&(b.d(1),b=null)},i:_e,o:_e,d(v){v&&u(e),v&&u(i),b&&b.d(v),v&&u(p),m=!1,_()}}}function bo(a,e,l){let{turbine:r}=e,n=!1;const c=()=>l(1,n=!n);return a.$$set=s=>{"turbine"in s&&l(0,r=s.turbine)},[r,n,c]}class ko extends We{constructor(e){super(),He(this,e,bo,_o,Re,{turbine:0})}}const Gr="https://dockyard-handler.herokuapp.com/v1.0.0";async function Or(a){if(console.log("Retrieving steps for event "+a),typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Dt.get(Gr+"/steps/"+a,l)).data}else console.log("Token not found in local storage")}async function wo(a,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Dt.put(Gr+"/step/complete?stepId="+a+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function Mr(a,e,l){const r=a.slice();return r[6]=e[l],r}function Eo(a){return{c:_e,l:_e,m:_e,p:_e,d:_e}}function yo(a){let e=[],l=new Map,r,n=a[0];const c=s=>s[6].id;for(let s=0;s<n.length;s+=1){let i=Mr(a,n,s),p=c(i);l.set(p,e[s]=Pr(p,i))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=tt()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);r=tt()},m(s,i){for(let p=0;p<e.length;p+=1)e[p].m(s,i);G(s,r,i)},p(s,i){i&7&&(n=s[0],e=Ql(e,i,c,1,s,n,l,r.parentNode,Kr,Pr,r,Mr))},d(s){for(let i=0;i<e.length;i+=1)e[i].d(s);s&&u(r)}}}function Vr(a){let e,l,r,n,c,s,i;return{c(){e=f("div"),l=f("p"),r=C("Completato"),n=y(),c=L("svg"),s=L("path"),i=L("polyline"),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=d(e);l=h(m,"P",{class:!0});var _=d(l);r=O(_,"Completato"),_.forEach(u),n=N(m),c=F(m,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var b=d(c);s=F(b,"path",{d:!0}),d(s).forEach(u),i=F(b,"polyline",{points:!0}),d(i).forEach(u),b.forEach(u),m.forEach(u),this.h()},h(){t(l,"class","font-bold uppercase"),t(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),t(i,"points","22 4 12 14.01 9 11.01"),t(c,"xmlns","http://www.w3.org/2000/svg"),t(c,"width","22"),t(c,"height","22"),t(c,"viewBox","0 0 24 24"),t(c,"fill","none"),t(c,"stroke","currentColor"),t(c,"stroke-width","2"),t(c,"stroke-linecap","round"),t(c,"stroke-linejoin","round"),t(c,"class","feather feather-check-circle text-green-500"),t(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(p,m){G(p,e,m),o(e,l),o(l,r),o(e,n),o(e,c),o(c,s),o(c,i)},d(p){p&&u(e)}}}function Pr(a,e){let l,r,n,c,s,i,p,m=e[6].name+"",_,b,v=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,g,w,E;function T(){return e[4](e[6])}let k=v&&Vr();return{key:a,first:null,c(){l=f("div"),r=f("input"),s=y(),i=f("div"),p=f("p"),_=C(m),b=y(),k&&k.c(),g=y(),this.h()},l(D){l=h(D,"DIV",{class:!0});var I=d(l);r=h(I,"INPUT",{type:!0,class:!0}),s=N(I),i=h(I,"DIV",{class:!0});var x=d(i);p=h(x,"P",{});var $=d(p);_=O($,m),$.forEach(u),x.forEach(u),b=N(I),k&&k.l(I),g=N(I),I.forEach(u),this.h()},h(){t(r,"type","checkbox"),t(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=c=e[6].complete,t(i,"class","col-span-6 text-left"),t(l,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm"),this.first=l},m(D,I){G(D,l,I),o(l,r),o(l,s),o(l,i),o(i,p),o(p,_),o(l,b),k&&k.m(l,null),o(l,g),w||(E=A(r,"click",T),w=!0)},p(D,I){e=D,I&3&&n!==(n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=n),I&1&&c!==(c=e[6].complete)&&(r.checked=c),I&1&&m!==(m=e[6].name+"")&&de(_,m),I&3&&(v=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),v?k||(k=Vr(),k.c(),k.m(l,g)):k&&(k.d(1),k=null)},d(D){D&&u(l),k&&k.d(),w=!1,E()}}}function No(a){let e,l;return{c(){e=f("div"),l=C("Caricamento..."),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=d(e);l=O(n,"Caricamento..."),n.forEach(u),this.h()},h(){t(e,"class","col-span-7 text-center")},m(r,n){G(r,e,n),o(e,l)},p:_e,d(r){r&&u(e)}}}function Do(a){let e,l,r,n,c,s,i,p,m,_,b,v,g,w={ctx:a,current:null,token:null,hasCatch:!1,pending:No,then:yo,catch:Eo,value:0};return Nr(b=a[0],w),{c(){e=f("div"),l=f("div"),r=L("svg"),n=L("path"),c=L("path"),s=y(),i=f("h1"),p=C("Tracciamento fasi"),m=y(),_=f("div"),w.block.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var T=d(e);l=h(T,"DIV",{class:!0});var k=d(l);r=F(k,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(r);n=F(D,"path",{d:!0}),d(n).forEach(u),c=F(D,"path",{d:!0}),d(c).forEach(u),D.forEach(u),s=N(k),i=h(k,"H1",{class:!0});var I=d(i);p=O(I,"Tracciamento fasi"),I.forEach(u),k.forEach(u),m=N(T),_=h(T,"DIV",{id:!0,class:!0});var x=d(_);w.block.l(x),x.forEach(u),T.forEach(u),this.h()},h(){t(n,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),t(c,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),t(r,"xmlns","http://www.w3.org/2000/svg"),t(r,"width","24"),t(r,"height","24"),t(r,"viewBox","0 0 24 24"),t(r,"fill","none"),t(r,"stroke","currentColor"),t(r,"stroke-width","2"),t(r,"stroke-linecap","round"),t(r,"stroke-linejoin","round"),t(r,"class","feather feather-link"),t(i,"class","text-center font-mono text-xl"),t(l,"class","grid justify-center place-content-center items-center grid-flow-col mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),t(_,"id","stepsContainer"),t(_,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-32 md:h-64 gap-2 scrollbar-none shadow-md mt-5 items-center"),t(e,"class","col-span-1 text-white md:ring-2 ring-gray-400 rounded-sm")},m(E,T){G(E,e,T),o(e,l),o(l,r),o(r,n),o(r,c),o(l,s),o(l,i),o(i,p),o(e,m),o(e,_),w.block.m(_,w.anchor=null),w.mount=()=>_,w.anchor=null},p(E,[T]){a=E,w.ctx=a,T&1&&b!==(b=a[0])&&Nr(b,w)||Xr(w,a,T)},i(E){v||et(()=>{v=ft(_,lt,{delay:500,duration:1e3}),v.start()}),g||et(()=>{g=ft(e,qr,{delay:400,duration:1e3}),g.start()})},o:_e,d(E){E&&u(e),w.block.d(),w.token=null,w=null}}}function Io(a,e,l){let r,{turbine:n}=e,c=[];Yl(()=>{Or(n.id).then(m=>{l(0,c=m)}),setTimeout(()=>{i()},1500)});const s=(m,_)=>{wo(m,_).then(()=>{Or(n.id).then(b=>{l(0,c=b),_?l(3,n.completedSteps+=1,n):l(3,n.completedSteps-=1,n),i()})})};function i(){const m=document.getElementById("stepsContainer"),_=9;if(m){const b=window.innerWidth<768?2:4,v=n.completedSteps-b;if(v>=0&&n.completedSteps<_){m.scrollTo({top:m.scrollHeight/_*(v+1),behavior:"smooth"});return}else if(n.completedSteps===_){setTimeout(()=>{m.scrollTo({top:0,behavior:"smooth"})},500);return}}}const p=m=>s(m.id,!m.complete);return a.$$set=m=>{"turbine"in m&&l(3,n=m.turbine)},a.$$.update=()=>{a.$$.dirty&9&&l(1,r=c[n.completedSteps])},[c,r,s,n,p]}class So extends We{constructor(e){super(),He(this,e,Io,Do,Re,{turbine:3})}}function To(a){let e,l,r,n,c,s,i,p,m,_,b,v,g;return{c(){e=f("div"),l=f("p"),r=C("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),n=y(),c=f("div"),s=f("button"),i=C("Annulla"),p=y(),m=f("button"),_=C("Conferma"),this.h()},l(w){e=h(w,"DIV",{class:!0});var E=d(e);l=h(E,"P",{class:!0});var T=d(l);r=O(T,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),T.forEach(u),n=N(E),c=h(E,"DIV",{class:!0});var k=d(c);s=h(k,"BUTTON",{class:!0});var D=d(s);i=O(D,"Annulla"),D.forEach(u),p=N(k),m=h(k,"BUTTON",{class:!0});var I=d(m);_=O(I,"Conferma"),I.forEach(u),k.forEach(u),E.forEach(u),this.h()},h(){t(l,"class","font-bold text-lg"),t(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),t(m,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),t(c,"class","flex justify-end mt-5 text-sm"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(w,E){G(w,e,E),o(e,l),o(l,r),o(e,n),o(e,c),o(c,s),o(s,i),o(c,p),o(c,m),o(m,_),v||(g=[A(s,"click",a[1]),A(m,"click",a[0]),A(e,"click",a[2]),A(e,"keydown",a[2])],v=!0)},p:_e,i(w){b||et(()=>{b=ft(e,lt,{duration:300}),b.start()})},o:_e,d(w){w&&u(e),v=!1,Ge(g)}}}function Co(a){const e=nt();return[()=>{e("confirm")},()=>{e("cancel")},c=>{c.stopPropagation()}]}class Oo extends We{constructor(e){super(),He(this,e,Co,To,Re,{})}}function Br(a){let e,l,r=a[0].turbineNumber+"",n;return{c(){e=f("span"),l=C("- "),n=C(r)},l(c){e=h(c,"SPAN",{});var s=d(e);l=O(s,"- "),n=O(s,r),s.forEach(u)},m(c,s){G(c,e,s),o(e,l),o(e,n)},p(c,s){s&1&&r!==(r=c[0].turbineNumber+"")&&de(n,r)},d(c){c&&u(e)}}}function Ar(a){let e,l,r,n,c;return l=new Oo({}),l.$on("confirm",a[4]),l.$on("cancel",a[7]),{c(){e=f("div"),ze(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);xe(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,i){G(s,e,i),Le(l,e,null),r=!0,n||(c=[A(e,"click",a[8]),A(e,"keydown",a[9])],n=!0)},p:_e,i(s){r||(ce(l.$$.fragment,s),r=!0)},o(s){ve(l.$$.fragment,s),r=!1},d(s){s&&u(e),Fe(l),n=!1,Ge(c)}}}function Ur(a){let e,l,r,n=a[0].permittingDate+"",c;return{c(){e=f("p"),l=C("Valdità permitting: "),r=f("span"),c=C(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=O(i,"Valdità permitting: "),r=h(i,"SPAN",{});var p=d(r);c=O(p,n),p.forEach(u),i.forEach(u),this.h()},h(){t(e,"class","prose font-mono text-white")},m(s,i){G(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&n!==(n=s[0].permittingDate+"")&&de(c,n)},d(s){s&&u(e)}}}function $r(a){let e,l,r,n=a[0].priorNotification+"",c;return{c(){e=f("p"),l=C("Valdità notifica: "),r=f("span"),c=C(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=O(i,"Valdità notifica: "),r=h(i,"SPAN",{});var p=d(r);c=O(p,n),p.forEach(u),i.forEach(u),this.h()},h(){t(e,"class","prose font-mono text-white")},m(s,i){G(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&n!==(n=s[0].priorNotification+"")&&de(c,n)},d(s){s&&u(e)}}}function Mo(a){let e,l,r,n=a[0].turbineName+"",c,s,i,p,m,_,b,v,g,w,E,T,k,D,I,x,$,B,J,M,q,U,z,le,he,Q,H,re,Ie,S,ee=a[0].creationDate+"",ge,ne,pe,ke,Ce,we=a[0].turbineState+"",ye,W,oe,X,V,Z,De,te,Oe,Ee,fe,j,ae,Ue,R=a[0].turbineNumber&&Br(a),Y=a[1]&&Ar(a),be=a[0].permittingDate!==void 0&&Ur(a),ue=a[0].priorNotification!==void 0&&$r(a);return Z=new vo({props:{turbine:a[0]}}),te=new ko({props:{turbine:a[0]}}),Ee=new So({props:{turbine:a[0]}}),{c(){e=f("div"),l=f("div"),r=f("h1"),c=C(n),s=y(),R&&R.c(),i=y(),p=f("div"),m=f("div"),_=f("div"),b=y(),Y&&Y.c(),v=y(),g=f("div"),w=f("button"),E=L("svg"),T=L("polyline"),k=L("path"),D=L("line"),I=L("line"),x=y(),$=f("button"),B=L("svg"),J=L("path"),M=y(),q=f("button"),U=L("svg"),z=L("line"),le=L("line"),he=y(),Q=f("div"),H=f("div"),re=f("p"),Ie=C("Creazione: "),S=f("span"),ge=C(ee),ne=y(),pe=f("p"),ke=C("Stato turbina: "),Ce=f("span"),ye=C(we),W=y(),be&&be.c(),oe=y(),ue&&ue.c(),X=y(),V=f("div"),ze(Z.$$.fragment),De=y(),ze(te.$$.fragment),Oe=y(),ze(Ee.$$.fragment),this.h()},l(P){e=h(P,"DIV",{class:!0});var se=d(e);l=h(se,"DIV",{class:!0});var Pe=d(l);r=h(Pe,"H1",{class:!0});var Me=d(r);c=O(Me,n),s=N(Me),R&&R.l(Me),Me.forEach(u),i=N(Pe),p=h(Pe,"DIV",{class:!0});var $e=d(p);m=h($e,"DIV",{class:!0});var je=d(m);_=h(je,"DIV",{class:!0}),d(_).forEach(u),b=N(je),Y&&Y.l(je),v=N(je),g=h(je,"DIV",{class:!0});var Be=d(g);w=h(Be,"BUTTON",{class:!0});var rt=d(w);E=F(rt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Te=d(E);T=F(Te,"polyline",{points:!0}),d(T).forEach(u),k=F(Te,"path",{d:!0}),d(k).forEach(u),D=F(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(u),I=F(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(I).forEach(u),Te.forEach(u),rt.forEach(u),x=N(Be),$=h(Be,"BUTTON",{class:!0});var ot=d($);B=F(ot,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var It=d(B);J=F(It,"path",{d:!0}),d(J).forEach(u),It.forEach(u),ot.forEach(u),M=N(Be),q=h(Be,"BUTTON",{class:!0});var St=d(q);U=F(St,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Je=d(U);z=F(Je,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(z).forEach(u),le=F(Je,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(le).forEach(u),Je.forEach(u),St.forEach(u),Be.forEach(u),je.forEach(u),$e.forEach(u),Pe.forEach(u),he=N(se),Q=h(se,"DIV",{class:!0});var Ye=d(Q);H=h(Ye,"DIV",{class:!0});var Ae=d(H);re=h(Ae,"P",{class:!0});var ht=d(re);Ie=O(ht,"Creazione: "),S=h(ht,"SPAN",{});var Qe=d(S);ge=O(Qe,ee),Qe.forEach(u),ht.forEach(u),ne=N(Ae),pe=h(Ae,"P",{class:!0});var Xe=d(pe);ke=O(Xe,"Stato turbina: "),Ce=h(Xe,"SPAN",{});var Tt=d(Ce);ye=O(Tt,we),Tt.forEach(u),Xe.forEach(u),W=N(Ae),be&&be.l(Ae),oe=N(Ae),ue&&ue.l(Ae),X=N(Ae),V=h(Ae,"DIV",{class:!0});var at=d(V);xe(Z.$$.fragment,at),De=N(at),xe(te.$$.fragment,at),at.forEach(u),Ae.forEach(u),Oe=N(Ye),xe(Ee.$$.fragment,Ye),Ye.forEach(u),se.forEach(u),this.h()},h(){t(r,"class","font-mono font-bold text-2xl md:text-4xl"),t(_,"class","col-span-3"),t(T,"points","3 6 5 6 21 6"),t(k,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),t(D,"x1","10"),t(D,"y1","11"),t(D,"x2","10"),t(D,"y2","17"),t(I,"x1","14"),t(I,"y1","11"),t(I,"x2","14"),t(I,"y2","17"),t(E,"xmlns","http://www.w3.org/2000/svg"),t(E,"width","20"),t(E,"height","20"),t(E,"viewBox","0 0 24 24"),t(E,"fill","none"),t(E,"stroke","currentColor"),t(E,"stroke-width","2"),t(E,"stroke-linecap","round"),t(E,"stroke-linejoin","round"),t(E,"class","feather feather-trash-2"),t(w,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(J,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),t(B,"xmlns","http://www.w3.org/2000/svg"),t(B,"width","20"),t(B,"height","20"),t(B,"viewBox","0 0 24 24"),t(B,"fill","none"),t(B,"stroke","currentColor"),t(B,"stroke-width","2"),t(B,"stroke-linecap","round"),t(B,"stroke-linejoin","round"),t(B,"class","feather feather-edit-2"),t($,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),t(z,"x1","18"),t(z,"y1","6"),t(z,"x2","6"),t(z,"y2","18"),t(le,"x1","6"),t(le,"y1","6"),t(le,"x2","18"),t(le,"y2","18"),t(U,"xmlns","http://www.w3.org/2000/svg"),t(U,"width","24"),t(U,"height","24"),t(U,"viewBox","0 0 24 24"),t(U,"fill","none"),t(U,"stroke","currentColor"),t(U,"stroke-width","2"),t(U,"stroke-linecap","round"),t(U,"stroke-linejoin","round"),t(U,"class","feather feather-x"),t(q,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(g,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),t(m,"class","grid grid-cols-6"),t(p,"class","flex flex-row justify-end"),t(l,"class","w-full h-20 grid grid-cols-2 items-start"),t(re,"class","prose font-mono text-white"),t(pe,"class","prose font-mono text-white"),t(V,"class","w-full mt-5"),t(H,"class","col-span-1"),t(Q,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start gap-0 md:gap-4"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 md:min-w-min md:max-w-4xl z-50 h-[32rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(P,se){G(P,e,se),o(e,l),o(l,r),o(r,c),o(r,s),R&&R.m(r,null),o(l,i),o(l,p),o(p,m),o(m,_),o(m,b),Y&&Y.m(m,null),o(m,v),o(m,g),o(g,w),o(w,E),o(E,T),o(E,k),o(E,D),o(E,I),o(g,x),o(g,$),o($,B),o(B,J),o(g,M),o(g,q),o(q,U),o(U,z),o(U,le),o(e,he),o(e,Q),o(Q,H),o(H,re),o(re,Ie),o(re,S),o(S,ge),o(H,ne),o(H,pe),o(pe,ke),o(pe,Ce),o(Ce,ye),o(H,W),be&&be.m(H,null),o(H,oe),ue&&ue.m(H,null),o(H,X),o(H,V),Le(Z,V,null),o(V,De),Le(te,V,null),o(Q,Oe),Le(Ee,Q,null),j=!0,ae||(Ue=[A(w,"click",a[10]),A($,"click",a[3]),A(q,"click",a[2]),A(e,"click",qe(a[5])),A(e,"keydown",qe(a[6]))],ae=!0)},p(P,[se]){(!j||se&1)&&n!==(n=P[0].turbineName+"")&&de(c,n),P[0].turbineNumber?R?R.p(P,se):(R=Br(P),R.c(),R.m(r,null)):R&&(R.d(1),R=null),P[1]?Y?(Y.p(P,se),se&2&&ce(Y,1)):(Y=Ar(P),Y.c(),ce(Y,1),Y.m(m,v)):Y&&(yt(),ve(Y,1,1,()=>{Y=null}),Nt()),(!j||se&1)&&ee!==(ee=P[0].creationDate+"")&&de(ge,ee),(!j||se&1)&&we!==(we=P[0].turbineState+"")&&de(ye,we),P[0].permittingDate!==void 0?be?be.p(P,se):(be=Ur(P),be.c(),be.m(H,oe)):be&&(be.d(1),be=null),P[0].priorNotification!==void 0?ue?ue.p(P,se):(ue=$r(P),ue.c(),ue.m(H,X)):ue&&(ue.d(1),ue=null);const Pe={};se&1&&(Pe.turbine=P[0]),Z.$set(Pe);const Me={};se&1&&(Me.turbine=P[0]),te.$set(Me);const $e={};se&1&&($e.turbine=P[0]),Ee.$set($e)},i(P){j||(ce(Y),ce(Z.$$.fragment,P),ce(te.$$.fragment,P),ce(Ee.$$.fragment,P),fe||et(()=>{fe=ft(e,lt,{duration:150}),fe.start()}),j=!0)},o(P){ve(Y),ve(Z.$$.fragment,P),ve(te.$$.fragment,P),ve(Ee.$$.fragment,P),j=!1},d(P){P&&u(e),R&&R.d(),Y&&Y.d(),be&&be.d(),ue&&ue.d(),Fe(Z),Fe(te),Fe(Ee),ae=!1,Ge(Ue)}}}function Vo(a,e,l){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const n=nt(),c=()=>{n("closeDetails")},s=()=>{n("editMode",r.id)};let i=!1;const p=()=>{l(1,i=!1),uo(r.id).then(()=>{n("deleted")})};function m(E){dt.call(this,a,E)}function _(E){dt.call(this,a,E)}const b=()=>{l(1,i=!1)},v=()=>{l(1,i=!1)},g=()=>{l(1,i=!1)},w=()=>{l(1,i=!0)};return a.$$set=E=>{"turbine"in E&&l(0,r=E.turbine)},[r,i,c,s,p,m,_,b,v,g,w]}class Po extends We{constructor(e){super(),He(this,e,Vo,Mo,Re,{turbine:0})}}const Bo={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale"};function jr(a,e,l){const r=a.slice();return r[7]=e[l],r[8]=e,r[9]=l,r}function zr(a,e){let l,r,n,c,s,i=e[7].name+"",p,m,_,b;function v(...g){return e[5](e[7],e[8],e[9],...g)}return{key:a,first:null,c(){l=f("div"),r=f("input"),c=y(),s=f("p"),p=C(i),m=y(),this.h()},l(g){l=h(g,"DIV",{class:!0});var w=d(l);r=h(w,"INPUT",{class:!0,type:!0}),c=N(w),s=h(w,"P",{class:!0});var E=d(s);p=O(E,i),E.forEach(u),m=N(w),w.forEach(u),this.h()},h(){t(r,"class","checkbox"),r.checked=n=e[7].isSelected,t(r,"type","checkbox"),t(s,"class","font-mono"),t(l,"class","flex flex-row gap-4"),this.first=l},m(g,w){G(g,l,w),o(l,r),o(l,c),o(l,s),o(s,p),o(l,m),_||(b=A(r,"change",v),_=!0)},p(g,w){e=g,w&1&&n!==(n=e[7].isSelected)&&(r.checked=n),w&1&&i!==(i=e[7].name+"")&&de(p,i)},d(g){g&&u(l),_=!1,b()}}}function Ao(a){let e,l,r=[],n=new Map,c,s,i,p,m,_,b,v,g,w,E=a[0];const T=k=>k[7].name;for(let k=0;k<E.length;k+=1){let D=jr(a,E,k),I=T(D);n.set(I,r[k]=zr(I,D))}return{c(){e=f("div"),l=f("div");for(let k=0;k<r.length;k+=1)r[k].c();c=y(),s=f("div"),i=f("button"),p=C("Conferma"),m=y(),_=f("button"),b=C("Chiudi"),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=d(e);l=h(D,"DIV",{class:!0});var I=d(l);for(let J=0;J<r.length;J+=1)r[J].l(I);I.forEach(u),c=N(D),s=h(D,"DIV",{class:!0});var x=d(s);i=h(x,"BUTTON",{class:!0});var $=d(i);p=O($,"Conferma"),$.forEach(u),m=N(x),_=h(x,"BUTTON",{class:!0});var B=d(_);b=O(B,"Chiudi"),B.forEach(u),x.forEach(u),D.forEach(u),this.h()},h(){t(l,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),t(i,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),t(_,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),t(s,"class","flex flex-row mt-5 gap-2 justify-center"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(k,D){G(k,e,D),o(e,l);for(let I=0;I<r.length;I+=1)r[I].m(l,null);o(e,c),o(e,s),o(s,i),o(i,p),o(s,m),o(s,_),o(_,b),g||(w=[A(i,"click",qe(a[1])),A(_,"click",qe(a[2])),A(e,"click",qe(a[3])),A(e,"keydown",qe(a[4]))],g=!0)},p(k,[D]){D&1&&(E=k[0],r=Ql(r,D,T,1,k,E,n,l,Kr,zr,null,jr))},i(k){v||et(()=>{v=ft(e,lt,{duration:300}),v.start()})},o:_e,d(k){k&&u(e);for(let D=0;D<r.length;D+=1)r[D].d();g=!1,Ge(w)}}}function Uo(a,e,l){let{operations:r=[]}=e;const n=nt(),c=()=>{n("confirm",r)},s=()=>{n("cancel")};function i(_){dt.call(this,a,_)}function p(_){dt.call(this,a,_)}const m=(_,b,v,g)=>{l(0,b[v].isSelected=g.target.checked,r)};return a.$$set=_=>{"operations"in _&&l(0,r=_.operations)},[r,c,s,i,p,m]}class $o extends We{constructor(e){super(),He(this,e,Uo,Ao,Re,{operations:0})}}function jo(a){let e,l,r,n,c,s,i,p,m,_,b,v,g,w,E,T,k,D,I,x,$,B;return{c(){e=f("div"),l=f("div"),r=f("button"),n=L("svg"),c=L("path"),s=L("line"),i=L("polyline"),m=C("Kilowatt"),b=y(),v=f("button"),g=L("svg"),w=L("path"),E=L("line"),T=L("polyline"),D=C("Megawatt"),this.h()},l(J){e=h(J,"DIV",{class:!0});var M=d(e);l=h(M,"DIV",{class:!0});var q=d(l);r=h(q,"BUTTON",{class:!0,type:!0});var U=d(r);n=F(U,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var z=d(n);c=F(z,"path",{d:!0}),d(c).forEach(u),s=F(z,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),i=F(z,"polyline",{points:!0}),d(i).forEach(u),z.forEach(u),m=O(U,"Kilowatt"),U.forEach(u),b=N(q),v=h(q,"BUTTON",{class:!0,type:!0});var le=d(v);g=F(le,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var he=d(g);w=F(he,"path",{d:!0}),d(w).forEach(u),E=F(he,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(E).forEach(u),T=F(he,"polyline",{points:!0}),d(T).forEach(u),he.forEach(u),D=O(le,"Megawatt"),le.forEach(u),q.forEach(u),M.forEach(u),this.h()},h(){t(c,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(s,"x1","23"),t(s,"y1","13"),t(s,"x2","23"),t(s,"y2","11"),t(i,"points","11 6 7 12 13 12 9 18"),t(n,"xmlns","http://www.w3.org/2000/svg"),t(n,"width","24"),t(n,"height","24"),t(n,"viewBox","0 0 24 24"),t(n,"fill","none"),t(n,"stroke","currentColor"),t(n,"stroke-width","2"),t(n,"stroke-linecap","round"),t(n,"stroke-linejoin","round"),t(n,"class",p=a[0]?"text-green-500":""),t(r,"class",_=Ve(a[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),t(r,"type","button"),t(w,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(E,"x1","23"),t(E,"y1","13"),t(E,"x2","23"),t(E,"y2","11"),t(T,"points","11 6 7 12 13 12 9 18"),t(g,"xmlns","http://www.w3.org/2000/svg"),t(g,"width","24"),t(g,"height","24"),t(g,"viewBox","0 0 24 24"),t(g,"fill","none"),t(g,"stroke","currentColor"),t(g,"stroke-width","2"),t(g,"stroke-linecap","round"),t(g,"stroke-linejoin","round"),t(g,"class",k=a[0]?"":"text-blue-500"),t(v,"class",I=Ve(a[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4"),t(v,"type","button"),t(l,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(J,M){G(J,e,M),o(e,l),o(l,r),o(r,n),o(n,c),o(n,s),o(n,i),o(r,m),o(l,b),o(l,v),o(v,g),o(g,w),o(g,E),o(g,T),o(v,D),$||(B=[A(r,"click",a[2]),A(v,"click",a[3])],$=!0)},p(J,[M]){M&1&&p!==(p=J[0]?"text-green-500":"")&&t(n,"class",p),M&1&&_!==(_=Ve(J[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&t(r,"class",_),M&1&&k!==(k=J[0]?"":"text-blue-500")&&t(g,"class",k),M&1&&I!==(I=Ve(J[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4")&&t(v,"class",I)},i(J){x||et(()=>{x=ft(e,qr,{duration:300}),x.start()})},o:_e,d(J){J&&u(e),$=!1,Ge(B)}}}function zo(a,e,l){const r=nt();let n=!0;const c=()=>{r("change",n?"KILOWATT":"MEGAWATT")};return[n,c,()=>{l(0,n=!0),c()},()=>{l(0,n=!1),c()}]}class xo extends We{constructor(e){super(),He(this,e,zo,jo,Re,{})}}function Lo(a){let e,l,r,n,c,s,i,p,m,_,b,v,g,w,E,T;return{c(){e=f("div"),l=f("div"),r=f("button"),n=C("In Marcia"),s=y(),i=f("button"),p=C("Limitata"),_=y(),b=f("button"),v=C("Ferma"),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=d(e);l=h(D,"DIV",{class:!0});var I=d(l);r=h(I,"BUTTON",{class:!0,type:!0});var x=d(r);n=O(x,"In Marcia"),x.forEach(u),s=N(I),i=h(I,"BUTTON",{class:!0,type:!0});var $=d(i);p=O($,"Limitata"),$.forEach(u),_=N(I),b=h(I,"BUTTON",{class:!0,type:!0});var B=d(b);v=O(B,"Ferma"),B.forEach(u),I.forEach(u),D.forEach(u),this.h()},h(){t(r,"class",c=Ve(a[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),t(r,"type","button"),t(i,"class",m=Ve(a[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),t(i,"type","button"),t(b,"class",g=Ve(a[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),t(b,"type","button"),t(l,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(k,D){G(k,e,D),o(e,l),o(l,r),o(r,n),o(l,s),o(l,i),o(i,p),o(l,_),o(l,b),o(b,v),E||(T=[A(r,"click",a[2]),A(i,"click",a[3]),A(b,"click",a[4])],E=!0)},p(k,[D]){D&1&&c!==(c=Ve(k[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&t(r,"class",c),D&1&&m!==(m=Ve(k[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&t(i,"class",m),D&1&&g!==(g=Ve(k[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&t(b,"class",g)},i(k){w||et(()=>{w=ft(e,lt,{duration:300,delay:300}),w.start()})},o:_e,d(k){k&&u(e),E=!1,Ge(T)}}}function Fo(a,e,l){const r=nt();let n="In Marcia";const c=()=>{r("change",n)};return[n,c,()=>{l(0,n="In Marcia"),c()},()=>{l(0,n="Limitata"),c()},()=>{l(0,n="Ferma"),c()}]}class Wo extends We{constructor(e){super(),He(this,e,Fo,Lo,Re,{})}}function xr(a){let e,l,r,n,c;return l=new $o({props:{operations:a[3]}}),l.$on("cancel",a[12]),l.$on("confirm",a[13]),{c(){e=f("div"),ze(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);xe(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){G(s,e,i),Le(l,e,null),r=!0,n||(c=[A(e,"click",qe(a[14])),A(e,"keydown",qe(a[15]))],n=!0)},p(s,i){const p={};i&8&&(p.operations=s[3]),l.$set(p)},i(s){r||(ce(l.$$.fragment,s),r=!0)},o(s){ve(l.$$.fragment,s),r=!1},d(s){s&&u(e),Fe(l),n=!1,Ge(c)}}}function Ho(a){let e,l,r,n,c,s,i,p,m,_,b,v,g,w,E,T,k,D,I,x,$,B,J,M,q,U,z,le,he,Q,H,re,Ie,S,ee,ge,ne,pe,ke,Ce,we,ye,W,oe,X,V,Z,De,te,Oe,Ee,fe,j,ae,Ue,R,Y,be,ue,P,se,Pe,Me=a[1]?"modifica":"creazione",$e,je,Be,rt,Te,ot,It,St,Je,Ye=a[0].turbineNumber+"",Ae,ht,Qe,Xe,Tt,at,Ct,Wt=a[0].turbineName+"",Zt,Dl,pt,Ot,Il,Sl,Mt,Ht=a[0].description+"",el,Tl,gt,Vt,Cl,Ol,Pt,Rt=(a[0].odlNumber||"N/A")+"",tl,Ml,mt,Bt,Vl,Pl,At,Kt=a[0].operation+"",ll,Bl,vt,Ut,Al,Ul,$t,qt=a[0].power+"",rl,$l,_t,jt,jl,zl,zt,Gt=a[0].turbineState+"",ol,xl,st,it,Ll,Fl,bt,Jt,Yt=a[1]?"Modifica":"Crea",nl,ct,Wl,Ke,kt,al,Hl,wt,sl,Rl,Et,il,me,Kl,Xl,Ne=a[2]&&xr(a);return q=new xo({}),q.$on("change",a[21]),he=new Wo({}),he.$on("change",a[22]),{c(){e=f("div"),Ne&&Ne.c(),l=y(),r=f("form"),n=f("div"),c=f("div"),s=f("div"),i=f("input"),m=y(),_=f("input"),v=y(),g=f("input"),E=y(),T=f("input"),D=y(),I=f("div"),x=f("button"),$=f("input"),J=y(),M=f("div"),ze(q.$$.fragment),U=y(),z=f("div"),le=f("div"),ze(he.$$.fragment),Q=y(),H=f("div"),re=f("label"),Ie=C("Data Inizio EEMM"),S=y(),ee=f("input"),ne=y(),pe=f("div"),ke=f("label"),Ce=C("Data Inizio OOCC"),we=y(),ye=f("input"),oe=y(),X=f("div"),V=f("label"),Z=C("Validità permitting"),De=y(),te=f("input"),Ee=y(),fe=f("div"),j=f("label"),ae=C("Validità notifica"),Ue=y(),R=f("input"),be=y(),ue=f("div"),P=f("div"),se=f("h2"),Pe=C("Riepilogo "),$e=C(Me),je=y(),Be=f("div"),rt=y(),Te=f("p"),ot=f("span"),It=C("Numero cantiere:"),St=y(),Je=f("span"),Ae=C(Ye),ht=y(),Qe=f("p"),Xe=f("span"),Tt=C("Aerogeneratore:"),at=y(),Ct=f("span"),Zt=C(Wt),Dl=y(),pt=f("p"),Ot=f("span"),Il=C("Impianto eolico:"),Sl=y(),Mt=f("span"),el=C(Ht),Tl=y(),gt=f("p"),Vt=f("span"),Cl=C("Numero ODL:"),Ol=y(),Pt=f("span"),tl=C(Rt),Ml=y(),mt=f("p"),Bt=f("span"),Vl=C("Operazioni:"),Pl=y(),At=f("span"),ll=C(Kt),Bl=y(),vt=f("p"),Ut=f("span"),Al=C("Tipologia:"),Ul=y(),$t=f("span"),rl=C(qt),$l=y(),_t=f("p"),jt=f("span"),jl=C("Stato:"),zl=y(),zt=f("span"),ol=C(Gt),xl=y(),st=f("div"),it=f("button"),Ll=C("Annulla"),Fl=y(),bt=f("button"),Jt=f("p"),nl=C(Yt),Wl=y(),Ke=f("div"),kt=f("input"),Hl=y(),wt=f("input"),Rl=y(),Et=f("input"),this.h()},l(K){e=h(K,"DIV",{class:!0});var ie=d(e);Ne&&Ne.l(ie),l=N(ie),r=h(ie,"FORM",{});var cl=d(r);n=h(cl,"DIV",{id:!0,class:!0});var xt=d(n);c=h(xt,"DIV",{class:!0});var Lt=d(c);s=h(Lt,"DIV",{class:!0});var ut=d(s);i=h(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),m=N(ut),_=h(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),v=N(ut),g=h(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),E=N(ut),T=h(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),ut.forEach(u),D=N(Lt),I=h(Lt,"DIV",{class:!0});var Zl=d(I);x=h(Zl,"BUTTON",{type:!0,class:!0});var er=d(x);$=h(er,"INPUT",{class:!0,placeholder:!0}),er.forEach(u),Zl.forEach(u),J=N(Lt),M=h(Lt,"DIV",{class:!0});var tr=d(M);xe(q.$$.fragment,tr),tr.forEach(u),Lt.forEach(u),U=N(xt),z=h(xt,"DIV",{class:!0});var Ze=d(z);le=h(Ze,"DIV",{class:!0});var lr=d(le);xe(he.$$.fragment,lr),lr.forEach(u),Q=N(Ze),H=h(Ze,"DIV",{});var ul=d(H);re=h(ul,"LABEL",{for:!0,class:!0});var rr=d(re);Ie=O(rr,"Data Inizio EEMM"),rr.forEach(u),S=N(ul),ee=h(ul,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),ul.forEach(u),ne=N(Ze),pe=h(Ze,"DIV",{});var dl=d(pe);ke=h(dl,"LABEL",{for:!0,class:!0});var or=d(ke);Ce=O(or,"Data Inizio OOCC"),or.forEach(u),we=N(dl),ye=h(dl,"INPUT",{class:!0,type:!0,placeholder:!0}),dl.forEach(u),oe=N(Ze),X=h(Ze,"DIV",{});var fl=d(X);V=h(fl,"LABEL",{for:!0,class:!0});var nr=d(V);Z=O(nr,"Validità permitting"),nr.forEach(u),De=N(fl),te=h(fl,"INPUT",{class:!0,type:!0,placeholder:!0}),fl.forEach(u),Ee=N(Ze),fe=h(Ze,"DIV",{});var hl=d(fe);j=h(hl,"LABEL",{for:!0,class:!0});var ar=d(j);ae=O(ar,"Validità notifica"),ar.forEach(u),Ue=N(hl),R=h(hl,"INPUT",{class:!0,type:!0,placeholder:!0}),hl.forEach(u),Ze.forEach(u),be=N(xt),ue=h(xt,"DIV",{class:!0});var pl=d(ue);P=h(pl,"DIV",{class:!0});var Se=d(P);se=h(Se,"H2",{class:!0});var ql=d(se);Pe=O(ql,"Riepilogo "),$e=O(ql,Me),ql.forEach(u),je=N(Se),Be=h(Se,"DIV",{class:!0}),d(Be).forEach(u),rt=N(Se),Te=h(Se,"P",{});var gl=d(Te);ot=h(gl,"SPAN",{class:!0});var sr=d(ot);It=O(sr,"Numero cantiere:"),sr.forEach(u),St=N(gl),Je=h(gl,"SPAN",{class:!0});var ir=d(Je);Ae=O(ir,Ye),ir.forEach(u),gl.forEach(u),ht=N(Se),Qe=h(Se,"P",{});var ml=d(Qe);Xe=h(ml,"SPAN",{class:!0});var cr=d(Xe);Tt=O(cr,"Aerogeneratore:"),cr.forEach(u),at=N(ml),Ct=h(ml,"SPAN",{class:!0});var ur=d(Ct);Zt=O(ur,Wt),ur.forEach(u),ml.forEach(u),Dl=N(Se),pt=h(Se,"P",{});var vl=d(pt);Ot=h(vl,"SPAN",{class:!0});var dr=d(Ot);Il=O(dr,"Impianto eolico:"),dr.forEach(u),Sl=N(vl),Mt=h(vl,"SPAN",{class:!0});var fr=d(Mt);el=O(fr,Ht),fr.forEach(u),vl.forEach(u),Tl=N(Se),gt=h(Se,"P",{});var _l=d(gt);Vt=h(_l,"SPAN",{class:!0});var hr=d(Vt);Cl=O(hr,"Numero ODL:"),hr.forEach(u),Ol=N(_l),Pt=h(_l,"SPAN",{class:!0});var pr=d(Pt);tl=O(pr,Rt),pr.forEach(u),_l.forEach(u),Ml=N(Se),mt=h(Se,"P",{});var bl=d(mt);Bt=h(bl,"SPAN",{class:!0});var gr=d(Bt);Vl=O(gr,"Operazioni:"),gr.forEach(u),Pl=N(bl),At=h(bl,"SPAN",{class:!0});var mr=d(At);ll=O(mr,Kt),mr.forEach(u),bl.forEach(u),Bl=N(Se),vt=h(Se,"P",{});var kl=d(vt);Ut=h(kl,"SPAN",{class:!0});var vr=d(Ut);Al=O(vr,"Tipologia:"),vr.forEach(u),Ul=N(kl),$t=h(kl,"SPAN",{class:!0});var _r=d($t);rl=O(_r,qt),_r.forEach(u),kl.forEach(u),$l=N(Se),_t=h(Se,"P",{});var wl=d(_t);jt=h(wl,"SPAN",{class:!0});var br=d(jt);jl=O(br,"Stato:"),br.forEach(u),zl=N(wl),zt=h(wl,"SPAN",{class:!0});var kr=d(zt);ol=O(kr,Gt),kr.forEach(u),wl.forEach(u),Se.forEach(u),xl=N(pl),st=h(pl,"DIV",{class:!0});var El=d(st);it=h(El,"BUTTON",{type:!0,class:!0});var wr=d(it);Ll=O(wr,"Annulla"),wr.forEach(u),Fl=N(El),bt=h(El,"BUTTON",{class:!0});var Er=d(bt);Jt=h(Er,"P",{});var yr=d(Jt);nl=O(yr,Yt),yr.forEach(u),Er.forEach(u),El.forEach(u),pl.forEach(u),xt.forEach(u),Wl=N(cl),Ke=h(cl,"DIV",{class:!0});var Ft=d(Ke);kt=h(Ft,"INPUT",{type:!0,class:!0}),Hl=N(Ft),wt=h(Ft,"INPUT",{type:!0,class:!0}),Rl=N(Ft),Et=h(Ft,"INPUT",{type:!0,class:!0}),Ft.forEach(u),cl.forEach(u),ie.forEach(u),this.h()},h(){t(i,"class","input"),t(i,"type","text"),i.value=p=a[0].turbineName,t(i,"placeholder","Aerogeneratore*"),i.required=!0,i.disabled=a[1],t(_,"class","input"),t(_,"type","text"),_.value=b=a[0].turbineNumber,t(_,"placeholder","Numero cantiere"),t(g,"class","input"),t(g,"type","text"),g.value=w=a[0].description,t(g,"placeholder","Impianto Eolico*"),g.required=!0,t(T,"class","input"),t(T,"type","number"),T.value=k=a[0].odlNumber,t(T,"placeholder","Numero ODL"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),t($,"class","w-full"),$.value=B=a[0].operation.length>0?a[0].operation.join(", "):"",$.disabled=!0,t($,"placeholder","Operazioni*"),$.required=!0,t(x,"type","button"),t(x,"class","input hover:bg-gray-200 text-start transition ease-in-out"),t(I,"class","col-span-full mt-5"),t(M,"class","col-span-full mt-auto"),t(c,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(le,"class","col-span-full"),t(re,"for","dateEEMM"),t(re,"class","font-mono text-white"),t(ee,"id","dateEEMM"),t(ee,"class","input"),t(ee,"type","date"),ee.value=ge=a[0].startingDateEEMM!==void 0?a[0].startingDateEEMM:"",t(ee,"placeholder","Data inizio EEMM"),t(ke,"for","dateEEMM"),t(ke,"class","font-mono text-white"),t(ye,"class","input"),t(ye,"type","date"),ye.value=W=a[0].startingDateOOCC!==void 0?a[0].startingDateOOCC:"",t(ye,"placeholder","Data inizio OOCC"),t(V,"for","dateEEMM"),t(V,"class","font-mono text-white"),t(te,"class","input"),t(te,"type","date"),te.value=Oe=a[0].permittingDate!==void 0?a[0].permittingDate:"",t(te,"placeholder","Validità permitting"),t(j,"for","dateEEMM"),t(j,"class","font-mono text-white"),t(R,"class","input"),t(R,"type","date"),R.value=Y=a[0].priorNotification!==void 0?a[0].priorNotification:"",t(R,"placeholder","Validità notifica"),t(z,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(se,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),t(Be,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),t(ot,"class","font-mono font-bold text-gray-300"),t(Je,"class","font-mono text-gray-300"),t(Xe,"class","font-mono font-bold text-gray-300"),t(Ct,"class","font-mono text-gray-300"),t(Ot,"class","font-mono font-bold text-gray-300"),t(Mt,"class","font-mono text-gray-300"),t(Vt,"class","font-mono font-bold text-gray-300"),t(Pt,"class","font-mono text-gray-300"),t(Bt,"class","font-mono font-bold text-gray-300"),t(At,"class","font-mono text-gray-300"),t(Ut,"class","font-mono font-bold text-gray-300"),t($t,"class","font-mono text-gray-300"),t(jt,"class","font-mono font-bold text-gray-300"),t(zt,"class","font-mono text-gray-300"),t(P,"class","w-[15rem] md:w-[29rem] h-3/4"),t(it,"type","button"),t(it,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),t(bt,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),t(st,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),t(ue,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(n,"id","scrollable"),t(n,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),t(kt,"type","checkbox"),t(kt,"class",al=Ve(a[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(wt,"type","checkbox"),t(wt,"class",sl=Ve(a[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(Et,"type","checkbox"),t(Et,"class",il=Ve(a[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(Ke,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),t(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(K,ie){G(K,e,ie),Ne&&Ne.m(e,null),o(e,l),o(e,r),o(r,n),o(n,c),o(c,s),o(s,i),o(s,m),o(s,_),o(s,v),o(s,g),o(s,E),o(s,T),o(c,D),o(c,I),o(I,x),o(x,$),o(c,J),o(c,M),Le(q,M,null),o(n,U),o(n,z),o(z,le),Le(he,le,null),o(z,Q),o(z,H),o(H,re),o(re,Ie),o(H,S),o(H,ee),o(z,ne),o(z,pe),o(pe,ke),o(ke,Ce),o(pe,we),o(pe,ye),o(z,oe),o(z,X),o(X,V),o(V,Z),o(X,De),o(X,te),o(z,Ee),o(z,fe),o(fe,j),o(j,ae),o(fe,Ue),o(fe,R),o(n,be),o(n,ue),o(ue,P),o(P,se),o(se,Pe),o(se,$e),o(P,je),o(P,Be),o(P,rt),o(P,Te),o(Te,ot),o(ot,It),o(Te,St),o(Te,Je),o(Je,Ae),o(P,ht),o(P,Qe),o(Qe,Xe),o(Xe,Tt),o(Qe,at),o(Qe,Ct),o(Ct,Zt),o(P,Dl),o(P,pt),o(pt,Ot),o(Ot,Il),o(pt,Sl),o(pt,Mt),o(Mt,el),o(P,Tl),o(P,gt),o(gt,Vt),o(Vt,Cl),o(gt,Ol),o(gt,Pt),o(Pt,tl),o(P,Ml),o(P,mt),o(mt,Bt),o(Bt,Vl),o(mt,Pl),o(mt,At),o(At,ll),o(P,Bl),o(P,vt),o(vt,Ut),o(Ut,Al),o(vt,Ul),o(vt,$t),o($t,rl),o(P,$l),o(P,_t),o(_t,jt),o(jt,jl),o(_t,zl),o(_t,zt),o(zt,ol),o(ue,xl),o(ue,st),o(st,it),o(it,Ll),o(st,Fl),o(st,bt),o(bt,Jt),o(Jt,nl),o(r,Wl),o(r,Ke),o(Ke,kt),o(Ke,Hl),o(Ke,wt),o(Ke,Rl),o(Ke,Et),me=!0,Kl||(Xl=[A(i,"change",a[16]),A(_,"change",a[17]),A(g,"change",a[18]),A(T,"change",a[19]),A(x,"click",a[20]),A(ee,"change",a[23]),A(ye,"change",a[24]),A(te,"change",a[25]),A(R,"change",a[26]),A(it,"click",a[6]),A(bt,"click",a[7]),A(n,"click",qe(a[10])),A(n,"keydown",qe(a[11])),A(kt,"change",a[27]),A(wt,"change",a[28]),A(Et,"change",a[29]),A(Ke,"click",qe(a[8])),A(Ke,"keydown",qe(a[9])),A(e,"click",a[6]),A(e,"keydown",a[6])],Kl=!0)},p(K,[ie]){K[2]?Ne?(Ne.p(K,ie),ie&4&&ce(Ne,1)):(Ne=xr(K),Ne.c(),ce(Ne,1),Ne.m(e,l)):Ne&&(yt(),ve(Ne,1,1,()=>{Ne=null}),Nt()),(!me||ie&1&&p!==(p=K[0].turbineName)&&i.value!==p)&&(i.value=p),(!me||ie&2)&&(i.disabled=K[1]),(!me||ie&1&&b!==(b=K[0].turbineNumber)&&_.value!==b)&&(_.value=b),(!me||ie&1&&w!==(w=K[0].description)&&g.value!==w)&&(g.value=w),(!me||ie&1&&k!==(k=K[0].odlNumber)&&T.value!==k)&&(T.value=k),(!me||ie&1&&B!==(B=K[0].operation.length>0?K[0].operation.join(", "):"")&&$.value!==B)&&($.value=B),(!me||ie&1&&ge!==(ge=K[0].startingDateEEMM!==void 0?K[0].startingDateEEMM:""))&&(ee.value=ge),(!me||ie&1&&W!==(W=K[0].startingDateOOCC!==void 0?K[0].startingDateOOCC:""))&&(ye.value=W),(!me||ie&1&&Oe!==(Oe=K[0].permittingDate!==void 0?K[0].permittingDate:""))&&(te.value=Oe),(!me||ie&1&&Y!==(Y=K[0].priorNotification!==void 0?K[0].priorNotification:""))&&(R.value=Y),(!me||ie&2)&&Me!==(Me=K[1]?"modifica":"creazione")&&de($e,Me),(!me||ie&1)&&Ye!==(Ye=K[0].turbineNumber+"")&&de(Ae,Ye),(!me||ie&1)&&Wt!==(Wt=K[0].turbineName+"")&&de(Zt,Wt),(!me||ie&1)&&Ht!==(Ht=K[0].description+"")&&de(el,Ht),(!me||ie&1)&&Rt!==(Rt=(K[0].odlNumber||"N/A")+"")&&de(tl,Rt),(!me||ie&1)&&Kt!==(Kt=K[0].operation+"")&&de(ll,Kt),(!me||ie&1)&&qt!==(qt=K[0].power+"")&&de(rl,qt),(!me||ie&1)&&Gt!==(Gt=K[0].turbineState+"")&&de(ol,Gt),(!me||ie&2)&&Yt!==(Yt=K[1]?"Modifica":"Crea")&&de(nl,Yt),(!me||ie&16&&al!==(al=Ve(K[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(kt,"class",al),(!me||ie&16&&sl!==(sl=Ve(K[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(wt,"class",sl),(!me||ie&16&&il!==(il=Ve(K[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(Et,"class",il)},i(K){me||(ce(Ne),ce(q.$$.fragment,K),ce(he.$$.fragment,K),et(()=>{ct||(ct=Nl(n,lt,{duration:150},!0)),ct.run(1)}),me=!0)},o(K){ve(Ne),ve(q.$$.fragment,K),ve(he.$$.fragment,K),ct||(ct=Nl(n,lt,{duration:150},!1)),ct.run(0),me=!1},d(K){K&&u(e),Ne&&Ne.d(),Fe(q),Fe(he),K&&ct&&ct.end(),Kl=!1,Ge(Xl)}}}function Ro(a,e,l){let{isEditMode:r=!1}=e,{windfarm:n={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const c=nt();let s=!1,i=[];Yl(()=>{l(3,i=Object.values(Bo).map(S=>({name:S,isSelected:!1})))});let p=0;function m(){const S=document.getElementById("scrollable");let ee=0;S!=null&&(p===1?window.innerWidth<768?ee=S.scrollWidth/3:ee=S.scrollWidth/2:p===2&&(ee=S.scrollWidth),S.scrollTo({left:ee,behavior:"smooth"}))}const _=()=>{c("close")},b=()=>{r?ho(n).then(S=>{S!==void 0&&S.status===200&&c("updated")}):fo(n).then(S=>{S!==void 0&&S.status===200&&c("created")})};function v(S){dt.call(this,a,S)}function g(S){dt.call(this,a,S)}function w(S){dt.call(this,a,S)}function E(S){dt.call(this,a,S)}const T=()=>{l(2,s=!1)},k=S=>{l(3,i=S.detail),l(0,n.operation=i.filter(ee=>ee.isSelected).map(ee=>ee.name),n),l(2,s=!1)},D=()=>{l(2,s=!1)},I=()=>{l(2,s=!1)},x=S=>{l(0,n.turbineName=S.target.value,n)},$=S=>{l(0,n.turbineNumber=S.target.value,n)},B=S=>{l(0,n.description=S.target.value,n)},J=S=>{l(0,n.odlNumber=S.target.value,n)},M=()=>{l(2,s=!s)},q=S=>l(0,n.power=S.detail,n),U=S=>l(0,n.turbineState=S.detail,n),z=S=>{l(0,n.startingDateEEMM=S.target.value,n)},le=S=>{l(0,n.startingDateOOCC=S.target.value,n)},he=S=>{l(0,n.permittingDate=S.target.value,n)},Q=S=>{l(0,n.priorNotification=S.target.value,n)},H=()=>{l(4,p=0),m()},re=()=>{l(4,p=1),m()},Ie=()=>{l(4,p=2),m()};return a.$$set=S=>{"isEditMode"in S&&l(1,r=S.isEditMode),"windfarm"in S&&l(0,n=S.windfarm)},[n,r,s,i,p,m,_,b,v,g,w,E,T,k,D,I,x,$,B,J,M,q,U,z,le,he,Q,H,re,Ie]}class Jr extends We{constructor(e){super(),He(this,e,Ro,Ho,Re,{isEditMode:1,windfarm:0})}}function Ko(a){let e,l;return e=new Jr({props:{windfarm:a[0],isEditMode:!0}}),e.$on("close",a[1]),e.$on("updated",a[2]),{c(){ze(e.$$.fragment)},l(r){xe(e.$$.fragment,r)},m(r,n){Le(e,r,n),l=!0},p(r,[n]){const c={};n&1&&(c.windfarm=r[0]),e.$set(c)},i(r){l||(ce(e.$$.fragment,r),l=!0)},o(r){ve(e.$$.fragment,r),l=!1},d(r){Fe(e,r)}}}function qo(a,e,l){let{turbine:r}=e;const n=nt(),c=()=>{n("close")},s=()=>{n("updated")};return a.$$set=i=>{"turbine"in i&&l(0,r=i.turbine)},[r,c,s]}class Go extends We{constructor(e){super(),He(this,e,qo,Ko,Re,{turbine:0})}}function Jo(a){let e,l;return e=new Jr({props:{isEditMode:!1}}),e.$on("close",a[0]),e.$on("created",a[1]),{c(){ze(e.$$.fragment)},l(r){xe(e.$$.fragment,r)},m(r,n){Le(e,r,n),l=!0},p:_e,i(r){l||(ce(e.$$.fragment,r),l=!0)},o(r){ve(e.$$.fragment,r),l=!1},d(r){Fe(e,r)}}}function Yo(a){const e=nt();return[()=>{e("close")},()=>{e("created")}]}class Qo extends We{constructor(e){super(),He(this,e,Yo,Jo,Re,{})}}function Lr(a,e,l){const r=a.slice();return r[4]=e[l],r}function Xo(a){let e=[],l=new Map,r,n,c=a[3];const s=i=>i[4].id;for(let i=0;i<c.length;i+=1){let p=Lr(a,c,i),m=s(p);l.set(m,e[i]=Fr(m,p))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=tt()},l(i){for(let p=0;p<e.length;p+=1)e[p].l(i);r=tt()},m(i,p){for(let m=0;m<e.length;m+=1)e[m].m(i,p);G(i,r,p),n=!0},p(i,p){p&520&&(c=i[3],yt(),e=Ql(e,p,s,1,i,c,l,r.parentNode,Zr,Fr,r,Lr),Nt())},i(i){if(!n){for(let p=0;p<c.length;p+=1)ce(e[p]);n=!0}},o(i){for(let p=0;p<e.length;p+=1)ve(e[p]);n=!1},d(i){for(let p=0;p<e.length;p+=1)e[p].d(i);i&&u(r)}}}function Zo(a){let e,l,r,n,c;return{c(){e=f("div"),l=f("div"),r=y(),n=f("p"),c=C("Caricamento in corso..."),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);l=h(i,"DIV",{class:!0}),d(l).forEach(u),r=N(i),n=h(i,"P",{class:!0});var p=d(n);c=O(p,"Caricamento in corso..."),p.forEach(u),i.forEach(u),this.h()},h(){t(l,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),t(n,"class","mt-4 text-xl font-bold font-mono"),t(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(s,i){G(s,e,i),o(e,l),o(e,r),o(e,n),o(n,c)},p:_e,i:_e,o:_e,d(s){s&&u(e)}}}function Fr(a,e){let l,r,n;return r=new co({props:{turbine:e[4]}}),r.$on("showDetails",e[9]),{key:a,first:null,c(){l=tt(),ze(r.$$.fragment),this.h()},l(c){l=tt(),xe(r.$$.fragment,c),this.h()},h(){this.first=l},m(c,s){G(c,l,s),Le(r,c,s),n=!0},p(c,s){e=c;const i={};s&8&&(i.turbine=e[4]),r.$set(i)},i(c){n||(ce(r.$$.fragment,c),n=!0)},o(c){ve(r.$$.fragment,c),n=!1},d(c){c&&u(l),Fe(r,c)}}}function Wr(a){let e,l,r,n,c;return l=new Po({props:{turbine:a[4]}}),l.$on("closeDetails",a[10]),l.$on("editMode",a[12]),l.$on("deleted",a[11]),{c(){e=f("div"),ze(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);xe(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){G(s,e,i),Le(l,e,null),r=!0,n||(c=[A(e,"click",a[10]),A(e,"keydown",a[10])],n=!0)},p(s,i){const p={};i&16&&(p.turbine=s[4]),l.$set(p)},i(s){r||(ce(l.$$.fragment,s),r=!0)},o(s){ve(l.$$.fragment,s),r=!1},d(s){s&&u(e),Fe(l),n=!1,Ge(c)}}}function Hr(a){let e,l,r,n,c;return l=new Go({props:{turbine:a[4]}}),l.$on("close",a[19]),l.$on("updated",a[15]),{c(){e=f("div"),ze(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);xe(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){G(s,e,i),Le(l,e,null),r=!0,n||(c=[A(e,"click",a[10]),A(e,"keydown",a[10])],n=!0)},p(s,i){const p={};i&16&&(p.turbine=s[4]),l.$set(p)},i(s){r||(ce(l.$$.fragment,s),r=!0)},o(s){ve(l.$$.fragment,s),r=!1},d(s){s&&u(e),Fe(l),n=!1,Ge(c)}}}function Rr(a){let e,l,r,n,c;return l=new Qo({}),l.$on("close",a[20]),l.$on("created",a[14]),{c(){e=f("div"),ze(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);xe(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){G(s,e,i),Le(l,e,null),r=!0,n||(c=[A(e,"click",a[10]),A(e,"keydown",a[10])],n=!0)},p:_e,i(s){r||(ce(l.$$.fragment,s),r=!0)},o(s){ve(l.$$.fragment,s),r=!1},d(s){s&&u(e),Fe(l),n=!1,Ge(c)}}}function en(a){let e,l,r,n,c,s,i,p,m,_,b,v,g,w,E,T,k,D,I,x,$,B,J,M,q,U,z,le,he,Q,H,re,Ie,S,ee,ge,ne,pe,ke;const Ce=[Zo,Xo],we=[];function ye(V,Z){return V[0].length===0?0:1}H=ye(a),re=we[H]=Ce[H](a);let W=a[5]&&Wr(a),oe=a[6]&&Hr(a),X=a[7]&&Rr(a);return{c(){e=f("div"),l=f("section"),r=f("div"),n=f("input"),c=y(),s=f("input"),i=y(),p=f("div"),m=y(),_=f("div"),b=f("p"),v=C(a[8]),g=C(" risultati"),w=y(),E=f("div"),T=f("button"),k=L("svg"),D=L("path"),I=L("polyline"),x=L("line"),$=L("line"),B=L("polyline"),M=y(),q=f("button"),U=L("svg"),z=L("line"),le=L("line"),he=y(),Q=f("section"),re.c(),Ie=y(),W&&W.c(),S=y(),oe&&oe.c(),ee=y(),X&&X.c(),this.h()},l(V){e=h(V,"DIV",{class:!0});var Z=d(e);l=h(Z,"SECTION",{class:!0});var De=d(l);r=h(De,"DIV",{class:!0});var te=d(r);n=h(te,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),c=N(te),s=h(te,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=N(te),p=h(te,"DIV",{class:!0}),d(p).forEach(u),te.forEach(u),De.forEach(u),m=N(Z),_=h(Z,"DIV",{class:!0});var Oe=d(_);b=h(Oe,"P",{class:!0});var Ee=d(b);v=O(Ee,a[8]),g=O(Ee," risultati"),Ee.forEach(u),w=N(Oe),E=h(Oe,"DIV",{class:!0});var fe=d(E);T=h(fe,"BUTTON",{class:!0});var j=d(T);k=F(j,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ae=d(k);D=F(ae,"path",{d:!0}),d(D).forEach(u),I=F(ae,"polyline",{points:!0}),d(I).forEach(u),x=F(ae,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(x).forEach(u),$=F(ae,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d($).forEach(u),B=F(ae,"polyline",{points:!0}),d(B).forEach(u),ae.forEach(u),j.forEach(u),M=N(fe),q=h(fe,"BUTTON",{class:!0});var Ue=d(q);U=F(Ue,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var R=d(U);z=F(R,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(z).forEach(u),le=F(R,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(le).forEach(u),R.forEach(u),Ue.forEach(u),fe.forEach(u),Oe.forEach(u),he=N(Z),Q=h(Z,"SECTION",{class:!0});var Y=d(Q);re.l(Y),Ie=N(Y),W&&W.l(Y),S=N(Y),oe&&oe.l(Y),ee=N(Y),X&&X.l(Y),Y.forEach(u),Z.forEach(u),this.h()},h(){t(n,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(n,"type","text"),t(n,"id","turbineName"),t(n,"name","turbineName"),t(n,"placeholder","Cerca"),t(s,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(s,"type","text"),t(s,"id","turbineName"),t(s,"name","turbineName"),t(s,"placeholder","Anno"),t(p,"class","hidden md:flex justify-end w-full text-end text-2xl font-bold font-mono"),t(r,"class","flex flex-col md:flex-row gap-2"),t(l,"class","mt-5 md:ml-5"),t(b,"class","font-mono text-lg"),t(D,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),t(I,"points","14 2 14 8 20 8"),t(x,"x1","16"),t(x,"y1","13"),t(x,"x2","8"),t(x,"y2","13"),t($,"x1","16"),t($,"y1","17"),t($,"x2","8"),t($,"y2","17"),t(B,"points","10 9 9 9 8 9"),t(k,"xmlns","http://www.w3.org/2000/svg"),t(k,"width","22"),t(k,"height","22"),t(k,"viewBox","0 0 24 24"),t(k,"fill","none"),t(k,"stroke","currentColor"),t(k,"stroke-width","2"),t(k,"stroke-linecap","round"),t(k,"stroke-linejoin","round"),t(k,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),t(T,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),T.disabled=J=a[0].length===0,t(z,"x1","12"),t(z,"y1","5"),t(z,"x2","12"),t(z,"y2","19"),t(le,"x1","5"),t(le,"y1","12"),t(le,"x2","19"),t(le,"y2","12"),t(U,"xmlns","http://www.w3.org/2000/svg"),t(U,"width","22"),t(U,"height","22"),t(U,"viewBox","0 0 24 24"),t(U,"fill","none"),t(U,"stroke","currentColor"),t(U,"stroke-width","2"),t(U,"stroke-linecap","round"),t(U,"stroke-linejoin","round"),t(U,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),t(q,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),t(E,"class","justify-end flex flex-row gap-4"),t(_,"class","flex flex-row justify-between items-center mt-6 mb-4 mx-1 md:mx-6"),t(Q,"class","max-h-[24rem] md:max-h-[36rem] md:p-4 overflow-y-scroll overflow-x-hidden scrollbar-none snap-mandatory snap-y"),t(e,"class","md:mt-16")},m(V,Z){G(V,e,Z),o(e,l),o(l,r),o(r,n),yl(n,a[1]),o(r,c),o(r,s),yl(s,a[2]),o(r,i),o(r,p),o(e,m),o(e,_),o(_,b),o(b,v),o(b,g),o(_,w),o(_,E),o(E,T),o(T,k),o(k,D),o(k,I),o(k,x),o(k,$),o(k,B),o(E,M),o(E,q),o(q,U),o(U,z),o(U,le),o(e,he),o(e,Q),we[H].m(Q,null),o(Q,Ie),W&&W.m(Q,null),o(Q,S),oe&&oe.m(Q,null),o(Q,ee),X&&X.m(Q,null),ne=!0,pe||(ke=[A(n,"input",a[17]),A(s,"input",a[18]),A(T,"click",a[16]),A(q,"click",a[13])],pe=!0)},p(V,[Z]){Z&2&&n.value!==V[1]&&yl(n,V[1]),Z&4&&s.value!==V[2]&&yl(s,V[2]),(!ne||Z&256)&&de(v,V[8]),(!ne||Z&1&&J!==(J=V[0].length===0))&&(T.disabled=J);let De=H;H=ye(V),H===De?we[H].p(V,Z):(yt(),ve(we[De],1,1,()=>{we[De]=null}),Nt(),re=we[H],re?re.p(V,Z):(re=we[H]=Ce[H](V),re.c()),ce(re,1),re.m(Q,Ie)),V[5]?W?(W.p(V,Z),Z&32&&ce(W,1)):(W=Wr(V),W.c(),ce(W,1),W.m(Q,S)):W&&(yt(),ve(W,1,1,()=>{W=null}),Nt()),V[6]?oe?(oe.p(V,Z),Z&64&&ce(oe,1)):(oe=Hr(V),oe.c(),ce(oe,1),oe.m(Q,ee)):oe&&(yt(),ve(oe,1,1,()=>{oe=null}),Nt()),V[7]?X?(X.p(V,Z),Z&128&&ce(X,1)):(X=Rr(V),X.c(),ce(X,1),X.m(Q,null)):X&&(yt(),ve(X,1,1,()=>{X=null}),Nt())},i(V){ne||(ce(re),ce(W),ce(oe),ce(X),et(()=>{ge||(ge=Nl(e,lt,{duration:200},!0)),ge.run(1)}),ne=!0)},o(V){ve(re),ve(W),ve(oe),ve(X),ge||(ge=Nl(e,lt,{duration:200},!1)),ge.run(0),ne=!1},d(V){V&&u(e),we[H].d(),W&&W.d(),oe&&oe.d(),X&&X.d(),V&&ge&&ge.end(),pe=!1,Ge(ke)}}}function tn(a,e,l){let r,n,c=!1,s={},i=[];Yl(()=>{Qt().then(M=>{l(0,i=M)})});const p=M=>{const q=M.detail;l(4,s=i.find(U=>U.id===q)),l(5,c=!0),l(6,b=!1)},m=()=>{Qt().then(M=>{l(0,i=M),l(5,c=!1)})},_=()=>{l(5,c=!1),Qt().then(M=>{l(0,i=M)})};let b=!1;const v=M=>{const q=M.detail;l(4,s=i.find(U=>U.id===q)),l(5,c=!1),l(6,b=!0)};let g=!1;const w=()=>{l(7,g=!0),l(5,c=!1),l(6,b=!1)},E=()=>{l(7,g=!1),l(5,c=!1),l(6,b=!1),Qt().then(M=>{console.log("Updating with: ",M),l(0,i=M)})},T=()=>{Qt().then(M=>{l(0,i=M),l(6,b=!1)})},k=()=>{i.length>0&&po().then(M=>{const q=new Blob([M.data],{type:"text/csv"}),U=window.URL.createObjectURL(q),z=document.createElement("a");z.href=U,z.download="export.csv",z.click()})};let D="",I=new Date().getFullYear().toString();function x(){D=this.value,l(1,D)}function $(){I=this.value,l(2,I)}const B=()=>l(6,b=!1),J=()=>l(7,g=!1);return a.$$.update=()=>{a.$$.dirty&7&&l(3,r=i.filter(M=>(M.description.toLowerCase().includes(D.toLowerCase())||M.turbineName.toLowerCase().includes(D.toLowerCase())||M.turbineNumber.toLowerCase().includes(D.toLowerCase()))&&M.creationDate.includes(I))),a.$$.dirty&8&&l(8,n=r.length)},[i,D,I,r,s,c,b,g,n,p,m,_,v,w,E,T,k,x,$,B,J]}class on extends We{constructor(e){super(),He(this,e,tn,en,Re,{})}}export{on as default};
