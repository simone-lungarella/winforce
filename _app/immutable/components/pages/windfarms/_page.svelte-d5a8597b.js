import{P as pr,S as vt,i as mt,s as _t,k as f,a as b,q as I,l as h,m as d,h as u,c as w,r as T,n as l,b as re,C as o,u as ge,B as Pe,Q as ir,e as Nl,w as ft,E as H,x as ht,F as q,y as pt,G as M,O as cr,f as _e,R as Et,T as vl,t as Oe,z as gt,H as nt,D as Zt,U as it,V as no,W as ur,X as Wt,Y as xt,g as pl,d as gl,Z as Il,o as ao,_ as Lo,$ as gr,a0 as Ql,a1 as Jl,a2 as Bo,a3 as vr}from"../../../chunks/index-9eaa0f55.js";import{a as ml}from"../../../chunks/axios-67252f11.js";function mr(n){const e=n-1;return e*e*e+1}function dr(n,{delay:e=0,duration:t=400,easing:r=pr}={}){const a=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:i=>`opacity: ${i*a}`}}function Tt(n,{delay:e=0,duration:t=400,easing:r=mr}={}){const a=getComputedStyle(n),i=+a.opacity,s=parseFloat(a.height),c=parseFloat(a.paddingTop),p=parseFloat(a.paddingBottom),g=parseFloat(a.marginTop),v=parseFloat(a.marginBottom),k=parseFloat(a.borderTopWidth),S=parseFloat(a.borderBottomWidth);return{delay:e,duration:t,easing:r,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*i};height: ${m*s}px;padding-top: ${m*c}px;padding-bottom: ${m*p}px;margin-top: ${m*g}px;margin-bottom: ${m*v}px;border-top-width: ${m*k}px;border-bottom-width: ${m*S}px;`}}const Dl={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function zo(n,e,t){const r=n.slice();return r[4]=e[t],r[6]=t,r}function _r(n){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-gray-500 h-full w-full rounded")},m(t,r){re(t,e,r)},d(t){t&&u(e)}}}function br(n){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-blue-500 h-full w-full rounded")},m(t,r){re(t,e,r)},d(t){t&&u(e)}}}function Uo(n){let e;function t(i,s){return i[6]<i[0]?br:_r}let r=t(n),a=r(n);return{c(){a.c(),e=Nl()},l(i){a.l(i),e=Nl()},m(i,s){a.m(i,s),re(i,e,s)},p(i,s){r!==(r=t(i))&&(a.d(1),a=r(i),a&&(a.c(),a.m(e.parentNode,e)))},d(i){a.d(i),i&&u(e)}}}function wr(n){let e,t,r,a,i=(n[1]||"Cantiere chiuso")+"",s,c=Array(n[2]),p=[];for(let g=0;g<c.length;g+=1)p[g]=Uo(zo(n,c,g));return{c(){e=f("div"),t=f("div");for(let g=0;g<p.length;g+=1)p[g].c();r=b(),a=f("span"),s=I(i),this.h()},l(g){e=h(g,"DIV",{class:!0});var v=d(e);t=h(v,"DIV",{class:!0});var k=d(t);for(let m=0;m<p.length;m+=1)p[m].l(k);k.forEach(u),r=w(v),a=h(v,"SPAN",{class:!0});var S=d(a);s=T(S,i),S.forEach(u),v.forEach(u),this.h()},h(){l(t,"class","transition duration-300 ease-in-out transform flex flex-row h-7 w-full lg:w-3/4 gap-0.5"),l(a,"class","absolute font-bold text-lg flex pl-2"),l(e,"class","flex")},m(g,v){re(g,e,v),o(e,t);for(let k=0;k<p.length;k+=1)p[k].m(t,null);o(e,r),o(e,a),o(a,s)},p(g,[v]){if(v&1){c=Array(g[2]);let k;for(k=0;k<c.length;k+=1){const S=zo(g,c,k);p[k]?p[k].p(S,v):(p[k]=Uo(S),p[k].c(),p[k].m(t,null))}for(;k<p.length;k+=1)p[k].d(1);p.length=c.length}v&2&&i!==(i=(g[1]||"Cantiere chiuso")+"")&&ge(s,i)},i:Pe,o:Pe,d(g){g&&u(e),ir(p,g)}}}function kr(n,e,t){let r,{completedSteps:a=0}=e,{creationDate:i=""}=e,s=i.includes("2022")?7:8;return n.$$set=c=>{"completedSteps"in c&&t(0,a=c.completedSteps),"creationDate"in c&&t(3,i=c.creationDate)},n.$$.update=()=>{n.$$.dirty&9&&t(1,r=i.includes("2022")?Dl[a+2]:Dl[a+1])},[a,r,s,i]}class Er extends vt{constructor(e){super(),mt(this,e,kr,wr,_t,{completedSteps:0,creationDate:3})}}function jo(n){let e,t,r=n[0].turbineNumber+"",a;return{c(){e=f("span"),t=I("- "),a=I(r),this.h()},l(i){e=h(i,"SPAN",{class:!0});var s=d(e);t=T(s,"- "),a=T(s,r),s.forEach(u),this.h()},h(){l(e,"class","hidden md:inline-block")},m(i,s){re(i,e,s),o(e,t),o(e,a)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&ge(a,r)},d(i){i&&u(e)}}}function yr(n){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","hidden md:flex col-span-2")},m(t,r){re(t,e,r)},p:Pe,d(t){t&&u(e)}}}function Dr(n){let e,t,r,a=n[0].odlNumber+"",i;return{c(){e=f("p"),t=I("ODL: "),r=f("span"),i=I(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);t=T(c,"ODL: "),r=h(c,"SPAN",{class:!0});var p=d(r);i=T(p,a),p.forEach(u),c.forEach(u),this.h()},h(){l(r,"class","text-blue-400"),l(e,"class","flex md:justify-end")},m(s,c){re(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=s[0].odlNumber+"")&&ge(i,a)},d(s){s&&u(e)}}}function xo(n){let e,t,r=n[0].operation[0]+"",a,i,s;return{c(){e=f("div"),t=f("p"),a=I(r),this.h()},l(c){e=h(c,"DIV",{class:!0});var p=d(e);t=h(p,"P",{});var g=d(t);a=T(g,r),g.forEach(u),p.forEach(u),this.h()},h(){l(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 left-10 cursor-default")},m(c,p){re(c,e,p),o(e,t),o(t,a),i||(s=[M(e,"mouseover",n[7]),M(e,"focus",n[8]),M(e,"mouseleave",n[9]),M(e,"focusout",n[10])],i=!0)},p(c,p){p&1&&r!==(r=c[0].operation[0]+"")&&ge(a,r)},d(c){c&&u(e),i=!1,nt(s)}}}function Nr(n){let e,t;return{c(){e=f("span"),t=I("Non disponibile"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=d(e);t=T(a,"Non disponibile"),a.forEach(u),this.h()},h(){l(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(r,a){re(r,e,a),o(e,t)},p:Pe,d(r){r&&u(e)}}}function Ir(n){let e,t,r,a;return{c(){e=f("div"),t=f("span"),r=I(n[1]),this.h()},l(i){e=h(i,"DIV",{class:!0});var s=d(e);t=h(s,"SPAN",{class:!0});var c=d(t);r=T(c,n[1]),c.forEach(u),s.forEach(u),this.h()},h(){l(t,"class",a=n[4]?"text-red-500":""),l(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(i,s){re(i,e,s),o(e,t),o(t,r)},p(i,s){s&2&&ge(r,i[1]),s&16&&a!==(a=i[4]?"text-red-500":"")&&l(t,"class",a)},d(i){i&&u(e)}}}function Tr(n){let e,t,r,a,i=n[0].turbineName+"",s,c,p,g,v,k,S,m,D,O,C,_,E,y,V,L,Z=n[0].description+"",j,x,A,ee,te,Y,P,z,Q,$,K,F,ne,ce=n[0].turbineState+"",Ee,ae,pe,ye,N,le,Ae,oe,ke=(n[1]||"N/A")+"",De,Fe,ie,X,ue,W,R,ve,Ke,Ze,Te,Ue,je,G=n[0].turbineNumber&&jo(n);v=new Er({props:{completedSteps:n[0].completedSteps,creationDate:n[0].creationDate}});function xe(B,de){return B[0].odlNumber!==void 0&&B[0].odlNumber!==0?Dr:yr}let $e=xe(n),me=$e(n),se=n[2]&&xo(n);function rt(B,de){return B[1]?Ir:Nr}let Me=rt(n),Ce=Me(n);return{c(){e=f("div"),t=f("div"),r=f("div"),a=f("h1"),s=I(i),c=b(),G&&G.c(),p=b(),g=f("div"),ft(v.$$.fragment),k=b(),S=f("div"),m=b(),D=f("div"),O=b(),C=f("div"),_=H("svg"),E=H("path"),y=H("circle"),V=b(),L=f("span"),j=I(Z),x=b(),me.c(),A=b(),ee=f("div"),te=H("svg"),Y=H("path"),P=H("rect"),z=b(),se&&se.c(),Q=b(),$=f("span"),K=I(n[3]),F=b(),ne=f("span"),Ee=I(ce),ae=b(),pe=f("span"),ye=I("Scadenza cantiere:"),N=b(),le=f("span"),Ae=I("Scadenza: "),oe=f("span"),De=I(ke),Fe=b(),Ce.c(),ie=b(),X=f("div"),ue=f("div"),W=f("button"),R=H("svg"),ve=H("path"),Ke=H("path"),this.h()},l(B){e=h(B,"DIV",{class:!0});var de=d(e);t=h(de,"DIV",{class:!0});var Ne=d(t);r=h(Ne,"DIV",{class:!0});var he=d(r);a=h(he,"H1",{class:!0});var ct=d(a);s=T(ct,i),c=w(ct),G&&G.l(ct),ct.forEach(u),p=w(he),g=h(he,"DIV",{class:!0});var ut=d(g);ht(v.$$.fragment,ut),ut.forEach(u),k=w(he),S=h(he,"DIV",{class:!0}),d(S).forEach(u),m=w(he),D=h(he,"DIV",{class:!0}),d(D).forEach(u),O=w(he),C=h(he,"DIV",{class:!0});var at=d(C);_=q(at,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var yt=d(_);E=q(yt,"path",{d:!0}),d(E).forEach(u),y=q(yt,"circle",{cx:!0,cy:!0,r:!0}),d(y).forEach(u),yt.forEach(u),V=w(at),L=h(at,"SPAN",{});var et=d(L);j=T(et,Z),et.forEach(u),at.forEach(u),x=w(he),me.l(he),A=w(he),ee=h(he,"DIV",{class:!0});var ze=d(ee);te=q(ze,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ot=d(te);Y=q(ot,"path",{d:!0}),d(Y).forEach(u),P=q(ot,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(P).forEach(u),ot.forEach(u),z=w(ze),se&&se.l(ze),Q=w(ze),$=h(ze,"SPAN",{class:!0});var St=d($);K=T(St,n[3]),St.forEach(u),ze.forEach(u),F=w(he),ne=h(he,"SPAN",{class:!0});var Re=d(ne);Ee=T(Re,ce),Re.forEach(u),ae=w(he),pe=h(he,"SPAN",{class:!0});var tt=d(pe);ye=T(tt,"Scadenza cantiere:"),tt.forEach(u),N=w(he),le=h(he,"SPAN",{class:!0});var dt=d(le);Ae=T(dt,"Scadenza: "),oe=h(dt,"SPAN",{class:!0});var Ot=d(oe);De=T(Ot,ke),Ot.forEach(u),dt.forEach(u),Fe=w(he),Ce.l(he),he.forEach(u),ie=w(Ne),X=h(Ne,"DIV",{class:!0});var Ge=d(X);ue=h(Ge,"DIV",{class:!0});var st=d(ue);W=h(st,"BUTTON",{class:!0});var Qe=d(W);R=q(Qe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Dt=d(R);ve=q(Dt,"path",{d:!0}),d(ve).forEach(u),Ke=q(Dt,"path",{d:!0}),d(Ke).forEach(u),Dt.forEach(u),Qe.forEach(u),st.forEach(u),Ge.forEach(u),Ne.forEach(u),de.forEach(u),this.h()},h(){l(a,"class","font-bold text-4xl mt-3 col-span-1 md:col-span-2"),l(g,"class","col-span-1 md:col-span-2"),l(S,"class","col-span-1"),l(D,"class","hidden md:flex"),l(E,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),l(y,"cx","12"),l(y,"cy","10"),l(y,"r","3"),l(_,"xmlns","http://www.w3.org/2000/svg"),l(_,"width","24"),l(_,"height","24"),l(_,"viewBox","0 0 24 24"),l(_,"fill","none"),l(_,"stroke","currentColor"),l(_,"stroke-width","2"),l(_,"stroke-linecap","round"),l(_,"stroke-linejoin","round"),l(_,"class","feather feather-map-pin"),l(C,"class","flex gap-2 md:-mb-2"),l(Y,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),l(P,"x","8"),l(P,"y","2"),l(P,"width","8"),l(P,"height","4"),l(P,"rx","1"),l(P,"ry","1"),l(te,"xmlns","http://www.w3.org/2000/svg"),l(te,"width","24"),l(te,"height","24"),l(te,"viewBox","0 0 24 24"),l(te,"fill","none"),l(te,"stroke","currentColor"),l(te,"stroke-width","2"),l(te,"stroke-linecap","round"),l(te,"stroke-linejoin","round"),l(te,"class","feather feather-clipboard"),l($,"class","flex select-none"),l(ee,"class","flex gap-2"),l(ne,"class","flex md:justify-end font-bold"),l(pe,"class","font-mono hidden xl:flex"),l(oe,"class","font-bold"),l(le,"class","font-mono flex xl:hidden"),l(r,"class","grid grid-cols-1 text-white font-mono gap-3"),l(ve,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),l(Ke,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),l(R,"xmlns","http://www.w3.org/2000/svg"),l(R,"width","22"),l(R,"height","22"),l(R,"viewBox","0 0 24 24"),l(R,"fill","none"),l(R,"stroke","currentColor"),l(R,"stroke-width","2"),l(R,"stroke-linecap","round"),l(R,"stroke-linejoin","round"),l(R,"class","feather feather-book-open"),l(W,"class","py-2 px-2 hover:bg-gray-400 rounded-full group"),l(ue,"class","flex flex-col md:flex-row gap-2 md:gap-0"),l(X,"class","absolute top-0 right-0 mr-2 mt-2"),l(t,"class","bg-gray-800 px-4 my-2 mx-2 md:mx-0 rounded-sm shadow-md hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto md:h-68 xl:h-56 pb-5 content-start"),l(e,"class","snap-start pt-1")},m(B,de){re(B,e,de),o(e,t),o(t,r),o(r,a),o(a,s),o(a,c),G&&G.m(a,null),o(r,p),o(r,g),pt(v,g,null),o(r,k),o(r,S),o(r,m),o(r,D),o(r,O),o(r,C),o(C,_),o(_,E),o(_,y),o(C,V),o(C,L),o(L,j),o(r,x),me.m(r,null),o(r,A),o(r,ee),o(ee,te),o(te,Y),o(te,P),o(ee,z),se&&se.m(ee,null),o(ee,Q),o(ee,$),o($,K),o(r,F),o(r,ne),o(ne,Ee),o(r,ae),o(r,pe),o(pe,ye),o(r,N),o(r,le),o(le,Ae),o(le,oe),o(oe,De),o(r,Fe),Ce.m(r,null),o(t,ie),o(t,X),o(X,ue),o(ue,W),o(W,R),o(R,ve),o(R,Ke),Te=!0,Ue||(je=[M(ee,"mouseover",n[11]),M(ee,"focus",n[12]),M(ee,"mouseleave",n[13]),M(ee,"focusout",n[14]),M(W,"click",cr(n[5]))],Ue=!0)},p(B,[de]){(!Te||de&1)&&i!==(i=B[0].turbineName+"")&&ge(s,i),B[0].turbineNumber?G?G.p(B,de):(G=jo(B),G.c(),G.m(a,null)):G&&(G.d(1),G=null);const Ne={};de&1&&(Ne.completedSteps=B[0].completedSteps),de&1&&(Ne.creationDate=B[0].creationDate),v.$set(Ne),(!Te||de&1)&&Z!==(Z=B[0].description+"")&&ge(j,Z),$e===($e=xe(B))&&me?me.p(B,de):(me.d(1),me=$e(B),me&&(me.c(),me.m(r,A))),B[2]?se?se.p(B,de):(se=xo(B),se.c(),se.m(ee,Q)):se&&(se.d(1),se=null),(!Te||de&8)&&ge(K,B[3]),(!Te||de&1)&&ce!==(ce=B[0].turbineState+"")&&ge(Ee,ce),(!Te||de&2)&&ke!==(ke=(B[1]||"N/A")+"")&&ge(De,ke),Me===(Me=rt(B))&&Ce?Ce.p(B,de):(Ce.d(1),Ce=Me(B),Ce&&(Ce.c(),Ce.m(r,null)))},i(B){Te||(_e(v.$$.fragment,B),Ze||Et(()=>{Ze=vl(t,Tt,{duration:1e3}),Ze.start()}),Te=!0)},o(B){Oe(v.$$.fragment,B),Te=!1},d(B){B&&u(e),G&&G.d(),gt(v),me.d(),se&&se.d(),Ce.d(),Ue=!1,nt(je)}}}function Sr(n,e,t){let r,a,i,s,{turbine:c={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const p=Zt(),g=()=>{p("showDetails",c.id)};let v=!1;const k=()=>t(2,v=!0),S=()=>t(2,v=!0),m=()=>t(2,v=!1),D=()=>t(2,v=!1),O=()=>t(2,v=!0),C=()=>t(2,v=!0),_=()=>t(2,v=!1),E=()=>t(2,v=!1);return n.$$set=y=>{"turbine"in y&&t(0,c=y.turbine)},n.$$.update=()=>{n.$$.dirty&1&&t(6,r=c.creationDate.includes("2022")?Dl[c.completedSteps+2]:Dl[c.completedSteps+1]),n.$$.dirty&65&&(r===Dl[3]?c.priorNotification:r===Dl[4]&&c.permittingDate),n.$$.dirty&1&&t(1,a=c.permittingDate?new Date(new Date(c.permittingDate).getTime()+90*24*60*60*1e3).toLocaleDateString("it-IT"):null),n.$$.dirty&3&&t(4,i=a&&new Date(c.permittingDate).getTime()+90*24*60*60*1e3<new Date().getTime()),n.$$.dirty&1&&t(3,s=c.operation[0]?c.operation[0].length>16?c.operation[0].substring(0,14)+"...":c.operation[0]:"")},[c,a,v,s,i,g,r,k,S,m,D,O,C,_,E]}class Or extends vt{constructor(e){super(),mt(this,e,Sr,Tr,_t,{turbine:0})}}const Ml="https://dockyard-handler.herokuapp.com/v1.0.0";async function Ol(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await ml.get(Ml+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function Mr(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.delete(Ml+"/event?eventId="+n,t)}else console.log("Token not found in local storage")}async function Cr(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.post(Ml+"/event",n,t)}else console.log("Token not found in local storage")}async function Vr(n){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(n)),await ml.put(Ml+"/event",n,t)}else console.log("Token not found in local storage")}async function Pr(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.get(Ml+"/events/csv",e)}else console.log("Token not found in local storage")}const kt={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear",25:"Vasca sterrato",26:"Vasca asfalto"};function Wo(n,e,t){const r=n.slice();return r[7]=e[t],r[8]=e,r[9]=t,r}function Fo(n,e){let t,r,a,i,s,c=e[7].name+"",p,g,v,k;function S(...m){return e[5](e[7],e[8],e[9],...m)}return{key:n,first:null,c(){t=f("div"),r=f("input"),i=b(),s=f("p"),p=I(c),g=b(),this.h()},l(m){t=h(m,"DIV",{class:!0});var D=d(t);r=h(D,"INPUT",{class:!0,type:!0}),i=w(D),s=h(D,"P",{class:!0});var O=d(s);p=T(O,c),O.forEach(u),g=w(D),D.forEach(u),this.h()},h(){l(r,"class","checkbox"),r.checked=a=e[7].isSelected,l(r,"type","checkbox"),l(s,"class","font-mono"),l(t,"class","flex flex-row gap-4"),this.first=t},m(m,D){re(m,t,D),o(t,r),o(t,i),o(t,s),o(s,p),o(t,g),v||(k=M(r,"change",S),v=!0)},p(m,D){e=m,D&1&&a!==(a=e[7].isSelected)&&(r.checked=a),D&1&&c!==(c=e[7].name+"")&&ge(p,c)},d(m){m&&u(t),v=!1,k()}}}function Ar(n){let e,t,r=[],a=new Map,i,s,c,p,g,v,k,S,m,D,O=n[0];const C=_=>_[7].name;for(let _=0;_<O.length;_+=1){let E=Wo(n,O,_),y=C(E);a.set(y,r[_]=Fo(y,E))}return{c(){e=f("div"),t=f("div");for(let _=0;_<r.length;_+=1)r[_].c();i=b(),s=f("div"),c=f("button"),p=I("Conferma"),g=b(),v=f("button"),k=I("Chiudi"),this.h()},l(_){e=h(_,"DIV",{class:!0});var E=d(e);t=h(E,"DIV",{class:!0});var y=d(t);for(let j=0;j<r.length;j+=1)r[j].l(y);y.forEach(u),i=w(E),s=h(E,"DIV",{class:!0});var V=d(s);c=h(V,"BUTTON",{class:!0});var L=d(c);p=T(L,"Conferma"),L.forEach(u),g=w(V),v=h(V,"BUTTON",{class:!0});var Z=d(v);k=T(Z,"Chiudi"),Z.forEach(u),V.forEach(u),E.forEach(u),this.h()},h(){l(t,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),l(c,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),l(v,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),l(s,"class","flex flex-row mt-5 gap-2 justify-center"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(_,E){re(_,e,E),o(e,t);for(let y=0;y<r.length;y+=1)r[y].m(t,null);o(e,i),o(e,s),o(s,c),o(c,p),o(s,g),o(s,v),o(v,k),m||(D=[M(c,"click",it(n[1])),M(v,"click",it(n[2])),M(e,"click",it(n[3])),M(e,"keydown",it(n[4]))],m=!0)},p(_,[E]){E&1&&(O=_[0],r=no(r,E,C,1,_,O,a,t,ur,Fo,null,Wo))},i(_){S||Et(()=>{S=vl(e,Tt,{duration:300}),S.start()})},o:Pe,d(_){_&&u(e);for(let E=0;E<r.length;E+=1)r[E].d();m=!1,nt(D)}}}function Lr(n,e,t){let{operations:r=[]}=e;const a=Zt(),i=()=>{a("confirm",r)},s=()=>{a("cancel")};function c(v){Wt.call(this,n,v)}function p(v){Wt.call(this,n,v)}const g=(v,k,S,m)=>{t(0,k[S].isSelected=m.target.checked,r)};return n.$$set=v=>{"operations"in v&&t(0,r=v.operations)},[r,i,s,c,p,g]}class Br extends vt{constructor(e){super(),mt(this,e,Lr,Ar,_t,{operations:0})}}function zr(n){let e,t,r,a,i,s,c,p,g,v,k,S,m,D,O,C,_,E,y,V,L,Z;return{c(){e=f("div"),t=f("div"),r=f("button"),a=H("svg"),i=H("path"),s=H("line"),c=H("polyline"),g=I("Kilowatt"),k=b(),S=f("button"),m=H("svg"),D=H("path"),O=H("line"),C=H("polyline"),E=I("Megawatt"),this.h()},l(j){e=h(j,"DIV",{class:!0});var x=d(e);t=h(x,"DIV",{class:!0});var A=d(t);r=h(A,"BUTTON",{class:!0,type:!0});var ee=d(r);a=q(ee,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var te=d(a);i=q(te,"path",{d:!0}),d(i).forEach(u),s=q(te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),c=q(te,"polyline",{points:!0}),d(c).forEach(u),te.forEach(u),g=T(ee,"Kilowatt"),ee.forEach(u),k=w(A),S=h(A,"BUTTON",{class:!0,type:!0});var Y=d(S);m=q(Y,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var P=d(m);D=q(P,"path",{d:!0}),d(D).forEach(u),O=q(P,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(O).forEach(u),C=q(P,"polyline",{points:!0}),d(C).forEach(u),P.forEach(u),E=T(Y,"Megawatt"),Y.forEach(u),A.forEach(u),x.forEach(u),this.h()},h(){l(i,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(s,"x1","23"),l(s,"y1","13"),l(s,"x2","23"),l(s,"y2","11"),l(c,"points","11 6 7 12 13 12 9 18"),l(a,"xmlns","http://www.w3.org/2000/svg"),l(a,"width","24"),l(a,"height","24"),l(a,"viewBox","0 0 24 24"),l(a,"fill","none"),l(a,"stroke","currentColor"),l(a,"stroke-width","2"),l(a,"stroke-linecap","round"),l(a,"stroke-linejoin","round"),l(a,"class",p=n[0]?"text-green-500":""),l(r,"class",v=xt(n[0]?"button ring-4 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(D,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(O,"x1","23"),l(O,"y1","13"),l(O,"x2","23"),l(O,"y2","11"),l(C,"points","11 6 7 12 13 12 9 18"),l(m,"xmlns","http://www.w3.org/2000/svg"),l(m,"width","24"),l(m,"height","24"),l(m,"viewBox","0 0 24 24"),l(m,"fill","none"),l(m,"stroke","currentColor"),l(m,"stroke-width","2"),l(m,"stroke-linecap","round"),l(m,"stroke-linejoin","round"),l(m,"class",_=n[0]?"":"text-blue-500"),l(S,"class",y=xt(n[0]?"button":"button ring-4 ring-blue-500")+" svelte-brr1w4"),l(S,"type","button"),l(t,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(j,x){re(j,e,x),o(e,t),o(t,r),o(r,a),o(a,i),o(a,s),o(a,c),o(r,g),o(t,k),o(t,S),o(S,m),o(m,D),o(m,O),o(m,C),o(S,E),L||(Z=[M(r,"click",n[2]),M(S,"click",n[3])],L=!0)},p(j,[x]){x&1&&p!==(p=j[0]?"text-green-500":"")&&l(a,"class",p),x&1&&v!==(v=xt(j[0]?"button ring-4 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",v),x&1&&_!==(_=j[0]?"":"text-blue-500")&&l(m,"class",_),x&1&&y!==(y=xt(j[0]?"button":"button ring-4 ring-blue-500")+" svelte-brr1w4")&&l(S,"class",y)},i(j){V||Et(()=>{V=vl(e,dr,{duration:300}),V.start()})},o:Pe,d(j){j&&u(e),L=!1,nt(Z)}}}function Ur(n,e,t){let{isKilowatt:r=!0}=e;const a=Zt(),i=()=>{a("change",r?"KILOWATT":"MEGAWATT")},s=()=>{t(0,r=!0),i()},c=()=>{t(0,r=!1),i()};return n.$$set=p=>{"isKilowatt"in p&&t(0,r=p.isKilowatt)},[r,i,s,c]}class jr extends vt{constructor(e){super(),mt(this,e,Ur,zr,_t,{isKilowatt:0})}}function xr(n){let e,t,r,a,i,s,c,p,g,v,k,S,m,D,O,C;return{c(){e=f("div"),t=f("div"),r=f("button"),a=I("In Marcia"),s=b(),c=f("button"),p=I("Limitata"),v=b(),k=f("button"),S=I("Ferma"),this.h()},l(_){e=h(_,"DIV",{class:!0});var E=d(e);t=h(E,"DIV",{class:!0});var y=d(t);r=h(y,"BUTTON",{class:!0,type:!0});var V=d(r);a=T(V,"In Marcia"),V.forEach(u),s=w(y),c=h(y,"BUTTON",{class:!0,type:!0});var L=d(c);p=T(L,"Limitata"),L.forEach(u),v=w(y),k=h(y,"BUTTON",{class:!0,type:!0});var Z=d(k);S=T(Z,"Ferma"),Z.forEach(u),y.forEach(u),E.forEach(u),this.h()},h(){l(r,"class",i=xt(n[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(c,"class",g=xt(n[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),l(c,"type","button"),l(k,"class",m=xt(n[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),l(k,"type","button"),l(t,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(_,E){re(_,e,E),o(e,t),o(t,r),o(r,a),o(t,s),o(t,c),o(c,p),o(t,v),o(t,k),o(k,S),O||(C=[M(r,"click",n[2]),M(c,"click",n[3]),M(k,"click",n[4])],O=!0)},p(_,[E]){E&1&&i!==(i=xt(_[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",i),E&1&&g!==(g=xt(_[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&l(c,"class",g),E&1&&m!==(m=xt(_[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&l(k,"class",m)},i(_){D||Et(()=>{D=vl(e,Tt,{duration:300,delay:300}),D.start()})},o:Pe,d(_){_&&u(e),O=!1,nt(C)}}}function Wr(n,e,t){let{state:r="In Marcia"}=e;const a=Zt(),i=()=>{a("change",r)},s=()=>{t(0,r="In Marcia"),i()},c=()=>{t(0,r="Limitata"),i()},p=()=>{t(0,r="Ferma"),i()};return n.$$set=g=>{"state"in g&&t(0,r=g.state)},[r,i,s,c,p]}class Fr extends vt{constructor(e){super(),mt(this,e,Wr,xr,_t,{state:0})}}function Ko(n){let e,t,r,a,i;return t=new Br({props:{operations:n[3]}}),t.$on("cancel",n[16]),t.$on("confirm",n[17]),{c(){e=f("div"),ft(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){re(s,e,c),pt(t,e,null),r=!0,a||(i=[M(e,"click",it(n[18])),M(e,"keydown",it(n[19]))],a=!0)},p(s,c){const p={};c[0]&8&&(p.operations=s[3]),t.$set(p)},i(s){r||(_e(t.$$.fragment,s),r=!0)},o(s){Oe(t.$$.fragment,s),r=!1},d(s){s&&u(e),gt(t),a=!1,nt(i)}}}function Kr(n){let e,t,r,a,i,s,c,p,g,v,k,S,m,D,O,C,_,E,y,V,L,Z,j,x,A,ee,te,Y,P,z,Q,$,K,F,ne,ce,Ee,ae,pe,ye,N,le,Ae,oe,ke,De,Fe,ie,X,ue,W,R,ve,Ke,Ze,Te,Ue,je,G,xe,$e,me,se,rt,Me,Ce,B,de,Ne,he=n[1]?"modifica":"creazione",ct,ut,at,yt,et,ze,ot,St,Re,tt=n[0].turbineNumber+"",dt,Ot,Ge,st,Qe,Dt,Ft,Se=n[0].turbineName+"",We,He,Ve,Le,qe,Mt,Be,U=n[0].description+"",be,lt,Je,we,Nt,$t,Ct,el=(n[0].odlNumber||"N/A")+"",Kt,Vt,Pt,Rt,tl,_l,Ht,At=n[0].operation+"",dl,bl,bt,Lt,wl,fl,qt,Bt=n[0].power+"",Yt,Gt,zt,It,kl,El,Jt,Ut=n[0].turbineState+"",ll,Xl,ol,rl,Zl,$l,Qt,Tl,Sl=n[1]?"Modifica":"Crea",Cl,nl,eo,wt,al,Vl,to,sl,Pl,lo,il,Al,Ie,oo,so,Ye=n[2]&&Ko(n);return $=new jr({props:{isKilowatt:n[0].power==="KILOWATT"}}),$.$on("change",n[26]),ce=new Fr({props:{state:n[0].turbineState}}),ce.$on("change",n[27]),{c(){e=f("div"),Ye&&Ye.c(),t=b(),r=f("form"),a=f("div"),i=f("div"),s=f("div"),c=f("input"),g=b(),v=f("input"),S=b(),m=f("input"),O=b(),C=f("input"),E=b(),y=f("div"),V=f("button"),L=f("input"),j=b(),x=f("div"),A=f("label"),ee=I("Non smantellare"),te=b(),Y=f("input"),z=b(),Q=f("div"),ft($.$$.fragment),K=b(),F=f("div"),ne=f("div"),ft(ce.$$.fragment),Ee=b(),ae=f("div"),pe=f("label"),ye=I("Data Inizio EEMM"),N=b(),le=f("input"),oe=b(),ke=f("div"),De=f("label"),Fe=I("Data Inizio OOCC"),ie=b(),X=f("input"),W=b(),R=f("div"),ve=f("label"),Ke=I("Validità permitting"),Ze=b(),Te=f("input"),je=b(),G=f("div"),xe=f("label"),$e=I("Validità notifica"),me=b(),se=f("input"),Me=b(),Ce=f("div"),B=f("div"),de=f("h2"),Ne=I("Riepilogo "),ct=I(he),ut=b(),at=f("div"),yt=b(),et=f("p"),ze=f("span"),ot=I("Numero cantiere:"),St=b(),Re=f("span"),dt=I(tt),Ot=b(),Ge=f("p"),st=f("span"),Qe=I("Aerogeneratore:"),Dt=b(),Ft=f("span"),We=I(Se),He=b(),Ve=f("p"),Le=f("span"),qe=I("Impianto eolico:"),Mt=b(),Be=f("span"),be=I(U),lt=b(),Je=f("p"),we=f("span"),Nt=I("Numero ODL:"),$t=b(),Ct=f("span"),Kt=I(el),Vt=b(),Pt=f("p"),Rt=f("span"),tl=I("Operazioni:"),_l=b(),Ht=f("span"),dl=I(At),bl=b(),bt=f("p"),Lt=f("span"),wl=I("Tipologia:"),fl=b(),qt=f("span"),Yt=I(Bt),Gt=b(),zt=f("p"),It=f("span"),kl=I("Stato:"),El=b(),Jt=f("span"),ll=I(Ut),Xl=b(),ol=f("div"),rl=f("button"),Zl=I("Annulla"),$l=b(),Qt=f("button"),Tl=f("p"),Cl=I(Sl),eo=b(),wt=f("div"),al=f("input"),to=b(),sl=f("input"),lo=b(),il=f("input"),this.h()},l(J){e=h(J,"DIV",{class:!0});var fe=d(e);Ye&&Ye.l(fe),t=w(fe),r=h(fe,"FORM",{});var hl=d(r);a=h(hl,"DIV",{id:!0,class:!0});var Xt=d(a);i=h(Xt,"DIV",{class:!0});var cl=d(i);s=h(cl,"DIV",{class:!0});var ul=d(s);c=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),g=w(ul),v=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),S=w(ul),m=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),O=w(ul),C=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),ul.forEach(u),E=w(cl),y=h(cl,"DIV",{class:!0});var io=d(y);V=h(io,"BUTTON",{type:!0,class:!0});var co=d(V);L=h(co,"INPUT",{class:!0,placeholder:!0}),co.forEach(u),io.forEach(u),j=w(cl),x=h(cl,"DIV",{class:!0});var Ll=d(x);A=h(Ll,"LABEL",{class:!0,for:!0});var uo=d(A);ee=T(uo,"Non smantellare"),uo.forEach(u),te=w(Ll),Y=h(Ll,"INPUT",{id:!0,class:!0,type:!0}),Ll.forEach(u),z=w(cl),Q=h(cl,"DIV",{class:!0});var fo=d(Q);ht($.$$.fragment,fo),fo.forEach(u),cl.forEach(u),K=w(Xt),F=h(Xt,"DIV",{class:!0});var jt=d(F);ne=h(jt,"DIV",{class:!0});var ho=d(ne);ht(ce.$$.fragment,ho),ho.forEach(u),Ee=w(jt),ae=h(jt,"DIV",{});var Bl=d(ae);pe=h(Bl,"LABEL",{for:!0,class:!0});var po=d(pe);ye=T(po,"Data Inizio EEMM"),po.forEach(u),N=w(Bl),le=h(Bl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),Bl.forEach(u),oe=w(jt),ke=h(jt,"DIV",{});var zl=d(ke);De=h(zl,"LABEL",{for:!0,class:!0});var go=d(De);Fe=T(go,"Data Inizio OOCC"),go.forEach(u),ie=w(zl),X=h(zl,"INPUT",{class:!0,type:!0,placeholder:!0}),zl.forEach(u),W=w(jt),R=h(jt,"DIV",{});var Ul=d(R);ve=h(Ul,"LABEL",{for:!0,class:!0});var vo=d(ve);Ke=T(vo,"Validità permitting"),vo.forEach(u),Ze=w(Ul),Te=h(Ul,"INPUT",{class:!0,type:!0,placeholder:!0}),Ul.forEach(u),je=w(jt),G=h(jt,"DIV",{});var jl=d(G);xe=h(jl,"LABEL",{for:!0,class:!0});var mo=d(xe);$e=T(mo,"Validità notifica"),mo.forEach(u),me=w(jl),se=h(jl,"INPUT",{class:!0,type:!0,placeholder:!0}),jl.forEach(u),jt.forEach(u),Me=w(Xt),Ce=h(Xt,"DIV",{class:!0});var xl=d(Ce);B=h(xl,"DIV",{class:!0});var Xe=d(B);de=h(Xe,"H2",{class:!0});var ro=d(de);Ne=T(ro,"Riepilogo "),ct=T(ro,he),ro.forEach(u),ut=w(Xe),at=h(Xe,"DIV",{class:!0}),d(at).forEach(u),yt=w(Xe),et=h(Xe,"P",{});var Wl=d(et);ze=h(Wl,"SPAN",{class:!0});var _o=d(ze);ot=T(_o,"Numero cantiere:"),_o.forEach(u),St=w(Wl),Re=h(Wl,"SPAN",{class:!0});var bo=d(Re);dt=T(bo,tt),bo.forEach(u),Wl.forEach(u),Ot=w(Xe),Ge=h(Xe,"P",{});var Fl=d(Ge);st=h(Fl,"SPAN",{class:!0});var wo=d(st);Qe=T(wo,"Aerogeneratore:"),wo.forEach(u),Dt=w(Fl),Ft=h(Fl,"SPAN",{class:!0});var ko=d(Ft);We=T(ko,Se),ko.forEach(u),Fl.forEach(u),He=w(Xe),Ve=h(Xe,"P",{});var Kl=d(Ve);Le=h(Kl,"SPAN",{class:!0});var Eo=d(Le);qe=T(Eo,"Impianto eolico:"),Eo.forEach(u),Mt=w(Kl),Be=h(Kl,"SPAN",{class:!0});var yo=d(Be);be=T(yo,U),yo.forEach(u),Kl.forEach(u),lt=w(Xe),Je=h(Xe,"P",{});var Rl=d(Je);we=h(Rl,"SPAN",{class:!0});var Do=d(we);Nt=T(Do,"Numero ODL:"),Do.forEach(u),$t=w(Rl),Ct=h(Rl,"SPAN",{class:!0});var No=d(Ct);Kt=T(No,el),No.forEach(u),Rl.forEach(u),Vt=w(Xe),Pt=h(Xe,"P",{});var Hl=d(Pt);Rt=h(Hl,"SPAN",{class:!0});var Io=d(Rt);tl=T(Io,"Operazioni:"),Io.forEach(u),_l=w(Hl),Ht=h(Hl,"SPAN",{class:!0});var To=d(Ht);dl=T(To,At),To.forEach(u),Hl.forEach(u),bl=w(Xe),bt=h(Xe,"P",{});var ql=d(bt);Lt=h(ql,"SPAN",{class:!0});var So=d(Lt);wl=T(So,"Tipologia:"),So.forEach(u),fl=w(ql),qt=h(ql,"SPAN",{class:!0});var Oo=d(qt);Yt=T(Oo,Bt),Oo.forEach(u),ql.forEach(u),Gt=w(Xe),zt=h(Xe,"P",{});var Yl=d(zt);It=h(Yl,"SPAN",{class:!0});var Mo=d(It);kl=T(Mo,"Stato:"),Mo.forEach(u),El=w(Yl),Jt=h(Yl,"SPAN",{class:!0});var Co=d(Jt);ll=T(Co,Ut),Co.forEach(u),Yl.forEach(u),Xe.forEach(u),Xl=w(xl),ol=h(xl,"DIV",{class:!0});var Gl=d(ol);rl=h(Gl,"BUTTON",{type:!0,class:!0});var Vo=d(rl);Zl=T(Vo,"Annulla"),Vo.forEach(u),$l=w(Gl),Qt=h(Gl,"BUTTON",{class:!0});var Po=d(Qt);Tl=h(Po,"P",{});var Ao=d(Tl);Cl=T(Ao,Sl),Ao.forEach(u),Po.forEach(u),Gl.forEach(u),xl.forEach(u),Xt.forEach(u),eo=w(hl),wt=h(hl,"DIV",{class:!0});var yl=d(wt);al=h(yl,"INPUT",{type:!0,class:!0}),to=w(yl),sl=h(yl,"INPUT",{type:!0,class:!0}),lo=w(yl),il=h(yl,"INPUT",{type:!0,class:!0}),yl.forEach(u),hl.forEach(u),fe.forEach(u),this.h()},h(){l(c,"class","input"),l(c,"type","text"),c.value=p=n[0].turbineName,l(c,"placeholder","Aerogeneratore*"),c.required=!0,c.disabled=n[1],l(v,"class","input"),l(v,"type","text"),v.value=k=n[0].turbineNumber,l(v,"placeholder","Numero cantiere"),l(m,"class","input"),l(m,"type","text"),m.value=D=n[0].description,l(m,"placeholder","Impianto Eolico*"),m.required=!0,l(C,"class","input"),l(C,"type","number"),C.value=_=n[0].odlNumber,l(C,"placeholder","Numero ODL"),l(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(L,"class","w-full"),L.value=Z=n[0].operation.length>0?n[0].operation.join(", "):"",L.disabled=!0,l(L,"placeholder","Operazioni*"),L.required=!0,l(V,"type","button"),l(V,"class","input hover:bg-gray-200 text-start transition ease-in-out"),l(y,"class","col-span-full mt-5"),l(A,"class","text-xl text-white font-mono"),l(A,"for","smantleCheckbox"),l(Y,"id","smantleCheckbox"),l(Y,"class","checkbox w-8 h-8"),l(Y,"type","checkbox"),Y.value=P=n[0].toNotDismantle,l(x,"class","flex flex-row justify-between p-2 items-center"),l(Q,"class","col-span-full mt-auto"),l(i,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(ne,"class","col-span-full"),l(pe,"for","dateEEMM"),l(pe,"class","font-mono text-white"),l(le,"id","dateEEMM"),l(le,"class","input"),l(le,"type","date"),le.value=Ae=n[0].startingDateEEMM!==void 0?n[0].startingDateEEMM:"",l(le,"placeholder","Data inizio EEMM"),l(De,"for","dateEEMM"),l(De,"class","font-mono text-white"),l(X,"class","input"),l(X,"type","date"),X.value=ue=n[0].startingDateOOCC!==void 0?n[0].startingDateOOCC:"",l(X,"placeholder","Data inizio OOCC"),l(ve,"for","dateEEMM"),l(ve,"class","font-mono text-white"),l(Te,"class","input"),l(Te,"type","date"),Te.value=Ue=n[0].permittingDate!==void 0?n[0].permittingDate:"",l(Te,"placeholder","Validità permitting"),l(xe,"for","dateEEMM"),l(xe,"class","font-mono text-white"),l(se,"class","input"),l(se,"type","date"),se.value=rt=n[0].priorNotification!==void 0?n[0].priorNotification:"",l(se,"placeholder","Validità notifica"),l(F,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(de,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),l(at,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),l(ze,"class","font-mono font-bold text-gray-300"),l(Re,"class","font-mono text-gray-300"),l(st,"class","font-mono font-bold text-gray-300"),l(Ft,"class","font-mono text-gray-300"),l(Le,"class","font-mono font-bold text-gray-300"),l(Be,"class","font-mono text-gray-300"),l(we,"class","font-mono font-bold text-gray-300"),l(Ct,"class","font-mono text-gray-300"),l(Rt,"class","font-mono font-bold text-gray-300"),l(Ht,"class","font-mono text-gray-300"),l(Lt,"class","font-mono font-bold text-gray-300"),l(qt,"class","font-mono text-gray-300"),l(It,"class","font-mono font-bold text-gray-300"),l(Jt,"class","font-mono text-gray-300"),l(B,"class","w-[15rem] md:w-[29rem] h-3/4"),l(rl,"type","button"),l(rl,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 rounded w-24"),l(Qt,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 rounded w-24"),Qt.disabled=n[5],l(ol,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),l(Ce,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(a,"id","scrollable"),l(a,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),l(al,"type","checkbox"),al.checked=Vl=n[4]===0,l(al,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),l(sl,"type","checkbox"),sl.checked=Pl=n[4]===1,l(sl,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),l(il,"type","checkbox"),il.checked=Al=n[4]===2,l(il,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),l(wt,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),l(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(J,fe){re(J,e,fe),Ye&&Ye.m(e,null),o(e,t),o(e,r),o(r,a),o(a,i),o(i,s),o(s,c),o(s,g),o(s,v),o(s,S),o(s,m),o(s,O),o(s,C),o(i,E),o(i,y),o(y,V),o(V,L),o(i,j),o(i,x),o(x,A),o(A,ee),o(x,te),o(x,Y),o(i,z),o(i,Q),pt($,Q,null),o(a,K),o(a,F),o(F,ne),pt(ce,ne,null),o(F,Ee),o(F,ae),o(ae,pe),o(pe,ye),o(ae,N),o(ae,le),o(F,oe),o(F,ke),o(ke,De),o(De,Fe),o(ke,ie),o(ke,X),o(F,W),o(F,R),o(R,ve),o(ve,Ke),o(R,Ze),o(R,Te),o(F,je),o(F,G),o(G,xe),o(xe,$e),o(G,me),o(G,se),o(a,Me),o(a,Ce),o(Ce,B),o(B,de),o(de,Ne),o(de,ct),o(B,ut),o(B,at),o(B,yt),o(B,et),o(et,ze),o(ze,ot),o(et,St),o(et,Re),o(Re,dt),o(B,Ot),o(B,Ge),o(Ge,st),o(st,Qe),o(Ge,Dt),o(Ge,Ft),o(Ft,We),o(B,He),o(B,Ve),o(Ve,Le),o(Le,qe),o(Ve,Mt),o(Ve,Be),o(Be,be),o(B,lt),o(B,Je),o(Je,we),o(we,Nt),o(Je,$t),o(Je,Ct),o(Ct,Kt),o(B,Vt),o(B,Pt),o(Pt,Rt),o(Rt,tl),o(Pt,_l),o(Pt,Ht),o(Ht,dl),o(B,bl),o(B,bt),o(bt,Lt),o(Lt,wl),o(bt,fl),o(bt,qt),o(qt,Yt),o(B,Gt),o(B,zt),o(zt,It),o(It,kl),o(zt,El),o(zt,Jt),o(Jt,ll),o(Ce,Xl),o(Ce,ol),o(ol,rl),o(rl,Zl),o(ol,$l),o(ol,Qt),o(Qt,Tl),o(Tl,Cl),o(r,eo),o(r,wt),o(wt,al),o(wt,to),o(wt,sl),o(wt,lo),o(wt,il),Ie=!0,oo||(so=[M(c,"change",n[20]),M(v,"change",n[21]),M(m,"change",n[22]),M(C,"change",n[23]),M(V,"click",n[24]),M(Y,"change",n[25]),M(le,"change",n[28]),M(X,"change",n[29]),M(Te,"change",n[30]),M(se,"change",n[31]),M(rl,"click",n[10]),M(Qt,"click",cr(n[11])),M(a,"click",it(n[14])),M(a,"keydown",it(n[15])),M(a,"scroll",n[6]),M(al,"change",n[32]),M(sl,"change",n[33]),M(il,"change",n[34]),M(wt,"click",it(n[12])),M(wt,"keydown",it(n[13])),M(e,"click",n[10]),M(e,"keydown",n[10])],oo=!0)},p(J,fe){J[2]?Ye?(Ye.p(J,fe),fe[0]&4&&_e(Ye,1)):(Ye=Ko(J),Ye.c(),_e(Ye,1),Ye.m(e,t)):Ye&&(pl(),Oe(Ye,1,1,()=>{Ye=null}),gl()),(!Ie||fe[0]&1&&p!==(p=J[0].turbineName)&&c.value!==p)&&(c.value=p),(!Ie||fe[0]&2)&&(c.disabled=J[1]),(!Ie||fe[0]&1&&k!==(k=J[0].turbineNumber)&&v.value!==k)&&(v.value=k),(!Ie||fe[0]&1&&D!==(D=J[0].description)&&m.value!==D)&&(m.value=D),(!Ie||fe[0]&1&&_!==(_=J[0].odlNumber)&&C.value!==_)&&(C.value=_),(!Ie||fe[0]&1&&Z!==(Z=J[0].operation.length>0?J[0].operation.join(", "):"")&&L.value!==Z)&&(L.value=Z),(!Ie||fe[0]&1&&P!==(P=J[0].toNotDismantle))&&(Y.value=P);const hl={};fe[0]&1&&(hl.isKilowatt=J[0].power==="KILOWATT"),$.$set(hl);const Xt={};fe[0]&1&&(Xt.state=J[0].turbineState),ce.$set(Xt),(!Ie||fe[0]&1&&Ae!==(Ae=J[0].startingDateEEMM!==void 0?J[0].startingDateEEMM:""))&&(le.value=Ae),(!Ie||fe[0]&1&&ue!==(ue=J[0].startingDateOOCC!==void 0?J[0].startingDateOOCC:""))&&(X.value=ue),(!Ie||fe[0]&1&&Ue!==(Ue=J[0].permittingDate!==void 0?J[0].permittingDate:""))&&(Te.value=Ue),(!Ie||fe[0]&1&&rt!==(rt=J[0].priorNotification!==void 0?J[0].priorNotification:""))&&(se.value=rt),(!Ie||fe[0]&2)&&he!==(he=J[1]?"modifica":"creazione")&&ge(ct,he),(!Ie||fe[0]&1)&&tt!==(tt=J[0].turbineNumber+"")&&ge(dt,tt),(!Ie||fe[0]&1)&&Se!==(Se=J[0].turbineName+"")&&ge(We,Se),(!Ie||fe[0]&1)&&U!==(U=J[0].description+"")&&ge(be,U),(!Ie||fe[0]&1)&&el!==(el=(J[0].odlNumber||"N/A")+"")&&ge(Kt,el),(!Ie||fe[0]&1)&&At!==(At=J[0].operation+"")&&ge(dl,At),(!Ie||fe[0]&1)&&Bt!==(Bt=J[0].power+"")&&ge(Yt,Bt),(!Ie||fe[0]&1)&&Ut!==(Ut=J[0].turbineState+"")&&ge(ll,Ut),(!Ie||fe[0]&2)&&Sl!==(Sl=J[1]?"Modifica":"Crea")&&ge(Cl,Sl),(!Ie||fe[0]&32)&&(Qt.disabled=J[5]),(!Ie||fe[0]&16&&Vl!==(Vl=J[4]===0))&&(al.checked=Vl),(!Ie||fe[0]&16&&Pl!==(Pl=J[4]===1))&&(sl.checked=Pl),(!Ie||fe[0]&16&&Al!==(Al=J[4]===2))&&(il.checked=Al)},i(J){Ie||(_e(Ye),_e($.$$.fragment,J),_e(ce.$$.fragment,J),Et(()=>{nl||(nl=Il(a,Tt,{duration:150},!0)),nl.run(1)}),Ie=!0)},o(J){Oe(Ye),Oe($.$$.fragment,J),Oe(ce.$$.fragment,J),nl||(nl=Il(a,Tt,{duration:150},!1)),nl.run(0),Ie=!1},d(J){J&&u(e),Ye&&Ye.d(),gt($),gt(ce),J&&nl&&nl.end(),oo=!1,nt(so)}}}function Rr(n,e,t){let{isEditMode:r=!1}=e,{windfarm:a={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null,toNotDismantle:!1}}=e;const i=Zt();let s=!1,c=[];ao(()=>{t(3,c=Object.values(kt).map(N=>({name:N,isSelected:a.operation.includes(N)})))});let p=0;const g=()=>{const N=document.getElementById("scrollable"),le=N.scrollLeft,Ae=N.scrollWidth,oe=N.offsetWidth,ke=Ae-le-oe;le<=10?t(4,p=0):ke<=10?t(4,p=2):t(4,p=1)},v=()=>{document.getElementById("scrollable").scrollTo({left:0,behavior:"smooth"})},k=()=>{const N=document.getElementById("scrollable");N.scrollTo({left:N.scrollWidth,behavior:"smooth"})},S=()=>{const N=document.getElementById("scrollable");let le=N.scrollWidth/2;window.innerWidth<768&&(le=N.scrollWidth/3),N.scrollTo({left:le,behavior:"smooth"})},m=()=>{i("close")},D=()=>a.turbineName!==""&&a.description!==""&&a.operation.length>0&&a.operation[0]!=="",O=()=>{t(0,a={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null})};let C=!1;const _=()=>{C||!D()||(t(5,C=!0),r?Vr(a).then(N=>{N!==void 0&&N.status===200?(i("updated"),t(5,C=!1),O()):console.log("Error while updating windfarm: ",N)}).catch(N=>{console.log(N)}):Cr(a).then(()=>{i("created"),t(5,C=!1),O()}).catch(N=>{console.log(N)}))};function E(N){Wt.call(this,n,N)}function y(N){Wt.call(this,n,N)}function V(N){Wt.call(this,n,N)}function L(N){Wt.call(this,n,N)}const Z=()=>{t(2,s=!1)},j=N=>{t(3,c=N.detail),t(0,a.operation=c.filter(le=>le.isSelected).map(le=>le.name),a),t(2,s=!1)},x=()=>{t(2,s=!1)},A=()=>{t(2,s=!1)},ee=N=>{t(0,a.turbineName=N.target.value,a)},te=N=>{t(0,a.turbineNumber=N.target.value,a)},Y=N=>{t(0,a.description=N.target.value,a)},P=N=>{t(0,a.odlNumber=N.target.value,a)},z=()=>{t(2,s=!s)},Q=N=>{t(0,a.toNotDismantle=N.target.checked,a)},$=N=>t(0,a.power=N.detail,a),K=N=>t(0,a.turbineState=N.detail,a),F=N=>{t(0,a.startingDateEEMM=N.target.value,a)},ne=N=>{t(0,a.startingDateOOCC=N.target.value,a)},ce=N=>{t(0,a.permittingDate=N.target.value,a)},Ee=N=>{t(0,a.priorNotification=N.target.value,a)},ae=()=>{v()},pe=()=>{S()},ye=()=>{k()};return n.$$set=N=>{"isEditMode"in N&&t(1,r=N.isEditMode),"windfarm"in N&&t(0,a=N.windfarm)},[a,r,s,c,p,C,g,v,k,S,m,_,E,y,V,L,Z,j,x,A,ee,te,Y,P,z,Q,$,K,F,ne,ce,Ee,ae,pe,ye]}class fr extends vt{constructor(e){super(),mt(this,e,Rr,Kr,_t,{isEditMode:1,windfarm:0},null,[-1,-1])}}function Hr(n){let e,t;return e=new fr({props:{windfarm:n[0],isEditMode:!0}}),e.$on("close",n[1]),e.$on("updated",n[2]),{c(){ft(e.$$.fragment)},l(r){ht(e.$$.fragment,r)},m(r,a){pt(e,r,a),t=!0},p(r,[a]){const i={};a&1&&(i.windfarm=r[0]),e.$set(i)},i(r){t||(_e(e.$$.fragment,r),t=!0)},o(r){Oe(e.$$.fragment,r),t=!1},d(r){gt(e,r)}}}function qr(n,e,t){let{turbine:r}=e;const a=Zt(),i=()=>{a("close")},s=()=>{a("updated")};return n.$$set=c=>{"turbine"in c&&t(0,r=c.turbine)},[r,i,s]}class Yr extends vt{constructor(e){super(),mt(this,e,qr,Hr,_t,{turbine:0})}}function Gr(n){let e,t;return e=new fr({props:{isEditMode:!1}}),e.$on("close",n[0]),e.$on("created",n[1]),{c(){ft(e.$$.fragment)},l(r){ht(e.$$.fragment,r)},m(r,a){pt(e,r,a),t=!0},p:Pe,i(r){t||(_e(e.$$.fragment,r),t=!0)},o(r){Oe(e.$$.fragment,r),t=!1},d(r){gt(e,r)}}}function Jr(n){const e=Zt();return[()=>{e("close")},()=>{e("created")}]}class Qr extends vt{constructor(e){super(),mt(this,e,Jr,Gr,_t,{})}}const hr="https://dockyard-handler.herokuapp.com/v1.0.0";async function Ro(n){if(console.log("Retrieving steps for event "+n),typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await ml.get(hr+"/steps/"+n,t)).data}else console.log("Token not found in local storage")}async function Xr(n,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.put(hr+"/step/complete?stepId="+n+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function Ho(n,e,t){const r=n.slice();return r[6]=e[t],r}function Zr(n){return{c:Pe,l:Pe,m:Pe,p:Pe,d:Pe}}function $r(n){let e=[],t=new Map,r,a=n[0];const i=s=>s[6].id;for(let s=0;s<a.length;s+=1){let c=Ho(n,a,s),p=i(c);t.set(p,e[s]=Yo(p,c))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=Nl()},l(s){for(let c=0;c<e.length;c+=1)e[c].l(s);r=Nl()},m(s,c){for(let p=0;p<e.length;p+=1)e[p].m(s,c);re(s,r,c)},p(s,c){c&7&&(a=s[0],e=no(e,c,i,1,s,a,t,r.parentNode,ur,Yo,r,Ho))},d(s){for(let c=0;c<e.length;c+=1)e[c].d(s);s&&u(r)}}}function qo(n){let e,t,r,a,i,s,c;return{c(){e=f("div"),t=f("p"),r=I("Completato"),a=b(),i=H("svg"),s=H("path"),c=H("polyline"),this.h()},l(p){e=h(p,"DIV",{class:!0});var g=d(e);t=h(g,"P",{class:!0});var v=d(t);r=T(v,"Completato"),v.forEach(u),a=w(g),i=q(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var k=d(i);s=q(k,"path",{d:!0}),d(s).forEach(u),c=q(k,"polyline",{points:!0}),d(c).forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){l(t,"class","font-bold uppercase"),l(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),l(c,"points","22 4 12 14.01 9 11.01"),l(i,"xmlns","http://www.w3.org/2000/svg"),l(i,"width","22"),l(i,"height","22"),l(i,"viewBox","0 0 24 24"),l(i,"fill","none"),l(i,"stroke","currentColor"),l(i,"stroke-width","2"),l(i,"stroke-linecap","round"),l(i,"stroke-linejoin","round"),l(i,"class","feather feather-check-circle text-green-500"),l(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(p,g){re(p,e,g),o(e,t),o(t,r),o(e,a),o(e,i),o(i,s),o(i,c)},d(p){p&&u(e)}}}function Yo(n,e){let t,r,a,i,s,c,p,g=e[6].name+"",v,k,S=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,m,D,O;function C(){return e[4](e[6])}let _=S&&qo();return{key:n,first:null,c(){t=f("div"),r=f("input"),s=b(),c=f("div"),p=f("p"),v=I(g),k=b(),_&&_.c(),m=b(),this.h()},l(E){t=h(E,"DIV",{class:!0});var y=d(t);r=h(y,"INPUT",{type:!0,class:!0}),s=w(y),c=h(y,"DIV",{class:!0});var V=d(c);p=h(V,"P",{});var L=d(p);v=T(L,g),L.forEach(u),V.forEach(u),k=w(y),_&&_.l(y),m=w(y),y.forEach(u),this.h()},h(){l(r,"type","checkbox"),l(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=a=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=i=e[6].complete,l(c,"class","col-span-6 text-left"),l(t,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm mr-3"),this.first=t},m(E,y){re(E,t,y),o(t,r),o(t,s),o(t,c),o(c,p),o(p,v),o(t,k),_&&_.m(t,null),o(t,m),D||(O=M(r,"click",C),D=!0)},p(E,y){e=E,y&3&&a!==(a=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=a),y&1&&i!==(i=e[6].complete)&&(r.checked=i),y&1&&g!==(g=e[6].name+"")&&ge(v,g),y&3&&(S=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),S?_||(_=qo(),_.c(),_.m(t,m)):_&&(_.d(1),_=null)},d(E){E&&u(t),_&&_.d(),D=!1,O()}}}function en(n){let e,t;return{c(){e=f("div"),t=I("Caricamento..."),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=d(e);t=T(a,"Caricamento..."),a.forEach(u),this.h()},h(){l(e,"class","col-span-7 text-center")},m(r,a){re(r,e,a),o(e,t)},p:Pe,d(r){r&&u(e)}}}function tn(n){let e,t,r,a,i,s,c,p,g,v,k,S,m,D={ctx:n,current:null,token:null,hasCatch:!1,pending:en,then:$r,catch:Zr,value:0};return Lo(k=n[0],D),{c(){e=f("div"),t=f("div"),r=H("svg"),a=H("path"),i=H("path"),s=b(),c=f("h1"),p=I("Tracciamento fasi"),g=b(),v=f("div"),D.block.c(),this.h()},l(O){e=h(O,"DIV",{class:!0});var C=d(e);t=h(C,"DIV",{class:!0});var _=d(t);r=q(_,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var E=d(r);a=q(E,"path",{d:!0}),d(a).forEach(u),i=q(E,"path",{d:!0}),d(i).forEach(u),E.forEach(u),s=w(_),c=h(_,"H1",{class:!0});var y=d(c);p=T(y,"Tracciamento fasi"),y.forEach(u),_.forEach(u),g=w(C),v=h(C,"DIV",{id:!0,class:!0});var V=d(v);D.block.l(V),V.forEach(u),C.forEach(u),this.h()},h(){l(a,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),l(i,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),l(r,"xmlns","http://www.w3.org/2000/svg"),l(r,"width","24"),l(r,"height","24"),l(r,"viewBox","0 0 24 24"),l(r,"fill","none"),l(r,"stroke","currentColor"),l(r,"stroke-width","2"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"class","feather feather-link"),l(c,"class","font-mono text-2xl"),l(t,"class","flex flex-row items-center md:justify-center mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),l(v,"id","stepsContainer"),l(v,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll max-h-80 gap-2 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800 items-center"),l(e,"class","col-span-1 text-white w-[19rem] p-1 md:p-0 md:w-[29rem]")},m(O,C){re(O,e,C),o(e,t),o(t,r),o(r,a),o(r,i),o(t,s),o(t,c),o(c,p),o(e,g),o(e,v),D.block.m(v,D.anchor=null),D.mount=()=>v,D.anchor=null},p(O,[C]){n=O,D.ctx=n,C&1&&k!==(k=n[0])&&Lo(k,D)||gr(D,n,C)},i(O){S||Et(()=>{S=vl(v,Tt,{delay:500,duration:1e3}),S.start()}),m||Et(()=>{m=vl(e,dr,{delay:400,duration:1e3}),m.start()})},o:Pe,d(O){O&&u(e),D.block.d(),D.token=null,D=null}}}function ln(n,e,t){let r,{turbine:a}=e,i=[];ao(()=>{Ro(a.id).then(g=>{t(0,i=g)}),setTimeout(()=>{c()},1500)});const s=(g,v)=>{Xr(g,v).then(()=>{Ro(a.id).then(k=>{t(0,i=k),v?t(3,a.completedSteps+=1,a):t(3,a.completedSteps-=1,a),c()})})};function c(){const g=document.getElementById("stepsContainer"),v=9;if(g){const k=window.innerWidth<768?2:4,S=a.completedSteps-k;if(S>=0&&a.completedSteps<v){g.scrollTo({top:g.scrollHeight/v*(S+1),behavior:"smooth"});return}else if(a.completedSteps===v){setTimeout(()=>{g.scrollTo({top:0,behavior:"smooth"})},500);return}}}const p=g=>s(g.id,!g.complete);return n.$$set=g=>{"turbine"in g&&t(3,a=g.turbine)},n.$$.update=()=>{n.$$.dirty&9&&t(1,r=i[a.completedSteps])},[i,r,s,a,p]}class on extends vt{constructor(e){super(),mt(this,e,ln,tn,_t,{turbine:3})}}function rn(n){let e,t,r,a,i,s,c,p,g,v,k,S,m;return{c(){e=f("div"),t=f("p"),r=I("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),a=b(),i=f("div"),s=f("button"),c=I("Annulla"),p=b(),g=f("button"),v=I("Conferma"),this.h()},l(D){e=h(D,"DIV",{class:!0});var O=d(e);t=h(O,"P",{class:!0});var C=d(t);r=T(C,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),C.forEach(u),a=w(O),i=h(O,"DIV",{class:!0});var _=d(i);s=h(_,"BUTTON",{class:!0});var E=d(s);c=T(E,"Annulla"),E.forEach(u),p=w(_),g=h(_,"BUTTON",{class:!0});var y=d(g);v=T(y,"Conferma"),y.forEach(u),_.forEach(u),O.forEach(u),this.h()},h(){l(t,"class","font-bold text-lg"),l(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),l(g,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),l(i,"class","flex justify-end mt-5 text-sm"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(D,O){re(D,e,O),o(e,t),o(t,r),o(e,a),o(e,i),o(i,s),o(s,c),o(i,p),o(i,g),o(g,v),S||(m=[M(s,"click",n[1]),M(g,"click",n[0]),M(e,"click",n[2]),M(e,"keydown",n[2])],S=!0)},p:Pe,i(D){k||Et(()=>{k=vl(e,Tt,{duration:300}),k.start()})},o:Pe,d(D){D&&u(e),S=!1,nt(m)}}}function nn(n){const e=Zt();return[()=>{e("confirm")},()=>{e("cancel")},i=>{i.stopPropagation()}]}class an extends vt{constructor(e){super(),mt(this,e,nn,rn,_t,{})}}function sn(n){let e,t,r=n[0]==="KILOWATT"?"Kw":"Mw",a,i;return{c(){e=f("div"),t=f("span"),a=I(r),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);t=h(c,"SPAN",{});var p=d(t);a=T(p,r),p.forEach(u),c.forEach(u),this.h()},h(){l(e,"class",i="font-mono ring-2 text-lg my-1 max-w-min "+(n[0]==="KILOWATT"?"ring-green-500 bg-green-100":"ring-blue-500 bg-blue-100")+" rounded px-2")},m(s,c){re(s,e,c),o(e,t),o(t,a)},p(s,[c]){c&1&&r!==(r=s[0]==="KILOWATT"?"Kw":"Mw")&&ge(a,r),c&1&&i!==(i="font-mono ring-2 text-lg my-1 max-w-min "+(s[0]==="KILOWATT"?"ring-green-500 bg-green-100":"ring-blue-500 bg-blue-100")+" rounded px-2")&&l(e,"class",i)},i:Pe,o:Pe,d(s){s&&u(e)}}}function cn(n,e,t){let{power:r="KILOWATT"}=e;return n.$$set=a=>{"power"in a&&t(0,r=a.power)},[r]}class un extends vt{constructor(e){super(),mt(this,e,cn,sn,_t,{power:0})}}function Go(n,e,t){const r=n.slice();return r[22]=e[t],r}function Jo(n){let e,t,r,a,i;return t=new an({}),t.$on("confirm",n[8]),t.$on("cancel",n[14]),{c(){e=f("div"),ft(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,c){re(s,e,c),pt(t,e,null),r=!0,a||(i=[M(e,"click",n[15]),M(e,"keydown",n[16])],a=!0)},p:Pe,i(s){r||(_e(t.$$.fragment,s),r=!0)},o(s){Oe(t.$$.fragment,s),r=!1},d(s){s&&u(e),gt(t),a=!1,nt(i)}}}function Qo(n){let e,t,r=n[0].turbineNumber+"",a;return{c(){e=f("span"),t=I("- "),a=I(r)},l(i){e=h(i,"SPAN",{});var s=d(e);t=T(s,"- "),a=T(s,r),s.forEach(u)},m(i,s){re(i,e,s),o(e,t),o(e,a)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&ge(a,r)},d(i){i&&u(e)}}}function Xo(n){let e,t,r,a=(n[0].creationDate?n[0].creationDate.substring(0,10):new Date().toISOString().substring(0,10))+"",i;return{c(){e=f("p"),t=I("Creazione: "),r=f("span"),i=I(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);t=T(c,"Creazione: "),r=h(c,"SPAN",{});var p=d(r);i=T(p,a),p.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white")},m(s,c){re(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=(s[0].creationDate?s[0].creationDate.substring(0,10):new Date().toISOString().substring(0,10))+"")&&ge(i,a)},d(s){s&&u(e)}}}function Zo(n){let e,t,r,a=n[0].permittingDate+"",i;return{c(){e=f("p"),t=I("Valdità permitting: "),r=f("span"),i=I(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);t=T(c,"Valdità permitting: "),r=h(c,"SPAN",{});var p=d(r);i=T(p,a),p.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white")},m(s,c){re(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=s[0].permittingDate+"")&&ge(i,a)},d(s){s&&u(e)}}}function $o(n){let e,t,r,a=n[0].priorNotification+"",i;return{c(){e=f("p"),t=I("Valdità notifica: "),r=f("span"),i=I(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);t=T(c,"Valdità notifica: "),r=h(c,"SPAN",{});var p=d(r);i=T(p,a),p.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white")},m(s,c){re(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&a!==(a=s[0].priorNotification+"")&&ge(i,a)},d(s){s&&u(e)}}}function er(n){let e,t,r=n[0].toNotDismantle?"Da non smantellare":"Da smantellare",a;return{c(){e=f("div"),t=f("p"),a=I(r),this.h()},l(i){e=h(i,"DIV",{class:!0});var s=d(e);t=h(s,"P",{});var c=d(t);a=T(c,r),c.forEach(u),s.forEach(u),this.h()},h(){l(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 cursor-default top-8")},m(i,s){re(i,e,s),o(e,t),o(t,a)},p(i,s){s&1&&r!==(r=i[0].toNotDismantle?"Da non smantellare":"Da smantellare")&&ge(a,r)},d(i){i&&u(e)}}}function tr(n){let e,t=n[22]+"",r,a;return{c(){e=f("li"),r=I(t),a=b(),this.h()},l(i){e=h(i,"LI",{class:!0});var s=d(e);r=T(s,t),a=w(s),s.forEach(u),this.h()},h(){l(e,"class","text-sm list-disc ml-5 font-bold")},m(i,s){re(i,e,s),o(e,r),o(e,a)},p(i,s){s&1&&t!==(t=i[22]+"")&&ge(r,t)},d(i){i&&u(e)}}}function dn(n){let e,t,r,a,i,s,c,p=n[0].turbineName+"",g,v,k,S,m,D,O,C,_,E=n[0].turbineState+"",y,V,L,Z,j,x,A,ee,te,Y,P,z,Q,$,K,F,ne,ce,Ee,ae,pe,ye,N,le,Ae,oe,ke,De,Fe,ie=(n[0].startingDateEEMM||"N/A")+"",X,ue,W,R,ve,Ke=(n[0].startingDateOOCC||"N/A")+"",Ze,Te,Ue,je,G,xe,$e,me,se,rt,Me,Ce,B,de,Ne,he,ct,ut,at,yt,et,ze,ot,St,Re,tt,dt,Ot,Ge,st,Qe,Dt,Ft,Se=n[2]&&Jo(n),We=n[0].turbineNumber&&Qo(n);S=new un({props:{power:n[0].power}});let He=n[0].creationDate&&Xo(n),Ve=n[0].permittingDate!==void 0&&Zo(n),Le=n[0].priorNotification!==void 0&&$o(n),qe=n[3]&&er(n),Mt=n[0].operation,Be=[];for(let U=0;U<Mt.length;U+=1)Be[U]=tr(Go(n,Mt,U));return ze=new on({props:{turbine:n[0]}}),{c(){e=f("div"),t=f("div"),Se&&Se.c(),r=b(),a=f("div"),i=f("div"),s=f("div"),c=f("h1"),g=I(p),v=b(),We&&We.c(),k=b(),ft(S.$$.fragment),m=b(),He&&He.c(),D=b(),O=f("p"),C=I("Stato turbina: "),_=f("span"),y=I(E),V=b(),Ve&&Ve.c(),L=b(),Le&&Le.c(),Z=b(),j=f("div"),x=f("div"),A=f("p"),ee=I("Attività"),te=b(),Y=f("button"),P=H("svg"),z=H("circle"),Q=H("line"),$=H("line"),F=b(),qe&&qe.c(),ne=b(),ce=f("div"),Ee=f("ul");for(let U=0;U<Be.length;U+=1)Be[U].c();ae=b(),pe=f("div"),ye=f("div"),N=f("h1"),le=I("Tracciamento eventi"),Ae=b(),oe=f("ul"),ke=f("li"),De=I("Inizio ATT EEMM: "),Fe=f("span"),X=I(ie),ue=b(),W=f("li"),R=I("Inizio ATT OOCC: "),ve=f("span"),Ze=I(Ke),Te=b(),Ue=f("div"),je=f("button"),G=H("svg"),xe=H("polyline"),$e=H("path"),me=H("line"),se=H("line"),rt=b(),Me=f("p"),Ce=I("Elimina"),B=b(),de=f("button"),Ne=H("svg"),he=H("path"),ct=b(),ut=f("p"),at=I("Modifica"),yt=b(),et=f("div"),ft(ze.$$.fragment),St=b(),Re=f("div"),tt=f("input"),Ot=b(),Ge=f("input"),this.h()},l(U){e=h(U,"DIV",{class:!0});var be=d(e);t=h(be,"DIV",{id:!0,class:!0});var lt=d(t);Se&&Se.l(lt),r=w(lt),a=h(lt,"DIV",{class:!0});var Je=d(a);i=h(Je,"DIV",{class:!0});var we=d(i);s=h(we,"DIV",{class:!0});var Nt=d(s);c=h(Nt,"H1",{class:!0});var $t=d(c);g=T($t,p),v=w($t),We&&We.l($t),$t.forEach(u),k=w(Nt),ht(S.$$.fragment,Nt),Nt.forEach(u),m=w(we),He&&He.l(we),D=w(we),O=h(we,"P",{class:!0});var Ct=d(O);C=T(Ct,"Stato turbina: "),_=h(Ct,"SPAN",{});var el=d(_);y=T(el,E),el.forEach(u),Ct.forEach(u),V=w(we),Ve&&Ve.l(we),L=w(we),Le&&Le.l(we),we.forEach(u),Z=w(Je),j=h(Je,"DIV",{class:!0});var Kt=d(j);x=h(Kt,"DIV",{class:!0});var Vt=d(x);A=h(Vt,"P",{class:!0});var Pt=d(A);ee=T(Pt,"Attività"),Pt.forEach(u),te=w(Vt),Y=h(Vt,"BUTTON",{class:!0});var Rt=d(Y);P=q(Rt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var tl=d(P);z=q(tl,"circle",{cx:!0,cy:!0,r:!0}),d(z).forEach(u),Q=q(tl,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Q).forEach(u),$=q(tl,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d($).forEach(u),tl.forEach(u),Rt.forEach(u),F=w(Vt),qe&&qe.l(Vt),Vt.forEach(u),ne=w(Kt),ce=h(Kt,"DIV",{class:!0});var _l=d(ce);Ee=h(_l,"UL",{class:!0});var Ht=d(Ee);for(let ll=0;ll<Be.length;ll+=1)Be[ll].l(Ht);Ht.forEach(u),_l.forEach(u),Kt.forEach(u),ae=w(Je),pe=h(Je,"DIV",{class:!0});var At=d(pe);ye=h(At,"DIV",{class:!0});var dl=d(ye);N=h(dl,"H1",{class:!0});var bl=d(N);le=T(bl,"Tracciamento eventi"),bl.forEach(u),dl.forEach(u),Ae=w(At),oe=h(At,"UL",{});var bt=d(oe);ke=h(bt,"LI",{class:!0});var Lt=d(ke);De=T(Lt,"Inizio ATT EEMM: "),Fe=h(Lt,"SPAN",{class:!0});var wl=d(Fe);X=T(wl,ie),wl.forEach(u),Lt.forEach(u),ue=w(bt),W=h(bt,"LI",{class:!0});var fl=d(W);R=T(fl,"Inizio ATT OOCC: "),ve=h(fl,"SPAN",{class:!0});var qt=d(ve);Ze=T(qt,Ke),qt.forEach(u),fl.forEach(u),bt.forEach(u),At.forEach(u),Te=w(Je),Ue=h(Je,"DIV",{id:!0,class:!0});var Bt=d(Ue);je=h(Bt,"BUTTON",{class:!0});var Yt=d(je);G=q(Yt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Gt=d(G);xe=q(Gt,"polyline",{points:!0}),d(xe).forEach(u),$e=q(Gt,"path",{d:!0}),d($e).forEach(u),me=q(Gt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(me).forEach(u),se=q(Gt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(se).forEach(u),Gt.forEach(u),rt=w(Yt),Me=h(Yt,"P",{class:!0});var zt=d(Me);Ce=T(zt,"Elimina"),zt.forEach(u),Yt.forEach(u),B=w(Bt),de=h(Bt,"BUTTON",{class:!0});var It=d(de);Ne=q(It,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var kl=d(Ne);he=q(kl,"path",{d:!0}),d(he).forEach(u),kl.forEach(u),ct=w(It),ut=h(It,"P",{class:!0});var El=d(ut);at=T(El,"Modifica"),El.forEach(u),It.forEach(u),Bt.forEach(u),Je.forEach(u),yt=w(lt),et=h(lt,"DIV",{class:!0});var Jt=d(et);ht(ze.$$.fragment,Jt),Jt.forEach(u),lt.forEach(u),St=w(be),Re=h(be,"DIV",{class:!0});var Ut=d(Re);tt=h(Ut,"INPUT",{type:!0,class:!0}),Ot=w(Ut),Ge=h(Ut,"INPUT",{type:!0,class:!0}),Ut.forEach(u),be.forEach(u),this.h()},h(){l(c,"class","font-mono font-bold text-2xl text-white mb-2"),l(s,"class","flex flex-row justify-between"),l(O,"class","font-mono text-white"),l(i,"class","grid grid-cols-1 w-[17rem] md:w-[27rem]"),l(A,"class","font-mono text-xl"),l(z,"cx","12"),l(z,"cy","12"),l(z,"r","10"),l(Q,"x1","12"),l(Q,"y1","16"),l(Q,"x2","12"),l(Q,"y2","12"),l($,"x1","12"),l($,"y1","8"),l($,"x2","12.01"),l($,"y2","8"),l(P,"xmlns","http://www.w3.org/2000/svg"),l(P,"width","16"),l(P,"height","16"),l(P,"viewBox","0 0 24 24"),l(P,"fill","none"),l(P,"stroke","currentColor"),l(P,"stroke-width","2"),l(P,"stroke-linecap","round"),l(P,"stroke-linejoin","round"),l(P,"class","feather feather-info"),l(Y,"class",K="hover:text-amber-400 "+(n[3]?"text-amber-400":"")),l(x,"class","flex flex-row items-center gap-2 relative"),l(Ee,"class","font-mono"),l(ce,"class","p-2"),l(j,"class","ring-2 rounded ring-gray-600 px-2 py-1 text-white"),l(N,"class","font-mono text-xl"),l(ye,"class","flex flex-row font-mono text-white"),l(Fe,"class","font-extralight"),l(ke,"class","text-sm list-disc ml-5 font-bold text-white"),l(ve,"class","font-extralight"),l(W,"class","text-sm list-disc ml-5 font-bold text-white"),l(pe,"class","flex flex-col gap-2 ring-2 rounded ring-gray-600 px-2 pb-2 pt-1"),l(xe,"points","3 6 5 6 21 6"),l($e,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),l(me,"x1","10"),l(me,"y1","11"),l(me,"x2","10"),l(me,"y2","17"),l(se,"x1","14"),l(se,"y1","11"),l(se,"x2","14"),l(se,"y2","17"),l(G,"xmlns","http://www.w3.org/2000/svg"),l(G,"width","20"),l(G,"height","20"),l(G,"viewBox","0 0 24 24"),l(G,"fill","none"),l(G,"stroke","currentColor"),l(G,"stroke-width","2"),l(G,"stroke-linecap","round"),l(G,"stroke-linejoin","round"),l(G,"class","feather feather-trash-2"),l(Me,"class","font-mono"),l(je,"class","flex flex-row gap-2 items-center text-red-500 hover:bg-gray-300 hover:shadow-sm bg-gray-200 rounded py-2 px-4"),l(he,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),l(Ne,"xmlns","http://www.w3.org/2000/svg"),l(Ne,"width","20"),l(Ne,"height","20"),l(Ne,"viewBox","0 0 24 24"),l(Ne,"fill","none"),l(Ne,"stroke","currentColor"),l(Ne,"stroke-width","2"),l(Ne,"stroke-linecap","round"),l(Ne,"stroke-linejoin","round"),l(Ne,"class","feather feather-edit-2"),l(ut,"class","font-mono"),l(de,"class","flex flex-row gap-2 items-center text-blue-500 hover:bg-gray-300 hover:shadow-sm bg-gray-200 rounded py-2 px-4"),l(Ue,"id","action-buttons"),l(Ue,"class","grid place-content-center grid-flow-col gap-2 mt-6"),l(a,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(et,"class","flex flex-col bg-gray-800 rounded ring-2 ring-gray-500 snap-center p-1"),l(t,"id","scrollable"),l(t,"class","flex flex-row gap-5 text-black p-2 w-[20rem] md:w-[30rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),l(tt,"type","checkbox"),tt.checked=dt=n[1]===0,l(tt,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1di21t9"),l(Ge,"type","checkbox"),Ge.checked=st=n[1]===1,l(Ge,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1di21t9"),l(Re,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),l(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(U,be){re(U,e,be),o(e,t),Se&&Se.m(t,null),o(t,r),o(t,a),o(a,i),o(i,s),o(s,c),o(c,g),o(c,v),We&&We.m(c,null),o(s,k),pt(S,s,null),o(i,m),He&&He.m(i,null),o(i,D),o(i,O),o(O,C),o(O,_),o(_,y),o(i,V),Ve&&Ve.m(i,null),o(i,L),Le&&Le.m(i,null),o(a,Z),o(a,j),o(j,x),o(x,A),o(A,ee),o(x,te),o(x,Y),o(Y,P),o(P,z),o(P,Q),o(P,$),o(x,F),qe&&qe.m(x,null),o(j,ne),o(j,ce),o(ce,Ee);for(let lt=0;lt<Be.length;lt+=1)Be[lt].m(Ee,null);o(a,ae),o(a,pe),o(pe,ye),o(ye,N),o(N,le),o(pe,Ae),o(pe,oe),o(oe,ke),o(ke,De),o(ke,Fe),o(Fe,X),o(oe,ue),o(oe,W),o(W,R),o(W,ve),o(ve,Ze),o(a,Te),o(a,Ue),o(Ue,je),o(je,G),o(G,xe),o(G,$e),o(G,me),o(G,se),o(je,rt),o(je,Me),o(Me,Ce),o(Ue,B),o(Ue,de),o(de,Ne),o(Ne,he),o(de,ct),o(de,ut),o(ut,at),o(t,yt),o(t,et),pt(ze,et,null),o(e,St),o(e,Re),o(Re,tt),o(Re,Ot),o(Re,Ge),Qe=!0,Dt||(Ft=[M(Y,"click",n[17]),M(je,"click",n[18]),M(de,"click",n[9]),M(t,"click",it(n[12])),M(t,"keydown",it(n[13])),M(t,"scroll",n[4]),M(tt,"change",n[19]),M(Ge,"change",n[20]),M(Re,"click",it(n[10])),M(Re,"keydown",it(n[11])),M(e,"click",n[7]),M(e,"keydown",n[7])],Dt=!0)},p(U,[be]){U[2]?Se?(Se.p(U,be),be&4&&_e(Se,1)):(Se=Jo(U),Se.c(),_e(Se,1),Se.m(t,r)):Se&&(pl(),Oe(Se,1,1,()=>{Se=null}),gl()),(!Qe||be&1)&&p!==(p=U[0].turbineName+"")&&ge(g,p),U[0].turbineNumber?We?We.p(U,be):(We=Qo(U),We.c(),We.m(c,null)):We&&(We.d(1),We=null);const lt={};if(be&1&&(lt.power=U[0].power),S.$set(lt),U[0].creationDate?He?He.p(U,be):(He=Xo(U),He.c(),He.m(i,D)):He&&(He.d(1),He=null),(!Qe||be&1)&&E!==(E=U[0].turbineState+"")&&ge(y,E),U[0].permittingDate!==void 0?Ve?Ve.p(U,be):(Ve=Zo(U),Ve.c(),Ve.m(i,L)):Ve&&(Ve.d(1),Ve=null),U[0].priorNotification!==void 0?Le?Le.p(U,be):(Le=$o(U),Le.c(),Le.m(i,null)):Le&&(Le.d(1),Le=null),(!Qe||be&8&&K!==(K="hover:text-amber-400 "+(U[3]?"text-amber-400":"")))&&l(Y,"class",K),U[3]?qe?qe.p(U,be):(qe=er(U),qe.c(),qe.m(x,null)):qe&&(qe.d(1),qe=null),be&1){Mt=U[0].operation;let we;for(we=0;we<Mt.length;we+=1){const Nt=Go(U,Mt,we);Be[we]?Be[we].p(Nt,be):(Be[we]=tr(Nt),Be[we].c(),Be[we].m(Ee,null))}for(;we<Be.length;we+=1)Be[we].d(1);Be.length=Mt.length}(!Qe||be&1)&&ie!==(ie=(U[0].startingDateEEMM||"N/A")+"")&&ge(X,ie),(!Qe||be&1)&&Ke!==(Ke=(U[0].startingDateOOCC||"N/A")+"")&&ge(Ze,Ke);const Je={};be&1&&(Je.turbine=U[0]),ze.$set(Je),(!Qe||be&2&&dt!==(dt=U[1]===0))&&(tt.checked=dt),(!Qe||be&2&&st!==(st=U[1]===1))&&(Ge.checked=st)},i(U){Qe||(_e(Se),_e(S.$$.fragment,U),_e(ze.$$.fragment,U),Et(()=>{ot||(ot=Il(t,Tt,{duration:150},!0)),ot.run(1)}),Qe=!0)},o(U){Oe(Se),Oe(S.$$.fragment,U),Oe(ze.$$.fragment,U),ot||(ot=Il(t,Tt,{duration:150},!1)),ot.run(0),Qe=!1},d(U){U&&u(e),Se&&Se.d(),We&&We.d(),gt(S),He&&He.d(),Ve&&Ve.d(),Le&&Le.d(),qe&&qe.d(),ir(Be,U),gt(ze),U&&ot&&ot.end(),Dt=!1,nt(Ft)}}}function fn(n,e,t){let{windfarm:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",creationDate:null,startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null,toNotDismantle:!1}}=e;const a=Zt();let i=0;const s=()=>{const A=document.getElementById("scrollable");A&&(A.scrollLeft<=10?t(1,i=0):t(1,i=1))},c=()=>{const A=document.getElementById("scrollable");A&&A.scrollTo({left:0,behavior:"smooth"})},p=()=>{const A=document.getElementById("scrollable");A&&A.scrollTo({left:A.scrollWidth,behavior:"smooth"})},g=()=>{a("close")};let v=!1;const k=()=>{t(2,v=!1),Mr(r.id).then(()=>{a("deleted")})},S=()=>{a("editMode",r.id)};let m=!1;function D(A){Wt.call(this,n,A)}function O(A){Wt.call(this,n,A)}function C(A){Wt.call(this,n,A)}function _(A){Wt.call(this,n,A)}const E=()=>{t(2,v=!1)},y=()=>{t(2,v=!1)},V=()=>{t(2,v=!1)},L=()=>t(3,m=!m),Z=()=>{t(2,v=!0)},j=()=>{c()},x=()=>{p()};return n.$$set=A=>{"windfarm"in A&&t(0,r=A.windfarm)},[r,i,v,m,s,c,p,g,k,S,D,O,C,_,E,y,V,L,Z,j,x]}class hn extends vt{constructor(e){super(),mt(this,e,fn,dn,_t,{windfarm:0})}}function lr(n,e,t){const r=n.slice();return r[6]=e[t],r}function or(n){let e,t,r,a,i,s,c,p,g,v,k,S,m,D,O,C,_,E,y,V,L,Z,j,x,A,ee,te,Y,P,z,Q,$;return{c(){e=f("div"),t=f("input"),r=b(),a=f("div"),i=f("select"),s=f("option"),c=I("Tutte le attività"),p=f("option"),g=I("In corso"),v=f("option"),k=I("Cantieri chiusi"),S=b(),m=f("div"),D=H("svg"),O=H("path"),C=b(),_=f("div"),E=f("select"),y=f("option"),V=I("Tutte le operazioni"),L=f("option"),Z=I("Pale"),j=f("option"),x=I("Main components"),A=f("option"),ee=I("Manutenzioni Ordinarie"),te=b(),Y=f("div"),P=H("svg"),z=H("path"),this.h()},l(K){e=h(K,"DIV",{class:!0});var F=d(e);t=h(F,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),r=w(F),a=h(F,"DIV",{class:!0});var ne=d(a);i=h(ne,"SELECT",{class:!0});var ce=d(i);s=h(ce,"OPTION",{});var Ee=d(s);c=T(Ee,"Tutte le attività"),Ee.forEach(u),p=h(ce,"OPTION",{});var ae=d(p);g=T(ae,"In corso"),ae.forEach(u),v=h(ce,"OPTION",{});var pe=d(v);k=T(pe,"Cantieri chiusi"),pe.forEach(u),ce.forEach(u),S=w(ne),m=h(ne,"DIV",{class:!0});var ye=d(m);D=q(ye,"svg",{class:!0,xmlns:!0,viewBox:!0});var N=d(D);O=q(N,"path",{d:!0}),d(O).forEach(u),N.forEach(u),ye.forEach(u),ne.forEach(u),C=w(F),_=h(F,"DIV",{class:!0});var le=d(_);E=h(le,"SELECT",{class:!0});var Ae=d(E);y=h(Ae,"OPTION",{});var oe=d(y);V=T(oe,"Tutte le operazioni"),oe.forEach(u),L=h(Ae,"OPTION",{});var ke=d(L);Z=T(ke,"Pale"),ke.forEach(u),j=h(Ae,"OPTION",{});var De=d(j);x=T(De,"Main components"),De.forEach(u),A=h(Ae,"OPTION",{});var Fe=d(A);ee=T(Fe,"Manutenzioni Ordinarie"),Fe.forEach(u),Ae.forEach(u),te=w(le),Y=h(le,"DIV",{class:!0});var ie=d(Y);P=q(ie,"svg",{class:!0,xmlns:!0,viewBox:!0});var X=d(P);z=q(X,"path",{d:!0}),d(z).forEach(u),X.forEach(u),ie.forEach(u),le.forEach(u),F.forEach(u),this.h()},h(){l(t,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(t,"type","text"),l(t,"id","turbineName"),l(t,"name","turbineName"),l(t,"placeholder","Anno"),s.__value="ALL",s.value=s.__value,p.__value="ONLY_INCOMPLETE",p.value=p.__value,v.__value="ONLY_COMPLETED",v.value=v.__value,l(i,"class","w-full min-w-1/2 min-w-[13rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[3]===void 0&&Et(()=>n[23].call(i)),l(O,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(D,"class","w-6 h-6 text-white fill-current"),l(D,"xmlns","http://www.w3.org/2000/svg"),l(D,"viewBox","0 0 20 20"),l(m,"class","absolute top-2 right-2 font-bold"),l(a,"class","relative"),y.__value="ALL",y.value=y.__value,L.__value="ONLY_BLADES",L.value=L.__value,j.__value="MAIN_COMPS",j.value=j.__value,A.__value="MAINTENANCE",A.value=A.__value,l(E,"class","w-full min-w-1/2 min-w-[15rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[4]===void 0&&Et(()=>n[24].call(E)),l(z,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(P,"class","w-6 h-6 text-white fill-current"),l(P,"xmlns","http://www.w3.org/2000/svg"),l(P,"viewBox","0 0 20 20"),l(Y,"class","absolute top-2 right-2 font-bold"),l(_,"class","relative"),l(e,"class","flex flex-col md:flex-row gap-2")},m(K,F){re(K,e,F),o(e,t),Ql(t,n[2]),o(e,r),o(e,a),o(a,i),o(i,s),o(s,c),o(i,p),o(p,g),o(i,v),o(v,k),Jl(i,n[3]),o(a,S),o(a,m),o(m,D),o(D,O),o(e,C),o(e,_),o(_,E),o(E,y),o(y,V),o(E,L),o(L,Z),o(E,j),o(j,x),o(E,A),o(A,ee),Jl(E,n[4]),o(_,te),o(_,Y),o(Y,P),o(P,z),Q||($=[M(t,"input",n[22]),M(i,"change",n[23]),M(E,"change",n[24])],Q=!0)},p(K,F){F&4&&t.value!==K[2]&&Ql(t,K[2]),F&8&&Jl(i,K[3]),F&16&&Jl(E,K[4])},d(K){K&&u(e),Q=!1,nt($)}}}function pn(n){let e,t=[],r=new Map,a,i=n[5];const s=c=>c[6].id;for(let c=0;c<i.length;c+=1){let p=lr(n,i,c),g=s(p);r.set(g,t[c]=rr(g,p))}return{c(){e=f("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=h(c,"DIV",{class:!0});var p=d(e);for(let g=0;g<t.length;g+=1)t[g].l(p);p.forEach(u),this.h()},h(){l(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(c,p){re(c,e,p);for(let g=0;g<t.length;g+=1)t[g].m(e,null);a=!0},p(c,p){p&4128&&(i=c[5],pl(),t=no(t,p,s,1,c,i,r,e,vr,rr,null,lr),gl())},i(c){if(!a){for(let p=0;p<i.length;p+=1)_e(t[p]);a=!0}},o(c){for(let p=0;p<t.length;p+=1)Oe(t[p]);a=!1},d(c){c&&u(e);for(let p=0;p<t.length;p+=1)t[p].d()}}}function gn(n){let e,t,r,a,i;return{c(){e=f("div"),t=f("div"),r=b(),a=f("p"),i=I("Caricamento in corso..."),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);t=h(c,"DIV",{class:!0}),d(t).forEach(u),r=w(c),a=h(c,"P",{class:!0});var p=d(a);i=T(p,"Caricamento in corso..."),p.forEach(u),c.forEach(u),this.h()},h(){l(t,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),l(a,"class","mt-4 text-xl font-bold font-mono"),l(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(s,c){re(s,e,c),o(e,t),o(e,r),o(e,a),o(a,i)},p:Pe,i:Pe,o:Pe,d(s){s&&u(e)}}}function rr(n,e){let t,r,a;return r=new Or({props:{turbine:e[6]}}),r.$on("showDetails",e[12]),{key:n,first:null,c(){t=Nl(),ft(r.$$.fragment),this.h()},l(i){t=Nl(),ht(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){re(i,t,s),pt(r,i,s),a=!0},p(i,s){e=i;const c={};s&32&&(c.turbine=e[6]),r.$set(c)},i(i){a||(_e(r.$$.fragment,i),a=!0)},o(i){Oe(r.$$.fragment,i),a=!1},d(i){i&&u(t),gt(r,i)}}}function nr(n){let e,t,r,a,i;return t=new hn({props:{windfarm:n[6]}}),t.$on("closeDetails",n[13]),t.$on("editMode",n[15]),t.$on("deleted",n[14]),{c(){e=f("div"),ft(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){re(s,e,c),pt(t,e,null),r=!0,a||(i=[M(e,"click",n[13]),M(e,"keydown",n[13])],a=!0)},p(s,c){const p={};c&64&&(p.windfarm=s[6]),t.$set(p)},i(s){r||(_e(t.$$.fragment,s),r=!0)},o(s){Oe(t.$$.fragment,s),r=!1},d(s){s&&u(e),gt(t),a=!1,nt(i)}}}function ar(n){let e,t,r,a,i;return t=new Yr({props:{turbine:n[6]}}),t.$on("close",n[25]),t.$on("updated",n[18]),{c(){e=f("div"),ft(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){re(s,e,c),pt(t,e,null),r=!0,a||(i=[M(e,"click",n[13]),M(e,"keydown",n[13])],a=!0)},p(s,c){const p={};c&64&&(p.turbine=s[6]),t.$set(p)},i(s){r||(_e(t.$$.fragment,s),r=!0)},o(s){Oe(t.$$.fragment,s),r=!1},d(s){s&&u(e),gt(t),a=!1,nt(i)}}}function sr(n){let e,t,r,a,i;return t=new Qr({}),t.$on("close",n[26]),t.$on("created",n[17]),{c(){e=f("div"),ft(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){re(s,e,c),pt(t,e,null),r=!0,a||(i=[M(e,"click",n[13]),M(e,"keydown",n[13])],a=!0)},p:Pe,i(s){r||(_e(t.$$.fragment,s),r=!0)},o(s){Oe(t.$$.fragment,s),r=!1},d(s){s&&u(e),gt(t),a=!1,nt(i)}}}function vn(n){let e,t,r,a,i,s,c,p,g,v,k,S,m,D,O,C,_,E,y,V,L,Z,j,x,A,ee,te,Y,P,z,Q,$,K,F,ne,ce,Ee,ae,pe,ye,N,le,Ae,oe=n[10]&&or(n);const ke=[gn,pn],De=[];function Fe(W,R){return W[0].length===0?0:1}F=Fe(n),ne=De[F]=ke[F](n);let ie=n[7]&&nr(n),X=n[8]&&ar(n),ue=n[9]&&sr(n);return{c(){e=f("div"),t=f("div"),r=f("section"),a=f("div"),i=f("input"),s=b(),c=f("button"),p=H("svg"),g=H("polygon"),k=b(),oe&&oe.c(),S=b(),m=f("div"),D=f("p"),O=I(n[11]),C=I(" risultati"),_=b(),E=f("div"),y=f("button"),V=H("svg"),L=H("path"),Z=H("polyline"),j=H("line"),x=H("line"),A=H("polyline"),te=b(),Y=f("button"),P=H("svg"),z=H("line"),Q=H("line"),$=b(),K=f("section"),ne.c(),ce=b(),ie&&ie.c(),Ee=b(),X&&X.c(),ae=b(),ue&&ue.c(),this.h()},l(W){e=h(W,"DIV",{});var R=d(e);t=h(R,"DIV",{id:!0,class:!0});var ve=d(t);r=h(ve,"SECTION",{class:!0,id:!0});var Ke=d(r);a=h(Ke,"DIV",{class:!0});var Ze=d(a);i=h(Ze,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),s=w(Ze),c=h(Ze,"BUTTON",{class:!0});var Te=d(c);p=q(Te,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ue=d(p);g=q(Ue,"polygon",{points:!0}),d(g).forEach(u),Ue.forEach(u),Te.forEach(u),Ze.forEach(u),k=w(Ke),oe&&oe.l(Ke),Ke.forEach(u),S=w(ve),m=h(ve,"DIV",{class:!0});var je=d(m);D=h(je,"P",{class:!0});var G=d(D);O=T(G,n[11]),C=T(G," risultati"),G.forEach(u),_=w(je),E=h(je,"DIV",{class:!0});var xe=d(E);y=h(xe,"BUTTON",{class:!0});var $e=d(y);V=q($e,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var me=d(V);L=q(me,"path",{d:!0}),d(L).forEach(u),Z=q(me,"polyline",{points:!0}),d(Z).forEach(u),j=q(me,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(j).forEach(u),x=q(me,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(x).forEach(u),A=q(me,"polyline",{points:!0}),d(A).forEach(u),me.forEach(u),$e.forEach(u),te=w(xe),Y=h(xe,"BUTTON",{class:!0});var se=d(Y);P=q(se,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var rt=d(P);z=q(rt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(z).forEach(u),Q=q(rt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Q).forEach(u),rt.forEach(u),se.forEach(u),xe.forEach(u),je.forEach(u),$=w(ve),K=h(ve,"SECTION",{class:!0});var Me=d(K);ne.l(Me),ce=w(Me),ie&&ie.l(Me),Ee=w(Me),X&&X.l(Me),ae=w(Me),ue&&ue.l(Me),Me.forEach(u),ve.forEach(u),R.forEach(u),this.h()},h(){l(i,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(i,"type","text"),l(i,"id","turbineName"),l(i,"name","turbineName"),l(i,"placeholder","Cerca"),l(g,"points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"),l(p,"xmlns","http://www.w3.org/2000/svg"),l(p,"width","24"),l(p,"height","24"),l(p,"viewBox","0 0 24 24"),l(p,"fill","none"),l(p,"stroke","currentColor"),l(p,"stroke-width","2"),l(p,"stroke-linecap","round"),l(p,"stroke-linejoin","round"),l(p,"class",v=n[10]?"text-blue-500 rotate-90":"text-white"),l(c,"class","py-2 px-2 hover:text-blue-500 bg-gray-700 rounded-sm md:rounded-md"),l(a,"class","items-center flex flex-row justify-between md:justify-start gap-2"),l(r,"class","mt-5 flex flex-col gap-3 font-mono h-min-[10vh]"),l(r,"id","filters"),l(D,"class","font-mono text-lg"),l(L,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),l(Z,"points","14 2 14 8 20 8"),l(j,"x1","16"),l(j,"y1","13"),l(j,"x2","8"),l(j,"y2","13"),l(x,"x1","16"),l(x,"y1","17"),l(x,"x2","8"),l(x,"y2","17"),l(A,"points","10 9 9 9 8 9"),l(V,"xmlns","http://www.w3.org/2000/svg"),l(V,"width","22"),l(V,"height","22"),l(V,"viewBox","0 0 24 24"),l(V,"fill","none"),l(V,"stroke","currentColor"),l(V,"stroke-width","2"),l(V,"stroke-linecap","round"),l(V,"stroke-linejoin","round"),l(V,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),l(y,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),y.disabled=ee=n[0].length===0,l(z,"x1","12"),l(z,"y1","5"),l(z,"x2","12"),l(z,"y2","19"),l(Q,"x1","5"),l(Q,"y1","12"),l(Q,"x2","19"),l(Q,"y2","12"),l(P,"xmlns","http://www.w3.org/2000/svg"),l(P,"width","22"),l(P,"height","22"),l(P,"viewBox","0 0 24 24"),l(P,"fill","none"),l(P,"stroke","currentColor"),l(P,"stroke-width","2"),l(P,"stroke-linecap","round"),l(P,"stroke-linejoin","round"),l(P,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),l(Y,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),l(E,"class","justify-end flex flex-row gap-4"),l(m,"class","flex flex-row justify-between items-center h-[10vh]"),l(K,"class",pe="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(n[10]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"),l(t,"id","full-content"),l(t,"class","p-4")},m(W,R){re(W,e,R),o(e,t),o(t,r),o(r,a),o(a,i),Ql(i,n[1]),o(a,s),o(a,c),o(c,p),o(p,g),o(r,k),oe&&oe.m(r,null),o(t,S),o(t,m),o(m,D),o(D,O),o(D,C),o(m,_),o(m,E),o(E,y),o(y,V),o(V,L),o(V,Z),o(V,j),o(V,x),o(V,A),o(E,te),o(E,Y),o(Y,P),o(P,z),o(P,Q),o(t,$),o(t,K),De[F].m(K,null),o(K,ce),ie&&ie.m(K,null),o(K,Ee),X&&X.m(K,null),o(K,ae),ue&&ue.m(K,null),N=!0,le||(Ae=[M(i,"input",n[20]),M(c,"click",n[21]),M(y,"click",n[19]),M(Y,"click",n[16])],le=!0)},p(W,[R]){R&2&&i.value!==W[1]&&Ql(i,W[1]),(!N||R&1024&&v!==(v=W[10]?"text-blue-500 rotate-90":"text-white"))&&l(p,"class",v),W[10]?oe?oe.p(W,R):(oe=or(W),oe.c(),oe.m(r,null)):oe&&(oe.d(1),oe=null),(!N||R&2048)&&ge(O,W[11]),(!N||R&1&&ee!==(ee=W[0].length===0))&&(y.disabled=ee);let ve=F;F=Fe(W),F===ve?De[F].p(W,R):(pl(),Oe(De[ve],1,1,()=>{De[ve]=null}),gl(),ne=De[F],ne?ne.p(W,R):(ne=De[F]=ke[F](W),ne.c()),_e(ne,1),ne.m(K,ce)),W[7]?ie?(ie.p(W,R),R&128&&_e(ie,1)):(ie=nr(W),ie.c(),_e(ie,1),ie.m(K,Ee)):ie&&(pl(),Oe(ie,1,1,()=>{ie=null}),gl()),W[8]?X?(X.p(W,R),R&256&&_e(X,1)):(X=ar(W),X.c(),_e(X,1),X.m(K,ae)):X&&(pl(),Oe(X,1,1,()=>{X=null}),gl()),W[9]?ue?(ue.p(W,R),R&512&&_e(ue,1)):(ue=sr(W),ue.c(),_e(ue,1),ue.m(K,null)):ue&&(pl(),Oe(ue,1,1,()=>{ue=null}),gl()),(!N||R&1024&&pe!==(pe="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(W[10]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"))&&l(K,"class",pe)},i(W){N||(_e(ne),_e(ie),_e(X),_e(ue),Et(()=>{ye||(ye=Il(e,Tt,{duration:200},!0)),ye.run(1)}),N=!0)},o(W){Oe(ne),Oe(ie),Oe(X),Oe(ue),ye||(ye=Il(e,Tt,{duration:200},!1)),ye.run(0),N=!1},d(W){W&&u(e),oe&&oe.d(),De[F].d(),ie&&ie.d(),X&&X.d(),ue&&ue.d(),W&&ye&&ye.end(),le=!1,nt(Ae)}}}function mn(n,e,t){let r,a,i=!1,s={},c=[];ao(()=>{Ol().then(z=>{t(0,c=z)})});const p=z=>{const Q=z.detail;t(6,s=c.find($=>$.id===Q)),t(7,i=!0),t(8,k=!1)},g=()=>{Ol().then(z=>{t(0,c=z),t(7,i=!1)})},v=()=>{t(7,i=!1),Ol().then(z=>{t(0,c=z)})};let k=!1;const S=z=>{const Q=z.detail;t(6,s=c.find($=>$.id===Q)),t(7,i=!1),t(8,k=!0)};let m=!1;const D=()=>{t(9,m=!0),t(7,i=!1),t(8,k=!1)},O=()=>{t(9,m=!1),t(7,i=!1),t(8,k=!1),Ol().then(z=>{console.log("Updating with: ",z),t(0,c=z)})},C=()=>{Ol().then(z=>{t(0,c=z),t(8,k=!1)})},_=()=>{c.length>0&&Pr().then(z=>{const Q=new Blob([z.data],{type:"text/csv"}),$=window.URL.createObjectURL(Q),K=document.createElement("a");K.href=$,K.download="export.csv",K.click()})};let E="",y="",V="ALL",L="ALL",Z=!1;function j(){E=this.value,t(1,E)}const x=()=>{t(10,Z=!Z)};function A(){y=this.value,t(2,y)}function ee(){V=Bo(this),t(3,V)}function te(){L=Bo(this),t(4,L)}const Y=()=>t(8,k=!1),P=()=>t(9,m=!1);return n.$$.update=()=>{n.$$.dirty&31&&t(5,r=c.filter(z=>{const Q=E.toLowerCase(),$=z.description.toLowerCase().includes(Q),K=z.turbineName.toLowerCase().includes(Q),F=z.turbineNumber.toLowerCase().includes(Q),ne=z.creationDate.includes(y),ce=V==="ALL"||V==="ONLY_INCOMPLETE"&&!z.completionDate||V==="ONLY_COMPLETED"&&z.completionDate,Ee=L==="ALL"||L==="MAINTENANCE"&&z.operation.some(ae=>ae.includes(kt[20])||ae.includes(kt[21])||ae.includes(kt[22])||ae.includes(kt[25])||ae.includes(kt[26]))||L==="ONLY_BLADES"&&z.operation.some(ae=>ae.includes(kt[2]))||L==="MAIN_COMPS"&&z.operation.some(ae=>!ae.includes(kt[20])&&!ae.includes(kt[21])&&!ae.includes(kt[22])&&!ae.includes(kt[25])&&!ae.includes(kt[26]));return($||K||F)&&ne&&ce&&Ee})),n.$$.dirty&32&&t(11,a=r.length)},[c,E,y,V,L,r,s,i,k,m,Z,a,p,g,v,S,D,O,C,_,j,x,A,ee,te,Y,P]}class wn extends vt{constructor(e){super(),mt(this,e,mn,vn,_t,{})}}export{wn as default};
