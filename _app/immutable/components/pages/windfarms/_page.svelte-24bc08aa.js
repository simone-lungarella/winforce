import{P as Xr,S as Xe,i as Ze,s as et,k as f,q as S,a as E,E as j,l as h,m as d,r as I,c as y,h as c,F as $,n as t,p as Nr,b as K,C as o,G as B,O as Gl,u as he,Q as nt,R as bt,B as we,D as ft,e as wt,T as Zr,U as Dr,V as eo,o as Jl,W as Ql,X as Yr,H as rt,w as Ye,x as Ge,y as Je,Y as lt,f as ue,g as Mt,t as Ee,d as Vt,z as Qe,Z as _t,_ as He,$ as Il,a0 as Dl,a1 as Sr,a2 as to,a3 as lo}from"../../../chunks/index-6db6588e.js";import{a as Pt}from"../../../chunks/axios-67252f11.js";function ro(a){const e=a-1;return e*e*e+1}function Gr(a,{delay:e=0,duration:l=400,easing:r=Xr}={}){const n=+getComputedStyle(a).opacity;return{delay:e,duration:l,easing:r,css:u=>`opacity: ${u*n}`}}function ct(a,{delay:e=0,duration:l=400,easing:r=ro}={}){const n=getComputedStyle(a),u=+n.opacity,s=parseFloat(n.height),i=parseFloat(n.paddingTop),p=parseFloat(n.paddingBottom),m=parseFloat(n.marginTop),v=parseFloat(n.marginBottom),w=parseFloat(n.borderTopWidth),_=parseFloat(n.borderBottomWidth);return{delay:e,duration:l,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*u};height: ${g*s}px;padding-top: ${g*i}px;padding-bottom: ${g*p}px;margin-top: ${g*m}px;margin-bottom: ${g*v}px;border-top-width: ${g*w}px;border-bottom-width: ${g*_}px;`}}const Sl={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Ir(a){let e,l,r=a[0].turbineNumber+"",n;return{c(){e=f("span"),l=S("- "),n=S(r),this.h()},l(u){e=h(u,"SPAN",{class:!0});var s=d(e);l=I(s,"- "),n=I(s,r),s.forEach(c),this.h()},h(){t(e,"class","hidden md:inline-block")},m(u,s){K(u,e,s),o(e,l),o(e,n)},p(u,s){s&1&&r!==(r=u[0].turbineNumber+"")&&he(n,r)},d(u){u&&c(e)}}}function oo(a){let e,l;return{c(){e=f("span"),l=S("Cantiere chiuso"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=I(n,"Cantiere chiuso"),n.forEach(c),this.h()},h(){t(e,"class","absolute font-bold text-lg flex px-1")},m(r,n){K(r,e,n),o(e,l)},p:we,d(r){r&&c(e)}}}function no(a){let e,l;return{c(){e=f("span"),l=S(a[1]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=I(n,a[1]),n.forEach(c),this.h()},h(){t(e,"class","absolute font-bold text-lg flex px-1")},m(r,n){K(r,e,n),o(e,l)},p(r,n){n&2&&he(l,r[1])},d(r){r&&c(e)}}}function ao(a){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(c),this.h()},h(){t(e,"class","hidden md:flex")},m(l,r){K(l,e,r)},p:we,d(l){l&&c(e)}}}function so(a){let e,l;return{c(){e=f("span"),l=S(a[3]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=I(n,a[3]),n.forEach(c),this.h()},h(){t(e,"class","flex md:justify-end md:mr-5")},m(r,n){K(r,e,n),o(e,l)},p(r,n){n&8&&he(l,r[3])},d(r){r&&c(e)}}}function io(a){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(c),this.h()},h(){t(e,"class","hidden md:flex col-span-2")},m(l,r){K(l,e,r)},p:we,d(l){l&&c(e)}}}function co(a){let e,l,r,n=a[0].odlNumber+"",u;return{c(){e=f("p"),l=S("ODL: "),r=f("span"),u=S(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=I(i,"ODL: "),r=h(i,"SPAN",{class:!0});var p=d(r);u=I(p,n),p.forEach(c),i.forEach(c),this.h()},h(){t(r,"class","text-blue-400"),t(e,"class","flex justify-end mr-5")},m(s,i){K(s,e,i),o(e,l),o(e,r),o(r,u)},p(s,i){i&1&&n!==(n=s[0].odlNumber+"")&&he(u,n)},d(s){s&&c(e)}}}function uo(a){let e,l,r,n,u;return{c(){e=f("span"),l=S("Non disponibile"),r=E(),n=f("span"),u=S("N/A"),this.h()},l(s){e=h(s,"SPAN",{class:!0});var i=d(e);l=I(i,"Non disponibile"),i.forEach(c),r=y(s),n=h(s,"SPAN",{class:!0});var p=d(n);u=I(p,"N/A"),p.forEach(c),this.h()},h(){t(e,"class","font-mono font-bold text-end hidden md:flex"),t(n,"class","font-mono font-bold text-end flex md:hidden")},m(s,i){K(s,e,i),o(e,l),K(s,r,i),K(s,n,i),o(n,u)},p:we,d(s){s&&c(e),s&&c(r),s&&c(n)}}}function fo(a){let e,l;return{c(){e=f("span"),l=S(a[2]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);l=I(n,a[2]),n.forEach(c),this.h()},h(){t(e,"class","font-mono font-bold text-end")},m(r,n){K(r,e,n),o(e,l)},p(r,n){n&4&&he(l,r[2])},d(r){r&&c(e)}}}function ho(a){let e,l,r,n,u=a[0].turbineName+"",s,i,p,m,v,w,_,g,b,k,C,N,D,O,U,z=a[0].description+"",F,G,te,J,T,x,A,le,_e,Y=a[0].operation[0]+"",ne,Be,V,Z=a[0].turbineState+"",Te,ge,ae,Ne,$e,re,se,ye,Fe,De,me,pe,ie,de,Me,xe,Se,Oe,R=a[0].turbineNumber&&Ir(a);function fe(H,Q){return H[1]?no:oo}let L=fe(a),P=L(a);function W(H,Q){return H[3]!==null&&H[3]!==void 0?so:ao}let X=W(a),M=X(a);function ee(H,Q){return H[0].odlNumber!==void 0&&H[0].odlNumber!==0?co:io}let Ce=ee(a),ve=Ce(a);function We(H,Q){return H[2]?fo:uo}let Le=We(a),be=Le(a);return{c(){e=f("div"),l=f("div"),r=f("div"),n=f("h1"),s=S(u),i=E(),R&&R.c(),p=E(),m=f("div"),v=f("div"),w=f("div"),_=E(),P.c(),g=E(),M.c(),b=E(),k=f("div"),C=j("svg"),N=j("path"),D=j("circle"),O=E(),U=f("span"),F=S(z),G=E(),ve.c(),te=E(),J=f("div"),T=j("svg"),x=j("path"),A=j("rect"),le=E(),_e=f("span"),ne=S(Y),Be=E(),V=f("span"),Te=S(Z),ge=E(),ae=f("span"),Ne=S("Scadenza cantiere:"),$e=E(),re=f("span"),se=S("Scadenza:"),ye=E(),be.c(),Fe=E(),De=f("div"),me=f("div"),pe=f("button"),ie=j("svg"),de=j("circle"),Me=j("line"),this.h()},l(H){e=h(H,"DIV",{class:!0});var Q=d(e);l=h(Q,"DIV",{class:!0});var ze=d(l);r=h(ze,"DIV",{class:!0});var oe=d(r);n=h(oe,"H1",{class:!0});var Ke=d(n);s=I(Ke,u),i=y(Ke),R&&R.l(Ke),Ke.forEach(c),p=y(oe),m=h(oe,"DIV",{class:!0});var Ve=d(m);v=h(Ve,"DIV",{class:!0});var Ue=d(v);w=h(Ue,"DIV",{class:!0,style:!0}),d(w).forEach(c),_=y(Ue),P.l(Ue),Ue.forEach(c),Ve.forEach(c),g=y(oe),M.l(oe),b=y(oe),k=h(oe,"DIV",{class:!0});var Ie=d(k);C=$(Ie,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Pe=d(C);N=$(Pe,"path",{d:!0}),d(N).forEach(c),D=$(Pe,"circle",{cx:!0,cy:!0,r:!0}),d(D).forEach(c),Pe.forEach(c),O=y(Ie),U=h(Ie,"SPAN",{});var qe=d(U);F=I(qe,z),qe.forEach(c),Ie.forEach(c),G=y(oe),ve.l(oe),te=y(oe),J=h(oe,"DIV",{class:!0});var Re=d(J);T=$(Re,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var at=d(T);x=$(at,"path",{d:!0}),d(x).forEach(c),A=$(at,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(A).forEach(c),at.forEach(c),le=y(Re),_e=h(Re,"SPAN",{class:!0});var ot=d(_e);ne=I(ot,Y),ot.forEach(c),Re.forEach(c),Be=y(oe),V=h(oe,"SPAN",{class:!0});var ut=d(V);Te=I(ut,Z),ut.forEach(c),ge=y(oe),ae=h(oe,"SPAN",{class:!0});var ht=d(ae);Ne=I(ht,"Scadenza cantiere:"),ht.forEach(c),$e=y(oe),re=h(oe,"SPAN",{class:!0});var kt=d(re);se=I(kt,"Scadenza:"),kt.forEach(c),ye=y(oe),be.l(oe),oe.forEach(c),Fe=y(ze),De=h(ze,"DIV",{class:!0});var At=d(De);me=h(At,"DIV",{class:!0});var st=d(me);pe=h(st,"BUTTON",{class:!0});var dt=d(pe);ie=$(dt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Et=d(ie);de=$(Et,"circle",{cx:!0,cy:!0,r:!0}),d(de).forEach(c),Me=$(Et,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Me).forEach(c),Et.forEach(c),dt.forEach(c),st.forEach(c),At.forEach(c),ze.forEach(c),Q.forEach(c),this.h()},h(){t(n,"class","font-bold text-4xl mt-3 col-span-1 md:col-span-2"),t(w,"class","bg-blue-500 h-full transition duration-300 ease-in-out transform"),Nr(w,"width",a[0].completedSteps*12.5+"%"),t(v,"class","flex bg-gray-600 h-7 rounded-sm overflow-hidden"),t(m,"class","flex flex-col gap-1"),t(N,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),t(D,"cx","12"),t(D,"cy","10"),t(D,"r","3"),t(C,"xmlns","http://www.w3.org/2000/svg"),t(C,"width","24"),t(C,"height","24"),t(C,"viewBox","0 0 24 24"),t(C,"fill","none"),t(C,"stroke","currentColor"),t(C,"stroke-width","2"),t(C,"stroke-linecap","round"),t(C,"stroke-linejoin","round"),t(C,"class","feather feather-map-pin"),t(k,"class","flex gap-2 -mb-2"),t(x,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),t(A,"x","8"),t(A,"y","2"),t(A,"width","8"),t(A,"height","4"),t(A,"rx","1"),t(A,"ry","1"),t(T,"xmlns","http://www.w3.org/2000/svg"),t(T,"width","24"),t(T,"height","24"),t(T,"viewBox","0 0 24 24"),t(T,"fill","none"),t(T,"stroke","currentColor"),t(T,"stroke-width","2"),t(T,"stroke-linecap","round"),t(T,"stroke-linejoin","round"),t(T,"class","feather feather-clipboard"),t(_e,"class","flex"),t(J,"class","flex gap-2"),t(V,"class","flex md:justify-end font-bold"),t(ae,"class","font-mono hidden md:flex"),t(re,"class","font-mono flex md:hidden"),t(r,"class","grid grid-cols-1 text-white font-mono gap-3"),t(de,"cx","11"),t(de,"cy","11"),t(de,"r","8"),t(Me,"x1","21"),t(Me,"y1","21"),t(Me,"x2","16.65"),t(Me,"y2","16.65"),t(ie,"xmlns","http://www.w3.org/2000/svg"),t(ie,"width","20"),t(ie,"height","20"),t(ie,"viewBox","0 0 24 24"),t(ie,"fill","none"),t(ie,"stroke","currentColor"),t(ie,"stroke-width","2"),t(ie,"stroke-linecap","round"),t(ie,"stroke-linejoin","round"),t(ie,"class","feather feather-search"),t(pe,"class","bg-gray-700 hover:bg-gray-600 py-2 px-4 rounded-sm"),t(me,"class","flex flex-col md:flex-row gap-2 md:gap-0"),t(De,"class","absolute top-0 right-0 mr-5 mt-5"),t(l,"class","bg-gray-800 px-4 my-2 mx-2 md:mx-0 rounded-sm shadow-md hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto md:h-56 pb-5 content-start group"),t(e,"class","snap-start pt-1")},m(H,Q){K(H,e,Q),o(e,l),o(l,r),o(r,n),o(n,s),o(n,i),R&&R.m(n,null),o(r,p),o(r,m),o(m,v),o(v,w),o(v,_),P.m(v,null),o(r,g),M.m(r,null),o(r,b),o(r,k),o(k,C),o(C,N),o(C,D),o(k,O),o(k,U),o(U,F),o(r,G),ve.m(r,null),o(r,te),o(r,J),o(J,T),o(T,x),o(T,A),o(J,le),o(J,_e),o(_e,ne),o(r,Be),o(r,V),o(V,Te),o(r,ge),o(r,ae),o(ae,Ne),o(r,$e),o(r,re),o(re,se),o(r,ye),be.m(r,null),o(l,Fe),o(l,De),o(De,me),o(me,pe),o(pe,ie),o(ie,de),o(ie,Me),Se||(Oe=B(pe,"click",Gl(a[4])),Se=!0)},p(H,[Q]){Q&1&&u!==(u=H[0].turbineName+"")&&he(s,u),H[0].turbineNumber?R?R.p(H,Q):(R=Ir(H),R.c(),R.m(n,null)):R&&(R.d(1),R=null),Q&1&&Nr(w,"width",H[0].completedSteps*12.5+"%"),L===(L=fe(H))&&P?P.p(H,Q):(P.d(1),P=L(H),P&&(P.c(),P.m(v,null))),X===(X=W(H))&&M?M.p(H,Q):(M.d(1),M=X(H),M&&(M.c(),M.m(r,b))),Q&1&&z!==(z=H[0].description+"")&&he(F,z),Ce===(Ce=ee(H))&&ve?ve.p(H,Q):(ve.d(1),ve=Ce(H),ve&&(ve.c(),ve.m(r,te))),Q&1&&Y!==(Y=H[0].operation[0]+"")&&he(ne,Y),Q&1&&Z!==(Z=H[0].turbineState+"")&&he(Te,Z),Le===(Le=We(H))&&be?be.p(H,Q):(be.d(1),be=Le(H),be&&(be.c(),be.m(r,null)))},i(H){xe||nt(()=>{xe=bt(l,ct,{duration:1e3}),xe.start()})},o:we,d(H){H&&c(e),R&&R.d(),P.d(),M.d(),ve.d(),be.d(),Se=!1,Oe()}}}function po(a,e,l){let r,n,u,{turbine:s={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const i=ft(),p=()=>{i("showDetails",s.id)};return a.$$set=m=>{"turbine"in m&&l(0,s=m.turbine)},a.$$.update=()=>{a.$$.dirty&1&&l(1,r=s.creationDate.includes("2022")?Sl[s.completedSteps+2]:Sl[s.completedSteps+1]),a.$$.dirty&3&&l(3,n=r===Sl[3]?s.priorNotification:r===Sl[4]?s.permittingDate:null),a.$$.dirty&1&&l(2,u=s.permittingDate?new Date(new Date(s.permittingDate).getTime()+90*24*60*60*1e3).toLocaleDateString("it-IT"):null)},[s,r,u,n,p]}class go extends Xe{constructor(e){super(),Ze(this,e,po,ho,et,{turbine:0})}}const tl="https://dockyard-handler.herokuapp.com/v1.0.0";async function el(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Pt.get(tl+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function mo(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.delete(tl+"/event?eventId="+a,l)}else console.log("Token not found in local storage")}async function vo(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.post(tl+"/event",a,l)}else console.log("Token not found in local storage")}async function _o(a){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(a)),await Pt.put(tl+"/event",a,l)}else console.log("Token not found in local storage")}async function bo(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.get(tl+"/events/csv",e)}else console.log("Token not found in local storage")}function Tr(a){let e,l,r,n,u=(a[0].startingDateEEMM||"____/__/__")+"",s,i,p,m,v,w=(a[0].startingDateOOCC||"____/__/__")+"",_;return{c(){e=f("div"),l=f("p"),r=S("Inizio ATT EEMM: "),n=f("span"),s=S(u),i=E(),p=f("p"),m=S("Inizio ATT OOCC: "),v=f("span"),_=S(w),this.h()},l(g){e=h(g,"DIV",{class:!0});var b=d(e);l=h(b,"P",{class:!0});var k=d(l);r=I(k,"Inizio ATT EEMM: "),n=h(k,"SPAN",{class:!0});var C=d(n);s=I(C,u),C.forEach(c),k.forEach(c),i=y(b),p=h(b,"P",{class:!0});var N=d(p);m=I(N,"Inizio ATT OOCC: "),v=h(N,"SPAN",{class:!0});var D=d(v);_=I(D,w),D.forEach(c),N.forEach(c),b.forEach(c),this.h()},h(){t(n,"class","font-extralight"),t(l,"class","font-mono text-white text-lg"),t(v,"class","font-extralight"),t(p,"class","font-mono text-white text-lg"),t(e,"class","p-2 mb-2")},m(g,b){K(g,e,b),o(e,l),o(l,r),o(l,n),o(n,s),o(e,i),o(e,p),o(p,m),o(p,v),o(v,_)},p(g,b){b&1&&u!==(u=(g[0].startingDateEEMM||"____/__/__")+"")&&he(s,u),b&1&&w!==(w=(g[0].startingDateOOCC||"____/__/__")+"")&&he(_,w)},d(g){g&&c(e)}}}function wo(a){let e,l,r,n,u,s,i,p,m,v,w,_=a[1]&&Tr(a);return{c(){e=f("button"),l=j("svg"),r=j("circle"),n=j("polyline"),u=E(),s=f("h1"),i=S("Tracciamento eventi"),p=E(),_&&_.c(),m=wt(),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var b=d(e);l=$(b,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var k=d(l);r=$(k,"circle",{cx:!0,cy:!0,r:!0}),d(r).forEach(c),n=$(k,"polyline",{points:!0}),d(n).forEach(c),k.forEach(c),u=y(b),s=h(b,"H1",{class:!0});var C=d(s);i=I(C,"Tracciamento eventi"),C.forEach(c),b.forEach(c),p=y(g),_&&_.l(g),m=wt(),this.h()},h(){t(r,"cx","12"),t(r,"cy","12"),t(r,"r","10"),t(n,"points","12 6 12 12 16 14"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"width","22"),t(l,"height","22"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(l,"stroke-linecap","round"),t(l,"stroke-linejoin","round"),t(l,"class","feather feather-clock"),t(s,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(g,b){K(g,e,b),o(e,l),o(l,r),o(l,n),o(e,u),o(e,s),o(s,i),K(g,p,b),_&&_.m(g,b),K(g,m,b),v||(w=B(e,"click",Gl(a[2])),v=!0)},p(g,[b]){g[1]?_?_.p(g,b):(_=Tr(g),_.c(),_.m(m.parentNode,m)):_&&(_.d(1),_=null)},i:we,o:we,d(g){g&&c(e),g&&c(p),_&&_.d(g),g&&c(m),v=!1,w()}}}function ko(a,e,l){let{turbine:r}=e,n=!1;const u=()=>l(1,n=!n);return a.$$set=s=>{"turbine"in s&&l(0,r=s.turbine)},[r,n,u]}class Eo extends Xe{constructor(e){super(),Ze(this,e,ko,wo,et,{turbine:0})}}function Or(a,e,l){const r=a.slice();return r[3]=e[l],r}function Cr(a){let e,l,r=a[0].operation,n=[];for(let u=0;u<r.length;u+=1)n[u]=Mr(Or(a,r,u));return{c(){e=f("div"),l=f("ul");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){e=h(u,"DIV",{class:!0});var s=d(e);l=h(s,"UL",{class:!0});var i=d(l);for(let p=0;p<n.length;p+=1)n[p].l(i);i.forEach(c),s.forEach(c),this.h()},h(){t(l,"class","font-mono text-white text-lg"),t(e,"class","p-2")},m(u,s){K(u,e,s),o(e,l);for(let i=0;i<n.length;i+=1)n[i].m(l,null)},p(u,s){if(s&1){r=u[0].operation;let i;for(i=0;i<r.length;i+=1){const p=Or(u,r,i);n[i]?n[i].p(p,s):(n[i]=Mr(p),n[i].c(),n[i].m(l,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(u){u&&c(e),Zr(n,u)}}}function Mr(a){let e,l=a[3]+"",r,n;return{c(){e=f("li"),r=S(l),n=E(),this.h()},l(u){e=h(u,"LI",{class:!0});var s=d(e);r=I(s,l),n=y(s),s.forEach(c),this.h()},h(){t(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(u,s){K(u,e,s),o(e,r),o(e,n)},p(u,s){s&1&&l!==(l=u[3]+"")&&he(r,l)},d(u){u&&c(e)}}}function yo(a){let e,l,r,n,u,s,i,p,m,v,w=a[1]&&Cr(a);return{c(){e=f("button"),l=j("svg"),r=j("path"),n=E(),u=f("h1"),s=S("Operazioni"),i=E(),w&&w.c(),p=wt(),this.h()},l(_){e=h(_,"BUTTON",{class:!0});var g=d(e);l=$(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var b=d(l);r=$(b,"path",{d:!0}),d(r).forEach(c),b.forEach(c),n=y(g),u=h(g,"H1",{class:!0});var k=d(u);s=I(k,"Operazioni"),k.forEach(c),g.forEach(c),i=y(_),w&&w.l(_),p=wt(),this.h()},h(){t(r,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"width","22"),t(l,"height","22"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(l,"stroke-linecap","round"),t(l,"stroke-linejoin","round"),t(l,"class","feather feather-tool"),t(u,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(_,g){K(_,e,g),o(e,l),o(l,r),o(e,n),o(e,u),o(u,s),K(_,i,g),w&&w.m(_,g),K(_,p,g),m||(v=B(e,"click",Gl(a[2])),m=!0)},p(_,[g]){_[1]?w?w.p(_,g):(w=Cr(_),w.c(),w.m(p.parentNode,p)):w&&(w.d(1),w=null)},i:we,o:we,d(_){_&&c(e),_&&c(i),w&&w.d(_),_&&c(p),m=!1,v()}}}function No(a,e,l){let{turbine:r}=e,n=!1;const u=()=>l(1,n=!n);return a.$$set=s=>{"turbine"in s&&l(0,r=s.turbine)},[r,n,u]}class Do extends Xe{constructor(e){super(),Ze(this,e,No,yo,et,{turbine:0})}}const Jr="https://dockyard-handler.herokuapp.com/v1.0.0";async function Vr(a){if(console.log("Retrieving steps for event "+a),typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Pt.get(Jr+"/steps/"+a,l)).data}else console.log("Token not found in local storage")}async function So(a,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.put(Jr+"/step/complete?stepId="+a+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function Pr(a,e,l){const r=a.slice();return r[6]=e[l],r}function Io(a){return{c:we,l:we,m:we,p:we,d:we}}function To(a){let e=[],l=new Map,r,n=a[0];const u=s=>s[6].id;for(let s=0;s<n.length;s+=1){let i=Pr(a,n,s),p=u(i);l.set(p,e[s]=Br(p,i))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=wt()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);r=wt()},m(s,i){for(let p=0;p<e.length;p+=1)e[p].m(s,i);K(s,r,i)},p(s,i){i&7&&(n=s[0],e=Ql(e,i,u,1,s,n,l,r.parentNode,Yr,Br,r,Pr))},d(s){for(let i=0;i<e.length;i+=1)e[i].d(s);s&&c(r)}}}function Ar(a){let e,l,r,n,u,s,i;return{c(){e=f("div"),l=f("p"),r=S("Completato"),n=E(),u=j("svg"),s=j("path"),i=j("polyline"),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=d(e);l=h(m,"P",{class:!0});var v=d(l);r=I(v,"Completato"),v.forEach(c),n=y(m),u=$(m,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var w=d(u);s=$(w,"path",{d:!0}),d(s).forEach(c),i=$(w,"polyline",{points:!0}),d(i).forEach(c),w.forEach(c),m.forEach(c),this.h()},h(){t(l,"class","font-bold uppercase"),t(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),t(i,"points","22 4 12 14.01 9 11.01"),t(u,"xmlns","http://www.w3.org/2000/svg"),t(u,"width","22"),t(u,"height","22"),t(u,"viewBox","0 0 24 24"),t(u,"fill","none"),t(u,"stroke","currentColor"),t(u,"stroke-width","2"),t(u,"stroke-linecap","round"),t(u,"stroke-linejoin","round"),t(u,"class","feather feather-check-circle text-green-500"),t(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(p,m){K(p,e,m),o(e,l),o(l,r),o(e,n),o(e,u),o(u,s),o(u,i)},d(p){p&&c(e)}}}function Br(a,e){let l,r,n,u,s,i,p,m=e[6].name+"",v,w,_=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,g,b,k;function C(){return e[4](e[6])}let N=_&&Ar();return{key:a,first:null,c(){l=f("div"),r=f("input"),s=E(),i=f("div"),p=f("p"),v=S(m),w=E(),N&&N.c(),g=E(),this.h()},l(D){l=h(D,"DIV",{class:!0});var O=d(l);r=h(O,"INPUT",{type:!0,class:!0}),s=y(O),i=h(O,"DIV",{class:!0});var U=d(i);p=h(U,"P",{});var z=d(p);v=I(z,m),z.forEach(c),U.forEach(c),w=y(O),N&&N.l(O),g=y(O),O.forEach(c),this.h()},h(){t(r,"type","checkbox"),t(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=u=e[6].complete,t(i,"class","col-span-6 text-left"),t(l,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm"),this.first=l},m(D,O){K(D,l,O),o(l,r),o(l,s),o(l,i),o(i,p),o(p,v),o(l,w),N&&N.m(l,null),o(l,g),b||(k=B(r,"click",C),b=!0)},p(D,O){e=D,O&3&&n!==(n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=n),O&1&&u!==(u=e[6].complete)&&(r.checked=u),O&1&&m!==(m=e[6].name+"")&&he(v,m),O&3&&(_=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),_?N||(N=Ar(),N.c(),N.m(l,g)):N&&(N.d(1),N=null)},d(D){D&&c(l),N&&N.d(),b=!1,k()}}}function Oo(a){let e,l;return{c(){e=f("div"),l=S("Caricamento..."),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=d(e);l=I(n,"Caricamento..."),n.forEach(c),this.h()},h(){t(e,"class","col-span-7 text-center")},m(r,n){K(r,e,n),o(e,l)},p:we,d(r){r&&c(e)}}}function Co(a){let e,l,r,n,u,s,i,p,m,v,w,_,g,b={ctx:a,current:null,token:null,hasCatch:!1,pending:Oo,then:To,catch:Io,value:0};return Dr(w=a[0],b),{c(){e=f("div"),l=f("div"),r=j("svg"),n=j("path"),u=j("path"),s=E(),i=f("h1"),p=S("Tracciamento fasi"),m=E(),v=f("div"),b.block.c(),this.h()},l(k){e=h(k,"DIV",{class:!0});var C=d(e);l=h(C,"DIV",{class:!0});var N=d(l);r=$(N,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(r);n=$(D,"path",{d:!0}),d(n).forEach(c),u=$(D,"path",{d:!0}),d(u).forEach(c),D.forEach(c),s=y(N),i=h(N,"H1",{class:!0});var O=d(i);p=I(O,"Tracciamento fasi"),O.forEach(c),N.forEach(c),m=y(C),v=h(C,"DIV",{id:!0,class:!0});var U=d(v);b.block.l(U),U.forEach(c),C.forEach(c),this.h()},h(){t(n,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),t(u,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),t(r,"xmlns","http://www.w3.org/2000/svg"),t(r,"width","24"),t(r,"height","24"),t(r,"viewBox","0 0 24 24"),t(r,"fill","none"),t(r,"stroke","currentColor"),t(r,"stroke-width","2"),t(r,"stroke-linecap","round"),t(r,"stroke-linejoin","round"),t(r,"class","feather feather-link"),t(i,"class","text-center font-mono text-xl"),t(l,"class","grid justify-center place-content-center items-center grid-flow-col mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),t(v,"id","stepsContainer"),t(v,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-32 md:h-64 gap-2 scrollbar-none shadow-md mt-5 items-center"),t(e,"class","col-span-1 text-white md:ring-2 ring-gray-400 rounded-sm")},m(k,C){K(k,e,C),o(e,l),o(l,r),o(r,n),o(r,u),o(l,s),o(l,i),o(i,p),o(e,m),o(e,v),b.block.m(v,b.anchor=null),b.mount=()=>v,b.anchor=null},p(k,[C]){a=k,b.ctx=a,C&1&&w!==(w=a[0])&&Dr(w,b)||eo(b,a,C)},i(k){_||nt(()=>{_=bt(v,ct,{delay:500,duration:1e3}),_.start()}),g||nt(()=>{g=bt(e,Gr,{delay:400,duration:1e3}),g.start()})},o:we,d(k){k&&c(e),b.block.d(),b.token=null,b=null}}}function Mo(a,e,l){let r,{turbine:n}=e,u=[];Jl(()=>{Vr(n.id).then(m=>{l(0,u=m)}),setTimeout(()=>{i()},1500)});const s=(m,v)=>{So(m,v).then(()=>{Vr(n.id).then(w=>{l(0,u=w),v?l(3,n.completedSteps+=1,n):l(3,n.completedSteps-=1,n),i()})})};function i(){const m=document.getElementById("stepsContainer"),v=9;if(m){const w=window.innerWidth<768?2:4,_=n.completedSteps-w;if(_>=0&&n.completedSteps<v){m.scrollTo({top:m.scrollHeight/v*(_+1),behavior:"smooth"});return}else if(n.completedSteps===v){setTimeout(()=>{m.scrollTo({top:0,behavior:"smooth"})},500);return}}}const p=m=>s(m.id,!m.complete);return a.$$set=m=>{"turbine"in m&&l(3,n=m.turbine)},a.$$.update=()=>{a.$$.dirty&9&&l(1,r=u[n.completedSteps])},[u,r,s,n,p]}class Vo extends Xe{constructor(e){super(),Ze(this,e,Mo,Co,et,{turbine:3})}}function Po(a){let e,l,r,n,u,s,i,p,m,v,w,_,g;return{c(){e=f("div"),l=f("p"),r=S("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),n=E(),u=f("div"),s=f("button"),i=S("Annulla"),p=E(),m=f("button"),v=S("Conferma"),this.h()},l(b){e=h(b,"DIV",{class:!0});var k=d(e);l=h(k,"P",{class:!0});var C=d(l);r=I(C,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),C.forEach(c),n=y(k),u=h(k,"DIV",{class:!0});var N=d(u);s=h(N,"BUTTON",{class:!0});var D=d(s);i=I(D,"Annulla"),D.forEach(c),p=y(N),m=h(N,"BUTTON",{class:!0});var O=d(m);v=I(O,"Conferma"),O.forEach(c),N.forEach(c),k.forEach(c),this.h()},h(){t(l,"class","font-bold text-lg"),t(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),t(m,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),t(u,"class","flex justify-end mt-5 text-sm"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(b,k){K(b,e,k),o(e,l),o(l,r),o(e,n),o(e,u),o(u,s),o(s,i),o(u,p),o(u,m),o(m,v),_||(g=[B(s,"click",a[1]),B(m,"click",a[0]),B(e,"click",a[2]),B(e,"keydown",a[2])],_=!0)},p:we,i(b){w||nt(()=>{w=bt(e,ct,{duration:300}),w.start()})},o:we,d(b){b&&c(e),_=!1,rt(g)}}}function Ao(a){const e=ft();return[()=>{e("confirm")},()=>{e("cancel")},u=>{u.stopPropagation()}]}class Bo extends Xe{constructor(e){super(),Ze(this,e,Ao,Po,et,{})}}function xr(a){let e,l,r=a[0].turbineNumber+"",n;return{c(){e=f("span"),l=S("- "),n=S(r)},l(u){e=h(u,"SPAN",{});var s=d(e);l=I(s,"- "),n=I(s,r),s.forEach(c)},m(u,s){K(u,e,s),o(e,l),o(e,n)},p(u,s){s&1&&r!==(r=u[0].turbineNumber+"")&&he(n,r)},d(u){u&&c(e)}}}function Lr(a){let e,l,r,n,u;return l=new Bo({}),l.$on("confirm",a[4]),l.$on("cancel",a[7]),{c(){e=f("div"),Ye(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);Ge(l.$$.fragment,i),i.forEach(c),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,i){K(s,e,i),Je(l,e,null),r=!0,n||(u=[B(e,"click",a[8]),B(e,"keydown",a[9])],n=!0)},p:we,i(s){r||(ue(l.$$.fragment,s),r=!0)},o(s){Ee(l.$$.fragment,s),r=!1},d(s){s&&c(e),Qe(l),n=!1,rt(u)}}}function zr(a){let e,l,r,n=a[0].permittingDate+"",u;return{c(){e=f("p"),l=S("Valdità permitting: "),r=f("span"),u=S(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=I(i,"Valdità permitting: "),r=h(i,"SPAN",{});var p=d(r);u=I(p,n),p.forEach(c),i.forEach(c),this.h()},h(){t(e,"class","font-mono text-white text-lg")},m(s,i){K(s,e,i),o(e,l),o(e,r),o(r,u)},p(s,i){i&1&&n!==(n=s[0].permittingDate+"")&&he(u,n)},d(s){s&&c(e)}}}function Ur(a){let e,l,r,n=a[0].priorNotification+"",u;return{c(){e=f("p"),l=S("Valdità notifica: "),r=f("span"),u=S(n),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=I(i,"Valdità notifica: "),r=h(i,"SPAN",{});var p=d(r);u=I(p,n),p.forEach(c),i.forEach(c),this.h()},h(){t(e,"class","font-mono text-white text-lg")},m(s,i){K(s,e,i),o(e,l),o(e,r),o(r,u)},p(s,i){i&1&&n!==(n=s[0].priorNotification+"")&&he(u,n)},d(s){s&&c(e)}}}function xo(a){let e,l,r,n=a[0].turbineName+"",u,s,i,p,m,v,w,_,g,b,k,C,N,D,O,U,z,F,G,te,J,T,x,A,le,_e,Y,ne,Be,V,Z=a[0].creationDate+"",Te,ge,ae,Ne,$e,re=a[0].turbineState+"",se,ye,Fe,De,me,pe,ie,de,Me,xe,Se,Oe,R,fe,L=a[0].turbineNumber&&xr(a),P=a[1]&&Lr(a),W=a[0].permittingDate!==void 0&&zr(a),X=a[0].priorNotification!==void 0&&Ur(a);return pe=new Eo({props:{turbine:a[0]}}),de=new Do({props:{turbine:a[0]}}),xe=new Vo({props:{turbine:a[0]}}),{c(){e=f("div"),l=f("div"),r=f("h1"),u=S(n),s=E(),L&&L.c(),i=E(),p=f("div"),m=f("div"),v=f("div"),w=E(),P&&P.c(),_=E(),g=f("div"),b=f("button"),k=j("svg"),C=j("polyline"),N=j("path"),D=j("line"),O=j("line"),U=E(),z=f("button"),F=j("svg"),G=j("path"),te=E(),J=f("button"),T=j("svg"),x=j("line"),A=j("line"),le=E(),_e=f("div"),Y=f("div"),ne=f("p"),Be=S("Creazione: "),V=f("span"),Te=S(Z),ge=E(),ae=f("p"),Ne=S("Stato turbina: "),$e=f("span"),se=S(re),ye=E(),W&&W.c(),Fe=E(),X&&X.c(),De=E(),me=f("div"),Ye(pe.$$.fragment),ie=E(),Ye(de.$$.fragment),Me=E(),Ye(xe.$$.fragment),this.h()},l(M){e=h(M,"DIV",{class:!0});var ee=d(e);l=h(ee,"DIV",{class:!0});var Ce=d(l);r=h(Ce,"H1",{class:!0});var ve=d(r);u=I(ve,n),s=y(ve),L&&L.l(ve),ve.forEach(c),i=y(Ce),p=h(Ce,"DIV",{class:!0});var We=d(p);m=h(We,"DIV",{class:!0});var Le=d(m);v=h(Le,"DIV",{class:!0}),d(v).forEach(c),w=y(Le),P&&P.l(Le),_=y(Le),g=h(Le,"DIV",{class:!0});var be=d(g);b=h(be,"BUTTON",{class:!0});var H=d(b);k=$(H,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Q=d(k);C=$(Q,"polyline",{points:!0}),d(C).forEach(c),N=$(Q,"path",{d:!0}),d(N).forEach(c),D=$(Q,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(c),O=$(Q,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(O).forEach(c),Q.forEach(c),H.forEach(c),U=y(be),z=h(be,"BUTTON",{class:!0});var ze=d(z);F=$(ze,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var oe=d(F);G=$(oe,"path",{d:!0}),d(G).forEach(c),oe.forEach(c),ze.forEach(c),te=y(be),J=h(be,"BUTTON",{class:!0});var Ke=d(J);T=$(Ke,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ve=d(T);x=$(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(x).forEach(c),A=$(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(A).forEach(c),Ve.forEach(c),Ke.forEach(c),be.forEach(c),Le.forEach(c),We.forEach(c),Ce.forEach(c),le=y(ee),_e=h(ee,"DIV",{class:!0});var Ue=d(_e);Y=h(Ue,"DIV",{class:!0});var Ie=d(Y);ne=h(Ie,"P",{class:!0});var Pe=d(ne);Be=I(Pe,"Creazione: "),V=h(Pe,"SPAN",{});var qe=d(V);Te=I(qe,Z),qe.forEach(c),Pe.forEach(c),ge=y(Ie),ae=h(Ie,"P",{class:!0});var Re=d(ae);Ne=I(Re,"Stato turbina: "),$e=h(Re,"SPAN",{});var at=d($e);se=I(at,re),at.forEach(c),Re.forEach(c),ye=y(Ie),W&&W.l(Ie),Fe=y(Ie),X&&X.l(Ie),De=y(Ie),me=h(Ie,"DIV",{class:!0});var ot=d(me);Ge(pe.$$.fragment,ot),ie=y(ot),Ge(de.$$.fragment,ot),ot.forEach(c),Ie.forEach(c),Me=y(Ue),Ge(xe.$$.fragment,Ue),Ue.forEach(c),ee.forEach(c),this.h()},h(){t(r,"class","font-mono font-bold text-2xl md:text-4xl"),t(v,"class","col-span-3"),t(C,"points","3 6 5 6 21 6"),t(N,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),t(D,"x1","10"),t(D,"y1","11"),t(D,"x2","10"),t(D,"y2","17"),t(O,"x1","14"),t(O,"y1","11"),t(O,"x2","14"),t(O,"y2","17"),t(k,"xmlns","http://www.w3.org/2000/svg"),t(k,"width","20"),t(k,"height","20"),t(k,"viewBox","0 0 24 24"),t(k,"fill","none"),t(k,"stroke","currentColor"),t(k,"stroke-width","2"),t(k,"stroke-linecap","round"),t(k,"stroke-linejoin","round"),t(k,"class","feather feather-trash-2"),t(b,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(G,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),t(F,"xmlns","http://www.w3.org/2000/svg"),t(F,"width","20"),t(F,"height","20"),t(F,"viewBox","0 0 24 24"),t(F,"fill","none"),t(F,"stroke","currentColor"),t(F,"stroke-width","2"),t(F,"stroke-linecap","round"),t(F,"stroke-linejoin","round"),t(F,"class","feather feather-edit-2"),t(z,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),t(x,"x1","18"),t(x,"y1","6"),t(x,"x2","6"),t(x,"y2","18"),t(A,"x1","6"),t(A,"y1","6"),t(A,"x2","18"),t(A,"y2","18"),t(T,"xmlns","http://www.w3.org/2000/svg"),t(T,"width","24"),t(T,"height","24"),t(T,"viewBox","0 0 24 24"),t(T,"fill","none"),t(T,"stroke","currentColor"),t(T,"stroke-width","2"),t(T,"stroke-linecap","round"),t(T,"stroke-linejoin","round"),t(T,"class","feather feather-x"),t(J,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(g,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),t(m,"class","grid grid-cols-6"),t(p,"class","flex flex-row justify-end"),t(l,"class","w-full h-20 grid grid-cols-2 items-start"),t(ne,"class","font-mono text-white text-lg"),t(ae,"class","font-mono text-white text-lg"),t(me,"class","w-full mt-5"),t(Y,"class","col-span-1"),t(_e,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start gap-0 md:gap-4"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 md:min-w-min md:max-w-4xl z-50 h-[32rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(M,ee){K(M,e,ee),o(e,l),o(l,r),o(r,u),o(r,s),L&&L.m(r,null),o(l,i),o(l,p),o(p,m),o(m,v),o(m,w),P&&P.m(m,null),o(m,_),o(m,g),o(g,b),o(b,k),o(k,C),o(k,N),o(k,D),o(k,O),o(g,U),o(g,z),o(z,F),o(F,G),o(g,te),o(g,J),o(J,T),o(T,x),o(T,A),o(e,le),o(e,_e),o(_e,Y),o(Y,ne),o(ne,Be),o(ne,V),o(V,Te),o(Y,ge),o(Y,ae),o(ae,Ne),o(ae,$e),o($e,se),o(Y,ye),W&&W.m(Y,null),o(Y,Fe),X&&X.m(Y,null),o(Y,De),o(Y,me),Je(pe,me,null),o(me,ie),Je(de,me,null),o(_e,Me),Je(xe,_e,null),Oe=!0,R||(fe=[B(b,"click",a[10]),B(z,"click",a[3]),B(J,"click",a[2]),B(e,"click",lt(a[5])),B(e,"keydown",lt(a[6]))],R=!0)},p(M,[ee]){(!Oe||ee&1)&&n!==(n=M[0].turbineName+"")&&he(u,n),M[0].turbineNumber?L?L.p(M,ee):(L=xr(M),L.c(),L.m(r,null)):L&&(L.d(1),L=null),M[1]?P?(P.p(M,ee),ee&2&&ue(P,1)):(P=Lr(M),P.c(),ue(P,1),P.m(m,_)):P&&(Mt(),Ee(P,1,1,()=>{P=null}),Vt()),(!Oe||ee&1)&&Z!==(Z=M[0].creationDate+"")&&he(Te,Z),(!Oe||ee&1)&&re!==(re=M[0].turbineState+"")&&he(se,re),M[0].permittingDate!==void 0?W?W.p(M,ee):(W=zr(M),W.c(),W.m(Y,Fe)):W&&(W.d(1),W=null),M[0].priorNotification!==void 0?X?X.p(M,ee):(X=Ur(M),X.c(),X.m(Y,De)):X&&(X.d(1),X=null);const Ce={};ee&1&&(Ce.turbine=M[0]),pe.$set(Ce);const ve={};ee&1&&(ve.turbine=M[0]),de.$set(ve);const We={};ee&1&&(We.turbine=M[0]),xe.$set(We)},i(M){Oe||(ue(P),ue(pe.$$.fragment,M),ue(de.$$.fragment,M),ue(xe.$$.fragment,M),Se||nt(()=>{Se=bt(e,ct,{duration:150}),Se.start()}),Oe=!0)},o(M){Ee(P),Ee(pe.$$.fragment,M),Ee(de.$$.fragment,M),Ee(xe.$$.fragment,M),Oe=!1},d(M){M&&c(e),L&&L.d(),P&&P.d(),W&&W.d(),X&&X.d(),Qe(pe),Qe(de),Qe(xe),R=!1,rt(fe)}}}function Lo(a,e,l){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const n=ft(),u=()=>{n("closeDetails")},s=()=>{n("editMode",r.id)};let i=!1;const p=()=>{l(1,i=!1),mo(r.id).then(()=>{n("deleted")})};function m(k){_t.call(this,a,k)}function v(k){_t.call(this,a,k)}const w=()=>{l(1,i=!1)},_=()=>{l(1,i=!1)},g=()=>{l(1,i=!1)},b=()=>{l(1,i=!0)};return a.$$set=k=>{"turbine"in k&&l(0,r=k.turbine)},[r,i,u,s,p,m,v,w,_,g,b]}class zo extends Xe{constructor(e){super(),Ze(this,e,Lo,xo,et,{turbine:0})}}const Uo={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear"};function jr(a,e,l){const r=a.slice();return r[7]=e[l],r[8]=e,r[9]=l,r}function $r(a,e){let l,r,n,u,s,i=e[7].name+"",p,m,v,w;function _(...g){return e[5](e[7],e[8],e[9],...g)}return{key:a,first:null,c(){l=f("div"),r=f("input"),u=E(),s=f("p"),p=S(i),m=E(),this.h()},l(g){l=h(g,"DIV",{class:!0});var b=d(l);r=h(b,"INPUT",{class:!0,type:!0}),u=y(b),s=h(b,"P",{class:!0});var k=d(s);p=I(k,i),k.forEach(c),m=y(b),b.forEach(c),this.h()},h(){t(r,"class","checkbox"),r.checked=n=e[7].isSelected,t(r,"type","checkbox"),t(s,"class","font-mono"),t(l,"class","flex flex-row gap-4"),this.first=l},m(g,b){K(g,l,b),o(l,r),o(l,u),o(l,s),o(s,p),o(l,m),v||(w=B(r,"change",_),v=!0)},p(g,b){e=g,b&1&&n!==(n=e[7].isSelected)&&(r.checked=n),b&1&&i!==(i=e[7].name+"")&&he(p,i)},d(g){g&&c(l),v=!1,w()}}}function jo(a){let e,l,r=[],n=new Map,u,s,i,p,m,v,w,_,g,b,k=a[0];const C=N=>N[7].name;for(let N=0;N<k.length;N+=1){let D=jr(a,k,N),O=C(D);n.set(O,r[N]=$r(O,D))}return{c(){e=f("div"),l=f("div");for(let N=0;N<r.length;N+=1)r[N].c();u=E(),s=f("div"),i=f("button"),p=S("Conferma"),m=E(),v=f("button"),w=S("Chiudi"),this.h()},l(N){e=h(N,"DIV",{class:!0});var D=d(e);l=h(D,"DIV",{class:!0});var O=d(l);for(let G=0;G<r.length;G+=1)r[G].l(O);O.forEach(c),u=y(D),s=h(D,"DIV",{class:!0});var U=d(s);i=h(U,"BUTTON",{class:!0});var z=d(i);p=I(z,"Conferma"),z.forEach(c),m=y(U),v=h(U,"BUTTON",{class:!0});var F=d(v);w=I(F,"Chiudi"),F.forEach(c),U.forEach(c),D.forEach(c),this.h()},h(){t(l,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),t(i,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),t(v,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),t(s,"class","flex flex-row mt-5 gap-2 justify-center"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(N,D){K(N,e,D),o(e,l);for(let O=0;O<r.length;O+=1)r[O].m(l,null);o(e,u),o(e,s),o(s,i),o(i,p),o(s,m),o(s,v),o(v,w),g||(b=[B(i,"click",lt(a[1])),B(v,"click",lt(a[2])),B(e,"click",lt(a[3])),B(e,"keydown",lt(a[4]))],g=!0)},p(N,[D]){D&1&&(k=N[0],r=Ql(r,D,C,1,N,k,n,l,Yr,$r,null,jr))},i(N){_||nt(()=>{_=bt(e,ct,{duration:300}),_.start()})},o:we,d(N){N&&c(e);for(let D=0;D<r.length;D+=1)r[D].d();g=!1,rt(b)}}}function $o(a,e,l){let{operations:r=[]}=e;const n=ft(),u=()=>{n("confirm",r)},s=()=>{n("cancel")};function i(v){_t.call(this,a,v)}function p(v){_t.call(this,a,v)}const m=(v,w,_,g)=>{l(0,w[_].isSelected=g.target.checked,r)};return a.$$set=v=>{"operations"in v&&l(0,r=v.operations)},[r,u,s,i,p,m]}class Fo extends Xe{constructor(e){super(),Ze(this,e,$o,jo,et,{operations:0})}}function Wo(a){let e,l,r,n,u,s,i,p,m,v,w,_,g,b,k,C,N,D,O,U,z,F;return{c(){e=f("div"),l=f("div"),r=f("button"),n=j("svg"),u=j("path"),s=j("line"),i=j("polyline"),m=S("Kilowatt"),w=E(),_=f("button"),g=j("svg"),b=j("path"),k=j("line"),C=j("polyline"),D=S("Megawatt"),this.h()},l(G){e=h(G,"DIV",{class:!0});var te=d(e);l=h(te,"DIV",{class:!0});var J=d(l);r=h(J,"BUTTON",{class:!0,type:!0});var T=d(r);n=$(T,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var x=d(n);u=$(x,"path",{d:!0}),d(u).forEach(c),s=$(x,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(c),i=$(x,"polyline",{points:!0}),d(i).forEach(c),x.forEach(c),m=I(T,"Kilowatt"),T.forEach(c),w=y(J),_=h(J,"BUTTON",{class:!0,type:!0});var A=d(_);g=$(A,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var le=d(g);b=$(le,"path",{d:!0}),d(b).forEach(c),k=$(le,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(k).forEach(c),C=$(le,"polyline",{points:!0}),d(C).forEach(c),le.forEach(c),D=I(A,"Megawatt"),A.forEach(c),J.forEach(c),te.forEach(c),this.h()},h(){t(u,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(s,"x1","23"),t(s,"y1","13"),t(s,"x2","23"),t(s,"y2","11"),t(i,"points","11 6 7 12 13 12 9 18"),t(n,"xmlns","http://www.w3.org/2000/svg"),t(n,"width","24"),t(n,"height","24"),t(n,"viewBox","0 0 24 24"),t(n,"fill","none"),t(n,"stroke","currentColor"),t(n,"stroke-width","2"),t(n,"stroke-linecap","round"),t(n,"stroke-linejoin","round"),t(n,"class",p=a[0]?"text-green-500":""),t(r,"class",v=He(a[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),t(r,"type","button"),t(b,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(k,"x1","23"),t(k,"y1","13"),t(k,"x2","23"),t(k,"y2","11"),t(C,"points","11 6 7 12 13 12 9 18"),t(g,"xmlns","http://www.w3.org/2000/svg"),t(g,"width","24"),t(g,"height","24"),t(g,"viewBox","0 0 24 24"),t(g,"fill","none"),t(g,"stroke","currentColor"),t(g,"stroke-width","2"),t(g,"stroke-linecap","round"),t(g,"stroke-linejoin","round"),t(g,"class",N=a[0]?"":"text-blue-500"),t(_,"class",O=He(a[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4"),t(_,"type","button"),t(l,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(G,te){K(G,e,te),o(e,l),o(l,r),o(r,n),o(n,u),o(n,s),o(n,i),o(r,m),o(l,w),o(l,_),o(_,g),o(g,b),o(g,k),o(g,C),o(_,D),z||(F=[B(r,"click",a[2]),B(_,"click",a[3])],z=!0)},p(G,[te]){te&1&&p!==(p=G[0]?"text-green-500":"")&&t(n,"class",p),te&1&&v!==(v=He(G[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&t(r,"class",v),te&1&&N!==(N=G[0]?"":"text-blue-500")&&t(g,"class",N),te&1&&O!==(O=He(G[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4")&&t(_,"class",O)},i(G){U||nt(()=>{U=bt(e,Gr,{duration:300}),U.start()})},o:we,d(G){G&&c(e),z=!1,rt(F)}}}function Ho(a,e,l){const r=ft();let n=!0;const u=()=>{r("change",n?"KILOWATT":"MEGAWATT")};return[n,u,()=>{l(0,n=!0),u()},()=>{l(0,n=!1),u()}]}class Ro extends Xe{constructor(e){super(),Ze(this,e,Ho,Wo,et,{})}}function Ko(a){let e,l,r,n,u,s,i,p,m,v,w,_,g,b,k,C;return{c(){e=f("div"),l=f("div"),r=f("button"),n=S("In Marcia"),s=E(),i=f("button"),p=S("Limitata"),v=E(),w=f("button"),_=S("Ferma"),this.h()},l(N){e=h(N,"DIV",{class:!0});var D=d(e);l=h(D,"DIV",{class:!0});var O=d(l);r=h(O,"BUTTON",{class:!0,type:!0});var U=d(r);n=I(U,"In Marcia"),U.forEach(c),s=y(O),i=h(O,"BUTTON",{class:!0,type:!0});var z=d(i);p=I(z,"Limitata"),z.forEach(c),v=y(O),w=h(O,"BUTTON",{class:!0,type:!0});var F=d(w);_=I(F,"Ferma"),F.forEach(c),O.forEach(c),D.forEach(c),this.h()},h(){t(r,"class",u=He(a[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),t(r,"type","button"),t(i,"class",m=He(a[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),t(i,"type","button"),t(w,"class",g=He(a[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),t(w,"type","button"),t(l,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(N,D){K(N,e,D),o(e,l),o(l,r),o(r,n),o(l,s),o(l,i),o(i,p),o(l,v),o(l,w),o(w,_),k||(C=[B(r,"click",a[2]),B(i,"click",a[3]),B(w,"click",a[4])],k=!0)},p(N,[D]){D&1&&u!==(u=He(N[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&t(r,"class",u),D&1&&m!==(m=He(N[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&t(i,"class",m),D&1&&g!==(g=He(N[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&t(w,"class",g)},i(N){b||nt(()=>{b=bt(e,ct,{duration:300,delay:300}),b.start()})},o:we,d(N){N&&c(e),k=!1,rt(C)}}}function qo(a,e,l){const r=ft();let n="In Marcia";const u=()=>{r("change",n)};return[n,u,()=>{l(0,n="In Marcia"),u()},()=>{l(0,n="Limitata"),u()},()=>{l(0,n="Ferma"),u()}]}class Yo extends Xe{constructor(e){super(),Ze(this,e,qo,Ko,et,{})}}function Fr(a){let e,l,r,n,u;return l=new Fo({props:{operations:a[3]}}),l.$on("cancel",a[12]),l.$on("confirm",a[13]),{c(){e=f("div"),Ye(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);Ge(l.$$.fragment,i),i.forEach(c),this.h()},h(){t(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){K(s,e,i),Je(l,e,null),r=!0,n||(u=[B(e,"click",lt(a[14])),B(e,"keydown",lt(a[15]))],n=!0)},p(s,i){const p={};i&8&&(p.operations=s[3]),l.$set(p)},i(s){r||(ue(l.$$.fragment,s),r=!0)},o(s){Ee(l.$$.fragment,s),r=!1},d(s){s&&c(e),Qe(l),n=!1,rt(u)}}}function Go(a){let e,l,r,n,u,s,i,p,m,v,w,_,g,b,k,C,N,D,O,U,z,F,G,te,J,T,x,A,le,_e,Y,ne,Be,V,Z,Te,ge,ae,Ne,$e,re,se,ye,Fe,De,me,pe,ie,de,Me,xe,Se,Oe,R,fe,L,P,W,X,M,ee,Ce,ve=a[1]?"modifica":"creazione",We,Le,be,H,Q,ze,oe,Ke,Ve,Ue=a[0].turbineNumber+"",Ie,Pe,qe,Re,at,ot,ut,ht=a[0].turbineName+"",kt,At,st,dt,Et,Tl,Bt,qt=a[0].description+"",ll,Ol,yt,xt,Cl,Ml,Lt,Yt=(a[0].odlNumber||"N/A")+"",rl,Vl,Nt,zt,Pl,Al,Ut,Gt=a[0].operation+"",ol,Bl,Dt,jt,xl,Ll,$t,Jt=a[0].power+"",nl,zl,St,Ft,Ul,jl,Wt,Qt=a[0].turbineState+"",al,$l,pt,gt,Fl,Wl,It,Xt,Zt=a[1]?"Modifica":"Crea",sl,mt,Hl,tt,Tt,il,Rl,Ot,cl,Kl,Ct,ul,ke,ql,Xl,Ae=a[2]&&Fr(a);return J=new Ro({}),J.$on("change",a[21]),le=new Yo({}),le.$on("change",a[22]),{c(){e=f("div"),Ae&&Ae.c(),l=E(),r=f("form"),n=f("div"),u=f("div"),s=f("div"),i=f("input"),m=E(),v=f("input"),_=E(),g=f("input"),k=E(),C=f("input"),D=E(),O=f("div"),U=f("button"),z=f("input"),G=E(),te=f("div"),Ye(J.$$.fragment),T=E(),x=f("div"),A=f("div"),Ye(le.$$.fragment),_e=E(),Y=f("div"),ne=f("label"),Be=S("Data Inizio EEMM"),V=E(),Z=f("input"),ge=E(),ae=f("div"),Ne=f("label"),$e=S("Data Inizio OOCC"),re=E(),se=f("input"),Fe=E(),De=f("div"),me=f("label"),pe=S("Validità permitting"),ie=E(),de=f("input"),xe=E(),Se=f("div"),Oe=f("label"),R=S("Validità notifica"),fe=E(),L=f("input"),W=E(),X=f("div"),M=f("div"),ee=f("h2"),Ce=S("Riepilogo "),We=S(ve),Le=E(),be=f("div"),H=E(),Q=f("p"),ze=f("span"),oe=S("Numero cantiere:"),Ke=E(),Ve=f("span"),Ie=S(Ue),Pe=E(),qe=f("p"),Re=f("span"),at=S("Aerogeneratore:"),ot=E(),ut=f("span"),kt=S(ht),At=E(),st=f("p"),dt=f("span"),Et=S("Impianto eolico:"),Tl=E(),Bt=f("span"),ll=S(qt),Ol=E(),yt=f("p"),xt=f("span"),Cl=S("Numero ODL:"),Ml=E(),Lt=f("span"),rl=S(Yt),Vl=E(),Nt=f("p"),zt=f("span"),Pl=S("Operazioni:"),Al=E(),Ut=f("span"),ol=S(Gt),Bl=E(),Dt=f("p"),jt=f("span"),xl=S("Tipologia:"),Ll=E(),$t=f("span"),nl=S(Jt),zl=E(),St=f("p"),Ft=f("span"),Ul=S("Stato:"),jl=E(),Wt=f("span"),al=S(Qt),$l=E(),pt=f("div"),gt=f("button"),Fl=S("Annulla"),Wl=E(),It=f("button"),Xt=f("p"),sl=S(Zt),Hl=E(),tt=f("div"),Tt=f("input"),Rl=E(),Ot=f("input"),Kl=E(),Ct=f("input"),this.h()},l(q){e=h(q,"DIV",{class:!0});var ce=d(e);Ae&&Ae.l(ce),l=y(ce),r=h(ce,"FORM",{});var dl=d(r);n=h(dl,"DIV",{id:!0,class:!0});var Ht=d(n);u=h(Ht,"DIV",{class:!0});var Rt=d(u);s=h(Rt,"DIV",{class:!0});var vt=d(s);i=h(vt,"INPUT",{class:!0,type:!0,placeholder:!0}),m=y(vt),v=h(vt,"INPUT",{class:!0,type:!0,placeholder:!0}),_=y(vt),g=h(vt,"INPUT",{class:!0,type:!0,placeholder:!0}),k=y(vt),C=h(vt,"INPUT",{class:!0,type:!0,placeholder:!0}),vt.forEach(c),D=y(Rt),O=h(Rt,"DIV",{class:!0});var Zl=d(O);U=h(Zl,"BUTTON",{type:!0,class:!0});var er=d(U);z=h(er,"INPUT",{class:!0,placeholder:!0}),er.forEach(c),Zl.forEach(c),G=y(Rt),te=h(Rt,"DIV",{class:!0});var tr=d(te);Ge(J.$$.fragment,tr),tr.forEach(c),Rt.forEach(c),T=y(Ht),x=h(Ht,"DIV",{class:!0});var it=d(x);A=h(it,"DIV",{class:!0});var lr=d(A);Ge(le.$$.fragment,lr),lr.forEach(c),_e=y(it),Y=h(it,"DIV",{});var fl=d(Y);ne=h(fl,"LABEL",{for:!0,class:!0});var rr=d(ne);Be=I(rr,"Data Inizio EEMM"),rr.forEach(c),V=y(fl),Z=h(fl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),fl.forEach(c),ge=y(it),ae=h(it,"DIV",{});var hl=d(ae);Ne=h(hl,"LABEL",{for:!0,class:!0});var or=d(Ne);$e=I(or,"Data Inizio OOCC"),or.forEach(c),re=y(hl),se=h(hl,"INPUT",{class:!0,type:!0,placeholder:!0}),hl.forEach(c),Fe=y(it),De=h(it,"DIV",{});var pl=d(De);me=h(pl,"LABEL",{for:!0,class:!0});var nr=d(me);pe=I(nr,"Validità permitting"),nr.forEach(c),ie=y(pl),de=h(pl,"INPUT",{class:!0,type:!0,placeholder:!0}),pl.forEach(c),xe=y(it),Se=h(it,"DIV",{});var gl=d(Se);Oe=h(gl,"LABEL",{for:!0,class:!0});var ar=d(Oe);R=I(ar,"Validità notifica"),ar.forEach(c),fe=y(gl),L=h(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(c),it.forEach(c),W=y(Ht),X=h(Ht,"DIV",{class:!0});var ml=d(X);M=h(ml,"DIV",{class:!0});var je=d(M);ee=h(je,"H2",{class:!0});var Yl=d(ee);Ce=I(Yl,"Riepilogo "),We=I(Yl,ve),Yl.forEach(c),Le=y(je),be=h(je,"DIV",{class:!0}),d(be).forEach(c),H=y(je),Q=h(je,"P",{});var vl=d(Q);ze=h(vl,"SPAN",{class:!0});var sr=d(ze);oe=I(sr,"Numero cantiere:"),sr.forEach(c),Ke=y(vl),Ve=h(vl,"SPAN",{class:!0});var ir=d(Ve);Ie=I(ir,Ue),ir.forEach(c),vl.forEach(c),Pe=y(je),qe=h(je,"P",{});var _l=d(qe);Re=h(_l,"SPAN",{class:!0});var cr=d(Re);at=I(cr,"Aerogeneratore:"),cr.forEach(c),ot=y(_l),ut=h(_l,"SPAN",{class:!0});var ur=d(ut);kt=I(ur,ht),ur.forEach(c),_l.forEach(c),At=y(je),st=h(je,"P",{});var bl=d(st);dt=h(bl,"SPAN",{class:!0});var dr=d(dt);Et=I(dr,"Impianto eolico:"),dr.forEach(c),Tl=y(bl),Bt=h(bl,"SPAN",{class:!0});var fr=d(Bt);ll=I(fr,qt),fr.forEach(c),bl.forEach(c),Ol=y(je),yt=h(je,"P",{});var wl=d(yt);xt=h(wl,"SPAN",{class:!0});var hr=d(xt);Cl=I(hr,"Numero ODL:"),hr.forEach(c),Ml=y(wl),Lt=h(wl,"SPAN",{class:!0});var pr=d(Lt);rl=I(pr,Yt),pr.forEach(c),wl.forEach(c),Vl=y(je),Nt=h(je,"P",{});var kl=d(Nt);zt=h(kl,"SPAN",{class:!0});var gr=d(zt);Pl=I(gr,"Operazioni:"),gr.forEach(c),Al=y(kl),Ut=h(kl,"SPAN",{class:!0});var mr=d(Ut);ol=I(mr,Gt),mr.forEach(c),kl.forEach(c),Bl=y(je),Dt=h(je,"P",{});var El=d(Dt);jt=h(El,"SPAN",{class:!0});var vr=d(jt);xl=I(vr,"Tipologia:"),vr.forEach(c),Ll=y(El),$t=h(El,"SPAN",{class:!0});var _r=d($t);nl=I(_r,Jt),_r.forEach(c),El.forEach(c),zl=y(je),St=h(je,"P",{});var yl=d(St);Ft=h(yl,"SPAN",{class:!0});var br=d(Ft);Ul=I(br,"Stato:"),br.forEach(c),jl=y(yl),Wt=h(yl,"SPAN",{class:!0});var wr=d(Wt);al=I(wr,Qt),wr.forEach(c),yl.forEach(c),je.forEach(c),$l=y(ml),pt=h(ml,"DIV",{class:!0});var Nl=d(pt);gt=h(Nl,"BUTTON",{type:!0,class:!0});var kr=d(gt);Fl=I(kr,"Annulla"),kr.forEach(c),Wl=y(Nl),It=h(Nl,"BUTTON",{class:!0});var Er=d(It);Xt=h(Er,"P",{});var yr=d(Xt);sl=I(yr,Zt),yr.forEach(c),Er.forEach(c),Nl.forEach(c),ml.forEach(c),Ht.forEach(c),Hl=y(dl),tt=h(dl,"DIV",{class:!0});var Kt=d(tt);Tt=h(Kt,"INPUT",{type:!0,class:!0}),Rl=y(Kt),Ot=h(Kt,"INPUT",{type:!0,class:!0}),Kl=y(Kt),Ct=h(Kt,"INPUT",{type:!0,class:!0}),Kt.forEach(c),dl.forEach(c),ce.forEach(c),this.h()},h(){t(i,"class","input"),t(i,"type","text"),i.value=p=a[0].turbineName,t(i,"placeholder","Aerogeneratore*"),i.required=!0,i.disabled=a[1],t(v,"class","input"),t(v,"type","text"),v.value=w=a[0].turbineNumber,t(v,"placeholder","Numero cantiere"),t(g,"class","input"),t(g,"type","text"),g.value=b=a[0].description,t(g,"placeholder","Impianto Eolico*"),g.required=!0,t(C,"class","input"),t(C,"type","number"),C.value=N=a[0].odlNumber,t(C,"placeholder","Numero ODL"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),t(z,"class","w-full"),z.value=F=a[0].operation.length>0?a[0].operation.join(", "):"",z.disabled=!0,t(z,"placeholder","Operazioni*"),z.required=!0,t(U,"type","button"),t(U,"class","input hover:bg-gray-200 text-start transition ease-in-out"),t(O,"class","col-span-full mt-5"),t(te,"class","col-span-full mt-auto"),t(u,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(A,"class","col-span-full"),t(ne,"for","dateEEMM"),t(ne,"class","font-mono text-white"),t(Z,"id","dateEEMM"),t(Z,"class","input"),t(Z,"type","date"),Z.value=Te=a[0].startingDateEEMM!==void 0?a[0].startingDateEEMM:"",t(Z,"placeholder","Data inizio EEMM"),t(Ne,"for","dateEEMM"),t(Ne,"class","font-mono text-white"),t(se,"class","input"),t(se,"type","date"),se.value=ye=a[0].startingDateOOCC!==void 0?a[0].startingDateOOCC:"",t(se,"placeholder","Data inizio OOCC"),t(me,"for","dateEEMM"),t(me,"class","font-mono text-white"),t(de,"class","input"),t(de,"type","date"),de.value=Me=a[0].permittingDate!==void 0?a[0].permittingDate:"",t(de,"placeholder","Validità permitting"),t(Oe,"for","dateEEMM"),t(Oe,"class","font-mono text-white"),t(L,"class","input"),t(L,"type","date"),L.value=P=a[0].priorNotification!==void 0?a[0].priorNotification:"",t(L,"placeholder","Validità notifica"),t(x,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(ee,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),t(be,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),t(ze,"class","font-mono font-bold text-gray-300"),t(Ve,"class","font-mono text-gray-300"),t(Re,"class","font-mono font-bold text-gray-300"),t(ut,"class","font-mono text-gray-300"),t(dt,"class","font-mono font-bold text-gray-300"),t(Bt,"class","font-mono text-gray-300"),t(xt,"class","font-mono font-bold text-gray-300"),t(Lt,"class","font-mono text-gray-300"),t(zt,"class","font-mono font-bold text-gray-300"),t(Ut,"class","font-mono text-gray-300"),t(jt,"class","font-mono font-bold text-gray-300"),t($t,"class","font-mono text-gray-300"),t(Ft,"class","font-mono font-bold text-gray-300"),t(Wt,"class","font-mono text-gray-300"),t(M,"class","w-[15rem] md:w-[29rem] h-3/4"),t(gt,"type","button"),t(gt,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),t(It,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),t(pt,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),t(X,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(n,"id","scrollable"),t(n,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),t(Tt,"type","checkbox"),t(Tt,"class",il=He(a[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(Ot,"type","checkbox"),t(Ot,"class",cl=He(a[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(Ct,"type","checkbox"),t(Ct,"class",ul=He(a[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(tt,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),t(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(q,ce){K(q,e,ce),Ae&&Ae.m(e,null),o(e,l),o(e,r),o(r,n),o(n,u),o(u,s),o(s,i),o(s,m),o(s,v),o(s,_),o(s,g),o(s,k),o(s,C),o(u,D),o(u,O),o(O,U),o(U,z),o(u,G),o(u,te),Je(J,te,null),o(n,T),o(n,x),o(x,A),Je(le,A,null),o(x,_e),o(x,Y),o(Y,ne),o(ne,Be),o(Y,V),o(Y,Z),o(x,ge),o(x,ae),o(ae,Ne),o(Ne,$e),o(ae,re),o(ae,se),o(x,Fe),o(x,De),o(De,me),o(me,pe),o(De,ie),o(De,de),o(x,xe),o(x,Se),o(Se,Oe),o(Oe,R),o(Se,fe),o(Se,L),o(n,W),o(n,X),o(X,M),o(M,ee),o(ee,Ce),o(ee,We),o(M,Le),o(M,be),o(M,H),o(M,Q),o(Q,ze),o(ze,oe),o(Q,Ke),o(Q,Ve),o(Ve,Ie),o(M,Pe),o(M,qe),o(qe,Re),o(Re,at),o(qe,ot),o(qe,ut),o(ut,kt),o(M,At),o(M,st),o(st,dt),o(dt,Et),o(st,Tl),o(st,Bt),o(Bt,ll),o(M,Ol),o(M,yt),o(yt,xt),o(xt,Cl),o(yt,Ml),o(yt,Lt),o(Lt,rl),o(M,Vl),o(M,Nt),o(Nt,zt),o(zt,Pl),o(Nt,Al),o(Nt,Ut),o(Ut,ol),o(M,Bl),o(M,Dt),o(Dt,jt),o(jt,xl),o(Dt,Ll),o(Dt,$t),o($t,nl),o(M,zl),o(M,St),o(St,Ft),o(Ft,Ul),o(St,jl),o(St,Wt),o(Wt,al),o(X,$l),o(X,pt),o(pt,gt),o(gt,Fl),o(pt,Wl),o(pt,It),o(It,Xt),o(Xt,sl),o(r,Hl),o(r,tt),o(tt,Tt),o(tt,Rl),o(tt,Ot),o(tt,Kl),o(tt,Ct),ke=!0,ql||(Xl=[B(i,"change",a[16]),B(v,"change",a[17]),B(g,"change",a[18]),B(C,"change",a[19]),B(U,"click",a[20]),B(Z,"change",a[23]),B(se,"change",a[24]),B(de,"change",a[25]),B(L,"change",a[26]),B(gt,"click",a[6]),B(It,"click",a[7]),B(n,"click",lt(a[10])),B(n,"keydown",lt(a[11])),B(Tt,"change",a[27]),B(Ot,"change",a[28]),B(Ct,"change",a[29]),B(tt,"click",lt(a[8])),B(tt,"keydown",lt(a[9])),B(e,"click",a[6]),B(e,"keydown",a[6])],ql=!0)},p(q,[ce]){q[2]?Ae?(Ae.p(q,ce),ce&4&&ue(Ae,1)):(Ae=Fr(q),Ae.c(),ue(Ae,1),Ae.m(e,l)):Ae&&(Mt(),Ee(Ae,1,1,()=>{Ae=null}),Vt()),(!ke||ce&1&&p!==(p=q[0].turbineName)&&i.value!==p)&&(i.value=p),(!ke||ce&2)&&(i.disabled=q[1]),(!ke||ce&1&&w!==(w=q[0].turbineNumber)&&v.value!==w)&&(v.value=w),(!ke||ce&1&&b!==(b=q[0].description)&&g.value!==b)&&(g.value=b),(!ke||ce&1&&N!==(N=q[0].odlNumber)&&C.value!==N)&&(C.value=N),(!ke||ce&1&&F!==(F=q[0].operation.length>0?q[0].operation.join(", "):"")&&z.value!==F)&&(z.value=F),(!ke||ce&1&&Te!==(Te=q[0].startingDateEEMM!==void 0?q[0].startingDateEEMM:""))&&(Z.value=Te),(!ke||ce&1&&ye!==(ye=q[0].startingDateOOCC!==void 0?q[0].startingDateOOCC:""))&&(se.value=ye),(!ke||ce&1&&Me!==(Me=q[0].permittingDate!==void 0?q[0].permittingDate:""))&&(de.value=Me),(!ke||ce&1&&P!==(P=q[0].priorNotification!==void 0?q[0].priorNotification:""))&&(L.value=P),(!ke||ce&2)&&ve!==(ve=q[1]?"modifica":"creazione")&&he(We,ve),(!ke||ce&1)&&Ue!==(Ue=q[0].turbineNumber+"")&&he(Ie,Ue),(!ke||ce&1)&&ht!==(ht=q[0].turbineName+"")&&he(kt,ht),(!ke||ce&1)&&qt!==(qt=q[0].description+"")&&he(ll,qt),(!ke||ce&1)&&Yt!==(Yt=(q[0].odlNumber||"N/A")+"")&&he(rl,Yt),(!ke||ce&1)&&Gt!==(Gt=q[0].operation+"")&&he(ol,Gt),(!ke||ce&1)&&Jt!==(Jt=q[0].power+"")&&he(nl,Jt),(!ke||ce&1)&&Qt!==(Qt=q[0].turbineState+"")&&he(al,Qt),(!ke||ce&2)&&Zt!==(Zt=q[1]?"Modifica":"Crea")&&he(sl,Zt),(!ke||ce&16&&il!==(il=He(q[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(Tt,"class",il),(!ke||ce&16&&cl!==(cl=He(q[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(Ot,"class",cl),(!ke||ce&16&&ul!==(ul=He(q[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(Ct,"class",ul)},i(q){ke||(ue(Ae),ue(J.$$.fragment,q),ue(le.$$.fragment,q),nt(()=>{mt||(mt=Il(n,ct,{duration:150},!0)),mt.run(1)}),ke=!0)},o(q){Ee(Ae),Ee(J.$$.fragment,q),Ee(le.$$.fragment,q),mt||(mt=Il(n,ct,{duration:150},!1)),mt.run(0),ke=!1},d(q){q&&c(e),Ae&&Ae.d(),Qe(J),Qe(le),q&&mt&&mt.end(),ql=!1,rt(Xl)}}}function Jo(a,e,l){let{isEditMode:r=!1}=e,{windfarm:n={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const u=ft();let s=!1,i=[];Jl(()=>{l(3,i=Object.values(Uo).map(V=>({name:V,isSelected:!1})))});let p=0;function m(){const V=document.getElementById("scrollable");let Z=0;V!=null&&(p===1?window.innerWidth<768?Z=V.scrollWidth/3:Z=V.scrollWidth/2:p===2&&(Z=V.scrollWidth),V.scrollTo({left:Z,behavior:"smooth"}))}const v=()=>{u("close")},w=()=>{r?_o(n).then(V=>{V!==void 0&&V.status===200&&u("updated")}):vo(n).then(V=>{V!==void 0&&V.status===200&&u("created")})};function _(V){_t.call(this,a,V)}function g(V){_t.call(this,a,V)}function b(V){_t.call(this,a,V)}function k(V){_t.call(this,a,V)}const C=()=>{l(2,s=!1)},N=V=>{l(3,i=V.detail),l(0,n.operation=i.filter(Z=>Z.isSelected).map(Z=>Z.name),n),l(2,s=!1)},D=()=>{l(2,s=!1)},O=()=>{l(2,s=!1)},U=V=>{l(0,n.turbineName=V.target.value,n)},z=V=>{l(0,n.turbineNumber=V.target.value,n)},F=V=>{l(0,n.description=V.target.value,n)},G=V=>{l(0,n.odlNumber=V.target.value,n)},te=()=>{l(2,s=!s)},J=V=>l(0,n.power=V.detail,n),T=V=>l(0,n.turbineState=V.detail,n),x=V=>{l(0,n.startingDateEEMM=V.target.value,n)},A=V=>{l(0,n.startingDateOOCC=V.target.value,n)},le=V=>{l(0,n.permittingDate=V.target.value,n)},_e=V=>{l(0,n.priorNotification=V.target.value,n)},Y=()=>{l(4,p=0),m()},ne=()=>{l(4,p=1),m()},Be=()=>{l(4,p=2),m()};return a.$$set=V=>{"isEditMode"in V&&l(1,r=V.isEditMode),"windfarm"in V&&l(0,n=V.windfarm)},[n,r,s,i,p,m,v,w,_,g,b,k,C,N,D,O,U,z,F,G,te,J,T,x,A,le,_e,Y,ne,Be]}class Qr extends Xe{constructor(e){super(),Ze(this,e,Jo,Go,et,{isEditMode:1,windfarm:0})}}function Qo(a){let e,l;return e=new Qr({props:{windfarm:a[0],isEditMode:!0}}),e.$on("close",a[1]),e.$on("updated",a[2]),{c(){Ye(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){Je(e,r,n),l=!0},p(r,[n]){const u={};n&1&&(u.windfarm=r[0]),e.$set(u)},i(r){l||(ue(e.$$.fragment,r),l=!0)},o(r){Ee(e.$$.fragment,r),l=!1},d(r){Qe(e,r)}}}function Xo(a,e,l){let{turbine:r}=e;const n=ft(),u=()=>{n("close")},s=()=>{n("updated")};return a.$$set=i=>{"turbine"in i&&l(0,r=i.turbine)},[r,u,s]}class Zo extends Xe{constructor(e){super(),Ze(this,e,Xo,Qo,et,{turbine:0})}}function en(a){let e,l;return e=new Qr({props:{isEditMode:!1}}),e.$on("close",a[0]),e.$on("created",a[1]),{c(){Ye(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){Je(e,r,n),l=!0},p:we,i(r){l||(ue(e.$$.fragment,r),l=!0)},o(r){Ee(e.$$.fragment,r),l=!1},d(r){Qe(e,r)}}}function tn(a){const e=ft();return[()=>{e("close")},()=>{e("created")}]}class ln extends Xe{constructor(e){super(),Ze(this,e,tn,en,et,{})}}function Wr(a,e,l){const r=a.slice();return r[5]=e[l],r}function rn(a){let e,l=[],r=new Map,n,u=a[4];const s=i=>i[5].id;for(let i=0;i<u.length;i+=1){let p=Wr(a,u,i),m=s(p);r.set(m,l[i]=Hr(m,p))}return{c(){e=f("div");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=h(i,"DIV",{class:!0});var p=d(e);for(let m=0;m<l.length;m+=1)l[m].l(p);p.forEach(c),this.h()},h(){t(e,"class","grid grid-cols-1 md:grid-cols-3 gap-4")},m(i,p){K(i,e,p);for(let m=0;m<l.length;m+=1)l[m].m(e,null);n=!0},p(i,p){p&1040&&(u=i[4],Mt(),l=Ql(l,p,s,1,i,u,r,e,lo,Hr,null,Wr),Vt())},i(i){if(!n){for(let p=0;p<u.length;p+=1)ue(l[p]);n=!0}},o(i){for(let p=0;p<l.length;p+=1)Ee(l[p]);n=!1},d(i){i&&c(e);for(let p=0;p<l.length;p+=1)l[p].d()}}}function on(a){let e,l,r,n,u;return{c(){e=f("div"),l=f("div"),r=E(),n=f("p"),u=S("Caricamento in corso..."),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);l=h(i,"DIV",{class:!0}),d(l).forEach(c),r=y(i),n=h(i,"P",{class:!0});var p=d(n);u=I(p,"Caricamento in corso..."),p.forEach(c),i.forEach(c),this.h()},h(){t(l,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),t(n,"class","mt-4 text-xl font-bold font-mono"),t(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(s,i){K(s,e,i),o(e,l),o(e,r),o(e,n),o(n,u)},p:we,i:we,o:we,d(s){s&&c(e)}}}function Hr(a,e){let l,r,n;return r=new go({props:{turbine:e[5]}}),r.$on("showDetails",e[10]),{key:a,first:null,c(){l=wt(),Ye(r.$$.fragment),this.h()},l(u){l=wt(),Ge(r.$$.fragment,u),this.h()},h(){this.first=l},m(u,s){K(u,l,s),Je(r,u,s),n=!0},p(u,s){e=u;const i={};s&16&&(i.turbine=e[5]),r.$set(i)},i(u){n||(ue(r.$$.fragment,u),n=!0)},o(u){Ee(r.$$.fragment,u),n=!1},d(u){u&&c(l),Qe(r,u)}}}function Rr(a){let e,l,r,n,u;return l=new zo({props:{turbine:a[5]}}),l.$on("closeDetails",a[11]),l.$on("editMode",a[13]),l.$on("deleted",a[12]),{c(){e=f("div"),Ye(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);Ge(l.$$.fragment,i),i.forEach(c),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){K(s,e,i),Je(l,e,null),r=!0,n||(u=[B(e,"click",a[11]),B(e,"keydown",a[11])],n=!0)},p(s,i){const p={};i&32&&(p.turbine=s[5]),l.$set(p)},i(s){r||(ue(l.$$.fragment,s),r=!0)},o(s){Ee(l.$$.fragment,s),r=!1},d(s){s&&c(e),Qe(l),n=!1,rt(u)}}}function Kr(a){let e,l,r,n,u;return l=new Zo({props:{turbine:a[5]}}),l.$on("close",a[21]),l.$on("updated",a[16]),{c(){e=f("div"),Ye(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);Ge(l.$$.fragment,i),i.forEach(c),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){K(s,e,i),Je(l,e,null),r=!0,n||(u=[B(e,"click",a[11]),B(e,"keydown",a[11])],n=!0)},p(s,i){const p={};i&32&&(p.turbine=s[5]),l.$set(p)},i(s){r||(ue(l.$$.fragment,s),r=!0)},o(s){Ee(l.$$.fragment,s),r=!1},d(s){s&&c(e),Qe(l),n=!1,rt(u)}}}function qr(a){let e,l,r,n,u;return l=new ln({}),l.$on("close",a[22]),l.$on("created",a[15]),{c(){e=f("div"),Ye(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);Ge(l.$$.fragment,i),i.forEach(c),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){K(s,e,i),Je(l,e,null),r=!0,n||(u=[B(e,"click",a[11]),B(e,"keydown",a[11])],n=!0)},p:we,i(s){r||(ue(l.$$.fragment,s),r=!0)},o(s){Ee(l.$$.fragment,s),r=!1},d(s){s&&c(e),Qe(l),n=!1,rt(u)}}}function nn(a){let e,l,r,n,u,s,i,p,m,v,w,_,g,b,k,C,N,D,O,U,z,F,G,te,J,T,x,A,le,_e,Y,ne,Be,V,Z,Te,ge,ae,Ne,$e,re,se,ye,Fe,De,me,pe,ie,de,Me;const xe=[on,rn],Se=[];function Oe(P,W){return P[0].length===0?0:1}se=Oe(a),ye=Se[se]=xe[se](a);let R=a[6]&&Rr(a),fe=a[7]&&Kr(a),L=a[8]&&qr(a);return{c(){e=f("div"),l=f("section"),r=f("div"),n=f("input"),u=E(),s=f("input"),i=E(),p=f("div"),m=f("select"),v=f("option"),w=S("Tutte"),_=f("option"),g=S("In corso"),b=f("option"),k=S("Cantieri chiusi"),C=E(),N=f("div"),D=j("svg"),O=j("path"),U=E(),z=f("div"),F=f("p"),G=S(a[9]),te=S(" risultati"),J=E(),T=f("div"),x=f("button"),A=j("svg"),le=j("path"),_e=j("polyline"),Y=j("line"),ne=j("line"),Be=j("polyline"),Z=E(),Te=f("button"),ge=j("svg"),ae=j("line"),Ne=j("line"),$e=E(),re=f("section"),ye.c(),Fe=E(),R&&R.c(),De=E(),fe&&fe.c(),me=E(),L&&L.c(),this.h()},l(P){e=h(P,"DIV",{});var W=d(e);l=h(W,"SECTION",{class:!0});var X=d(l);r=h(X,"DIV",{class:!0});var M=d(r);n=h(M,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),u=y(M),s=h(M,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=y(M),p=h(M,"DIV",{class:!0});var ee=d(p);m=h(ee,"SELECT",{class:!0});var Ce=d(m);v=h(Ce,"OPTION",{});var ve=d(v);w=I(ve,"Tutte"),ve.forEach(c),_=h(Ce,"OPTION",{});var We=d(_);g=I(We,"In corso"),We.forEach(c),b=h(Ce,"OPTION",{});var Le=d(b);k=I(Le,"Cantieri chiusi"),Le.forEach(c),Ce.forEach(c),C=y(ee),N=h(ee,"DIV",{class:!0});var be=d(N);D=$(be,"svg",{class:!0,xmlns:!0,viewBox:!0});var H=d(D);O=$(H,"path",{d:!0}),d(O).forEach(c),H.forEach(c),be.forEach(c),ee.forEach(c),M.forEach(c),X.forEach(c),U=y(W),z=h(W,"DIV",{class:!0});var Q=d(z);F=h(Q,"P",{class:!0});var ze=d(F);G=I(ze,a[9]),te=I(ze," risultati"),ze.forEach(c),J=y(Q),T=h(Q,"DIV",{class:!0});var oe=d(T);x=h(oe,"BUTTON",{class:!0});var Ke=d(x);A=$(Ke,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ve=d(A);le=$(Ve,"path",{d:!0}),d(le).forEach(c),_e=$(Ve,"polyline",{points:!0}),d(_e).forEach(c),Y=$(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Y).forEach(c),ne=$(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ne).forEach(c),Be=$(Ve,"polyline",{points:!0}),d(Be).forEach(c),Ve.forEach(c),Ke.forEach(c),Z=y(oe),Te=h(oe,"BUTTON",{class:!0});var Ue=d(Te);ge=$(Ue,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ie=d(ge);ae=$(Ie,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ae).forEach(c),Ne=$(Ie,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Ne).forEach(c),Ie.forEach(c),Ue.forEach(c),oe.forEach(c),Q.forEach(c),$e=y(W),re=h(W,"SECTION",{class:!0});var Pe=d(re);ye.l(Pe),Fe=y(Pe),R&&R.l(Pe),De=y(Pe),fe&&fe.l(Pe),me=y(Pe),L&&L.l(Pe),Pe.forEach(c),W.forEach(c),this.h()},h(){t(n,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(n,"type","text"),t(n,"id","turbineName"),t(n,"name","turbineName"),t(n,"placeholder","Cerca"),t(s,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(s,"type","text"),t(s,"id","turbineName"),t(s,"name","turbineName"),t(s,"placeholder","Anno"),v.__value="ALL",v.value=v.__value,_.__value="ONLY_INCOMPLETE",_.value=_.__value,b.__value="ONLY_COMPLETED",b.value=b.__value,t(m,"class","w-full min-w-1/2 min-w-[12rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),a[3]===void 0&&nt(()=>a[20].call(m)),t(O,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),t(D,"class","w-6 h-6 text-white fill-current"),t(D,"xmlns","http://www.w3.org/2000/svg"),t(D,"viewBox","0 0 20 20"),t(N,"class","absolute top-2 right-2 font-bold"),t(p,"class","relative"),t(r,"class","flex flex-col md:flex-row gap-3 md:items-center font-mono"),t(l,"class","mt-5 md:ml-5"),t(F,"class","font-mono text-lg"),t(le,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),t(_e,"points","14 2 14 8 20 8"),t(Y,"x1","16"),t(Y,"y1","13"),t(Y,"x2","8"),t(Y,"y2","13"),t(ne,"x1","16"),t(ne,"y1","17"),t(ne,"x2","8"),t(ne,"y2","17"),t(Be,"points","10 9 9 9 8 9"),t(A,"xmlns","http://www.w3.org/2000/svg"),t(A,"width","22"),t(A,"height","22"),t(A,"viewBox","0 0 24 24"),t(A,"fill","none"),t(A,"stroke","currentColor"),t(A,"stroke-width","2"),t(A,"stroke-linecap","round"),t(A,"stroke-linejoin","round"),t(A,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),t(x,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),x.disabled=V=a[0].length===0,t(ae,"x1","12"),t(ae,"y1","5"),t(ae,"x2","12"),t(ae,"y2","19"),t(Ne,"x1","5"),t(Ne,"y1","12"),t(Ne,"x2","19"),t(Ne,"y2","12"),t(ge,"xmlns","http://www.w3.org/2000/svg"),t(ge,"width","22"),t(ge,"height","22"),t(ge,"viewBox","0 0 24 24"),t(ge,"fill","none"),t(ge,"stroke","currentColor"),t(ge,"stroke-width","2"),t(ge,"stroke-linecap","round"),t(ge,"stroke-linejoin","round"),t(ge,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),t(Te,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),t(T,"class","justify-end flex flex-row gap-4"),t(z,"class","flex flex-row justify-between items-center mt-6 mb-4 mx-1 md:mx-6"),t(re,"class","max-h-[18rem] md:min-h-[37rem] md:max-h-[37rem] px-2 overflow-y-scroll scrollable ring-2 ring-gray-600 rounded-sm svelte-d0a6yq")},m(P,W){K(P,e,W),o(e,l),o(l,r),o(r,n),Dl(n,a[1]),o(r,u),o(r,s),Dl(s,a[2]),o(r,i),o(r,p),o(p,m),o(m,v),o(v,w),o(m,_),o(_,g),o(m,b),o(b,k),Sr(m,a[3]),o(p,C),o(p,N),o(N,D),o(D,O),o(e,U),o(e,z),o(z,F),o(F,G),o(F,te),o(z,J),o(z,T),o(T,x),o(x,A),o(A,le),o(A,_e),o(A,Y),o(A,ne),o(A,Be),o(T,Z),o(T,Te),o(Te,ge),o(ge,ae),o(ge,Ne),o(e,$e),o(e,re),Se[se].m(re,null),o(re,Fe),R&&R.m(re,null),o(re,De),fe&&fe.m(re,null),o(re,me),L&&L.m(re,null),ie=!0,de||(Me=[B(n,"input",a[18]),B(s,"input",a[19]),B(m,"change",a[20]),B(x,"click",a[17]),B(Te,"click",a[14])],de=!0)},p(P,[W]){W&2&&n.value!==P[1]&&Dl(n,P[1]),W&4&&s.value!==P[2]&&Dl(s,P[2]),W&8&&Sr(m,P[3]),(!ie||W&512)&&he(G,P[9]),(!ie||W&1&&V!==(V=P[0].length===0))&&(x.disabled=V);let X=se;se=Oe(P),se===X?Se[se].p(P,W):(Mt(),Ee(Se[X],1,1,()=>{Se[X]=null}),Vt(),ye=Se[se],ye?ye.p(P,W):(ye=Se[se]=xe[se](P),ye.c()),ue(ye,1),ye.m(re,Fe)),P[6]?R?(R.p(P,W),W&64&&ue(R,1)):(R=Rr(P),R.c(),ue(R,1),R.m(re,De)):R&&(Mt(),Ee(R,1,1,()=>{R=null}),Vt()),P[7]?fe?(fe.p(P,W),W&128&&ue(fe,1)):(fe=Kr(P),fe.c(),ue(fe,1),fe.m(re,me)):fe&&(Mt(),Ee(fe,1,1,()=>{fe=null}),Vt()),P[8]?L?(L.p(P,W),W&256&&ue(L,1)):(L=qr(P),L.c(),ue(L,1),L.m(re,null)):L&&(Mt(),Ee(L,1,1,()=>{L=null}),Vt())},i(P){ie||(ue(ye),ue(R),ue(fe),ue(L),nt(()=>{pe||(pe=Il(e,ct,{duration:200},!0)),pe.run(1)}),ie=!0)},o(P){Ee(ye),Ee(R),Ee(fe),Ee(L),pe||(pe=Il(e,ct,{duration:200},!1)),pe.run(0),ie=!1},d(P){P&&c(e),Se[se].d(),R&&R.d(),fe&&fe.d(),L&&L.d(),P&&pe&&pe.end(),de=!1,rt(Me)}}}function an(a,e,l){let r,n,u=!1,s={},i=[];Jl(()=>{el().then(T=>{l(0,i=T)})});const p=T=>{const x=T.detail;l(5,s=i.find(A=>A.id===x)),l(6,u=!0),l(7,w=!1)},m=()=>{el().then(T=>{l(0,i=T),l(6,u=!1)})},v=()=>{l(6,u=!1),el().then(T=>{l(0,i=T)})};let w=!1;const _=T=>{const x=T.detail;l(5,s=i.find(A=>A.id===x)),l(6,u=!1),l(7,w=!0)};let g=!1;const b=()=>{l(8,g=!0),l(6,u=!1),l(7,w=!1)},k=()=>{l(8,g=!1),l(6,u=!1),l(7,w=!1),el().then(T=>{console.log("Updating with: ",T),l(0,i=T)})},C=()=>{el().then(T=>{l(0,i=T),l(7,w=!1)})},N=()=>{i.length>0&&bo().then(T=>{const x=new Blob([T.data],{type:"text/csv"}),A=window.URL.createObjectURL(x),le=document.createElement("a");le.href=A,le.download="export.csv",le.click()})};let D="",O="",U="ALL";function z(){D=this.value,l(1,D)}function F(){O=this.value,l(2,O)}function G(){U=to(this),l(3,U)}const te=()=>l(7,w=!1),J=()=>l(8,g=!1);return a.$$.update=()=>{a.$$.dirty&15&&l(4,r=i.filter(T=>(T.description.toLowerCase().includes(D.toLowerCase())||T.turbineName.toLowerCase().includes(D.toLowerCase())||T.turbineNumber.toLowerCase().includes(D.toLowerCase()))&&T.creationDate.includes(O)&&(U==="ALL"||U==="ONLY_INCOMPLETE"&&!T.completionDate||U==="ONLY_COMPLETED"&&T.completionDate))),a.$$.dirty&16&&l(9,n=r.length)},[i,D,O,U,r,s,u,w,g,n,p,m,v,_,b,k,C,N,z,F,G,te,J]}class un extends Xe{constructor(e){super(),Ze(this,e,an,nn,et,{})}}export{un as default};
