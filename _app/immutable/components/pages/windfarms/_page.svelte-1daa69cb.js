import{P as Yl,S as We,i as He,s as Re,k as h,q as O,a as y,E as x,l as p,m as d,r as M,c as N,h as u,F as L,n as t,b as q,C as o,G as B,O as Jr,u as fe,Q as et,R as ft,B as _e,D as nt,e as tt,T as Ql,U as Nl,V as Xl,o as Yr,W as Qr,X as Kl,H as Ge,w as $e,x as xe,y as Le,Y as qe,f as ue,g as yt,t as ve,d as Nt,z as Fe,Z as dt,_ as Ve,$ as Nr,a0 as yr,a1 as Zl}from"../../../chunks/index-7b8e0e3c.js";import{a as Dt}from"../../../chunks/axios-67252f11.js";function eo(a){const e=a-1;return e*e*e+1}function ql(a,{delay:e=0,duration:r=400,easing:l=Yl}={}){const n=+getComputedStyle(a).opacity;return{delay:e,duration:r,easing:l,css:c=>`opacity: ${c*n}`}}function rt(a,{delay:e=0,duration:r=400,easing:l=eo}={}){const n=getComputedStyle(a),c=+n.opacity,s=parseFloat(n.height),i=parseFloat(n.paddingTop),f=parseFloat(n.paddingBottom),m=parseFloat(n.marginTop),_=parseFloat(n.marginBottom),b=parseFloat(n.borderTopWidth),v=parseFloat(n.borderBottomWidth);return{delay:e,duration:r,easing:l,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*c};height: ${g*s}px;padding-top: ${g*i}px;padding-bottom: ${g*f}px;margin-top: ${g*m}px;margin-bottom: ${g*_}px;border-top-width: ${g*b}px;border-bottom-width: ${g*v}px;`}}const Gr={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Dl(a){let e,r,l=a[0].turbineNumber+"",n;return{c(){e=h("span"),r=O("- "),n=O(l),this.h()},l(c){e=p(c,"SPAN",{class:!0});var s=d(e);r=M(s,"- "),n=M(s,l),s.forEach(u),this.h()},h(){t(e,"class","hidden md:inline-block")},m(c,s){q(c,e,s),o(e,r),o(e,n)},p(c,s){s&1&&l!==(l=c[0].turbineNumber+"")&&fe(n,l)},d(c){c&&u(e)}}}function to(a){let e,r;return{c(){e=h("span"),r=O("Completato"),this.h()},l(l){e=p(l,"SPAN",{class:!0});var n=d(e);r=M(n,"Completato"),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 font-bold flex")},m(l,n){q(l,e,n),o(e,r)},p:_e,d(l){l&&u(e)}}}function ro(a){let e,r;return{c(){e=h("span"),r=O(a[1]),this.h()},l(l){e=p(l,"SPAN",{class:!0});var n=d(e);r=M(n,a[1]),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 font-bold flex")},m(l,n){q(l,e,n),o(e,r)},p(l,n){n&2&&fe(r,l[1])},d(l){l&&u(e)}}}function lo(a){let e;return{c(){e=h("div"),this.h()},l(r){e=p(r,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2 md:col-span-1")},m(r,l){q(r,e,l)},p:_e,d(r){r&&u(e)}}}function oo(a){let e,r;return{c(){e=h("span"),r=O(a[2]),this.h()},l(l){e=p(l,"SPAN",{class:!0});var n=d(e);r=M(n,a[2]),n.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 flex md:justify-end md:mr-5")},m(l,n){q(l,e,n),o(e,r)},p(l,n){n&4&&fe(r,l[2])},d(l){l&&u(e)}}}function no(a){let e;return{c(){e=h("div"),this.h()},l(r){e=p(r,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2 md:col-span-1")},m(r,l){q(r,e,l)},p:_e,d(r){r&&u(e)}}}function ao(a){let e,r,l,n=a[0].odlNumber+"",c;return{c(){e=h("p"),r=O("ODL: "),l=h("span"),c=O(n),this.h()},l(s){e=p(s,"P",{class:!0});var i=d(e);r=M(i,"ODL: "),l=p(i,"SPAN",{class:!0});var f=d(l);c=M(f,n),f.forEach(u),i.forEach(u),this.h()},h(){t(l,"class","text-blue-400"),t(e,"class","hidden md:group-hover:flex justify-end mr-5 col-span-1")},m(s,i){q(s,e,i),o(e,r),o(e,l),o(l,c)},p(s,i){i&1&&n!==(n=s[0].odlNumber+"")&&fe(c,n)},d(s){s&&u(e)}}}function so(a){let e,r,l,n,c=a[0].turbineName+"",s,i,f,m,_,b,v,g,w,E,C,k=a[0].description+"",D,I,j,U,A,G,J,ee,S,z=a[0].operation[0]+"",K,ne,X,W=a[0].turbineState+"",le,Ie,T,te,ge,ae,pe,ke,Ce,we,ye,F=a[0].turbineNumber&&Dl(a);function oe($,se){return $[1]?ro:to}let Z=oe(a),V=Z(a);function Y($,se){return $[2]!==null&&$[2]!==void 0?oo:lo}let De=Y(a),re=De(a);function Oe($,se){return $[0].odlNumber!==void 0&&$[0].odlNumber!==0?ao:no}let Ee=Oe(a),he=Ee(a);return{c(){e=h("div"),r=h("div"),l=h("div"),n=h("h1"),s=O(c),i=y(),F&&F.c(),f=y(),V.c(),m=y(),re.c(),_=y(),b=h("div"),v=x("svg"),g=x("path"),w=x("circle"),E=y(),C=h("span"),D=O(k),I=y(),he.c(),j=y(),U=h("div"),A=x("svg"),G=x("path"),J=x("rect"),ee=y(),S=h("span"),K=O(z),ne=y(),X=h("span"),le=O(W),Ie=y(),T=h("div"),te=h("div"),ge=h("button"),ae=x("svg"),pe=x("circle"),ke=x("line"),this.h()},l($){e=p($,"DIV",{class:!0});var se=d(e);r=p(se,"DIV",{class:!0});var Ue=d(r);l=p(Ue,"DIV",{class:!0});var H=d(l);n=p(H,"H1",{class:!0});var Q=d(n);s=M(Q,c),i=N(Q),F&&F.l(Q),Q.forEach(u),f=N(H),V.l(H),m=N(H),re.l(H),_=N(H),b=p(H,"DIV",{class:!0});var be=d(b);v=L(be,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var de=d(v);g=L(de,"path",{d:!0}),d(g).forEach(u),w=L(de,"circle",{cx:!0,cy:!0,r:!0}),d(w).forEach(u),de.forEach(u),E=N(be),C=p(be,"SPAN",{});var P=d(C);D=M(P,k),P.forEach(u),be.forEach(u),I=N(H),he.l(H),j=N(H),U=p(H,"DIV",{class:!0});var ie=d(U);A=L(ie,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Pe=d(A);G=L(Pe,"path",{d:!0}),d(G).forEach(u),J=L(Pe,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(J).forEach(u),Pe.forEach(u),ee=N(ie),S=p(ie,"SPAN",{class:!0});var Me=d(S);K=M(Me,z),Me.forEach(u),ie.forEach(u),ne=N(H),X=p(H,"SPAN",{class:!0});var je=d(X);le=M(je,W),je.forEach(u),H.forEach(u),Ie=N(Ue),T=p(Ue,"DIV",{class:!0});var ze=d(T);te=p(ze,"DIV",{class:!0});var Be=d(te);ge=p(Be,"BUTTON",{class:!0});var lt=d(ge);ae=L(lt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Te=d(ae);pe=L(Te,"circle",{cx:!0,cy:!0,r:!0}),d(pe).forEach(u),ke=L(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ke).forEach(u),Te.forEach(u),lt.forEach(u),Be.forEach(u),ze.forEach(u),Ue.forEach(u),se.forEach(u),this.h()},h(){t(n,"class","font-bold text-4xl mt-5 col-span-1 md:col-span-2"),t(g,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),t(w,"cx","12"),t(w,"cy","10"),t(w,"r","3"),t(v,"xmlns","http://www.w3.org/2000/svg"),t(v,"width","24"),t(v,"height","24"),t(v,"viewBox","0 0 24 24"),t(v,"fill","none"),t(v,"stroke","currentColor"),t(v,"stroke-width","2"),t(v,"stroke-linecap","round"),t(v,"stroke-linejoin","round"),t(v,"class","feather feather-map-pin col-span-1"),t(b,"class","col-span-2 md:col-span-1 hidden group-hover:flex gap-2"),t(G,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),t(J,"x","8"),t(J,"y","2"),t(J,"width","8"),t(J,"height","4"),t(J,"rx","1"),t(J,"ry","1"),t(A,"xmlns","http://www.w3.org/2000/svg"),t(A,"width","24"),t(A,"height","24"),t(A,"viewBox","0 0 24 24"),t(A,"fill","none"),t(A,"stroke","currentColor"),t(A,"stroke-width","2"),t(A,"stroke-linecap","round"),t(A,"stroke-linejoin","round"),t(A,"class","feather feather-clipboard"),t(S,"class","col-span-2 md:col-span-1 hidden group-hover:flex"),t(U,"class","hidden group-hover:flex gap-2"),t(X,"class","col-span-2 md:col-span-1 hidden group-hover:flex md:justify-end md:mr-5 font-bold"),t(l,"class","grid grid-cols-1 md:grid-cols-2 text-white font-mono gap-4"),t(pe,"cx","11"),t(pe,"cy","11"),t(pe,"r","8"),t(ke,"x1","21"),t(ke,"y1","21"),t(ke,"x2","16.65"),t(ke,"y2","16.65"),t(ae,"xmlns","http://www.w3.org/2000/svg"),t(ae,"width","20"),t(ae,"height","20"),t(ae,"viewBox","0 0 24 24"),t(ae,"fill","none"),t(ae,"stroke","currentColor"),t(ae,"stroke-width","2"),t(ae,"stroke-linecap","round"),t(ae,"stroke-linejoin","round"),t(ae,"class","feather feather-search"),t(ge,"class","bg-gray-700 hover:bg-gray-600 py-2 px-4 rounded-sm"),t(te,"class","flex flex-col md:flex-row gap-2 md:gap-0"),t(T,"class","absolute top-0 right-0 mr-5 mt-5"),t(r,"class","bg-gray-800 md:h-32 px-4 my-3 hover:mx-2 md:hover:mx-0 rounded-sm shadow-md content-center hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto pb-5 md:hover:h-48 hover:content-start group"),t(e,"class","snap-start pt-1")},m($,se){q($,e,se),o(e,r),o(r,l),o(l,n),o(n,s),o(n,i),F&&F.m(n,null),o(l,f),V.m(l,null),o(l,m),re.m(l,null),o(l,_),o(l,b),o(b,v),o(v,g),o(v,w),o(b,E),o(b,C),o(C,D),o(l,I),he.m(l,null),o(l,j),o(l,U),o(U,A),o(A,G),o(A,J),o(U,ee),o(U,S),o(S,K),o(l,ne),o(l,X),o(X,le),o(r,Ie),o(r,T),o(T,te),o(te,ge),o(ge,ae),o(ae,pe),o(ae,ke),we||(ye=B(ge,"click",Jr(a[3])),we=!0)},p($,[se]){se&1&&c!==(c=$[0].turbineName+"")&&fe(s,c),$[0].turbineNumber?F?F.p($,se):(F=Dl($),F.c(),F.m(n,null)):F&&(F.d(1),F=null),Z===(Z=oe($))&&V?V.p($,se):(V.d(1),V=Z($),V&&(V.c(),V.m(l,m))),De===(De=Y($))&&re?re.p($,se):(re.d(1),re=De($),re&&(re.c(),re.m(l,_))),se&1&&k!==(k=$[0].description+"")&&fe(D,k),Ee===(Ee=Oe($))&&he?he.p($,se):(he.d(1),he=Ee($),he&&(he.c(),he.m(l,j))),se&1&&z!==(z=$[0].operation[0]+"")&&fe(K,z),se&1&&W!==(W=$[0].turbineState+"")&&fe(le,W)},i($){Ce||et(()=>{Ce=ft(r,rt,{duration:1e3}),Ce.start()})},o:_e,d($){$&&u(e),F&&F.d(),V.d(),re.d(),he.d(),we=!1,ye()}}}function io(a,e,r){let l,n,{turbine:c={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const s=nt(),i=()=>{s("showDetails",c.id)};return a.$$set=f=>{"turbine"in f&&r(0,c=f.turbine)},a.$$.update=()=>{a.$$.dirty&1&&r(1,l=Gr[c.completedSteps+1]),a.$$.dirty&3&&r(2,n=l===Gr[3]?c.priorNotification:l===Gr[4]?c.permittingDate:null)},[c,l,n,i]}class co extends We{constructor(e){super(),He(this,e,io,so,Re,{turbine:0})}}const Xt="https://dockyard-handler.herokuapp.com/v1.0.0";async function Qt(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Dt.get(Xt+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function uo(a){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Dt.delete(Xt+"/event?eventId="+a,r)}else console.log("Token not found in local storage")}async function fo(a){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Dt.post(Xt+"/event",a,r)}else console.log("Token not found in local storage")}async function ho(a){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(a)),await Dt.put(Xt+"/event",a,r)}else console.log("Token not found in local storage")}async function po(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Dt.get(Xt+"/events/csv",e)}else console.log("Token not found in local storage")}function Il(a){let e,r,l,n,c=(a[0].startingDateEEMM||"____/__/__")+"",s,i,f,m,_,b=(a[0].startingDateOOCC||"____/__/__")+"",v;return{c(){e=h("div"),r=h("p"),l=O("Inizio ATT EEMM: "),n=h("span"),s=O(c),i=y(),f=h("p"),m=O("Inizio ATT OOCC: "),_=h("span"),v=O(b),this.h()},l(g){e=p(g,"DIV",{class:!0});var w=d(e);r=p(w,"P",{class:!0});var E=d(r);l=M(E,"Inizio ATT EEMM: "),n=p(E,"SPAN",{class:!0});var C=d(n);s=M(C,c),C.forEach(u),E.forEach(u),i=N(w),f=p(w,"P",{class:!0});var k=d(f);m=M(k,"Inizio ATT OOCC: "),_=p(k,"SPAN",{class:!0});var D=d(_);v=M(D,b),D.forEach(u),k.forEach(u),w.forEach(u),this.h()},h(){t(n,"class","font-extralight"),t(r,"class","prose font-mono text-white"),t(_,"class","font-extralight"),t(f,"class","prose font-mono text-white"),t(e,"class","p-2 mb-2")},m(g,w){q(g,e,w),o(e,r),o(r,l),o(r,n),o(n,s),o(e,i),o(e,f),o(f,m),o(f,_),o(_,v)},p(g,w){w&1&&c!==(c=(g[0].startingDateEEMM||"____/__/__")+"")&&fe(s,c),w&1&&b!==(b=(g[0].startingDateOOCC||"____/__/__")+"")&&fe(v,b)},d(g){g&&u(e)}}}function go(a){let e,r,l,n,c,s,i,f,m,_,b,v=a[1]&&Il(a);return{c(){e=h("button"),r=x("svg"),l=x("circle"),n=x("polyline"),c=y(),s=h("h1"),i=O("Tracciamento eventi"),f=y(),v&&v.c(),m=tt(),this.h()},l(g){e=p(g,"BUTTON",{class:!0});var w=d(e);r=L(w,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var E=d(r);l=L(E,"circle",{cx:!0,cy:!0,r:!0}),d(l).forEach(u),n=L(E,"polyline",{points:!0}),d(n).forEach(u),E.forEach(u),c=N(w),s=p(w,"H1",{class:!0});var C=d(s);i=M(C,"Tracciamento eventi"),C.forEach(u),w.forEach(u),f=N(g),v&&v.l(g),m=tt(),this.h()},h(){t(l,"cx","12"),t(l,"cy","12"),t(l,"r","10"),t(n,"points","12 6 12 12 16 14"),t(r,"xmlns","http://www.w3.org/2000/svg"),t(r,"width","22"),t(r,"height","22"),t(r,"viewBox","0 0 24 24"),t(r,"fill","none"),t(r,"stroke","currentColor"),t(r,"stroke-width","2"),t(r,"stroke-linecap","round"),t(r,"stroke-linejoin","round"),t(r,"class","feather feather-clock"),t(s,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(g,w){q(g,e,w),o(e,r),o(r,l),o(r,n),o(e,c),o(e,s),o(s,i),q(g,f,w),v&&v.m(g,w),q(g,m,w),_||(b=B(e,"click",Jr(a[2])),_=!0)},p(g,[w]){g[1]?v?v.p(g,w):(v=Il(g),v.c(),v.m(m.parentNode,m)):v&&(v.d(1),v=null)},i:_e,o:_e,d(g){g&&u(e),g&&u(f),v&&v.d(g),g&&u(m),_=!1,b()}}}function mo(a,e,r){let{turbine:l}=e,n=!1;const c=()=>r(1,n=!n);return a.$$set=s=>{"turbine"in s&&r(0,l=s.turbine)},[l,n,c]}class vo extends We{constructor(e){super(),He(this,e,mo,go,Re,{turbine:0})}}function Sl(a,e,r){const l=a.slice();return l[3]=e[r],l}function Tl(a){let e,r,l=a[0].operation,n=[];for(let c=0;c<l.length;c+=1)n[c]=Cl(Sl(a,l,c));return{c(){e=h("div"),r=h("ul");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=p(c,"DIV",{class:!0});var s=d(e);r=p(s,"UL",{class:!0});var i=d(r);for(let f=0;f<n.length;f+=1)n[f].l(i);i.forEach(u),s.forEach(u),this.h()},h(){t(r,"class","prose font-mono text-white"),t(e,"class","p-2")},m(c,s){q(c,e,s),o(e,r);for(let i=0;i<n.length;i+=1)n[i].m(r,null)},p(c,s){if(s&1){l=c[0].operation;let i;for(i=0;i<l.length;i+=1){const f=Sl(c,l,i);n[i]?n[i].p(f,s):(n[i]=Cl(f),n[i].c(),n[i].m(r,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(c){c&&u(e),Ql(n,c)}}}function Cl(a){let e,r=a[3]+"",l,n;return{c(){e=h("li"),l=O(r),n=y(),this.h()},l(c){e=p(c,"LI",{class:!0});var s=d(e);l=M(s,r),n=N(s),s.forEach(u),this.h()},h(){t(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(c,s){q(c,e,s),o(e,l),o(e,n)},p(c,s){s&1&&r!==(r=c[3]+"")&&fe(l,r)},d(c){c&&u(e)}}}function _o(a){let e,r,l,n,c,s,i,f,m,_,b=a[1]&&Tl(a);return{c(){e=h("button"),r=x("svg"),l=x("path"),n=y(),c=h("h1"),s=O("Operazioni"),i=y(),b&&b.c(),f=tt(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var g=d(e);r=L(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var w=d(r);l=L(w,"path",{d:!0}),d(l).forEach(u),w.forEach(u),n=N(g),c=p(g,"H1",{class:!0});var E=d(c);s=M(E,"Operazioni"),E.forEach(u),g.forEach(u),i=N(v),b&&b.l(v),f=tt(),this.h()},h(){t(l,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),t(r,"xmlns","http://www.w3.org/2000/svg"),t(r,"width","22"),t(r,"height","22"),t(r,"viewBox","0 0 24 24"),t(r,"fill","none"),t(r,"stroke","currentColor"),t(r,"stroke-width","2"),t(r,"stroke-linecap","round"),t(r,"stroke-linejoin","round"),t(r,"class","feather feather-tool"),t(c,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(v,g){q(v,e,g),o(e,r),o(r,l),o(e,n),o(e,c),o(c,s),q(v,i,g),b&&b.m(v,g),q(v,f,g),m||(_=B(e,"click",Jr(a[2])),m=!0)},p(v,[g]){v[1]?b?b.p(v,g):(b=Tl(v),b.c(),b.m(f.parentNode,f)):b&&(b.d(1),b=null)},i:_e,o:_e,d(v){v&&u(e),v&&u(i),b&&b.d(v),v&&u(f),m=!1,_()}}}function bo(a,e,r){let{turbine:l}=e,n=!1;const c=()=>r(1,n=!n);return a.$$set=s=>{"turbine"in s&&r(0,l=s.turbine)},[l,n,c]}class ko extends We{constructor(e){super(),He(this,e,bo,_o,Re,{turbine:0})}}const Gl="https://dockyard-handler.herokuapp.com/v1.0.0";async function Ol(a){if(console.log("Retrieving steps for event "+a),typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Dt.get(Gl+"/steps/"+a,r)).data}else console.log("Token not found in local storage")}async function wo(a,e){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Dt.put(Gl+"/step/complete?stepId="+a+"&isCompleted="+e,null,l)}else console.log("Token not found in local storage")}function Ml(a,e,r){const l=a.slice();return l[6]=e[r],l}function Eo(a){return{c:_e,l:_e,m:_e,p:_e,d:_e}}function yo(a){let e=[],r=new Map,l,n=a[0];const c=s=>s[6].id;for(let s=0;s<n.length;s+=1){let i=Ml(a,n,s),f=c(i);r.set(f,e[s]=Pl(f,i))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();l=tt()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);l=tt()},m(s,i){for(let f=0;f<e.length;f+=1)e[f].m(s,i);q(s,l,i)},p(s,i){i&7&&(n=s[0],e=Qr(e,i,c,1,s,n,r,l.parentNode,Kl,Pl,l,Ml))},d(s){for(let i=0;i<e.length;i+=1)e[i].d(s);s&&u(l)}}}function Vl(a){let e,r,l,n,c,s,i;return{c(){e=h("div"),r=h("p"),l=O("Completato"),n=y(),c=x("svg"),s=x("path"),i=x("polyline"),this.h()},l(f){e=p(f,"DIV",{class:!0});var m=d(e);r=p(m,"P",{class:!0});var _=d(r);l=M(_,"Completato"),_.forEach(u),n=N(m),c=L(m,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var b=d(c);s=L(b,"path",{d:!0}),d(s).forEach(u),i=L(b,"polyline",{points:!0}),d(i).forEach(u),b.forEach(u),m.forEach(u),this.h()},h(){t(r,"class","font-bold uppercase"),t(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),t(i,"points","22 4 12 14.01 9 11.01"),t(c,"xmlns","http://www.w3.org/2000/svg"),t(c,"width","22"),t(c,"height","22"),t(c,"viewBox","0 0 24 24"),t(c,"fill","none"),t(c,"stroke","currentColor"),t(c,"stroke-width","2"),t(c,"stroke-linecap","round"),t(c,"stroke-linejoin","round"),t(c,"class","feather feather-check-circle text-green-500"),t(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(f,m){q(f,e,m),o(e,r),o(r,l),o(e,n),o(e,c),o(c,s),o(c,i)},d(f){f&&u(e)}}}function Pl(a,e){let r,l,n,c,s,i,f,m=e[6].name+"",_,b,v=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,g,w,E;function C(){return e[4](e[6])}let k=v&&Vl();return{key:a,first:null,c(){r=h("div"),l=h("input"),s=y(),i=h("div"),f=h("p"),_=O(m),b=y(),k&&k.c(),g=y(),this.h()},l(D){r=p(D,"DIV",{class:!0});var I=d(r);l=p(I,"INPUT",{type:!0,class:!0}),s=N(I),i=p(I,"DIV",{class:!0});var j=d(i);f=p(j,"P",{});var U=d(f);_=M(U,m),U.forEach(u),j.forEach(u),b=N(I),k&&k.l(I),g=N(I),I.forEach(u),this.h()},h(){t(l,"type","checkbox"),t(l,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),l.disabled=n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,l.checked=c=e[6].complete,t(i,"class","col-span-6 text-left"),t(r,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm"),this.first=r},m(D,I){q(D,r,I),o(r,l),o(r,s),o(r,i),o(i,f),o(f,_),o(r,b),k&&k.m(r,null),o(r,g),w||(E=B(l,"click",C),w=!0)},p(D,I){e=D,I&3&&n!==(n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(l.disabled=n),I&1&&c!==(c=e[6].complete)&&(l.checked=c),I&1&&m!==(m=e[6].name+"")&&fe(_,m),I&3&&(v=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),v?k||(k=Vl(),k.c(),k.m(r,g)):k&&(k.d(1),k=null)},d(D){D&&u(r),k&&k.d(),w=!1,E()}}}function No(a){let e,r;return{c(){e=h("div"),r=O("Caricamento..."),this.h()},l(l){e=p(l,"DIV",{class:!0});var n=d(e);r=M(n,"Caricamento..."),n.forEach(u),this.h()},h(){t(e,"class","col-span-7 text-center")},m(l,n){q(l,e,n),o(e,r)},p:_e,d(l){l&&u(e)}}}function Do(a){let e,r,l,n,c,s,i,f,m,_,b,v,g,w={ctx:a,current:null,token:null,hasCatch:!1,pending:No,then:yo,catch:Eo,value:0};return Nl(b=a[0],w),{c(){e=h("div"),r=h("div"),l=x("svg"),n=x("path"),c=x("path"),s=y(),i=h("h1"),f=O("Tracciamento fasi"),m=y(),_=h("div"),w.block.c(),this.h()},l(E){e=p(E,"DIV",{class:!0});var C=d(e);r=p(C,"DIV",{class:!0});var k=d(r);l=L(k,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(l);n=L(D,"path",{d:!0}),d(n).forEach(u),c=L(D,"path",{d:!0}),d(c).forEach(u),D.forEach(u),s=N(k),i=p(k,"H1",{class:!0});var I=d(i);f=M(I,"Tracciamento fasi"),I.forEach(u),k.forEach(u),m=N(C),_=p(C,"DIV",{id:!0,class:!0});var j=d(_);w.block.l(j),j.forEach(u),C.forEach(u),this.h()},h(){t(n,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),t(c,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"width","24"),t(l,"height","24"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(l,"stroke-linecap","round"),t(l,"stroke-linejoin","round"),t(l,"class","feather feather-link"),t(i,"class","text-center font-mono text-xl"),t(r,"class","grid justify-center place-content-center items-center grid-flow-col mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),t(_,"id","stepsContainer"),t(_,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-32 md:h-64 gap-2 scrollbar-none shadow-md mt-5 items-center"),t(e,"class","col-span-1 text-white md:ring-2 ring-gray-400 rounded-sm")},m(E,C){q(E,e,C),o(e,r),o(r,l),o(l,n),o(l,c),o(r,s),o(r,i),o(i,f),o(e,m),o(e,_),w.block.m(_,w.anchor=null),w.mount=()=>_,w.anchor=null},p(E,[C]){a=E,w.ctx=a,C&1&&b!==(b=a[0])&&Nl(b,w)||Xl(w,a,C)},i(E){v||et(()=>{v=ft(_,rt,{delay:500,duration:1e3}),v.start()}),g||et(()=>{g=ft(e,ql,{delay:400,duration:1e3}),g.start()})},o:_e,d(E){E&&u(e),w.block.d(),w.token=null,w=null}}}function Io(a,e,r){let l,{turbine:n}=e,c=[];Yr(()=>{Ol(n.id).then(m=>{r(0,c=m)}),setTimeout(()=>{i()},1500)});const s=(m,_)=>{wo(m,_).then(()=>{Ol(n.id).then(b=>{r(0,c=b),_?r(3,n.completedSteps+=1,n):r(3,n.completedSteps-=1,n),i()})})};function i(){const m=document.getElementById("stepsContainer"),_=9;if(m){const b=window.innerWidth<768?2:4,v=n.completedSteps-b;if(v>=0&&n.completedSteps<_){m.scrollTo({top:m.scrollHeight/_*(v+1),behavior:"smooth"});return}else if(n.completedSteps===_){setTimeout(()=>{m.scrollTo({top:0,behavior:"smooth"})},500);return}}}const f=m=>s(m.id,!m.complete);return a.$$set=m=>{"turbine"in m&&r(3,n=m.turbine)},a.$$.update=()=>{a.$$.dirty&9&&r(1,l=c[n.completedSteps])},[c,l,s,n,f]}class So extends We{constructor(e){super(),He(this,e,Io,Do,Re,{turbine:3})}}function To(a){let e,r,l,n,c,s,i,f,m,_,b,v,g;return{c(){e=h("div"),r=h("p"),l=O("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),n=y(),c=h("div"),s=h("button"),i=O("Annulla"),f=y(),m=h("button"),_=O("Conferma"),this.h()},l(w){e=p(w,"DIV",{class:!0});var E=d(e);r=p(E,"P",{class:!0});var C=d(r);l=M(C,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),C.forEach(u),n=N(E),c=p(E,"DIV",{class:!0});var k=d(c);s=p(k,"BUTTON",{class:!0});var D=d(s);i=M(D,"Annulla"),D.forEach(u),f=N(k),m=p(k,"BUTTON",{class:!0});var I=d(m);_=M(I,"Conferma"),I.forEach(u),k.forEach(u),E.forEach(u),this.h()},h(){t(r,"class","font-bold text-lg"),t(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),t(m,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),t(c,"class","flex justify-end mt-5 text-sm"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(w,E){q(w,e,E),o(e,r),o(r,l),o(e,n),o(e,c),o(c,s),o(s,i),o(c,f),o(c,m),o(m,_),v||(g=[B(s,"click",a[1]),B(m,"click",a[0]),B(e,"click",a[2]),B(e,"keydown",a[2])],v=!0)},p:_e,i(w){b||et(()=>{b=ft(e,rt,{duration:300}),b.start()})},o:_e,d(w){w&&u(e),v=!1,Ge(g)}}}function Co(a){const e=nt();return[()=>{e("confirm")},()=>{e("cancel")},c=>{c.stopPropagation()}]}class Oo extends We{constructor(e){super(),He(this,e,Co,To,Re,{})}}function Bl(a){let e,r,l=a[0].turbineNumber+"",n;return{c(){e=h("span"),r=O("- "),n=O(l)},l(c){e=p(c,"SPAN",{});var s=d(e);r=M(s,"- "),n=M(s,l),s.forEach(u)},m(c,s){q(c,e,s),o(e,r),o(e,n)},p(c,s){s&1&&l!==(l=c[0].turbineNumber+"")&&fe(n,l)},d(c){c&&u(e)}}}function Al(a){let e,r,l,n,c;return r=new Oo({}),r.$on("confirm",a[4]),r.$on("cancel",a[7]),{c(){e=h("div"),$e(r.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var i=d(e);xe(r.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,i){q(s,e,i),Le(r,e,null),l=!0,n||(c=[B(e,"click",a[8]),B(e,"keydown",a[9])],n=!0)},p:_e,i(s){l||(ue(r.$$.fragment,s),l=!0)},o(s){ve(r.$$.fragment,s),l=!1},d(s){s&&u(e),Fe(r),n=!1,Ge(c)}}}function Ul(a){let e,r,l,n=a[0].permittingDate+"",c;return{c(){e=h("p"),r=O("Valdità permitting: "),l=h("span"),c=O(n),this.h()},l(s){e=p(s,"P",{class:!0});var i=d(e);r=M(i,"Valdità permitting: "),l=p(i,"SPAN",{});var f=d(l);c=M(f,n),f.forEach(u),i.forEach(u),this.h()},h(){t(e,"class","prose font-mono text-white")},m(s,i){q(s,e,i),o(e,r),o(e,l),o(l,c)},p(s,i){i&1&&n!==(n=s[0].permittingDate+"")&&fe(c,n)},d(s){s&&u(e)}}}function jl(a){let e,r,l,n=a[0].priorNotification+"",c;return{c(){e=h("p"),r=O("Valdità notifica: "),l=h("span"),c=O(n),this.h()},l(s){e=p(s,"P",{class:!0});var i=d(e);r=M(i,"Valdità notifica: "),l=p(i,"SPAN",{});var f=d(l);c=M(f,n),f.forEach(u),i.forEach(u),this.h()},h(){t(e,"class","prose font-mono text-white")},m(s,i){q(s,e,i),o(e,r),o(e,l),o(l,c)},p(s,i){i&1&&n!==(n=s[0].priorNotification+"")&&fe(c,n)},d(s){s&&u(e)}}}function Mo(a){let e,r,l,n=a[0].turbineName+"",c,s,i,f,m,_,b,v,g,w,E,C,k,D,I,j,U,A,G,J,ee,S,z,K,ne,X,W,le,Ie,T,te=a[0].creationDate+"",ge,ae,pe,ke,Ce,we=a[0].turbineState+"",ye,F,oe,Z,V,Y,De,re,Oe,Ee,he,$,se,Ue,H=a[0].turbineNumber&&Bl(a),Q=a[1]&&Al(a),be=a[0].permittingDate!==void 0&&Ul(a),de=a[0].priorNotification!==void 0&&jl(a);return Y=new vo({props:{turbine:a[0]}}),re=new ko({props:{turbine:a[0]}}),Ee=new So({props:{turbine:a[0]}}),{c(){e=h("div"),r=h("div"),l=h("h1"),c=O(n),s=y(),H&&H.c(),i=y(),f=h("div"),m=h("div"),_=h("div"),b=y(),Q&&Q.c(),v=y(),g=h("div"),w=h("button"),E=x("svg"),C=x("polyline"),k=x("path"),D=x("line"),I=x("line"),j=y(),U=h("button"),A=x("svg"),G=x("path"),J=y(),ee=h("button"),S=x("svg"),z=x("line"),K=x("line"),ne=y(),X=h("div"),W=h("div"),le=h("p"),Ie=O("Creazione: "),T=h("span"),ge=O(te),ae=y(),pe=h("p"),ke=O("Stato turbina: "),Ce=h("span"),ye=O(we),F=y(),be&&be.c(),oe=y(),de&&de.c(),Z=y(),V=h("div"),$e(Y.$$.fragment),De=y(),$e(re.$$.fragment),Oe=y(),$e(Ee.$$.fragment),this.h()},l(P){e=p(P,"DIV",{class:!0});var ie=d(e);r=p(ie,"DIV",{class:!0});var Pe=d(r);l=p(Pe,"H1",{class:!0});var Me=d(l);c=M(Me,n),s=N(Me),H&&H.l(Me),Me.forEach(u),i=N(Pe),f=p(Pe,"DIV",{class:!0});var je=d(f);m=p(je,"DIV",{class:!0});var ze=d(m);_=p(ze,"DIV",{class:!0}),d(_).forEach(u),b=N(ze),Q&&Q.l(ze),v=N(ze),g=p(ze,"DIV",{class:!0});var Be=d(g);w=p(Be,"BUTTON",{class:!0});var lt=d(w);E=L(lt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Te=d(E);C=L(Te,"polyline",{points:!0}),d(C).forEach(u),k=L(Te,"path",{d:!0}),d(k).forEach(u),D=L(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(u),I=L(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(I).forEach(u),Te.forEach(u),lt.forEach(u),j=N(Be),U=p(Be,"BUTTON",{class:!0});var ot=d(U);A=L(ot,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var It=d(A);G=L(It,"path",{d:!0}),d(G).forEach(u),It.forEach(u),ot.forEach(u),J=N(Be),ee=p(Be,"BUTTON",{class:!0});var St=d(ee);S=L(St,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Je=d(S);z=L(Je,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(z).forEach(u),K=L(Je,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(K).forEach(u),Je.forEach(u),St.forEach(u),Be.forEach(u),ze.forEach(u),je.forEach(u),Pe.forEach(u),ne=N(ie),X=p(ie,"DIV",{class:!0});var Ye=d(X);W=p(Ye,"DIV",{class:!0});var Ae=d(W);le=p(Ae,"P",{class:!0});var ht=d(le);Ie=M(ht,"Creazione: "),T=p(ht,"SPAN",{});var Qe=d(T);ge=M(Qe,te),Qe.forEach(u),ht.forEach(u),ae=N(Ae),pe=p(Ae,"P",{class:!0});var Xe=d(pe);ke=M(Xe,"Stato turbina: "),Ce=p(Xe,"SPAN",{});var Tt=d(Ce);ye=M(Tt,we),Tt.forEach(u),Xe.forEach(u),F=N(Ae),be&&be.l(Ae),oe=N(Ae),de&&de.l(Ae),Z=N(Ae),V=p(Ae,"DIV",{class:!0});var at=d(V);xe(Y.$$.fragment,at),De=N(at),xe(re.$$.fragment,at),at.forEach(u),Ae.forEach(u),Oe=N(Ye),xe(Ee.$$.fragment,Ye),Ye.forEach(u),ie.forEach(u),this.h()},h(){t(l,"class","font-mono font-bold text-2xl md:text-4xl"),t(_,"class","col-span-3"),t(C,"points","3 6 5 6 21 6"),t(k,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),t(D,"x1","10"),t(D,"y1","11"),t(D,"x2","10"),t(D,"y2","17"),t(I,"x1","14"),t(I,"y1","11"),t(I,"x2","14"),t(I,"y2","17"),t(E,"xmlns","http://www.w3.org/2000/svg"),t(E,"width","20"),t(E,"height","20"),t(E,"viewBox","0 0 24 24"),t(E,"fill","none"),t(E,"stroke","currentColor"),t(E,"stroke-width","2"),t(E,"stroke-linecap","round"),t(E,"stroke-linejoin","round"),t(E,"class","feather feather-trash-2"),t(w,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(G,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),t(A,"xmlns","http://www.w3.org/2000/svg"),t(A,"width","20"),t(A,"height","20"),t(A,"viewBox","0 0 24 24"),t(A,"fill","none"),t(A,"stroke","currentColor"),t(A,"stroke-width","2"),t(A,"stroke-linecap","round"),t(A,"stroke-linejoin","round"),t(A,"class","feather feather-edit-2"),t(U,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),t(z,"x1","18"),t(z,"y1","6"),t(z,"x2","6"),t(z,"y2","18"),t(K,"x1","6"),t(K,"y1","6"),t(K,"x2","18"),t(K,"y2","18"),t(S,"xmlns","http://www.w3.org/2000/svg"),t(S,"width","24"),t(S,"height","24"),t(S,"viewBox","0 0 24 24"),t(S,"fill","none"),t(S,"stroke","currentColor"),t(S,"stroke-width","2"),t(S,"stroke-linecap","round"),t(S,"stroke-linejoin","round"),t(S,"class","feather feather-x"),t(ee,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(g,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),t(m,"class","grid grid-cols-6"),t(f,"class","flex flex-row justify-end"),t(r,"class","w-full h-20 grid grid-cols-2 items-start"),t(le,"class","prose font-mono text-white"),t(pe,"class","prose font-mono text-white"),t(V,"class","w-full mt-5"),t(W,"class","col-span-1"),t(X,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start gap-0 md:gap-4"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 md:min-w-min md:max-w-4xl z-50 h-[32rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(P,ie){q(P,e,ie),o(e,r),o(r,l),o(l,c),o(l,s),H&&H.m(l,null),o(r,i),o(r,f),o(f,m),o(m,_),o(m,b),Q&&Q.m(m,null),o(m,v),o(m,g),o(g,w),o(w,E),o(E,C),o(E,k),o(E,D),o(E,I),o(g,j),o(g,U),o(U,A),o(A,G),o(g,J),o(g,ee),o(ee,S),o(S,z),o(S,K),o(e,ne),o(e,X),o(X,W),o(W,le),o(le,Ie),o(le,T),o(T,ge),o(W,ae),o(W,pe),o(pe,ke),o(pe,Ce),o(Ce,ye),o(W,F),be&&be.m(W,null),o(W,oe),de&&de.m(W,null),o(W,Z),o(W,V),Le(Y,V,null),o(V,De),Le(re,V,null),o(X,Oe),Le(Ee,X,null),$=!0,se||(Ue=[B(w,"click",a[10]),B(U,"click",a[3]),B(ee,"click",a[2]),B(e,"click",qe(a[5])),B(e,"keydown",qe(a[6]))],se=!0)},p(P,[ie]){(!$||ie&1)&&n!==(n=P[0].turbineName+"")&&fe(c,n),P[0].turbineNumber?H?H.p(P,ie):(H=Bl(P),H.c(),H.m(l,null)):H&&(H.d(1),H=null),P[1]?Q?(Q.p(P,ie),ie&2&&ue(Q,1)):(Q=Al(P),Q.c(),ue(Q,1),Q.m(m,v)):Q&&(yt(),ve(Q,1,1,()=>{Q=null}),Nt()),(!$||ie&1)&&te!==(te=P[0].creationDate+"")&&fe(ge,te),(!$||ie&1)&&we!==(we=P[0].turbineState+"")&&fe(ye,we),P[0].permittingDate!==void 0?be?be.p(P,ie):(be=Ul(P),be.c(),be.m(W,oe)):be&&(be.d(1),be=null),P[0].priorNotification!==void 0?de?de.p(P,ie):(de=jl(P),de.c(),de.m(W,Z)):de&&(de.d(1),de=null);const Pe={};ie&1&&(Pe.turbine=P[0]),Y.$set(Pe);const Me={};ie&1&&(Me.turbine=P[0]),re.$set(Me);const je={};ie&1&&(je.turbine=P[0]),Ee.$set(je)},i(P){$||(ue(Q),ue(Y.$$.fragment,P),ue(re.$$.fragment,P),ue(Ee.$$.fragment,P),he||et(()=>{he=ft(e,rt,{duration:150}),he.start()}),$=!0)},o(P){ve(Q),ve(Y.$$.fragment,P),ve(re.$$.fragment,P),ve(Ee.$$.fragment,P),$=!1},d(P){P&&u(e),H&&H.d(),Q&&Q.d(),be&&be.d(),de&&de.d(),Fe(Y),Fe(re),Fe(Ee),se=!1,Ge(Ue)}}}function Vo(a,e,r){let{turbine:l={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const n=nt(),c=()=>{n("closeDetails")},s=()=>{n("editMode",l.id)};let i=!1;const f=()=>{r(1,i=!1),uo(l.id).then(()=>{n("deleted")})};function m(E){dt.call(this,a,E)}function _(E){dt.call(this,a,E)}const b=()=>{r(1,i=!1)},v=()=>{r(1,i=!1)},g=()=>{r(1,i=!1)},w=()=>{r(1,i=!0)};return a.$$set=E=>{"turbine"in E&&r(0,l=E.turbine)},[l,i,c,s,f,m,_,b,v,g,w]}class Po extends We{constructor(e){super(),He(this,e,Vo,Mo,Re,{turbine:0})}}const Bo={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale"};function zl(a,e,r){const l=a.slice();return l[7]=e[r],l[8]=e,l[9]=r,l}function $l(a,e){let r,l,n,c,s,i=e[7].name+"",f,m,_,b;function v(...g){return e[5](e[7],e[8],e[9],...g)}return{key:a,first:null,c(){r=h("div"),l=h("input"),c=y(),s=h("p"),f=O(i),m=y(),this.h()},l(g){r=p(g,"DIV",{class:!0});var w=d(r);l=p(w,"INPUT",{class:!0,type:!0}),c=N(w),s=p(w,"P",{class:!0});var E=d(s);f=M(E,i),E.forEach(u),m=N(w),w.forEach(u),this.h()},h(){t(l,"class","checkbox"),l.checked=n=e[7].isSelected,t(l,"type","checkbox"),t(s,"class","font-mono"),t(r,"class","flex flex-row gap-4"),this.first=r},m(g,w){q(g,r,w),o(r,l),o(r,c),o(r,s),o(s,f),o(r,m),_||(b=B(l,"change",v),_=!0)},p(g,w){e=g,w&1&&n!==(n=e[7].isSelected)&&(l.checked=n),w&1&&i!==(i=e[7].name+"")&&fe(f,i)},d(g){g&&u(r),_=!1,b()}}}function Ao(a){let e,r,l=[],n=new Map,c,s,i,f,m,_,b,v,g,w,E=a[0];const C=k=>k[7].name;for(let k=0;k<E.length;k+=1){let D=zl(a,E,k),I=C(D);n.set(I,l[k]=$l(I,D))}return{c(){e=h("div"),r=h("div");for(let k=0;k<l.length;k+=1)l[k].c();c=y(),s=h("div"),i=h("button"),f=O("Conferma"),m=y(),_=h("button"),b=O("Chiudi"),this.h()},l(k){e=p(k,"DIV",{class:!0});var D=d(e);r=p(D,"DIV",{class:!0});var I=d(r);for(let G=0;G<l.length;G+=1)l[G].l(I);I.forEach(u),c=N(D),s=p(D,"DIV",{class:!0});var j=d(s);i=p(j,"BUTTON",{class:!0});var U=d(i);f=M(U,"Conferma"),U.forEach(u),m=N(j),_=p(j,"BUTTON",{class:!0});var A=d(_);b=M(A,"Chiudi"),A.forEach(u),j.forEach(u),D.forEach(u),this.h()},h(){t(r,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),t(i,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),t(_,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),t(s,"class","flex flex-row mt-5 gap-2 justify-center"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(k,D){q(k,e,D),o(e,r);for(let I=0;I<l.length;I+=1)l[I].m(r,null);o(e,c),o(e,s),o(s,i),o(i,f),o(s,m),o(s,_),o(_,b),g||(w=[B(i,"click",qe(a[1])),B(_,"click",qe(a[2])),B(e,"click",qe(a[3])),B(e,"keydown",qe(a[4]))],g=!0)},p(k,[D]){D&1&&(E=k[0],l=Qr(l,D,C,1,k,E,n,r,Kl,$l,null,zl))},i(k){v||et(()=>{v=ft(e,rt,{duration:300}),v.start()})},o:_e,d(k){k&&u(e);for(let D=0;D<l.length;D+=1)l[D].d();g=!1,Ge(w)}}}function Uo(a,e,r){let{operations:l=[]}=e;const n=nt(),c=()=>{n("confirm",l)},s=()=>{n("cancel")};function i(_){dt.call(this,a,_)}function f(_){dt.call(this,a,_)}const m=(_,b,v,g)=>{r(0,b[v].isSelected=g.target.checked,l)};return a.$$set=_=>{"operations"in _&&r(0,l=_.operations)},[l,c,s,i,f,m]}class jo extends We{constructor(e){super(),He(this,e,Uo,Ao,Re,{operations:0})}}function zo(a){let e,r,l,n,c,s,i,f,m,_,b,v,g,w,E,C,k,D,I,j,U,A;return{c(){e=h("div"),r=h("div"),l=h("button"),n=x("svg"),c=x("path"),s=x("line"),i=x("polyline"),m=O("Kilowatt"),b=y(),v=h("button"),g=x("svg"),w=x("path"),E=x("line"),C=x("polyline"),D=O("Megawatt"),this.h()},l(G){e=p(G,"DIV",{class:!0});var J=d(e);r=p(J,"DIV",{class:!0});var ee=d(r);l=p(ee,"BUTTON",{class:!0,type:!0});var S=d(l);n=L(S,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var z=d(n);c=L(z,"path",{d:!0}),d(c).forEach(u),s=L(z,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),i=L(z,"polyline",{points:!0}),d(i).forEach(u),z.forEach(u),m=M(S,"Kilowatt"),S.forEach(u),b=N(ee),v=p(ee,"BUTTON",{class:!0,type:!0});var K=d(v);g=L(K,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ne=d(g);w=L(ne,"path",{d:!0}),d(w).forEach(u),E=L(ne,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(E).forEach(u),C=L(ne,"polyline",{points:!0}),d(C).forEach(u),ne.forEach(u),D=M(K,"Megawatt"),K.forEach(u),ee.forEach(u),J.forEach(u),this.h()},h(){t(c,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(s,"x1","23"),t(s,"y1","13"),t(s,"x2","23"),t(s,"y2","11"),t(i,"points","11 6 7 12 13 12 9 18"),t(n,"xmlns","http://www.w3.org/2000/svg"),t(n,"width","24"),t(n,"height","24"),t(n,"viewBox","0 0 24 24"),t(n,"fill","none"),t(n,"stroke","currentColor"),t(n,"stroke-width","2"),t(n,"stroke-linecap","round"),t(n,"stroke-linejoin","round"),t(n,"class",f=a[0]?"text-green-500":""),t(l,"class",_=Ve(a[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),t(l,"type","button"),t(w,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(E,"x1","23"),t(E,"y1","13"),t(E,"x2","23"),t(E,"y2","11"),t(C,"points","11 6 7 12 13 12 9 18"),t(g,"xmlns","http://www.w3.org/2000/svg"),t(g,"width","24"),t(g,"height","24"),t(g,"viewBox","0 0 24 24"),t(g,"fill","none"),t(g,"stroke","currentColor"),t(g,"stroke-width","2"),t(g,"stroke-linecap","round"),t(g,"stroke-linejoin","round"),t(g,"class",k=a[0]?"":"text-blue-500"),t(v,"class",I=Ve(a[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4"),t(v,"type","button"),t(r,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(G,J){q(G,e,J),o(e,r),o(r,l),o(l,n),o(n,c),o(n,s),o(n,i),o(l,m),o(r,b),o(r,v),o(v,g),o(g,w),o(g,E),o(g,C),o(v,D),U||(A=[B(l,"click",a[2]),B(v,"click",a[3])],U=!0)},p(G,[J]){J&1&&f!==(f=G[0]?"text-green-500":"")&&t(n,"class",f),J&1&&_!==(_=Ve(G[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&t(l,"class",_),J&1&&k!==(k=G[0]?"":"text-blue-500")&&t(g,"class",k),J&1&&I!==(I=Ve(G[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4")&&t(v,"class",I)},i(G){j||et(()=>{j=ft(e,ql,{duration:300}),j.start()})},o:_e,d(G){G&&u(e),U=!1,Ge(A)}}}function $o(a,e,r){const l=nt();let n=!0;const c=()=>{l("change",n?"KILOWATT":"MEGAWATT")};return[n,c,()=>{r(0,n=!0),c()},()=>{r(0,n=!1),c()}]}class xo extends We{constructor(e){super(),He(this,e,$o,zo,Re,{})}}function Lo(a){let e,r,l,n,c,s,i,f,m,_,b,v,g,w,E,C;return{c(){e=h("div"),r=h("div"),l=h("button"),n=O("In Marcia"),s=y(),i=h("button"),f=O("Limitata"),_=y(),b=h("button"),v=O("Ferma"),this.h()},l(k){e=p(k,"DIV",{class:!0});var D=d(e);r=p(D,"DIV",{class:!0});var I=d(r);l=p(I,"BUTTON",{class:!0,type:!0});var j=d(l);n=M(j,"In Marcia"),j.forEach(u),s=N(I),i=p(I,"BUTTON",{class:!0,type:!0});var U=d(i);f=M(U,"Limitata"),U.forEach(u),_=N(I),b=p(I,"BUTTON",{class:!0,type:!0});var A=d(b);v=M(A,"Ferma"),A.forEach(u),I.forEach(u),D.forEach(u),this.h()},h(){t(l,"class",c=Ve(a[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),t(l,"type","button"),t(i,"class",m=Ve(a[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),t(i,"type","button"),t(b,"class",g=Ve(a[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),t(b,"type","button"),t(r,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(k,D){q(k,e,D),o(e,r),o(r,l),o(l,n),o(r,s),o(r,i),o(i,f),o(r,_),o(r,b),o(b,v),E||(C=[B(l,"click",a[2]),B(i,"click",a[3]),B(b,"click",a[4])],E=!0)},p(k,[D]){D&1&&c!==(c=Ve(k[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&t(l,"class",c),D&1&&m!==(m=Ve(k[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&t(i,"class",m),D&1&&g!==(g=Ve(k[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&t(b,"class",g)},i(k){w||et(()=>{w=ft(e,rt,{duration:300,delay:300}),w.start()})},o:_e,d(k){k&&u(e),E=!1,Ge(C)}}}function Fo(a,e,r){const l=nt();let n="In Marcia";const c=()=>{l("change",n)};return[n,c,()=>{r(0,n="In Marcia"),c()},()=>{r(0,n="Limitata"),c()},()=>{r(0,n="Ferma"),c()}]}class Wo extends We{constructor(e){super(),He(this,e,Fo,Lo,Re,{})}}function xl(a){let e,r,l,n,c;return r=new jo({props:{operations:a[3]}}),r.$on("cancel",a[12]),r.$on("confirm",a[13]),{c(){e=h("div"),$e(r.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var i=d(e);xe(r.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){q(s,e,i),Le(r,e,null),l=!0,n||(c=[B(e,"click",qe(a[14])),B(e,"keydown",qe(a[15]))],n=!0)},p(s,i){const f={};i&8&&(f.operations=s[3]),r.$set(f)},i(s){l||(ue(r.$$.fragment,s),l=!0)},o(s){ve(r.$$.fragment,s),l=!1},d(s){s&&u(e),Fe(r),n=!1,Ge(c)}}}function Ho(a){let e,r,l,n,c,s,i,f,m,_,b,v,g,w,E,C,k,D,I,j,U,A,G,J,ee,S,z,K,ne,X,W,le,Ie,T,te,ge,ae,pe,ke,Ce,we,ye,F,oe,Z,V,Y,De,re,Oe,Ee,he,$,se,Ue,H,Q,be,de,P,ie,Pe,Me=a[1]?"modifica":"creazione",je,ze,Be,lt,Te,ot,It,St,Je,Ye=a[0].turbineNumber+"",Ae,ht,Qe,Xe,Tt,at,Ct,Wt=a[0].turbineName+"",Zt,Dr,pt,Ot,Ir,Sr,Mt,Ht=a[0].description+"",er,Tr,gt,Vt,Cr,Or,Pt,Rt=(a[0].odlNumber||"N/A")+"",tr,Mr,mt,Bt,Vr,Pr,At,Kt=a[0].operation+"",rr,Br,vt,Ut,Ar,Ur,jt,qt=a[0].power+"",lr,jr,_t,zt,zr,$r,$t,Gt=a[0].turbineState+"",or,xr,st,it,Lr,Fr,bt,Jt,Yt=a[1]?"Modifica":"Crea",nr,ct,Wr,Ke,kt,ar,Hr,wt,sr,Rr,Et,ir,me,Kr,Xr,Ne=a[2]&&xl(a);return ee=new xo({}),ee.$on("change",a[21]),ne=new Wo({}),ne.$on("change",a[22]),{c(){e=h("div"),Ne&&Ne.c(),r=y(),l=h("form"),n=h("div"),c=h("div"),s=h("div"),i=h("input"),m=y(),_=h("input"),v=y(),g=h("input"),E=y(),C=h("input"),D=y(),I=h("div"),j=h("button"),U=h("input"),G=y(),J=h("div"),$e(ee.$$.fragment),S=y(),z=h("div"),K=h("div"),$e(ne.$$.fragment),X=y(),W=h("div"),le=h("label"),Ie=O("Data Inizio EEMM"),T=y(),te=h("input"),ae=y(),pe=h("div"),ke=h("label"),Ce=O("Data Inizio OOCC"),we=y(),ye=h("input"),oe=y(),Z=h("div"),V=h("label"),Y=O("Validità permitting"),De=y(),re=h("input"),Ee=y(),he=h("div"),$=h("label"),se=O("Validità notifica"),Ue=y(),H=h("input"),be=y(),de=h("div"),P=h("div"),ie=h("h2"),Pe=O("Riepilogo "),je=O(Me),ze=y(),Be=h("div"),lt=y(),Te=h("p"),ot=h("span"),It=O("Numero cantiere:"),St=y(),Je=h("span"),Ae=O(Ye),ht=y(),Qe=h("p"),Xe=h("span"),Tt=O("Aerogeneratore:"),at=y(),Ct=h("span"),Zt=O(Wt),Dr=y(),pt=h("p"),Ot=h("span"),Ir=O("Impianto eolico:"),Sr=y(),Mt=h("span"),er=O(Ht),Tr=y(),gt=h("p"),Vt=h("span"),Cr=O("Numero ODL:"),Or=y(),Pt=h("span"),tr=O(Rt),Mr=y(),mt=h("p"),Bt=h("span"),Vr=O("Operazioni:"),Pr=y(),At=h("span"),rr=O(Kt),Br=y(),vt=h("p"),Ut=h("span"),Ar=O("Tipologia:"),Ur=y(),jt=h("span"),lr=O(qt),jr=y(),_t=h("p"),zt=h("span"),zr=O("Stato:"),$r=y(),$t=h("span"),or=O(Gt),xr=y(),st=h("div"),it=h("button"),Lr=O("Annulla"),Fr=y(),bt=h("button"),Jt=h("p"),nr=O(Yt),Wr=y(),Ke=h("div"),kt=h("input"),Hr=y(),wt=h("input"),Rr=y(),Et=h("input"),this.h()},l(R){e=p(R,"DIV",{class:!0});var ce=d(e);Ne&&Ne.l(ce),r=N(ce),l=p(ce,"FORM",{});var cr=d(l);n=p(cr,"DIV",{id:!0,class:!0});var xt=d(n);c=p(xt,"DIV",{class:!0});var Lt=d(c);s=p(Lt,"DIV",{class:!0});var ut=d(s);i=p(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),m=N(ut),_=p(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),v=N(ut),g=p(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),E=N(ut),C=p(ut,"INPUT",{class:!0,type:!0,placeholder:!0}),ut.forEach(u),D=N(Lt),I=p(Lt,"DIV",{class:!0});var Zr=d(I);j=p(Zr,"BUTTON",{type:!0,class:!0});var el=d(j);U=p(el,"INPUT",{class:!0,placeholder:!0}),el.forEach(u),Zr.forEach(u),G=N(Lt),J=p(Lt,"DIV",{class:!0});var tl=d(J);xe(ee.$$.fragment,tl),tl.forEach(u),Lt.forEach(u),S=N(xt),z=p(xt,"DIV",{class:!0});var Ze=d(z);K=p(Ze,"DIV",{class:!0});var rl=d(K);xe(ne.$$.fragment,rl),rl.forEach(u),X=N(Ze),W=p(Ze,"DIV",{});var ur=d(W);le=p(ur,"LABEL",{for:!0,class:!0});var ll=d(le);Ie=M(ll,"Data Inizio EEMM"),ll.forEach(u),T=N(ur),te=p(ur,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),ur.forEach(u),ae=N(Ze),pe=p(Ze,"DIV",{});var dr=d(pe);ke=p(dr,"LABEL",{for:!0,class:!0});var ol=d(ke);Ce=M(ol,"Data Inizio OOCC"),ol.forEach(u),we=N(dr),ye=p(dr,"INPUT",{class:!0,type:!0,placeholder:!0}),dr.forEach(u),oe=N(Ze),Z=p(Ze,"DIV",{});var fr=d(Z);V=p(fr,"LABEL",{for:!0,class:!0});var nl=d(V);Y=M(nl,"Validità permitting"),nl.forEach(u),De=N(fr),re=p(fr,"INPUT",{class:!0,type:!0,placeholder:!0}),fr.forEach(u),Ee=N(Ze),he=p(Ze,"DIV",{});var hr=d(he);$=p(hr,"LABEL",{for:!0,class:!0});var al=d($);se=M(al,"Validità notifica"),al.forEach(u),Ue=N(hr),H=p(hr,"INPUT",{class:!0,type:!0,placeholder:!0}),hr.forEach(u),Ze.forEach(u),be=N(xt),de=p(xt,"DIV",{class:!0});var pr=d(de);P=p(pr,"DIV",{class:!0});var Se=d(P);ie=p(Se,"H2",{class:!0});var qr=d(ie);Pe=M(qr,"Riepilogo "),je=M(qr,Me),qr.forEach(u),ze=N(Se),Be=p(Se,"DIV",{class:!0}),d(Be).forEach(u),lt=N(Se),Te=p(Se,"P",{});var gr=d(Te);ot=p(gr,"SPAN",{class:!0});var sl=d(ot);It=M(sl,"Numero cantiere:"),sl.forEach(u),St=N(gr),Je=p(gr,"SPAN",{class:!0});var il=d(Je);Ae=M(il,Ye),il.forEach(u),gr.forEach(u),ht=N(Se),Qe=p(Se,"P",{});var mr=d(Qe);Xe=p(mr,"SPAN",{class:!0});var cl=d(Xe);Tt=M(cl,"Aerogeneratore:"),cl.forEach(u),at=N(mr),Ct=p(mr,"SPAN",{class:!0});var ul=d(Ct);Zt=M(ul,Wt),ul.forEach(u),mr.forEach(u),Dr=N(Se),pt=p(Se,"P",{});var vr=d(pt);Ot=p(vr,"SPAN",{class:!0});var dl=d(Ot);Ir=M(dl,"Impianto eolico:"),dl.forEach(u),Sr=N(vr),Mt=p(vr,"SPAN",{class:!0});var fl=d(Mt);er=M(fl,Ht),fl.forEach(u),vr.forEach(u),Tr=N(Se),gt=p(Se,"P",{});var _r=d(gt);Vt=p(_r,"SPAN",{class:!0});var hl=d(Vt);Cr=M(hl,"Numero ODL:"),hl.forEach(u),Or=N(_r),Pt=p(_r,"SPAN",{class:!0});var pl=d(Pt);tr=M(pl,Rt),pl.forEach(u),_r.forEach(u),Mr=N(Se),mt=p(Se,"P",{});var br=d(mt);Bt=p(br,"SPAN",{class:!0});var gl=d(Bt);Vr=M(gl,"Operazioni:"),gl.forEach(u),Pr=N(br),At=p(br,"SPAN",{class:!0});var ml=d(At);rr=M(ml,Kt),ml.forEach(u),br.forEach(u),Br=N(Se),vt=p(Se,"P",{});var kr=d(vt);Ut=p(kr,"SPAN",{class:!0});var vl=d(Ut);Ar=M(vl,"Tipologia:"),vl.forEach(u),Ur=N(kr),jt=p(kr,"SPAN",{class:!0});var _l=d(jt);lr=M(_l,qt),_l.forEach(u),kr.forEach(u),jr=N(Se),_t=p(Se,"P",{});var wr=d(_t);zt=p(wr,"SPAN",{class:!0});var bl=d(zt);zr=M(bl,"Stato:"),bl.forEach(u),$r=N(wr),$t=p(wr,"SPAN",{class:!0});var kl=d($t);or=M(kl,Gt),kl.forEach(u),wr.forEach(u),Se.forEach(u),xr=N(pr),st=p(pr,"DIV",{class:!0});var Er=d(st);it=p(Er,"BUTTON",{type:!0,class:!0});var wl=d(it);Lr=M(wl,"Annulla"),wl.forEach(u),Fr=N(Er),bt=p(Er,"BUTTON",{class:!0});var El=d(bt);Jt=p(El,"P",{});var yl=d(Jt);nr=M(yl,Yt),yl.forEach(u),El.forEach(u),Er.forEach(u),pr.forEach(u),xt.forEach(u),Wr=N(cr),Ke=p(cr,"DIV",{class:!0});var Ft=d(Ke);kt=p(Ft,"INPUT",{type:!0,class:!0}),Hr=N(Ft),wt=p(Ft,"INPUT",{type:!0,class:!0}),Rr=N(Ft),Et=p(Ft,"INPUT",{type:!0,class:!0}),Ft.forEach(u),cr.forEach(u),ce.forEach(u),this.h()},h(){t(i,"class","input"),t(i,"type","text"),i.value=f=a[0].turbineName,t(i,"placeholder","Aerogeneratore*"),i.required=!0,i.disabled=a[1],t(_,"class","input"),t(_,"type","text"),_.value=b=a[0].turbineNumber,t(_,"placeholder","Numero cantiere"),t(g,"class","input"),t(g,"type","text"),g.value=w=a[0].description,t(g,"placeholder","Impianto Eolico*"),g.required=!0,t(C,"class","input"),t(C,"type","number"),C.value=k=a[0].odlNumber,t(C,"placeholder","Numero ODL"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),t(U,"class","w-full"),U.value=A=a[0].operation.length>0?a[0].operation.join(", "):"",U.disabled=!0,t(U,"placeholder","Operazioni*"),U.required=!0,t(j,"type","button"),t(j,"class","input hover:bg-gray-200 text-start transition ease-in-out"),t(I,"class","col-span-full mt-5"),t(J,"class","col-span-full mt-auto"),t(c,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(K,"class","col-span-full"),t(le,"for","dateEEMM"),t(le,"class","font-mono text-white"),t(te,"id","dateEEMM"),t(te,"class","input"),t(te,"type","date"),te.value=ge=a[0].startingDateEEMM!==void 0?a[0].startingDateEEMM:"",t(te,"placeholder","Data inizio EEMM"),t(ke,"for","dateEEMM"),t(ke,"class","font-mono text-white"),t(ye,"class","input"),t(ye,"type","date"),ye.value=F=a[0].startingDateOOCC!==void 0?a[0].startingDateOOCC:"",t(ye,"placeholder","Data inizio OOCC"),t(V,"for","dateEEMM"),t(V,"class","font-mono text-white"),t(re,"class","input"),t(re,"type","date"),re.value=Oe=a[0].permittingDate!==void 0?a[0].permittingDate:"",t(re,"placeholder","Validità permitting"),t($,"for","dateEEMM"),t($,"class","font-mono text-white"),t(H,"class","input"),t(H,"type","date"),H.value=Q=a[0].priorNotification!==void 0?a[0].priorNotification:"",t(H,"placeholder","Validità notifica"),t(z,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(ie,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),t(Be,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),t(ot,"class","font-mono font-bold text-gray-300"),t(Je,"class","font-mono text-gray-300"),t(Xe,"class","font-mono font-bold text-gray-300"),t(Ct,"class","font-mono text-gray-300"),t(Ot,"class","font-mono font-bold text-gray-300"),t(Mt,"class","font-mono text-gray-300"),t(Vt,"class","font-mono font-bold text-gray-300"),t(Pt,"class","font-mono text-gray-300"),t(Bt,"class","font-mono font-bold text-gray-300"),t(At,"class","font-mono text-gray-300"),t(Ut,"class","font-mono font-bold text-gray-300"),t(jt,"class","font-mono text-gray-300"),t(zt,"class","font-mono font-bold text-gray-300"),t($t,"class","font-mono text-gray-300"),t(P,"class","w-[15rem] md:w-[29rem] h-3/4"),t(it,"type","button"),t(it,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),t(bt,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),t(st,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),t(de,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(n,"id","scrollable"),t(n,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),t(kt,"type","checkbox"),t(kt,"class",ar=Ve(a[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(wt,"type","checkbox"),t(wt,"class",sr=Ve(a[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(Et,"type","checkbox"),t(Et,"class",ir=Ve(a[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),t(Ke,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),t(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(R,ce){q(R,e,ce),Ne&&Ne.m(e,null),o(e,r),o(e,l),o(l,n),o(n,c),o(c,s),o(s,i),o(s,m),o(s,_),o(s,v),o(s,g),o(s,E),o(s,C),o(c,D),o(c,I),o(I,j),o(j,U),o(c,G),o(c,J),Le(ee,J,null),o(n,S),o(n,z),o(z,K),Le(ne,K,null),o(z,X),o(z,W),o(W,le),o(le,Ie),o(W,T),o(W,te),o(z,ae),o(z,pe),o(pe,ke),o(ke,Ce),o(pe,we),o(pe,ye),o(z,oe),o(z,Z),o(Z,V),o(V,Y),o(Z,De),o(Z,re),o(z,Ee),o(z,he),o(he,$),o($,se),o(he,Ue),o(he,H),o(n,be),o(n,de),o(de,P),o(P,ie),o(ie,Pe),o(ie,je),o(P,ze),o(P,Be),o(P,lt),o(P,Te),o(Te,ot),o(ot,It),o(Te,St),o(Te,Je),o(Je,Ae),o(P,ht),o(P,Qe),o(Qe,Xe),o(Xe,Tt),o(Qe,at),o(Qe,Ct),o(Ct,Zt),o(P,Dr),o(P,pt),o(pt,Ot),o(Ot,Ir),o(pt,Sr),o(pt,Mt),o(Mt,er),o(P,Tr),o(P,gt),o(gt,Vt),o(Vt,Cr),o(gt,Or),o(gt,Pt),o(Pt,tr),o(P,Mr),o(P,mt),o(mt,Bt),o(Bt,Vr),o(mt,Pr),o(mt,At),o(At,rr),o(P,Br),o(P,vt),o(vt,Ut),o(Ut,Ar),o(vt,Ur),o(vt,jt),o(jt,lr),o(P,jr),o(P,_t),o(_t,zt),o(zt,zr),o(_t,$r),o(_t,$t),o($t,or),o(de,xr),o(de,st),o(st,it),o(it,Lr),o(st,Fr),o(st,bt),o(bt,Jt),o(Jt,nr),o(l,Wr),o(l,Ke),o(Ke,kt),o(Ke,Hr),o(Ke,wt),o(Ke,Rr),o(Ke,Et),me=!0,Kr||(Xr=[B(i,"change",a[16]),B(_,"change",a[17]),B(g,"change",a[18]),B(C,"change",a[19]),B(j,"click",a[20]),B(te,"change",a[23]),B(ye,"change",a[24]),B(re,"change",a[25]),B(H,"change",a[26]),B(it,"click",a[6]),B(bt,"click",a[7]),B(n,"click",qe(a[10])),B(n,"keydown",qe(a[11])),B(kt,"change",a[27]),B(wt,"change",a[28]),B(Et,"change",a[29]),B(Ke,"click",qe(a[8])),B(Ke,"keydown",qe(a[9])),B(e,"click",a[6]),B(e,"keydown",a[6])],Kr=!0)},p(R,[ce]){R[2]?Ne?(Ne.p(R,ce),ce&4&&ue(Ne,1)):(Ne=xl(R),Ne.c(),ue(Ne,1),Ne.m(e,r)):Ne&&(yt(),ve(Ne,1,1,()=>{Ne=null}),Nt()),(!me||ce&1&&f!==(f=R[0].turbineName)&&i.value!==f)&&(i.value=f),(!me||ce&2)&&(i.disabled=R[1]),(!me||ce&1&&b!==(b=R[0].turbineNumber)&&_.value!==b)&&(_.value=b),(!me||ce&1&&w!==(w=R[0].description)&&g.value!==w)&&(g.value=w),(!me||ce&1&&k!==(k=R[0].odlNumber)&&C.value!==k)&&(C.value=k),(!me||ce&1&&A!==(A=R[0].operation.length>0?R[0].operation.join(", "):"")&&U.value!==A)&&(U.value=A),(!me||ce&1&&ge!==(ge=R[0].startingDateEEMM!==void 0?R[0].startingDateEEMM:""))&&(te.value=ge),(!me||ce&1&&F!==(F=R[0].startingDateOOCC!==void 0?R[0].startingDateOOCC:""))&&(ye.value=F),(!me||ce&1&&Oe!==(Oe=R[0].permittingDate!==void 0?R[0].permittingDate:""))&&(re.value=Oe),(!me||ce&1&&Q!==(Q=R[0].priorNotification!==void 0?R[0].priorNotification:""))&&(H.value=Q),(!me||ce&2)&&Me!==(Me=R[1]?"modifica":"creazione")&&fe(je,Me),(!me||ce&1)&&Ye!==(Ye=R[0].turbineNumber+"")&&fe(Ae,Ye),(!me||ce&1)&&Wt!==(Wt=R[0].turbineName+"")&&fe(Zt,Wt),(!me||ce&1)&&Ht!==(Ht=R[0].description+"")&&fe(er,Ht),(!me||ce&1)&&Rt!==(Rt=(R[0].odlNumber||"N/A")+"")&&fe(tr,Rt),(!me||ce&1)&&Kt!==(Kt=R[0].operation+"")&&fe(rr,Kt),(!me||ce&1)&&qt!==(qt=R[0].power+"")&&fe(lr,qt),(!me||ce&1)&&Gt!==(Gt=R[0].turbineState+"")&&fe(or,Gt),(!me||ce&2)&&Yt!==(Yt=R[1]?"Modifica":"Crea")&&fe(nr,Yt),(!me||ce&16&&ar!==(ar=Ve(R[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(kt,"class",ar),(!me||ce&16&&sr!==(sr=Ve(R[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(wt,"class",sr),(!me||ce&16&&ir!==(ir=Ve(R[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&t(Et,"class",ir)},i(R){me||(ue(Ne),ue(ee.$$.fragment,R),ue(ne.$$.fragment,R),et(()=>{ct||(ct=Nr(n,rt,{duration:150},!0)),ct.run(1)}),me=!0)},o(R){ve(Ne),ve(ee.$$.fragment,R),ve(ne.$$.fragment,R),ct||(ct=Nr(n,rt,{duration:150},!1)),ct.run(0),me=!1},d(R){R&&u(e),Ne&&Ne.d(),Fe(ee),Fe(ne),R&&ct&&ct.end(),Kr=!1,Ge(Xr)}}}function Ro(a,e,r){let{isEditMode:l=!1}=e,{windfarm:n={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const c=nt();let s=!1,i=[];Yr(()=>{r(3,i=Object.values(Bo).map(T=>({name:T,isSelected:!1})))});let f=0;function m(){const T=document.getElementById("scrollable");let te=0;T!=null&&(f===1?window.innerWidth<768?te=T.scrollWidth/3:te=T.scrollWidth/2:f===2&&(te=T.scrollWidth),T.scrollTo({left:te,behavior:"smooth"}))}const _=()=>{c("close")},b=()=>{l?ho(n).then(T=>{T!==void 0&&T.status===200&&c("updated")}):fo(n).then(T=>{T!==void 0&&T.status===200&&c("created")})};function v(T){dt.call(this,a,T)}function g(T){dt.call(this,a,T)}function w(T){dt.call(this,a,T)}function E(T){dt.call(this,a,T)}const C=()=>{r(2,s=!1)},k=T=>{r(3,i=T.detail),r(0,n.operation=i.filter(te=>te.isSelected).map(te=>te.name),n),r(2,s=!1)},D=()=>{r(2,s=!1)},I=()=>{r(2,s=!1)},j=T=>{r(0,n.turbineName=T.target.value,n)},U=T=>{r(0,n.turbineNumber=T.target.value,n)},A=T=>{r(0,n.description=T.target.value,n)},G=T=>{r(0,n.odlNumber=T.target.value,n)},J=()=>{r(2,s=!s)},ee=T=>r(0,n.power=T.detail,n),S=T=>r(0,n.turbineState=T.detail,n),z=T=>{r(0,n.startingDateEEMM=T.target.value,n)},K=T=>{r(0,n.startingDateOOCC=T.target.value,n)},ne=T=>{r(0,n.permittingDate=T.target.value,n)},X=T=>{r(0,n.priorNotification=T.target.value,n)},W=()=>{r(4,f=0),m()},le=()=>{r(4,f=1),m()},Ie=()=>{r(4,f=2),m()};return a.$$set=T=>{"isEditMode"in T&&r(1,l=T.isEditMode),"windfarm"in T&&r(0,n=T.windfarm)},[n,l,s,i,f,m,_,b,v,g,w,E,C,k,D,I,j,U,A,G,J,ee,S,z,K,ne,X,W,le,Ie]}class Jl extends We{constructor(e){super(),He(this,e,Ro,Ho,Re,{isEditMode:1,windfarm:0})}}function Ko(a){let e,r;return e=new Jl({props:{windfarm:a[0],isEditMode:!0}}),e.$on("close",a[1]),e.$on("updated",a[2]),{c(){$e(e.$$.fragment)},l(l){xe(e.$$.fragment,l)},m(l,n){Le(e,l,n),r=!0},p(l,[n]){const c={};n&1&&(c.windfarm=l[0]),e.$set(c)},i(l){r||(ue(e.$$.fragment,l),r=!0)},o(l){ve(e.$$.fragment,l),r=!1},d(l){Fe(e,l)}}}function qo(a,e,r){let{turbine:l}=e;const n=nt(),c=()=>{n("close")},s=()=>{n("updated")};return a.$$set=i=>{"turbine"in i&&r(0,l=i.turbine)},[l,c,s]}class Go extends We{constructor(e){super(),He(this,e,qo,Ko,Re,{turbine:0})}}function Jo(a){let e,r;return e=new Jl({props:{isEditMode:!1}}),e.$on("close",a[0]),e.$on("created",a[1]),{c(){$e(e.$$.fragment)},l(l){xe(e.$$.fragment,l)},m(l,n){Le(e,l,n),r=!0},p:_e,i(l){r||(ue(e.$$.fragment,l),r=!0)},o(l){ve(e.$$.fragment,l),r=!1},d(l){Fe(e,l)}}}function Yo(a){const e=nt();return[()=>{e("close")},()=>{e("created")}]}class Qo extends We{constructor(e){super(),He(this,e,Yo,Jo,Re,{})}}function Ll(a,e,r){const l=a.slice();return l[5]=e[r],l}function Xo(a){let e=[],r=new Map,l,n,c=a[4];const s=i=>i[5].id;for(let i=0;i<c.length;i+=1){let f=Ll(a,c,i),m=s(f);r.set(m,e[i]=Fl(m,f))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=tt()},l(i){for(let f=0;f<e.length;f+=1)e[f].l(i);l=tt()},m(i,f){for(let m=0;m<e.length;m+=1)e[m].m(i,f);q(i,l,f),n=!0},p(i,f){f&1040&&(c=i[4],yt(),e=Qr(e,f,s,1,i,c,r,l.parentNode,Zl,Fl,l,Ll),Nt())},i(i){if(!n){for(let f=0;f<c.length;f+=1)ue(e[f]);n=!0}},o(i){for(let f=0;f<e.length;f+=1)ve(e[f]);n=!1},d(i){for(let f=0;f<e.length;f+=1)e[f].d(i);i&&u(l)}}}function Zo(a){let e,r,l,n,c;return{c(){e=h("div"),r=h("div"),l=y(),n=h("p"),c=O("Caricamento in corso..."),this.h()},l(s){e=p(s,"DIV",{class:!0});var i=d(e);r=p(i,"DIV",{class:!0}),d(r).forEach(u),l=N(i),n=p(i,"P",{class:!0});var f=d(n);c=M(f,"Caricamento in corso..."),f.forEach(u),i.forEach(u),this.h()},h(){t(r,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),t(n,"class","mt-4 text-xl font-bold font-mono"),t(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(s,i){q(s,e,i),o(e,r),o(e,l),o(e,n),o(n,c)},p:_e,i:_e,o:_e,d(s){s&&u(e)}}}function Fl(a,e){let r,l,n;return l=new co({props:{turbine:e[5]}}),l.$on("showDetails",e[10]),{key:a,first:null,c(){r=tt(),$e(l.$$.fragment),this.h()},l(c){r=tt(),xe(l.$$.fragment,c),this.h()},h(){this.first=r},m(c,s){q(c,r,s),Le(l,c,s),n=!0},p(c,s){e=c;const i={};s&16&&(i.turbine=e[5]),l.$set(i)},i(c){n||(ue(l.$$.fragment,c),n=!0)},o(c){ve(l.$$.fragment,c),n=!1},d(c){c&&u(r),Fe(l,c)}}}function Wl(a){let e,r,l,n,c;return r=new Po({props:{turbine:a[5]}}),r.$on("closeDetails",a[11]),r.$on("editMode",a[13]),r.$on("deleted",a[12]),{c(){e=h("div"),$e(r.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var i=d(e);xe(r.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){q(s,e,i),Le(r,e,null),l=!0,n||(c=[B(e,"click",a[11]),B(e,"keydown",a[11])],n=!0)},p(s,i){const f={};i&32&&(f.turbine=s[5]),r.$set(f)},i(s){l||(ue(r.$$.fragment,s),l=!0)},o(s){ve(r.$$.fragment,s),l=!1},d(s){s&&u(e),Fe(r),n=!1,Ge(c)}}}function Hl(a){let e,r,l,n,c;return r=new Go({props:{turbine:a[5]}}),r.$on("close",a[21]),r.$on("updated",a[16]),{c(){e=h("div"),$e(r.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var i=d(e);xe(r.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){q(s,e,i),Le(r,e,null),l=!0,n||(c=[B(e,"click",a[11]),B(e,"keydown",a[11])],n=!0)},p(s,i){const f={};i&32&&(f.turbine=s[5]),r.$set(f)},i(s){l||(ue(r.$$.fragment,s),l=!0)},o(s){ve(r.$$.fragment,s),l=!1},d(s){s&&u(e),Fe(r),n=!1,Ge(c)}}}function Rl(a){let e,r,l,n,c;return r=new Qo({}),r.$on("close",a[22]),r.$on("created",a[15]),{c(){e=h("div"),$e(r.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var i=d(e);xe(r.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){q(s,e,i),Le(r,e,null),l=!0,n||(c=[B(e,"click",a[11]),B(e,"keydown",a[11])],n=!0)},p:_e,i(s){l||(ue(r.$$.fragment,s),l=!0)},o(s){ve(r.$$.fragment,s),l=!1},d(s){s&&u(e),Fe(r),n=!1,Ge(c)}}}function en(a){let e,r,l,n,c,s,i,f,m,_,b,v,g,w,E,C,k,D,I,j,U,A,G,J,ee,S,z,K,ne,X,W,le,Ie,T,te,ge,ae,pe,ke;const Ce=[Zo,Xo],we=[];function ye(V,Y){return V[0].length===0?0:1}W=ye(a),le=we[W]=Ce[W](a);let F=a[6]&&Wl(a),oe=a[7]&&Hl(a),Z=a[8]&&Rl(a);return{c(){e=h("div"),r=h("section"),l=h("div"),n=h("input"),c=y(),s=h("input"),i=y(),f=h("input"),m=y(),_=h("div"),b=h("p"),v=O(a[9]),g=O(" risultati"),w=y(),E=h("div"),C=h("button"),k=x("svg"),D=x("path"),I=x("polyline"),j=x("line"),U=x("line"),A=x("polyline"),J=y(),ee=h("button"),S=x("svg"),z=x("line"),K=x("line"),ne=y(),X=h("section"),le.c(),Ie=y(),F&&F.c(),T=y(),oe&&oe.c(),te=y(),Z&&Z.c(),this.h()},l(V){e=p(V,"DIV",{class:!0});var Y=d(e);r=p(Y,"SECTION",{class:!0});var De=d(r);l=p(De,"DIV",{class:!0});var re=d(l);n=p(re,"INPUT",{id:!0,type:!0,class:!0}),c=N(re),s=p(re,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=N(re),f=p(re,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),re.forEach(u),De.forEach(u),m=N(Y),_=p(Y,"DIV",{class:!0});var Oe=d(_);b=p(Oe,"P",{class:!0});var Ee=d(b);v=M(Ee,a[9]),g=M(Ee," risultati"),Ee.forEach(u),w=N(Oe),E=p(Oe,"DIV",{class:!0});var he=d(E);C=p(he,"BUTTON",{class:!0});var $=d(C);k=L($,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var se=d(k);D=L(se,"path",{d:!0}),d(D).forEach(u),I=L(se,"polyline",{points:!0}),d(I).forEach(u),j=L(se,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(j).forEach(u),U=L(se,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(U).forEach(u),A=L(se,"polyline",{points:!0}),d(A).forEach(u),se.forEach(u),$.forEach(u),J=N(he),ee=p(he,"BUTTON",{class:!0});var Ue=d(ee);S=L(Ue,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var H=d(S);z=L(H,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(z).forEach(u),K=L(H,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(K).forEach(u),H.forEach(u),Ue.forEach(u),he.forEach(u),Oe.forEach(u),ne=N(Y),X=p(Y,"SECTION",{class:!0});var Q=d(X);le.l(Q),Ie=N(Q),F&&F.l(Q),T=N(Q),oe&&oe.l(Q),te=N(Q),Z&&Z.l(Q),Q.forEach(u),Y.forEach(u),this.h()},h(){t(n,"id","completed-checkbox"),t(n,"type","checkbox"),t(n,"class","large-checkbox p-5 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:ring-2 focus:shadow-outline hover:cursor-pointer hover:shadow-md hover:ring-2 ring-blue-400 hover:ring-offset-2 hover:ring-offset-gray-800 "),t(s,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(s,"type","text"),t(s,"id","turbineName"),t(s,"name","turbineName"),t(s,"placeholder","Cerca"),t(f,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(f,"type","text"),t(f,"id","turbineName"),t(f,"name","turbineName"),t(f,"placeholder","Anno"),t(l,"class","flex flex-col md:flex-row gap-3 md:items-center"),t(r,"class","mt-5 md:ml-5"),t(b,"class","font-mono text-lg"),t(D,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),t(I,"points","14 2 14 8 20 8"),t(j,"x1","16"),t(j,"y1","13"),t(j,"x2","8"),t(j,"y2","13"),t(U,"x1","16"),t(U,"y1","17"),t(U,"x2","8"),t(U,"y2","17"),t(A,"points","10 9 9 9 8 9"),t(k,"xmlns","http://www.w3.org/2000/svg"),t(k,"width","22"),t(k,"height","22"),t(k,"viewBox","0 0 24 24"),t(k,"fill","none"),t(k,"stroke","currentColor"),t(k,"stroke-width","2"),t(k,"stroke-linecap","round"),t(k,"stroke-linejoin","round"),t(k,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),t(C,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),C.disabled=G=a[0].length===0,t(z,"x1","12"),t(z,"y1","5"),t(z,"x2","12"),t(z,"y2","19"),t(K,"x1","5"),t(K,"y1","12"),t(K,"x2","19"),t(K,"y2","12"),t(S,"xmlns","http://www.w3.org/2000/svg"),t(S,"width","22"),t(S,"height","22"),t(S,"viewBox","0 0 24 24"),t(S,"fill","none"),t(S,"stroke","currentColor"),t(S,"stroke-width","2"),t(S,"stroke-linecap","round"),t(S,"stroke-linejoin","round"),t(S,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),t(ee,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),t(E,"class","justify-end flex flex-row gap-4"),t(_,"class","flex flex-row justify-between items-center mt-6 mb-4 mx-1 md:mx-6"),t(X,"class","max-h-[24rem] md:max-h-[36rem] md:p-4 overflow-y-scroll overflow-x-hidden scrollbar-none snap-mandatory snap-y"),t(e,"class","md:mt-16")},m(V,Y){q(V,e,Y),o(e,r),o(r,l),o(l,n),n.checked=a[3],o(l,c),o(l,s),yr(s,a[1]),o(l,i),o(l,f),yr(f,a[2]),o(e,m),o(e,_),o(_,b),o(b,v),o(b,g),o(_,w),o(_,E),o(E,C),o(C,k),o(k,D),o(k,I),o(k,j),o(k,U),o(k,A),o(E,J),o(E,ee),o(ee,S),o(S,z),o(S,K),o(e,ne),o(e,X),we[W].m(X,null),o(X,Ie),F&&F.m(X,null),o(X,T),oe&&oe.m(X,null),o(X,te),Z&&Z.m(X,null),ae=!0,pe||(ke=[B(n,"change",a[18]),B(s,"input",a[19]),B(f,"input",a[20]),B(C,"click",a[17]),B(ee,"click",a[14])],pe=!0)},p(V,[Y]){Y&8&&(n.checked=V[3]),Y&2&&s.value!==V[1]&&yr(s,V[1]),Y&4&&f.value!==V[2]&&yr(f,V[2]),(!ae||Y&512)&&fe(v,V[9]),(!ae||Y&1&&G!==(G=V[0].length===0))&&(C.disabled=G);let De=W;W=ye(V),W===De?we[W].p(V,Y):(yt(),ve(we[De],1,1,()=>{we[De]=null}),Nt(),le=we[W],le?le.p(V,Y):(le=we[W]=Ce[W](V),le.c()),ue(le,1),le.m(X,Ie)),V[6]?F?(F.p(V,Y),Y&64&&ue(F,1)):(F=Wl(V),F.c(),ue(F,1),F.m(X,T)):F&&(yt(),ve(F,1,1,()=>{F=null}),Nt()),V[7]?oe?(oe.p(V,Y),Y&128&&ue(oe,1)):(oe=Hl(V),oe.c(),ue(oe,1),oe.m(X,te)):oe&&(yt(),ve(oe,1,1,()=>{oe=null}),Nt()),V[8]?Z?(Z.p(V,Y),Y&256&&ue(Z,1)):(Z=Rl(V),Z.c(),ue(Z,1),Z.m(X,null)):Z&&(yt(),ve(Z,1,1,()=>{Z=null}),Nt())},i(V){ae||(ue(le),ue(F),ue(oe),ue(Z),et(()=>{ge||(ge=Nr(e,rt,{duration:200},!0)),ge.run(1)}),ae=!0)},o(V){ve(le),ve(F),ve(oe),ve(Z),ge||(ge=Nr(e,rt,{duration:200},!1)),ge.run(0),ae=!1},d(V){V&&u(e),we[W].d(),F&&F.d(),oe&&oe.d(),Z&&Z.d(),V&&ge&&ge.end(),pe=!1,Ge(ke)}}}function tn(a,e,r){let l,n,c=!1,s={},i=[];Yr(()=>{Qt().then(S=>{r(0,i=S)})});const f=S=>{const z=S.detail;r(5,s=i.find(K=>K.id===z)),r(6,c=!0),r(7,b=!1)},m=()=>{Qt().then(S=>{r(0,i=S),r(6,c=!1)})},_=()=>{r(6,c=!1),Qt().then(S=>{r(0,i=S)})};let b=!1;const v=S=>{const z=S.detail;r(5,s=i.find(K=>K.id===z)),r(6,c=!1),r(7,b=!0)};let g=!1;const w=()=>{r(8,g=!0),r(6,c=!1),r(7,b=!1)},E=()=>{r(8,g=!1),r(6,c=!1),r(7,b=!1),Qt().then(S=>{console.log("Updating with: ",S),r(0,i=S)})},C=()=>{Qt().then(S=>{r(0,i=S),r(7,b=!1)})},k=()=>{i.length>0&&po().then(S=>{const z=new Blob([S.data],{type:"text/csv"}),K=window.URL.createObjectURL(z),ne=document.createElement("a");ne.href=K,ne.download="export.csv",ne.click()})};let D="",I=new Date().getFullYear().toString(),j=!1;function U(){j=this.checked,r(3,j)}function A(){D=this.value,r(1,D)}function G(){I=this.value,r(2,I)}const J=()=>r(7,b=!1),ee=()=>r(8,g=!1);return a.$$.update=()=>{a.$$.dirty&15&&r(4,l=i.filter(S=>(S.description.toLowerCase().includes(D.toLowerCase())||S.turbineName.toLowerCase().includes(D.toLowerCase())||S.turbineNumber.toLowerCase().includes(D.toLowerCase()))&&S.creationDate.includes(I)&&(j||!S.completionDate))),a.$$.dirty&16&&r(9,n=l.length)},[i,D,I,j,l,s,c,b,g,n,f,m,_,v,w,E,C,k,U,A,G,J,ee]}class on extends We{constructor(e){super(),He(this,e,tn,en,Re,{})}}export{on as default};
