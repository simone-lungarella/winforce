import{P as po,S as vt,i as mt,s as _t,k as f,a as b,q as S,l as h,m as d,h as u,c as w,r as T,n as t,b as ae,C as r,u as ge,B as Le,Q as so,e as Dl,w as ft,E as H,x as ht,F as q,y as pt,G as O,O as io,f as we,R as Et,T as vl,t as Ae,z as gt,H as st,D as Zt,U as ut,V as nr,W as co,X as Wt,Y as jt,g as pl,d as gl,Z as Il,o as ar,_ as Pr,$ as go,a0 as Ql,a1 as Jl,a2 as Lr,a3 as vo}from"../../../chunks/index-9eaa0f55.js";import{a as ml}from"../../../chunks/axios-67252f11.js";function mo(n){const e=n-1;return e*e*e+1}function uo(n,{delay:e=0,duration:l=400,easing:o=po}={}){const a=+getComputedStyle(n).opacity;return{delay:e,duration:l,easing:o,css:i=>`opacity: ${i*a}`}}function St(n,{delay:e=0,duration:l=400,easing:o=mo}={}){const a=getComputedStyle(n),i=+a.opacity,s=parseFloat(a.height),c=parseFloat(a.paddingTop),p=parseFloat(a.paddingBottom),g=parseFloat(a.marginTop),v=parseFloat(a.marginBottom),k=parseFloat(a.borderTopWidth),I=parseFloat(a.borderBottomWidth);return{delay:e,duration:l,easing:o,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*i};height: ${m*s}px;padding-top: ${m*c}px;padding-bottom: ${m*p}px;margin-top: ${m*g}px;margin-bottom: ${m*v}px;border-top-width: ${m*k}px;border-bottom-width: ${m*I}px;`}}const Nl={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Br(n,e,l){const o=n.slice();return o[4]=e[l],o[6]=l,o}function _o(n){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","border border-gray-400 bg-gray-500 h-full w-full rounded")},m(l,o){ae(l,e,o)},d(l){l&&u(e)}}}function bo(n){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","border border-gray-400 bg-blue-500 h-full w-full rounded")},m(l,o){ae(l,e,o)},d(l){l&&u(e)}}}function zr(n){let e;function l(i,s){return i[6]<i[0]?bo:_o}let o=l(n),a=o(n);return{c(){a.c(),e=Dl()},l(i){a.l(i),e=Dl()},m(i,s){a.m(i,s),ae(i,e,s)},p(i,s){o!==(o=l(i))&&(a.d(1),a=o(i),a&&(a.c(),a.m(e.parentNode,e)))},d(i){a.d(i),i&&u(e)}}}function wo(n){let e,l,o,a,i=(n[1]||"Cantiere chiuso")+"",s,c=Array(n[2]),p=[];for(let g=0;g<c.length;g+=1)p[g]=zr(Br(n,c,g));return{c(){e=f("div"),l=f("div");for(let g=0;g<p.length;g+=1)p[g].c();o=b(),a=f("span"),s=S(i),this.h()},l(g){e=h(g,"DIV",{class:!0});var v=d(e);l=h(v,"DIV",{class:!0});var k=d(l);for(let m=0;m<p.length;m+=1)p[m].l(k);k.forEach(u),o=w(v),a=h(v,"SPAN",{class:!0});var I=d(a);s=T(I,i),I.forEach(u),v.forEach(u),this.h()},h(){t(l,"class","transition duration-300 ease-in-out transform flex flex-row h-7 w-full lg:w-3/4 gap-0.5"),t(a,"class","absolute font-bold text-lg flex pl-2"),t(e,"class","flex")},m(g,v){ae(g,e,v),r(e,l);for(let k=0;k<p.length;k+=1)p[k].m(l,null);r(e,o),r(e,a),r(a,s)},p(g,[v]){if(v&1){c=Array(g[2]);let k;for(k=0;k<c.length;k+=1){const I=Br(g,c,k);p[k]?p[k].p(I,v):(p[k]=zr(I),p[k].c(),p[k].m(l,null))}for(;k<p.length;k+=1)p[k].d(1);p.length=c.length}v&2&&i!==(i=(g[1]||"Cantiere chiuso")+"")&&ge(s,i)},i:Le,o:Le,d(g){g&&u(e),so(p,g)}}}function ko(n,e,l){let o,{completedSteps:a=0}=e,{creationDate:i=""}=e,s=i.includes("2022")?7:8;return n.$$set=c=>{"completedSteps"in c&&l(0,a=c.completedSteps),"creationDate"in c&&l(3,i=c.creationDate)},n.$$.update=()=>{n.$$.dirty&9&&l(1,o=i.includes("2022")?Nl[a+2]:Nl[a+1])},[a,o,s,i]}class Eo extends vt{constructor(e){super(),mt(this,e,ko,wo,_t,{completedSteps:0,creationDate:3})}}function xr(n){let e,l,o=n[0].turbineNumber+"",a;return{c(){e=f("span"),l=S("- "),a=S(o),this.h()},l(i){e=h(i,"SPAN",{class:!0});var s=d(e);l=T(s,"- "),a=T(s,o),s.forEach(u),this.h()},h(){t(e,"class","hidden md:inline-block")},m(i,s){ae(i,e,s),r(e,l),r(e,a)},p(i,s){s&1&&o!==(o=i[0].turbineNumber+"")&&ge(a,o)},d(i){i&&u(e)}}}function yo(n){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2")},m(l,o){ae(l,e,o)},p:Le,d(l){l&&u(e)}}}function No(n){let e,l,o,a=n[0].odlNumber+"",i;return{c(){e=f("p"),l=S("ODL: "),o=f("span"),i=S(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);l=T(c,"ODL: "),o=h(c,"SPAN",{class:!0});var p=d(o);i=T(p,a),p.forEach(u),c.forEach(u),this.h()},h(){t(o,"class","text-blue-400"),t(e,"class","flex md:justify-end")},m(s,c){ae(s,e,c),r(e,l),r(e,o),r(o,i)},p(s,c){c&1&&a!==(a=s[0].odlNumber+"")&&ge(i,a)},d(s){s&&u(e)}}}function Ur(n){let e,l,o=n[0].operation[0]+"",a,i,s;return{c(){e=f("div"),l=f("p"),a=S(o),this.h()},l(c){e=h(c,"DIV",{class:!0});var p=d(e);l=h(p,"P",{});var g=d(l);a=T(g,o),g.forEach(u),p.forEach(u),this.h()},h(){t(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 left-10 cursor-default")},m(c,p){ae(c,e,p),r(e,l),r(l,a),i||(s=[O(e,"mouseover",n[7]),O(e,"focus",n[8]),O(e,"mouseleave",n[9]),O(e,"focusout",n[10])],i=!0)},p(c,p){p&1&&o!==(o=c[0].operation[0]+"")&&ge(a,o)},d(c){c&&u(e),i=!1,st(s)}}}function Do(n){let e,l;return{c(){e=f("span"),l=S("Non disponibile"),this.h()},l(o){e=h(o,"SPAN",{class:!0});var a=d(e);l=T(a,"Non disponibile"),a.forEach(u),this.h()},h(){t(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(o,a){ae(o,e,a),r(e,l)},p:Le,d(o){o&&u(e)}}}function Io(n){let e,l,o,a;return{c(){e=f("div"),l=f("span"),o=S(n[1]),this.h()},l(i){e=h(i,"DIV",{class:!0});var s=d(e);l=h(s,"SPAN",{class:!0});var c=d(l);o=T(c,n[1]),c.forEach(u),s.forEach(u),this.h()},h(){t(l,"class",a=n[4]?"text-red-500":""),t(e,"class","hidden xl:flex font-mono font-bold text-end justify-end")},m(i,s){ae(i,e,s),r(e,l),r(l,o)},p(i,s){s&2&&ge(o,i[1]),s&16&&a!==(a=i[4]?"text-red-500":"")&&t(l,"class",a)},d(i){i&&u(e)}}}function So(n){let e,l,o,a,i=n[0].turbineName+"",s,c,p,g,v,k,I,m,D,C,M,_,N,E,x,L,le=n[0].description+"",j,K,A,U,$,X,B,fe,he,V,ee,R,G,ne=n[0].turbineState+"",ve,Ce,Y,Q,y,te,Ve,Ne,_e=(n[1]||"N/A")+"",De,Ie,He,Te,me,je,ce,Be,ue,pe,Z,W,se,F=n[0].turbineNumber&&xr(n);v=new Eo({props:{completedSteps:n[0].completedSteps,creationDate:n[0].creationDate}});function Fe(P,re){return P[0].odlNumber!==void 0&&P[0].odlNumber!==0?No:yo}let Ke=Fe(n),Oe=Ke(n),ie=n[2]&&Ur(n);function it(P,re){return P[1]?Io:Do}let Ze=it(n),ye=Ze(n);return{c(){e=f("div"),l=f("div"),o=f("div"),a=f("h1"),s=S(i),c=b(),F&&F.c(),p=b(),g=f("div"),ft(v.$$.fragment),k=b(),I=f("div"),m=b(),D=f("div"),C=b(),M=f("div"),_=H("svg"),N=H("path"),E=H("circle"),x=b(),L=f("span"),j=S(le),K=b(),Oe.c(),A=b(),U=f("div"),$=H("svg"),X=H("path"),B=H("rect"),fe=b(),ie&&ie.c(),he=b(),V=f("span"),ee=S(n[3]),R=b(),G=f("span"),ve=S(ne),Ce=b(),Y=f("span"),Q=S("Scadenza cantiere:"),y=b(),te=f("span"),Ve=S("Scadenza: "),Ne=f("span"),De=S(_e),Ie=b(),ye.c(),He=b(),Te=f("div"),me=f("div"),je=f("button"),ce=H("svg"),Be=H("path"),ue=H("path"),this.h()},l(P){e=h(P,"DIV",{class:!0});var re=d(e);l=h(re,"DIV",{class:!0});var be=d(l);o=h(be,"DIV",{class:!0});var oe=d(o);a=h(oe,"H1",{class:!0});var nt=d(a);s=T(nt,i),c=w(nt),F&&F.l(nt),nt.forEach(u),p=w(oe),g=h(oe,"DIV",{class:!0});var tt=d(g);ht(v.$$.fragment,tt),tt.forEach(u),k=w(oe),I=h(oe,"DIV",{class:!0}),d(I).forEach(u),m=w(oe),D=h(oe,"DIV",{class:!0}),d(D).forEach(u),C=w(oe),M=h(oe,"DIV",{class:!0});var ze=d(M);_=q(ze,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var yt=d(_);N=q(yt,"path",{d:!0}),d(N).forEach(u),E=q(yt,"circle",{cx:!0,cy:!0,r:!0}),d(E).forEach(u),yt.forEach(u),x=w(ze),L=h(ze,"SPAN",{});var lt=d(L);j=T(lt,le),lt.forEach(u),ze.forEach(u),K=w(oe),Oe.l(oe),A=w(oe),U=h(oe,"DIV",{class:!0});var We=d(U);$=q(We,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var at=d($);X=q(at,"path",{d:!0}),d(X).forEach(u),B=q(at,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(B).forEach(u),at.forEach(u),fe=w(We),ie&&ie.l(We),he=w(We),V=h(We,"SPAN",{class:!0});var Tt=d(V);ee=T(Tt,n[3]),Tt.forEach(u),We.forEach(u),R=w(oe),G=h(oe,"SPAN",{class:!0});var qe=d(G);ve=T(qe,ne),qe.forEach(u),Ce=w(oe),Y=h(oe,"SPAN",{class:!0});var rt=d(Y);Q=T(rt,"Scadenza cantiere:"),rt.forEach(u),y=w(oe),te=h(oe,"SPAN",{class:!0});var dt=d(te);Ve=T(dt,"Scadenza: "),Ne=h(dt,"SPAN",{class:!0});var Ot=d(Ne);De=T(Ot,_e),Ot.forEach(u),dt.forEach(u),Ie=w(oe),ye.l(oe),oe.forEach(u),He=w(be),Te=h(be,"DIV",{class:!0});var Qe=d(Te);me=h(Qe,"DIV",{class:!0});var ct=d(me);je=h(ct,"BUTTON",{class:!0});var $e=d(je);ce=q($e,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Nt=d(ce);Be=q(Nt,"path",{d:!0}),d(Be).forEach(u),ue=q(Nt,"path",{d:!0}),d(ue).forEach(u),Nt.forEach(u),$e.forEach(u),ct.forEach(u),Qe.forEach(u),be.forEach(u),re.forEach(u),this.h()},h(){t(a,"class","font-bold text-4xl mt-3 col-span-1 md:col-span-2"),t(g,"class","col-span-1 md:col-span-2"),t(I,"class","col-span-1"),t(D,"class","hidden md:flex"),t(N,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),t(E,"cx","12"),t(E,"cy","10"),t(E,"r","3"),t(_,"xmlns","http://www.w3.org/2000/svg"),t(_,"width","24"),t(_,"height","24"),t(_,"viewBox","0 0 24 24"),t(_,"fill","none"),t(_,"stroke","currentColor"),t(_,"stroke-width","2"),t(_,"stroke-linecap","round"),t(_,"stroke-linejoin","round"),t(_,"class","feather feather-map-pin"),t(M,"class","flex gap-2 md:-mb-2"),t(X,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),t(B,"x","8"),t(B,"y","2"),t(B,"width","8"),t(B,"height","4"),t(B,"rx","1"),t(B,"ry","1"),t($,"xmlns","http://www.w3.org/2000/svg"),t($,"width","24"),t($,"height","24"),t($,"viewBox","0 0 24 24"),t($,"fill","none"),t($,"stroke","currentColor"),t($,"stroke-width","2"),t($,"stroke-linecap","round"),t($,"stroke-linejoin","round"),t($,"class","feather feather-clipboard"),t(V,"class","flex select-none"),t(U,"class","flex gap-2"),t(G,"class","flex md:justify-end font-bold"),t(Y,"class","font-mono hidden xl:flex"),t(Ne,"class","font-bold"),t(te,"class","font-mono flex xl:hidden"),t(o,"class","grid grid-cols-1 text-white font-mono gap-3"),t(Be,"d","M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"),t(ue,"d","M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"),t(ce,"xmlns","http://www.w3.org/2000/svg"),t(ce,"width","22"),t(ce,"height","22"),t(ce,"viewBox","0 0 24 24"),t(ce,"fill","none"),t(ce,"stroke","currentColor"),t(ce,"stroke-width","2"),t(ce,"stroke-linecap","round"),t(ce,"stroke-linejoin","round"),t(ce,"class","feather feather-book-open"),t(je,"class","py-2 px-2 hover:bg-gray-400 rounded-full group"),t(me,"class","flex flex-col md:flex-row gap-2 md:gap-0"),t(Te,"class","absolute top-0 right-0 mr-2 mt-2"),t(l,"class","bg-gray-800 px-4 my-2 mx-2 md:mx-0 rounded-sm shadow-md hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto md:h-68 xl:h-56 pb-5 content-start"),t(e,"class","snap-start pt-1")},m(P,re){ae(P,e,re),r(e,l),r(l,o),r(o,a),r(a,s),r(a,c),F&&F.m(a,null),r(o,p),r(o,g),pt(v,g,null),r(o,k),r(o,I),r(o,m),r(o,D),r(o,C),r(o,M),r(M,_),r(_,N),r(_,E),r(M,x),r(M,L),r(L,j),r(o,K),Oe.m(o,null),r(o,A),r(o,U),r(U,$),r($,X),r($,B),r(U,fe),ie&&ie.m(U,null),r(U,he),r(U,V),r(V,ee),r(o,R),r(o,G),r(G,ve),r(o,Ce),r(o,Y),r(Y,Q),r(o,y),r(o,te),r(te,Ve),r(te,Ne),r(Ne,De),r(o,Ie),ye.m(o,null),r(l,He),r(l,Te),r(Te,me),r(me,je),r(je,ce),r(ce,Be),r(ce,ue),Z=!0,W||(se=[O(U,"mouseover",n[11]),O(U,"focus",n[12]),O(U,"mouseleave",n[13]),O(U,"focusout",n[14]),O(je,"click",io(n[5]))],W=!0)},p(P,[re]){(!Z||re&1)&&i!==(i=P[0].turbineName+"")&&ge(s,i),P[0].turbineNumber?F?F.p(P,re):(F=xr(P),F.c(),F.m(a,null)):F&&(F.d(1),F=null);const be={};re&1&&(be.completedSteps=P[0].completedSteps),re&1&&(be.creationDate=P[0].creationDate),v.$set(be),(!Z||re&1)&&le!==(le=P[0].description+"")&&ge(j,le),Ke===(Ke=Fe(P))&&Oe?Oe.p(P,re):(Oe.d(1),Oe=Ke(P),Oe&&(Oe.c(),Oe.m(o,A))),P[2]?ie?ie.p(P,re):(ie=Ur(P),ie.c(),ie.m(U,he)):ie&&(ie.d(1),ie=null),(!Z||re&8)&&ge(ee,P[3]),(!Z||re&1)&&ne!==(ne=P[0].turbineState+"")&&ge(ve,ne),(!Z||re&2)&&_e!==(_e=(P[1]||"N/A")+"")&&ge(De,_e),Ze===(Ze=it(P))&&ye?ye.p(P,re):(ye.d(1),ye=Ze(P),ye&&(ye.c(),ye.m(o,null)))},i(P){Z||(we(v.$$.fragment,P),pe||Et(()=>{pe=vl(l,St,{duration:1e3}),pe.start()}),Z=!0)},o(P){Ae(v.$$.fragment,P),Z=!1},d(P){P&&u(e),F&&F.d(),gt(v),Oe.d(),ie&&ie.d(),ye.d(),W=!1,st(se)}}}function To(n,e,l){let o,a,i,s,{turbine:c={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const p=Zt(),g=()=>{p("showDetails",c.id)};let v=!1;const k=()=>l(2,v=!0),I=()=>l(2,v=!0),m=()=>l(2,v=!1),D=()=>l(2,v=!1),C=()=>l(2,v=!0),M=()=>l(2,v=!0),_=()=>l(2,v=!1),N=()=>l(2,v=!1);return n.$$set=E=>{"turbine"in E&&l(0,c=E.turbine)},n.$$.update=()=>{n.$$.dirty&1&&l(6,o=c.creationDate.includes("2022")?Nl[c.completedSteps+2]:Nl[c.completedSteps+1]),n.$$.dirty&65&&(o===Nl[3]?c.priorNotification:o===Nl[4]&&c.permittingDate),n.$$.dirty&1&&l(1,a=c.permittingDate?new Date(new Date(c.permittingDate).getTime()+90*24*60*60*1e3).toLocaleDateString("it-IT"):null),n.$$.dirty&3&&l(4,i=a&&new Date(c.permittingDate).getTime()+90*24*60*60*1e3<new Date().getTime()),n.$$.dirty&1&&l(3,s=c.operation[0]?c.operation[0].length>16?c.operation[0].substring(0,14)+"...":c.operation[0]:"")},[c,a,v,s,i,g,o,k,I,m,D,C,M,_,N]}class Oo extends vt{constructor(e){super(),mt(this,e,To,So,_t,{turbine:0})}}const Cl="https://dockyard-handler.herokuapp.com/v1.0.0";async function Ol(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await ml.get(Cl+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function Co(n){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.delete(Cl+"/event?eventId="+n,l)}else console.log("Token not found in local storage")}async function Mo(n){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.post(Cl+"/event",n,l)}else console.log("Token not found in local storage")}async function Ao(n){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(n)),await ml.put(Cl+"/event",n,l)}else console.log("Token not found in local storage")}async function Vo(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.get(Cl+"/events/csv",e)}else console.log("Token not found in local storage")}const kt={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear",25:"Vasca sterrato",26:"Vasca asfalto"};function jr(n,e,l){const o=n.slice();return o[7]=e[l],o[8]=e,o[9]=l,o}function Wr(n,e){let l,o,a,i,s,c=e[7].name+"",p,g,v,k;function I(...m){return e[5](e[7],e[8],e[9],...m)}return{key:n,first:null,c(){l=f("div"),o=f("input"),i=b(),s=f("p"),p=S(c),g=b(),this.h()},l(m){l=h(m,"DIV",{class:!0});var D=d(l);o=h(D,"INPUT",{class:!0,type:!0}),i=w(D),s=h(D,"P",{class:!0});var C=d(s);p=T(C,c),C.forEach(u),g=w(D),D.forEach(u),this.h()},h(){t(o,"class","checkbox"),o.checked=a=e[7].isSelected,t(o,"type","checkbox"),t(s,"class","font-mono"),t(l,"class","flex flex-row gap-4"),this.first=l},m(m,D){ae(m,l,D),r(l,o),r(l,i),r(l,s),r(s,p),r(l,g),v||(k=O(o,"change",I),v=!0)},p(m,D){e=m,D&1&&a!==(a=e[7].isSelected)&&(o.checked=a),D&1&&c!==(c=e[7].name+"")&&ge(p,c)},d(m){m&&u(l),v=!1,k()}}}function Po(n){let e,l,o=[],a=new Map,i,s,c,p,g,v,k,I,m,D,C=n[0];const M=_=>_[7].name;for(let _=0;_<C.length;_+=1){let N=jr(n,C,_),E=M(N);a.set(E,o[_]=Wr(E,N))}return{c(){e=f("div"),l=f("div");for(let _=0;_<o.length;_+=1)o[_].c();i=b(),s=f("div"),c=f("button"),p=S("Conferma"),g=b(),v=f("button"),k=S("Chiudi"),this.h()},l(_){e=h(_,"DIV",{class:!0});var N=d(e);l=h(N,"DIV",{class:!0});var E=d(l);for(let j=0;j<o.length;j+=1)o[j].l(E);E.forEach(u),i=w(N),s=h(N,"DIV",{class:!0});var x=d(s);c=h(x,"BUTTON",{class:!0});var L=d(c);p=T(L,"Conferma"),L.forEach(u),g=w(x),v=h(x,"BUTTON",{class:!0});var le=d(v);k=T(le,"Chiudi"),le.forEach(u),x.forEach(u),N.forEach(u),this.h()},h(){t(l,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),t(c,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),t(v,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),t(s,"class","flex flex-row mt-5 gap-2 justify-center"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(_,N){ae(_,e,N),r(e,l);for(let E=0;E<o.length;E+=1)o[E].m(l,null);r(e,i),r(e,s),r(s,c),r(c,p),r(s,g),r(s,v),r(v,k),m||(D=[O(c,"click",ut(n[1])),O(v,"click",ut(n[2])),O(e,"click",ut(n[3])),O(e,"keydown",ut(n[4]))],m=!0)},p(_,[N]){N&1&&(C=_[0],o=nr(o,N,M,1,_,C,a,l,co,Wr,null,jr))},i(_){I||Et(()=>{I=vl(e,St,{duration:300}),I.start()})},o:Le,d(_){_&&u(e);for(let N=0;N<o.length;N+=1)o[N].d();m=!1,st(D)}}}function Lo(n,e,l){let{operations:o=[]}=e;const a=Zt(),i=()=>{a("confirm",o)},s=()=>{a("cancel")};function c(v){Wt.call(this,n,v)}function p(v){Wt.call(this,n,v)}const g=(v,k,I,m)=>{l(0,k[I].isSelected=m.target.checked,o)};return n.$$set=v=>{"operations"in v&&l(0,o=v.operations)},[o,i,s,c,p,g]}class Bo extends vt{constructor(e){super(),mt(this,e,Lo,Po,_t,{operations:0})}}function zo(n){let e,l,o,a,i,s,c,p,g,v,k,I,m,D,C,M,_,N,E,x,L,le;return{c(){e=f("div"),l=f("div"),o=f("button"),a=H("svg"),i=H("path"),s=H("line"),c=H("polyline"),g=S("Kilowatt"),k=b(),I=f("button"),m=H("svg"),D=H("path"),C=H("line"),M=H("polyline"),N=S("Megawatt"),this.h()},l(j){e=h(j,"DIV",{class:!0});var K=d(e);l=h(K,"DIV",{class:!0});var A=d(l);o=h(A,"BUTTON",{class:!0,type:!0});var U=d(o);a=q(U,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var $=d(a);i=q($,"path",{d:!0}),d(i).forEach(u),s=q($,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),c=q($,"polyline",{points:!0}),d(c).forEach(u),$.forEach(u),g=T(U,"Kilowatt"),U.forEach(u),k=w(A),I=h(A,"BUTTON",{class:!0,type:!0});var X=d(I);m=q(X,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var B=d(m);D=q(B,"path",{d:!0}),d(D).forEach(u),C=q(B,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(C).forEach(u),M=q(B,"polyline",{points:!0}),d(M).forEach(u),B.forEach(u),N=T(X,"Megawatt"),X.forEach(u),A.forEach(u),K.forEach(u),this.h()},h(){t(i,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(s,"x1","23"),t(s,"y1","13"),t(s,"x2","23"),t(s,"y2","11"),t(c,"points","11 6 7 12 13 12 9 18"),t(a,"xmlns","http://www.w3.org/2000/svg"),t(a,"width","24"),t(a,"height","24"),t(a,"viewBox","0 0 24 24"),t(a,"fill","none"),t(a,"stroke","currentColor"),t(a,"stroke-width","2"),t(a,"stroke-linecap","round"),t(a,"stroke-linejoin","round"),t(a,"class",p=n[0]?"text-green-500":""),t(o,"class",v=jt(n[0]?"button ring-4 ring-green-500":"button")+" svelte-brr1w4"),t(o,"type","button"),t(D,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(C,"x1","23"),t(C,"y1","13"),t(C,"x2","23"),t(C,"y2","11"),t(M,"points","11 6 7 12 13 12 9 18"),t(m,"xmlns","http://www.w3.org/2000/svg"),t(m,"width","24"),t(m,"height","24"),t(m,"viewBox","0 0 24 24"),t(m,"fill","none"),t(m,"stroke","currentColor"),t(m,"stroke-width","2"),t(m,"stroke-linecap","round"),t(m,"stroke-linejoin","round"),t(m,"class",_=n[0]?"":"text-blue-500"),t(I,"class",E=jt(n[0]?"button":"button ring-4 ring-blue-500")+" svelte-brr1w4"),t(I,"type","button"),t(l,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(j,K){ae(j,e,K),r(e,l),r(l,o),r(o,a),r(a,i),r(a,s),r(a,c),r(o,g),r(l,k),r(l,I),r(I,m),r(m,D),r(m,C),r(m,M),r(I,N),L||(le=[O(o,"click",n[2]),O(I,"click",n[3])],L=!0)},p(j,[K]){K&1&&p!==(p=j[0]?"text-green-500":"")&&t(a,"class",p),K&1&&v!==(v=jt(j[0]?"button ring-4 ring-green-500":"button")+" svelte-brr1w4")&&t(o,"class",v),K&1&&_!==(_=j[0]?"":"text-blue-500")&&t(m,"class",_),K&1&&E!==(E=jt(j[0]?"button":"button ring-4 ring-blue-500")+" svelte-brr1w4")&&t(I,"class",E)},i(j){x||Et(()=>{x=vl(e,uo,{duration:300}),x.start()})},o:Le,d(j){j&&u(e),L=!1,st(le)}}}function xo(n,e,l){let{isKilowatt:o=!0}=e;const a=Zt(),i=()=>{a("change",o?"KILOWATT":"MEGAWATT")},s=()=>{l(0,o=!0),i()},c=()=>{l(0,o=!1),i()};return n.$$set=p=>{"isKilowatt"in p&&l(0,o=p.isKilowatt)},[o,i,s,c]}class Uo extends vt{constructor(e){super(),mt(this,e,xo,zo,_t,{isKilowatt:0})}}function jo(n){let e,l,o,a,i,s,c,p,g,v,k,I,m,D,C,M;return{c(){e=f("div"),l=f("div"),o=f("button"),a=S("In Marcia"),s=b(),c=f("button"),p=S("Limitata"),v=b(),k=f("button"),I=S("Ferma"),this.h()},l(_){e=h(_,"DIV",{class:!0});var N=d(e);l=h(N,"DIV",{class:!0});var E=d(l);o=h(E,"BUTTON",{class:!0,type:!0});var x=d(o);a=T(x,"In Marcia"),x.forEach(u),s=w(E),c=h(E,"BUTTON",{class:!0,type:!0});var L=d(c);p=T(L,"Limitata"),L.forEach(u),v=w(E),k=h(E,"BUTTON",{class:!0,type:!0});var le=d(k);I=T(le,"Ferma"),le.forEach(u),E.forEach(u),N.forEach(u),this.h()},h(){t(o,"class",i=jt(n[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),t(o,"type","button"),t(c,"class",g=jt(n[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),t(c,"type","button"),t(k,"class",m=jt(n[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),t(k,"type","button"),t(l,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(_,N){ae(_,e,N),r(e,l),r(l,o),r(o,a),r(l,s),r(l,c),r(c,p),r(l,v),r(l,k),r(k,I),C||(M=[O(o,"click",n[2]),O(c,"click",n[3]),O(k,"click",n[4])],C=!0)},p(_,[N]){N&1&&i!==(i=jt(_[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&t(o,"class",i),N&1&&g!==(g=jt(_[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&t(c,"class",g),N&1&&m!==(m=jt(_[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&t(k,"class",m)},i(_){D||Et(()=>{D=vl(e,St,{duration:300,delay:300}),D.start()})},o:Le,d(_){_&&u(e),C=!1,st(M)}}}function Wo(n,e,l){let{state:o="In Marcia"}=e;const a=Zt(),i=()=>{a("change",o)},s=()=>{l(0,o="In Marcia"),i()},c=()=>{l(0,o="Limitata"),i()},p=()=>{l(0,o="Ferma"),i()};return n.$$set=g=>{"state"in g&&l(0,o=g.state)},[o,i,s,c,p]}class Fo extends vt{constructor(e){super(),mt(this,e,Wo,jo,_t,{state:0})}}function Fr(n){let e,l,o,a,i;return l=new Bo({props:{operations:n[3]}}),l.$on("cancel",n[16]),l.$on("confirm",n[17]),{c(){e=f("div"),ft(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(l.$$.fragment,c),c.forEach(u),this.h()},h(){t(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){ae(s,e,c),pt(l,e,null),o=!0,a||(i=[O(e,"click",ut(n[18])),O(e,"keydown",ut(n[19]))],a=!0)},p(s,c){const p={};c[0]&8&&(p.operations=s[3]),l.$set(p)},i(s){o||(we(l.$$.fragment,s),o=!0)},o(s){Ae(l.$$.fragment,s),o=!1},d(s){s&&u(e),gt(l),a=!1,st(i)}}}function Ko(n){let e,l,o,a,i,s,c,p,g,v,k,I,m,D,C,M,_,N,E,x,L,le,j,K,A,U,$,X,B,fe,he,V,ee,R,G,ne,ve,Ce,Y,Q,y,te,Ve,Ne,_e,De,Ie,He,Te,me,je,ce,Be,ue,pe,Z,W,se,F,Fe,Ke,Oe,ie,it,Ze,ye,P,re,be,oe=n[1]?"modifica":"creazione",nt,tt,ze,yt,lt,We,at,Tt,qe,rt=n[0].turbineNumber+"",dt,Ot,Qe,ct,$e,Nt,Ft,Me=n[0].turbineName+"",Re,Ye,Pe,xe,Ge,Ct,Ue,z=n[0].description+"",ke,ot,Xe,Ee,Dt,$t,Mt,el=(n[0].odlNumber||"N/A")+"",Kt,At,Vt,Rt,tl,_l,Ht,Pt=n[0].operation+"",dl,bl,bt,Lt,wl,fl,qt,Bt=n[0].power+"",Yt,Gt,zt,It,kl,El,Jt,xt=n[0].turbineState+"",ll,Xl,rl,ol,Zl,$l,Qt,Sl,Tl=n[1]?"Modifica":"Crea",Ml,nl,er,wt,al,Al,tr,sl,Vl,lr,il,Pl,Se,rr,sr,Je=n[2]&&Fr(n);return V=new Uo({props:{isKilowatt:n[0].power==="KILOWATT"}}),V.$on("change",n[26]),ne=new Fo({props:{state:n[0].turbineState}}),ne.$on("change",n[27]),{c(){e=f("div"),Je&&Je.c(),l=b(),o=f("form"),a=f("div"),i=f("div"),s=f("div"),c=f("input"),g=b(),v=f("input"),I=b(),m=f("input"),C=b(),M=f("input"),N=b(),E=f("div"),x=f("button"),L=f("input"),j=b(),K=f("div"),A=f("label"),U=S("Non smantellare"),$=b(),X=f("input"),fe=b(),he=f("div"),ft(V.$$.fragment),ee=b(),R=f("div"),G=f("div"),ft(ne.$$.fragment),ve=b(),Ce=f("div"),Y=f("label"),Q=S("Data Inizio EEMM"),y=b(),te=f("input"),Ne=b(),_e=f("div"),De=f("label"),Ie=S("Data Inizio OOCC"),He=b(),Te=f("input"),je=b(),ce=f("div"),Be=f("label"),ue=S("Validità permitting"),pe=b(),Z=f("input"),se=b(),F=f("div"),Fe=f("label"),Ke=S("Validità notifica"),Oe=b(),ie=f("input"),Ze=b(),ye=f("div"),P=f("div"),re=f("h2"),be=S("Riepilogo "),nt=S(oe),tt=b(),ze=f("div"),yt=b(),lt=f("p"),We=f("span"),at=S("Numero cantiere:"),Tt=b(),qe=f("span"),dt=S(rt),Ot=b(),Qe=f("p"),ct=f("span"),$e=S("Aerogeneratore:"),Nt=b(),Ft=f("span"),Re=S(Me),Ye=b(),Pe=f("p"),xe=f("span"),Ge=S("Impianto eolico:"),Ct=b(),Ue=f("span"),ke=S(z),ot=b(),Xe=f("p"),Ee=f("span"),Dt=S("Numero ODL:"),$t=b(),Mt=f("span"),Kt=S(el),At=b(),Vt=f("p"),Rt=f("span"),tl=S("Operazioni:"),_l=b(),Ht=f("span"),dl=S(Pt),bl=b(),bt=f("p"),Lt=f("span"),wl=S("Tipologia:"),fl=b(),qt=f("span"),Yt=S(Bt),Gt=b(),zt=f("p"),It=f("span"),kl=S("Stato:"),El=b(),Jt=f("span"),ll=S(xt),Xl=b(),rl=f("div"),ol=f("button"),Zl=S("Annulla"),$l=b(),Qt=f("button"),Sl=f("p"),Ml=S(Tl),er=b(),wt=f("div"),al=f("input"),tr=b(),sl=f("input"),lr=b(),il=f("input"),this.h()},l(J){e=h(J,"DIV",{class:!0});var de=d(e);Je&&Je.l(de),l=w(de),o=h(de,"FORM",{});var hl=d(o);a=h(hl,"DIV",{id:!0,class:!0});var Xt=d(a);i=h(Xt,"DIV",{class:!0});var cl=d(i);s=h(cl,"DIV",{class:!0});var ul=d(s);c=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),g=w(ul),v=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),I=w(ul),m=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),C=w(ul),M=h(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),ul.forEach(u),N=w(cl),E=h(cl,"DIV",{class:!0});var ir=d(E);x=h(ir,"BUTTON",{type:!0,class:!0});var cr=d(x);L=h(cr,"INPUT",{class:!0,placeholder:!0}),cr.forEach(u),ir.forEach(u),j=w(cl),K=h(cl,"DIV",{class:!0});var Ll=d(K);A=h(Ll,"LABEL",{class:!0,for:!0});var ur=d(A);U=T(ur,"Non smantellare"),ur.forEach(u),$=w(Ll),X=h(Ll,"INPUT",{id:!0,class:!0,type:!0}),Ll.forEach(u),fe=w(cl),he=h(cl,"DIV",{class:!0});var dr=d(he);ht(V.$$.fragment,dr),dr.forEach(u),cl.forEach(u),ee=w(Xt),R=h(Xt,"DIV",{class:!0});var Ut=d(R);G=h(Ut,"DIV",{class:!0});var fr=d(G);ht(ne.$$.fragment,fr),fr.forEach(u),ve=w(Ut),Ce=h(Ut,"DIV",{});var Bl=d(Ce);Y=h(Bl,"LABEL",{for:!0,class:!0});var hr=d(Y);Q=T(hr,"Data Inizio EEMM"),hr.forEach(u),y=w(Bl),te=h(Bl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),Bl.forEach(u),Ne=w(Ut),_e=h(Ut,"DIV",{});var zl=d(_e);De=h(zl,"LABEL",{for:!0,class:!0});var pr=d(De);Ie=T(pr,"Data Inizio OOCC"),pr.forEach(u),He=w(zl),Te=h(zl,"INPUT",{class:!0,type:!0,placeholder:!0}),zl.forEach(u),je=w(Ut),ce=h(Ut,"DIV",{});var xl=d(ce);Be=h(xl,"LABEL",{for:!0,class:!0});var gr=d(Be);ue=T(gr,"Validità permitting"),gr.forEach(u),pe=w(xl),Z=h(xl,"INPUT",{class:!0,type:!0,placeholder:!0}),xl.forEach(u),se=w(Ut),F=h(Ut,"DIV",{});var Ul=d(F);Fe=h(Ul,"LABEL",{for:!0,class:!0});var vr=d(Fe);Ke=T(vr,"Validità notifica"),vr.forEach(u),Oe=w(Ul),ie=h(Ul,"INPUT",{class:!0,type:!0,placeholder:!0}),Ul.forEach(u),Ut.forEach(u),Ze=w(Xt),ye=h(Xt,"DIV",{class:!0});var jl=d(ye);P=h(jl,"DIV",{class:!0});var et=d(P);re=h(et,"H2",{class:!0});var or=d(re);be=T(or,"Riepilogo "),nt=T(or,oe),or.forEach(u),tt=w(et),ze=h(et,"DIV",{class:!0}),d(ze).forEach(u),yt=w(et),lt=h(et,"P",{});var Wl=d(lt);We=h(Wl,"SPAN",{class:!0});var mr=d(We);at=T(mr,"Numero cantiere:"),mr.forEach(u),Tt=w(Wl),qe=h(Wl,"SPAN",{class:!0});var _r=d(qe);dt=T(_r,rt),_r.forEach(u),Wl.forEach(u),Ot=w(et),Qe=h(et,"P",{});var Fl=d(Qe);ct=h(Fl,"SPAN",{class:!0});var br=d(ct);$e=T(br,"Aerogeneratore:"),br.forEach(u),Nt=w(Fl),Ft=h(Fl,"SPAN",{class:!0});var wr=d(Ft);Re=T(wr,Me),wr.forEach(u),Fl.forEach(u),Ye=w(et),Pe=h(et,"P",{});var Kl=d(Pe);xe=h(Kl,"SPAN",{class:!0});var kr=d(xe);Ge=T(kr,"Impianto eolico:"),kr.forEach(u),Ct=w(Kl),Ue=h(Kl,"SPAN",{class:!0});var Er=d(Ue);ke=T(Er,z),Er.forEach(u),Kl.forEach(u),ot=w(et),Xe=h(et,"P",{});var Rl=d(Xe);Ee=h(Rl,"SPAN",{class:!0});var yr=d(Ee);Dt=T(yr,"Numero ODL:"),yr.forEach(u),$t=w(Rl),Mt=h(Rl,"SPAN",{class:!0});var Nr=d(Mt);Kt=T(Nr,el),Nr.forEach(u),Rl.forEach(u),At=w(et),Vt=h(et,"P",{});var Hl=d(Vt);Rt=h(Hl,"SPAN",{class:!0});var Dr=d(Rt);tl=T(Dr,"Operazioni:"),Dr.forEach(u),_l=w(Hl),Ht=h(Hl,"SPAN",{class:!0});var Ir=d(Ht);dl=T(Ir,Pt),Ir.forEach(u),Hl.forEach(u),bl=w(et),bt=h(et,"P",{});var ql=d(bt);Lt=h(ql,"SPAN",{class:!0});var Sr=d(Lt);wl=T(Sr,"Tipologia:"),Sr.forEach(u),fl=w(ql),qt=h(ql,"SPAN",{class:!0});var Tr=d(qt);Yt=T(Tr,Bt),Tr.forEach(u),ql.forEach(u),Gt=w(et),zt=h(et,"P",{});var Yl=d(zt);It=h(Yl,"SPAN",{class:!0});var Or=d(It);kl=T(Or,"Stato:"),Or.forEach(u),El=w(Yl),Jt=h(Yl,"SPAN",{class:!0});var Cr=d(Jt);ll=T(Cr,xt),Cr.forEach(u),Yl.forEach(u),et.forEach(u),Xl=w(jl),rl=h(jl,"DIV",{class:!0});var Gl=d(rl);ol=h(Gl,"BUTTON",{type:!0,class:!0});var Mr=d(ol);Zl=T(Mr,"Annulla"),Mr.forEach(u),$l=w(Gl),Qt=h(Gl,"BUTTON",{class:!0});var Ar=d(Qt);Sl=h(Ar,"P",{});var Vr=d(Sl);Ml=T(Vr,Tl),Vr.forEach(u),Ar.forEach(u),Gl.forEach(u),jl.forEach(u),Xt.forEach(u),er=w(hl),wt=h(hl,"DIV",{class:!0});var yl=d(wt);al=h(yl,"INPUT",{type:!0,class:!0}),tr=w(yl),sl=h(yl,"INPUT",{type:!0,class:!0}),lr=w(yl),il=h(yl,"INPUT",{type:!0,class:!0}),yl.forEach(u),hl.forEach(u),de.forEach(u),this.h()},h(){t(c,"class","input"),t(c,"type","text"),c.value=p=n[0].turbineName,t(c,"placeholder","Aerogeneratore*"),c.required=!0,c.disabled=n[1],t(v,"class","input"),t(v,"type","text"),v.value=k=n[0].turbineNumber,t(v,"placeholder","Numero cantiere"),t(m,"class","input"),t(m,"type","text"),m.value=D=n[0].description,t(m,"placeholder","Impianto Eolico*"),m.required=!0,t(M,"class","input"),t(M,"type","number"),M.value=_=n[0].odlNumber,t(M,"placeholder","Numero ODL"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),t(L,"class","w-full"),L.value=le=n[0].operation.length>0?n[0].operation.join(", "):"",L.disabled=!0,t(L,"placeholder","Operazioni*"),L.required=!0,t(x,"type","button"),t(x,"class","input hover:bg-gray-200 text-start transition ease-in-out"),t(E,"class","col-span-full mt-5"),t(A,"class","text-xl text-white font-mono"),t(A,"for","smantleCheckbox"),t(X,"id","smantleCheckbox"),t(X,"class","checkbox w-8 h-8"),t(X,"type","checkbox"),X.value=B=n[0].toNotDismantle,t(K,"class","flex flex-row justify-between p-2 items-center"),t(he,"class","col-span-full mt-auto"),t(i,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(G,"class","col-span-full"),t(Y,"for","dateEEMM"),t(Y,"class","font-mono text-white"),t(te,"id","dateEEMM"),t(te,"class","input"),t(te,"type","date"),te.value=Ve=n[0].startingDateEEMM!==void 0?n[0].startingDateEEMM:"",t(te,"placeholder","Data inizio EEMM"),t(De,"for","dateEEMM"),t(De,"class","font-mono text-white"),t(Te,"class","input"),t(Te,"type","date"),Te.value=me=n[0].startingDateOOCC!==void 0?n[0].startingDateOOCC:"",t(Te,"placeholder","Data inizio OOCC"),t(Be,"for","dateEEMM"),t(Be,"class","font-mono text-white"),t(Z,"class","input"),t(Z,"type","date"),Z.value=W=n[0].permittingDate!==void 0?n[0].permittingDate:"",t(Z,"placeholder","Validità permitting"),t(Fe,"for","dateEEMM"),t(Fe,"class","font-mono text-white"),t(ie,"class","input"),t(ie,"type","date"),ie.value=it=n[0].priorNotification!==void 0?n[0].priorNotification:"",t(ie,"placeholder","Validità notifica"),t(R,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(re,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),t(ze,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),t(We,"class","font-mono font-bold text-gray-300"),t(qe,"class","font-mono text-gray-300"),t(ct,"class","font-mono font-bold text-gray-300"),t(Ft,"class","font-mono text-gray-300"),t(xe,"class","font-mono font-bold text-gray-300"),t(Ue,"class","font-mono text-gray-300"),t(Ee,"class","font-mono font-bold text-gray-300"),t(Mt,"class","font-mono text-gray-300"),t(Rt,"class","font-mono font-bold text-gray-300"),t(Ht,"class","font-mono text-gray-300"),t(Lt,"class","font-mono font-bold text-gray-300"),t(qt,"class","font-mono text-gray-300"),t(It,"class","font-mono font-bold text-gray-300"),t(Jt,"class","font-mono text-gray-300"),t(P,"class","w-[15rem] md:w-[29rem] h-3/4"),t(ol,"type","button"),t(ol,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 rounded w-24"),t(Qt,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 rounded w-24"),Qt.disabled=n[5],t(rl,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),t(ye,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(a,"id","scrollable"),t(a,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),t(al,"type","checkbox"),al.checked=Al=n[4]===0,t(al,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),t(sl,"type","checkbox"),sl.checked=Vl=n[4]===1,t(sl,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),t(il,"type","checkbox"),il.checked=Pl=n[4]===2,t(il,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1kr4p0s"),t(wt,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),t(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(J,de){ae(J,e,de),Je&&Je.m(e,null),r(e,l),r(e,o),r(o,a),r(a,i),r(i,s),r(s,c),r(s,g),r(s,v),r(s,I),r(s,m),r(s,C),r(s,M),r(i,N),r(i,E),r(E,x),r(x,L),r(i,j),r(i,K),r(K,A),r(A,U),r(K,$),r(K,X),r(i,fe),r(i,he),pt(V,he,null),r(a,ee),r(a,R),r(R,G),pt(ne,G,null),r(R,ve),r(R,Ce),r(Ce,Y),r(Y,Q),r(Ce,y),r(Ce,te),r(R,Ne),r(R,_e),r(_e,De),r(De,Ie),r(_e,He),r(_e,Te),r(R,je),r(R,ce),r(ce,Be),r(Be,ue),r(ce,pe),r(ce,Z),r(R,se),r(R,F),r(F,Fe),r(Fe,Ke),r(F,Oe),r(F,ie),r(a,Ze),r(a,ye),r(ye,P),r(P,re),r(re,be),r(re,nt),r(P,tt),r(P,ze),r(P,yt),r(P,lt),r(lt,We),r(We,at),r(lt,Tt),r(lt,qe),r(qe,dt),r(P,Ot),r(P,Qe),r(Qe,ct),r(ct,$e),r(Qe,Nt),r(Qe,Ft),r(Ft,Re),r(P,Ye),r(P,Pe),r(Pe,xe),r(xe,Ge),r(Pe,Ct),r(Pe,Ue),r(Ue,ke),r(P,ot),r(P,Xe),r(Xe,Ee),r(Ee,Dt),r(Xe,$t),r(Xe,Mt),r(Mt,Kt),r(P,At),r(P,Vt),r(Vt,Rt),r(Rt,tl),r(Vt,_l),r(Vt,Ht),r(Ht,dl),r(P,bl),r(P,bt),r(bt,Lt),r(Lt,wl),r(bt,fl),r(bt,qt),r(qt,Yt),r(P,Gt),r(P,zt),r(zt,It),r(It,kl),r(zt,El),r(zt,Jt),r(Jt,ll),r(ye,Xl),r(ye,rl),r(rl,ol),r(ol,Zl),r(rl,$l),r(rl,Qt),r(Qt,Sl),r(Sl,Ml),r(o,er),r(o,wt),r(wt,al),r(wt,tr),r(wt,sl),r(wt,lr),r(wt,il),Se=!0,rr||(sr=[O(c,"change",n[20]),O(v,"change",n[21]),O(m,"change",n[22]),O(M,"change",n[23]),O(x,"click",n[24]),O(X,"change",n[25]),O(te,"change",n[28]),O(Te,"change",n[29]),O(Z,"change",n[30]),O(ie,"change",n[31]),O(ol,"click",n[10]),O(Qt,"click",io(n[11])),O(a,"click",ut(n[14])),O(a,"keydown",ut(n[15])),O(a,"scroll",n[6]),O(al,"change",n[32]),O(sl,"change",n[33]),O(il,"change",n[34]),O(wt,"click",ut(n[12])),O(wt,"keydown",ut(n[13])),O(e,"click",n[10]),O(e,"keydown",n[10])],rr=!0)},p(J,de){J[2]?Je?(Je.p(J,de),de[0]&4&&we(Je,1)):(Je=Fr(J),Je.c(),we(Je,1),Je.m(e,l)):Je&&(pl(),Ae(Je,1,1,()=>{Je=null}),gl()),(!Se||de[0]&1&&p!==(p=J[0].turbineName)&&c.value!==p)&&(c.value=p),(!Se||de[0]&2)&&(c.disabled=J[1]),(!Se||de[0]&1&&k!==(k=J[0].turbineNumber)&&v.value!==k)&&(v.value=k),(!Se||de[0]&1&&D!==(D=J[0].description)&&m.value!==D)&&(m.value=D),(!Se||de[0]&1&&_!==(_=J[0].odlNumber)&&M.value!==_)&&(M.value=_),(!Se||de[0]&1&&le!==(le=J[0].operation.length>0?J[0].operation.join(", "):"")&&L.value!==le)&&(L.value=le),(!Se||de[0]&1&&B!==(B=J[0].toNotDismantle))&&(X.value=B);const hl={};de[0]&1&&(hl.isKilowatt=J[0].power==="KILOWATT"),V.$set(hl);const Xt={};de[0]&1&&(Xt.state=J[0].turbineState),ne.$set(Xt),(!Se||de[0]&1&&Ve!==(Ve=J[0].startingDateEEMM!==void 0?J[0].startingDateEEMM:""))&&(te.value=Ve),(!Se||de[0]&1&&me!==(me=J[0].startingDateOOCC!==void 0?J[0].startingDateOOCC:""))&&(Te.value=me),(!Se||de[0]&1&&W!==(W=J[0].permittingDate!==void 0?J[0].permittingDate:""))&&(Z.value=W),(!Se||de[0]&1&&it!==(it=J[0].priorNotification!==void 0?J[0].priorNotification:""))&&(ie.value=it),(!Se||de[0]&2)&&oe!==(oe=J[1]?"modifica":"creazione")&&ge(nt,oe),(!Se||de[0]&1)&&rt!==(rt=J[0].turbineNumber+"")&&ge(dt,rt),(!Se||de[0]&1)&&Me!==(Me=J[0].turbineName+"")&&ge(Re,Me),(!Se||de[0]&1)&&z!==(z=J[0].description+"")&&ge(ke,z),(!Se||de[0]&1)&&el!==(el=(J[0].odlNumber||"N/A")+"")&&ge(Kt,el),(!Se||de[0]&1)&&Pt!==(Pt=J[0].operation+"")&&ge(dl,Pt),(!Se||de[0]&1)&&Bt!==(Bt=J[0].power+"")&&ge(Yt,Bt),(!Se||de[0]&1)&&xt!==(xt=J[0].turbineState+"")&&ge(ll,xt),(!Se||de[0]&2)&&Tl!==(Tl=J[1]?"Modifica":"Crea")&&ge(Ml,Tl),(!Se||de[0]&32)&&(Qt.disabled=J[5]),(!Se||de[0]&16&&Al!==(Al=J[4]===0))&&(al.checked=Al),(!Se||de[0]&16&&Vl!==(Vl=J[4]===1))&&(sl.checked=Vl),(!Se||de[0]&16&&Pl!==(Pl=J[4]===2))&&(il.checked=Pl)},i(J){Se||(we(Je),we(V.$$.fragment,J),we(ne.$$.fragment,J),Et(()=>{nl||(nl=Il(a,St,{duration:150},!0)),nl.run(1)}),Se=!0)},o(J){Ae(Je),Ae(V.$$.fragment,J),Ae(ne.$$.fragment,J),nl||(nl=Il(a,St,{duration:150},!1)),nl.run(0),Se=!1},d(J){J&&u(e),Je&&Je.d(),gt(V),gt(ne),J&&nl&&nl.end(),rr=!1,st(sr)}}}function Ro(n,e,l){let{isEditMode:o=!1}=e,{windfarm:a={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null,toNotDismantle:!1}}=e;const i=Zt();let s=!1,c=[];ar(()=>{l(3,c=Object.values(kt).map(y=>({name:y,isSelected:a.operation.includes(y)})))});let p=0;const g=()=>{const y=document.getElementById("scrollable"),te=y.scrollLeft,Ve=y.scrollWidth,Ne=y.offsetWidth,_e=Ve-te-Ne;te<=10?l(4,p=0):_e<=10?l(4,p=2):l(4,p=1)},v=()=>{document.getElementById("scrollable").scrollTo({left:0,behavior:"smooth"})},k=()=>{const y=document.getElementById("scrollable");y.scrollTo({left:y.scrollWidth,behavior:"smooth"})},I=()=>{const y=document.getElementById("scrollable");let te=y.scrollWidth/2;window.innerWidth<768&&(te=y.scrollWidth/3),y.scrollTo({left:te,behavior:"smooth"})},m=()=>{i("close")},D=()=>a.turbineName!==""&&a.description!==""&&a.operation.length>0&&a.operation[0]!=="",C=()=>{l(0,a={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null})};let M=!1;const _=()=>{M||!D()||(l(5,M=!0),o?Ao(a).then(y=>{y!==void 0&&y.status===200?(i("updated"),l(5,M=!1),C()):console.log("Error while updating windfarm: ",y)}).catch(y=>{console.log(y)}):Mo(a).then(()=>{i("created"),l(5,M=!1),C()}).catch(y=>{console.log(y)}))};function N(y){Wt.call(this,n,y)}function E(y){Wt.call(this,n,y)}function x(y){Wt.call(this,n,y)}function L(y){Wt.call(this,n,y)}const le=()=>{l(2,s=!1)},j=y=>{l(3,c=y.detail),l(0,a.operation=c.filter(te=>te.isSelected).map(te=>te.name),a),l(2,s=!1)},K=()=>{l(2,s=!1)},A=()=>{l(2,s=!1)},U=y=>{l(0,a.turbineName=y.target.value,a)},$=y=>{l(0,a.turbineNumber=y.target.value,a)},X=y=>{l(0,a.description=y.target.value,a)},B=y=>{l(0,a.odlNumber=y.target.value,a)},fe=()=>{l(2,s=!s)},he=y=>{l(0,a.toNotDismantle=y.target.checked,a)},V=y=>l(0,a.power=y.detail,a),ee=y=>l(0,a.turbineState=y.detail,a),R=y=>{l(0,a.startingDateEEMM=y.target.value,a)},G=y=>{l(0,a.startingDateOOCC=y.target.value,a)},ne=y=>{l(0,a.permittingDate=y.target.value,a)},ve=y=>{l(0,a.priorNotification=y.target.value,a)},Ce=()=>{v()},Y=()=>{I()},Q=()=>{k()};return n.$$set=y=>{"isEditMode"in y&&l(1,o=y.isEditMode),"windfarm"in y&&l(0,a=y.windfarm)},[a,o,s,c,p,M,g,v,k,I,m,_,N,E,x,L,le,j,K,A,U,$,X,B,fe,he,V,ee,R,G,ne,ve,Ce,Y,Q]}class fo extends vt{constructor(e){super(),mt(this,e,Ro,Ko,_t,{isEditMode:1,windfarm:0},null,[-1,-1])}}function Ho(n){let e,l;return e=new fo({props:{windfarm:n[0],isEditMode:!0}}),e.$on("close",n[1]),e.$on("updated",n[2]),{c(){ft(e.$$.fragment)},l(o){ht(e.$$.fragment,o)},m(o,a){pt(e,o,a),l=!0},p(o,[a]){const i={};a&1&&(i.windfarm=o[0]),e.$set(i)},i(o){l||(we(e.$$.fragment,o),l=!0)},o(o){Ae(e.$$.fragment,o),l=!1},d(o){gt(e,o)}}}function qo(n,e,l){let{turbine:o}=e;const a=Zt(),i=()=>{a("close")},s=()=>{a("updated")};return n.$$set=c=>{"turbine"in c&&l(0,o=c.turbine)},[o,i,s]}class Yo extends vt{constructor(e){super(),mt(this,e,qo,Ho,_t,{turbine:0})}}function Go(n){let e,l;return e=new fo({props:{isEditMode:!1}}),e.$on("close",n[0]),e.$on("created",n[1]),{c(){ft(e.$$.fragment)},l(o){ht(e.$$.fragment,o)},m(o,a){pt(e,o,a),l=!0},p:Le,i(o){l||(we(e.$$.fragment,o),l=!0)},o(o){Ae(e.$$.fragment,o),l=!1},d(o){gt(e,o)}}}function Jo(n){const e=Zt();return[()=>{e("close")},()=>{e("created")}]}class Qo extends vt{constructor(e){super(),mt(this,e,Jo,Go,_t,{})}}const ho="https://dockyard-handler.herokuapp.com/v1.0.0";async function Kr(n){if(console.log("Retrieving steps for event "+n),typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await ml.get(ho+"/steps/"+n,l)).data}else console.log("Token not found in local storage")}async function Xo(n,e){if(typeof localStorage<"u"){const o={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await ml.put(ho+"/step/complete?stepId="+n+"&isCompleted="+e,null,o)}else console.log("Token not found in local storage")}function Rr(n,e,l){const o=n.slice();return o[6]=e[l],o}function Zo(n){return{c:Le,l:Le,m:Le,p:Le,d:Le}}function $o(n){let e=[],l=new Map,o,a=n[0];const i=s=>s[6].id;for(let s=0;s<a.length;s+=1){let c=Rr(n,a,s),p=i(c);l.set(p,e[s]=qr(p,c))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();o=Dl()},l(s){for(let c=0;c<e.length;c+=1)e[c].l(s);o=Dl()},m(s,c){for(let p=0;p<e.length;p+=1)e[p].m(s,c);ae(s,o,c)},p(s,c){c&7&&(a=s[0],e=nr(e,c,i,1,s,a,l,o.parentNode,co,qr,o,Rr))},d(s){for(let c=0;c<e.length;c+=1)e[c].d(s);s&&u(o)}}}function Hr(n){let e,l,o,a,i,s,c;return{c(){e=f("div"),l=f("p"),o=S("Completato"),a=b(),i=H("svg"),s=H("path"),c=H("polyline"),this.h()},l(p){e=h(p,"DIV",{class:!0});var g=d(e);l=h(g,"P",{class:!0});var v=d(l);o=T(v,"Completato"),v.forEach(u),a=w(g),i=q(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var k=d(i);s=q(k,"path",{d:!0}),d(s).forEach(u),c=q(k,"polyline",{points:!0}),d(c).forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){t(l,"class","font-bold uppercase"),t(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),t(c,"points","22 4 12 14.01 9 11.01"),t(i,"xmlns","http://www.w3.org/2000/svg"),t(i,"width","22"),t(i,"height","22"),t(i,"viewBox","0 0 24 24"),t(i,"fill","none"),t(i,"stroke","currentColor"),t(i,"stroke-width","2"),t(i,"stroke-linecap","round"),t(i,"stroke-linejoin","round"),t(i,"class","feather feather-check-circle text-green-500"),t(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(p,g){ae(p,e,g),r(e,l),r(l,o),r(e,a),r(e,i),r(i,s),r(i,c)},d(p){p&&u(e)}}}function qr(n,e){let l,o,a,i,s,c,p,g=e[6].name+"",v,k,I=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,m,D,C;function M(){return e[4](e[6])}let _=I&&Hr();return{key:n,first:null,c(){l=f("div"),o=f("input"),s=b(),c=f("div"),p=f("p"),v=S(g),k=b(),_&&_.c(),m=b(),this.h()},l(N){l=h(N,"DIV",{class:!0});var E=d(l);o=h(E,"INPUT",{type:!0,class:!0}),s=w(E),c=h(E,"DIV",{class:!0});var x=d(c);p=h(x,"P",{});var L=d(p);v=T(L,g),L.forEach(u),x.forEach(u),k=w(E),_&&_.l(E),m=w(E),E.forEach(u),this.h()},h(){t(o,"type","checkbox"),t(o,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),o.disabled=a=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,o.checked=i=e[6].complete,t(c,"class","col-span-6 text-left"),t(l,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm mr-3"),this.first=l},m(N,E){ae(N,l,E),r(l,o),r(l,s),r(l,c),r(c,p),r(p,v),r(l,k),_&&_.m(l,null),r(l,m),D||(C=O(o,"click",M),D=!0)},p(N,E){e=N,E&3&&a!==(a=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(o.disabled=a),E&1&&i!==(i=e[6].complete)&&(o.checked=i),E&1&&g!==(g=e[6].name+"")&&ge(v,g),E&3&&(I=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),I?_||(_=Hr(),_.c(),_.m(l,m)):_&&(_.d(1),_=null)},d(N){N&&u(l),_&&_.d(),D=!1,C()}}}function en(n){let e,l;return{c(){e=f("div"),l=S("Caricamento..."),this.h()},l(o){e=h(o,"DIV",{class:!0});var a=d(e);l=T(a,"Caricamento..."),a.forEach(u),this.h()},h(){t(e,"class","col-span-7 text-center")},m(o,a){ae(o,e,a),r(e,l)},p:Le,d(o){o&&u(e)}}}function tn(n){let e,l,o,a,i,s,c,p,g,v,k,I,m,D={ctx:n,current:null,token:null,hasCatch:!1,pending:en,then:$o,catch:Zo,value:0};return Pr(k=n[0],D),{c(){e=f("div"),l=f("div"),o=H("svg"),a=H("path"),i=H("path"),s=b(),c=f("h1"),p=S("Tracciamento fasi"),g=b(),v=f("div"),D.block.c(),this.h()},l(C){e=h(C,"DIV",{class:!0});var M=d(e);l=h(M,"DIV",{class:!0});var _=d(l);o=q(_,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var N=d(o);a=q(N,"path",{d:!0}),d(a).forEach(u),i=q(N,"path",{d:!0}),d(i).forEach(u),N.forEach(u),s=w(_),c=h(_,"H1",{class:!0});var E=d(c);p=T(E,"Tracciamento fasi"),E.forEach(u),_.forEach(u),g=w(M),v=h(M,"DIV",{id:!0,class:!0});var x=d(v);D.block.l(x),x.forEach(u),M.forEach(u),this.h()},h(){t(a,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),t(i,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),t(o,"xmlns","http://www.w3.org/2000/svg"),t(o,"width","24"),t(o,"height","24"),t(o,"viewBox","0 0 24 24"),t(o,"fill","none"),t(o,"stroke","currentColor"),t(o,"stroke-width","2"),t(o,"stroke-linecap","round"),t(o,"stroke-linejoin","round"),t(o,"class","feather feather-link"),t(c,"class","font-mono text-2xl"),t(l,"class","flex flex-row items-center md:justify-center mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),t(v,"id","stepsContainer"),t(v,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll max-h-80 gap-2 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800 items-center"),t(e,"class","col-span-1 text-white w-[19rem] p-1 md:p-0 md:w-[29rem]")},m(C,M){ae(C,e,M),r(e,l),r(l,o),r(o,a),r(o,i),r(l,s),r(l,c),r(c,p),r(e,g),r(e,v),D.block.m(v,D.anchor=null),D.mount=()=>v,D.anchor=null},p(C,[M]){n=C,D.ctx=n,M&1&&k!==(k=n[0])&&Pr(k,D)||go(D,n,M)},i(C){I||Et(()=>{I=vl(v,St,{delay:500,duration:1e3}),I.start()}),m||Et(()=>{m=vl(e,uo,{delay:400,duration:1e3}),m.start()})},o:Le,d(C){C&&u(e),D.block.d(),D.token=null,D=null}}}function ln(n,e,l){let o,{turbine:a}=e,i=[];ar(()=>{Kr(a.id).then(g=>{l(0,i=g)}),setTimeout(()=>{c()},1500)});const s=(g,v)=>{Xo(g,v).then(()=>{Kr(a.id).then(k=>{l(0,i=k),v?l(3,a.completedSteps+=1,a):l(3,a.completedSteps-=1,a),c()})})};function c(){const g=document.getElementById("stepsContainer"),v=9;if(g){const k=window.innerWidth<768?2:4,I=a.completedSteps-k;if(I>=0&&a.completedSteps<v){g.scrollTo({top:g.scrollHeight/v*(I+1),behavior:"smooth"});return}else if(a.completedSteps===v){setTimeout(()=>{g.scrollTo({top:0,behavior:"smooth"})},500);return}}}const p=g=>s(g.id,!g.complete);return n.$$set=g=>{"turbine"in g&&l(3,a=g.turbine)},n.$$.update=()=>{n.$$.dirty&9&&l(1,o=i[a.completedSteps])},[i,o,s,a,p]}class rn extends vt{constructor(e){super(),mt(this,e,ln,tn,_t,{turbine:3})}}function on(n){let e,l,o,a,i,s,c,p,g,v,k,I,m;return{c(){e=f("div"),l=f("p"),o=S("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),a=b(),i=f("div"),s=f("button"),c=S("Annulla"),p=b(),g=f("button"),v=S("Conferma"),this.h()},l(D){e=h(D,"DIV",{class:!0});var C=d(e);l=h(C,"P",{class:!0});var M=d(l);o=T(M,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),M.forEach(u),a=w(C),i=h(C,"DIV",{class:!0});var _=d(i);s=h(_,"BUTTON",{class:!0});var N=d(s);c=T(N,"Annulla"),N.forEach(u),p=w(_),g=h(_,"BUTTON",{class:!0});var E=d(g);v=T(E,"Conferma"),E.forEach(u),_.forEach(u),C.forEach(u),this.h()},h(){t(l,"class","font-bold text-lg"),t(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),t(g,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),t(i,"class","flex justify-end mt-5 text-sm"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(D,C){ae(D,e,C),r(e,l),r(l,o),r(e,a),r(e,i),r(i,s),r(s,c),r(i,p),r(i,g),r(g,v),I||(m=[O(s,"click",n[1]),O(g,"click",n[0]),O(e,"click",n[2]),O(e,"keydown",n[2])],I=!0)},p:Le,i(D){k||Et(()=>{k=vl(e,St,{duration:300}),k.start()})},o:Le,d(D){D&&u(e),I=!1,st(m)}}}function nn(n){const e=Zt();return[()=>{e("confirm")},()=>{e("cancel")},i=>{i.stopPropagation()}]}class an extends vt{constructor(e){super(),mt(this,e,nn,on,_t,{})}}function sn(n){let e,l,o=n[0]==="KILOWATT"?"Kw":"Mw",a,i;return{c(){e=f("div"),l=f("span"),a=S(o),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);l=h(c,"SPAN",{});var p=d(l);a=T(p,o),p.forEach(u),c.forEach(u),this.h()},h(){t(e,"class",i="font-mono ring-2 text-lg my-1 max-w-min "+(n[0]==="KILOWATT"?"ring-green-500 bg-green-100":"ring-blue-500 bg-blue-100")+" rounded px-2")},m(s,c){ae(s,e,c),r(e,l),r(l,a)},p(s,[c]){c&1&&o!==(o=s[0]==="KILOWATT"?"Kw":"Mw")&&ge(a,o),c&1&&i!==(i="font-mono ring-2 text-lg my-1 max-w-min "+(s[0]==="KILOWATT"?"ring-green-500 bg-green-100":"ring-blue-500 bg-blue-100")+" rounded px-2")&&t(e,"class",i)},i:Le,o:Le,d(s){s&&u(e)}}}function cn(n,e,l){let{power:o="KILOWATT"}=e;return n.$$set=a=>{"power"in a&&l(0,o=a.power)},[o]}class un extends vt{constructor(e){super(),mt(this,e,cn,sn,_t,{power:0})}}function Yr(n,e,l){const o=n.slice();return o[22]=e[l],o}function Gr(n){let e,l,o,a,i;return l=new an({}),l.$on("confirm",n[8]),l.$on("cancel",n[14]),{c(){e=f("div"),ft(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(l.$$.fragment,c),c.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,c){ae(s,e,c),pt(l,e,null),o=!0,a||(i=[O(e,"click",n[15]),O(e,"keydown",n[16])],a=!0)},p:Le,i(s){o||(we(l.$$.fragment,s),o=!0)},o(s){Ae(l.$$.fragment,s),o=!1},d(s){s&&u(e),gt(l),a=!1,st(i)}}}function Jr(n){let e,l,o=n[0].turbineNumber+"",a;return{c(){e=f("span"),l=S("- "),a=S(o)},l(i){e=h(i,"SPAN",{});var s=d(e);l=T(s,"- "),a=T(s,o),s.forEach(u)},m(i,s){ae(i,e,s),r(e,l),r(e,a)},p(i,s){s&1&&o!==(o=i[0].turbineNumber+"")&&ge(a,o)},d(i){i&&u(e)}}}function Qr(n){let e,l,o,a=(n[0].creationDate?n[0].creationDate.substring(0,10):new Date().toISOString().substring(0,10))+"",i;return{c(){e=f("p"),l=S("Creazione: "),o=f("span"),i=S(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);l=T(c,"Creazione: "),o=h(c,"SPAN",{});var p=d(o);i=T(p,a),p.forEach(u),c.forEach(u),this.h()},h(){t(e,"class","font-mono text-white")},m(s,c){ae(s,e,c),r(e,l),r(e,o),r(o,i)},p(s,c){c&1&&a!==(a=(s[0].creationDate?s[0].creationDate.substring(0,10):new Date().toISOString().substring(0,10))+"")&&ge(i,a)},d(s){s&&u(e)}}}function Xr(n){let e,l,o,a=n[0].permittingDate+"",i;return{c(){e=f("p"),l=S("Valdità permitting: "),o=f("span"),i=S(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);l=T(c,"Valdità permitting: "),o=h(c,"SPAN",{});var p=d(o);i=T(p,a),p.forEach(u),c.forEach(u),this.h()},h(){t(e,"class","font-mono text-white")},m(s,c){ae(s,e,c),r(e,l),r(e,o),r(o,i)},p(s,c){c&1&&a!==(a=s[0].permittingDate+"")&&ge(i,a)},d(s){s&&u(e)}}}function Zr(n){let e,l,o,a=n[0].priorNotification+"",i;return{c(){e=f("p"),l=S("Valdità notifica: "),o=f("span"),i=S(a),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);l=T(c,"Valdità notifica: "),o=h(c,"SPAN",{});var p=d(o);i=T(p,a),p.forEach(u),c.forEach(u),this.h()},h(){t(e,"class","font-mono text-white")},m(s,c){ae(s,e,c),r(e,l),r(e,o),r(o,i)},p(s,c){c&1&&a!==(a=s[0].priorNotification+"")&&ge(i,a)},d(s){s&&u(e)}}}function $r(n){let e,l,o=n[0].toNotDismantle?"Da non smantellare":"Da smantellare",a;return{c(){e=f("div"),l=f("p"),a=S(o),this.h()},l(i){e=h(i,"DIV",{class:!0});var s=d(e);l=h(s,"P",{});var c=d(l);a=T(c,o),c.forEach(u),s.forEach(u),this.h()},h(){t(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 cursor-default top-8")},m(i,s){ae(i,e,s),r(e,l),r(l,a)},p(i,s){s&1&&o!==(o=i[0].toNotDismantle?"Da non smantellare":"Da smantellare")&&ge(a,o)},d(i){i&&u(e)}}}function eo(n){let e,l=n[22]+"",o,a;return{c(){e=f("li"),o=S(l),a=b(),this.h()},l(i){e=h(i,"LI",{class:!0});var s=d(e);o=T(s,l),a=w(s),s.forEach(u),this.h()},h(){t(e,"class","text-sm list-disc ml-5 font-bold")},m(i,s){ae(i,e,s),r(e,o),r(e,a)},p(i,s){s&1&&l!==(l=i[22]+"")&&ge(o,l)},d(i){i&&u(e)}}}function dn(n){let e,l,o,a,i,s,c,p=n[0].turbineName+"",g,v,k,I,m,D,C,M,_,N=n[0].turbineState+"",E,x,L,le,j,K,A,U,$,X,B,fe,he,V,ee,R,G,ne,ve,Ce,Y,Q,y,te,Ve,Ne,_e,De,Ie,He=(n[0].startingDateEEMM||"N/A")+"",Te,me,je,ce,Be,ue=(n[0].startingDateOOCC||"N/A")+"",pe,Z,W,se,F,Fe,Ke,Oe,ie,it,Ze,ye,P,re,be,oe,nt,tt,ze,yt,lt,We,at,Tt,qe,rt,dt,Ot,Qe,ct,$e,Nt,Ft,Me=n[2]&&Gr(n),Re=n[0].turbineNumber&&Jr(n);I=new un({props:{power:n[0].power}});let Ye=n[0].creationDate&&Qr(n),Pe=n[0].permittingDate!==void 0&&Xr(n),xe=n[0].priorNotification!==void 0&&Zr(n),Ge=n[3]&&$r(n),Ct=n[0].operation,Ue=[];for(let z=0;z<Ct.length;z+=1)Ue[z]=eo(Yr(n,Ct,z));return We=new rn({props:{turbine:n[0]}}),{c(){e=f("div"),l=f("div"),Me&&Me.c(),o=b(),a=f("div"),i=f("div"),s=f("div"),c=f("h1"),g=S(p),v=b(),Re&&Re.c(),k=b(),ft(I.$$.fragment),m=b(),Ye&&Ye.c(),D=b(),C=f("p"),M=S("Stato turbina: "),_=f("span"),E=S(N),x=b(),Pe&&Pe.c(),L=b(),xe&&xe.c(),le=b(),j=f("div"),K=f("div"),A=f("p"),U=S("Attività"),$=b(),X=f("button"),B=H("svg"),fe=H("circle"),he=H("line"),V=H("line"),R=b(),Ge&&Ge.c(),G=b(),ne=f("div"),ve=f("ul");for(let z=0;z<Ue.length;z+=1)Ue[z].c();Ce=b(),Y=f("div"),Q=f("div"),y=f("h1"),te=S("Tracciamento eventi"),Ve=b(),Ne=f("ul"),_e=f("li"),De=S("Inizio ATT EEMM: "),Ie=f("span"),Te=S(He),me=b(),je=f("li"),ce=S("Inizio ATT OOCC: "),Be=f("span"),pe=S(ue),Z=b(),W=f("div"),se=f("button"),F=H("svg"),Fe=H("polyline"),Ke=H("path"),Oe=H("line"),ie=H("line"),it=b(),Ze=f("p"),ye=S("Elimina"),P=b(),re=f("button"),be=H("svg"),oe=H("path"),nt=b(),tt=f("p"),ze=S("Modifica"),yt=b(),lt=f("div"),ft(We.$$.fragment),Tt=b(),qe=f("div"),rt=f("input"),Ot=b(),Qe=f("input"),this.h()},l(z){e=h(z,"DIV",{class:!0});var ke=d(e);l=h(ke,"DIV",{id:!0,class:!0});var ot=d(l);Me&&Me.l(ot),o=w(ot),a=h(ot,"DIV",{class:!0});var Xe=d(a);i=h(Xe,"DIV",{class:!0});var Ee=d(i);s=h(Ee,"DIV",{class:!0});var Dt=d(s);c=h(Dt,"H1",{class:!0});var $t=d(c);g=T($t,p),v=w($t),Re&&Re.l($t),$t.forEach(u),k=w(Dt),ht(I.$$.fragment,Dt),Dt.forEach(u),m=w(Ee),Ye&&Ye.l(Ee),D=w(Ee),C=h(Ee,"P",{class:!0});var Mt=d(C);M=T(Mt,"Stato turbina: "),_=h(Mt,"SPAN",{});var el=d(_);E=T(el,N),el.forEach(u),Mt.forEach(u),x=w(Ee),Pe&&Pe.l(Ee),L=w(Ee),xe&&xe.l(Ee),Ee.forEach(u),le=w(Xe),j=h(Xe,"DIV",{class:!0});var Kt=d(j);K=h(Kt,"DIV",{class:!0});var At=d(K);A=h(At,"P",{class:!0});var Vt=d(A);U=T(Vt,"Attività"),Vt.forEach(u),$=w(At),X=h(At,"BUTTON",{class:!0});var Rt=d(X);B=q(Rt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var tl=d(B);fe=q(tl,"circle",{cx:!0,cy:!0,r:!0}),d(fe).forEach(u),he=q(tl,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(he).forEach(u),V=q(tl,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(V).forEach(u),tl.forEach(u),Rt.forEach(u),R=w(At),Ge&&Ge.l(At),At.forEach(u),G=w(Kt),ne=h(Kt,"DIV",{class:!0});var _l=d(ne);ve=h(_l,"UL",{class:!0});var Ht=d(ve);for(let ll=0;ll<Ue.length;ll+=1)Ue[ll].l(Ht);Ht.forEach(u),_l.forEach(u),Kt.forEach(u),Ce=w(Xe),Y=h(Xe,"DIV",{class:!0});var Pt=d(Y);Q=h(Pt,"DIV",{class:!0});var dl=d(Q);y=h(dl,"H1",{class:!0});var bl=d(y);te=T(bl,"Tracciamento eventi"),bl.forEach(u),dl.forEach(u),Ve=w(Pt),Ne=h(Pt,"UL",{});var bt=d(Ne);_e=h(bt,"LI",{class:!0});var Lt=d(_e);De=T(Lt,"Inizio ATT EEMM: "),Ie=h(Lt,"SPAN",{class:!0});var wl=d(Ie);Te=T(wl,He),wl.forEach(u),Lt.forEach(u),me=w(bt),je=h(bt,"LI",{class:!0});var fl=d(je);ce=T(fl,"Inizio ATT OOCC: "),Be=h(fl,"SPAN",{class:!0});var qt=d(Be);pe=T(qt,ue),qt.forEach(u),fl.forEach(u),bt.forEach(u),Pt.forEach(u),Z=w(Xe),W=h(Xe,"DIV",{id:!0,class:!0});var Bt=d(W);se=h(Bt,"BUTTON",{class:!0});var Yt=d(se);F=q(Yt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Gt=d(F);Fe=q(Gt,"polyline",{points:!0}),d(Fe).forEach(u),Ke=q(Gt,"path",{d:!0}),d(Ke).forEach(u),Oe=q(Gt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Oe).forEach(u),ie=q(Gt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ie).forEach(u),Gt.forEach(u),it=w(Yt),Ze=h(Yt,"P",{class:!0});var zt=d(Ze);ye=T(zt,"Elimina"),zt.forEach(u),Yt.forEach(u),P=w(Bt),re=h(Bt,"BUTTON",{class:!0});var It=d(re);be=q(It,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var kl=d(be);oe=q(kl,"path",{d:!0}),d(oe).forEach(u),kl.forEach(u),nt=w(It),tt=h(It,"P",{class:!0});var El=d(tt);ze=T(El,"Modifica"),El.forEach(u),It.forEach(u),Bt.forEach(u),Xe.forEach(u),yt=w(ot),lt=h(ot,"DIV",{class:!0});var Jt=d(lt);ht(We.$$.fragment,Jt),Jt.forEach(u),ot.forEach(u),Tt=w(ke),qe=h(ke,"DIV",{class:!0});var xt=d(qe);rt=h(xt,"INPUT",{type:!0,class:!0}),Ot=w(xt),Qe=h(xt,"INPUT",{type:!0,class:!0}),xt.forEach(u),ke.forEach(u),this.h()},h(){t(c,"class","font-mono font-bold text-2xl text-white mb-2"),t(s,"class","flex flex-row justify-between"),t(C,"class","font-mono text-white"),t(i,"class","grid grid-cols-1 w-[17rem] md:w-[27rem]"),t(A,"class","font-mono text-xl"),t(fe,"cx","12"),t(fe,"cy","12"),t(fe,"r","10"),t(he,"x1","12"),t(he,"y1","16"),t(he,"x2","12"),t(he,"y2","12"),t(V,"x1","12"),t(V,"y1","8"),t(V,"x2","12.01"),t(V,"y2","8"),t(B,"xmlns","http://www.w3.org/2000/svg"),t(B,"width","16"),t(B,"height","16"),t(B,"viewBox","0 0 24 24"),t(B,"fill","none"),t(B,"stroke","currentColor"),t(B,"stroke-width","2"),t(B,"stroke-linecap","round"),t(B,"stroke-linejoin","round"),t(B,"class","feather feather-info"),t(X,"class",ee="hover:text-amber-400 "+(n[3]?"text-amber-400":"")),t(K,"class","flex flex-row items-center gap-2 relative"),t(ve,"class","font-mono"),t(ne,"class","p-2"),t(j,"class","ring-2 rounded ring-gray-600 px-2 py-1 text-white"),t(y,"class","font-mono text-xl"),t(Q,"class","flex flex-row font-mono text-white"),t(Ie,"class","font-extralight"),t(_e,"class","text-sm list-disc ml-5 font-bold text-white"),t(Be,"class","font-extralight"),t(je,"class","text-sm list-disc ml-5 font-bold text-white"),t(Y,"class","flex flex-col gap-2 ring-2 rounded ring-gray-600 px-2 pb-2 pt-1"),t(Fe,"points","3 6 5 6 21 6"),t(Ke,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),t(Oe,"x1","10"),t(Oe,"y1","11"),t(Oe,"x2","10"),t(Oe,"y2","17"),t(ie,"x1","14"),t(ie,"y1","11"),t(ie,"x2","14"),t(ie,"y2","17"),t(F,"xmlns","http://www.w3.org/2000/svg"),t(F,"width","20"),t(F,"height","20"),t(F,"viewBox","0 0 24 24"),t(F,"fill","none"),t(F,"stroke","currentColor"),t(F,"stroke-width","2"),t(F,"stroke-linecap","round"),t(F,"stroke-linejoin","round"),t(F,"class","feather feather-trash-2"),t(Ze,"class","font-mono"),t(se,"class","flex flex-row gap-2 items-center text-red-500 hover:bg-gray-300 hover:shadow-sm bg-gray-200 rounded py-2 px-4"),t(oe,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),t(be,"xmlns","http://www.w3.org/2000/svg"),t(be,"width","20"),t(be,"height","20"),t(be,"viewBox","0 0 24 24"),t(be,"fill","none"),t(be,"stroke","currentColor"),t(be,"stroke-width","2"),t(be,"stroke-linecap","round"),t(be,"stroke-linejoin","round"),t(be,"class","feather feather-edit-2"),t(tt,"class","font-mono"),t(re,"class","flex flex-row gap-2 items-center text-blue-500 hover:bg-gray-300 hover:shadow-sm bg-gray-200 rounded py-2 px-4"),t(W,"id","action-buttons"),t(W,"class","grid place-content-center grid-flow-col gap-2 mt-6"),t(a,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(lt,"class","flex flex-col bg-gray-800 rounded ring-2 ring-gray-500 snap-center p-1"),t(l,"id","scrollable"),t(l,"class","flex flex-row gap-5 text-black p-2 w-[20rem] md:w-[30rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),t(rt,"type","checkbox"),rt.checked=dt=n[1]===0,t(rt,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1di21t9"),t(Qe,"type","checkbox"),Qe.checked=ct=n[1]===1,t(Qe,"class","dot bg-gray-300 checked:bg-blue-400 svelte-1di21t9"),t(qe,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),t(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(z,ke){ae(z,e,ke),r(e,l),Me&&Me.m(l,null),r(l,o),r(l,a),r(a,i),r(i,s),r(s,c),r(c,g),r(c,v),Re&&Re.m(c,null),r(s,k),pt(I,s,null),r(i,m),Ye&&Ye.m(i,null),r(i,D),r(i,C),r(C,M),r(C,_),r(_,E),r(i,x),Pe&&Pe.m(i,null),r(i,L),xe&&xe.m(i,null),r(a,le),r(a,j),r(j,K),r(K,A),r(A,U),r(K,$),r(K,X),r(X,B),r(B,fe),r(B,he),r(B,V),r(K,R),Ge&&Ge.m(K,null),r(j,G),r(j,ne),r(ne,ve);for(let ot=0;ot<Ue.length;ot+=1)Ue[ot].m(ve,null);r(a,Ce),r(a,Y),r(Y,Q),r(Q,y),r(y,te),r(Y,Ve),r(Y,Ne),r(Ne,_e),r(_e,De),r(_e,Ie),r(Ie,Te),r(Ne,me),r(Ne,je),r(je,ce),r(je,Be),r(Be,pe),r(a,Z),r(a,W),r(W,se),r(se,F),r(F,Fe),r(F,Ke),r(F,Oe),r(F,ie),r(se,it),r(se,Ze),r(Ze,ye),r(W,P),r(W,re),r(re,be),r(be,oe),r(re,nt),r(re,tt),r(tt,ze),r(l,yt),r(l,lt),pt(We,lt,null),r(e,Tt),r(e,qe),r(qe,rt),r(qe,Ot),r(qe,Qe),$e=!0,Nt||(Ft=[O(X,"click",n[17]),O(se,"click",n[18]),O(re,"click",n[9]),O(l,"click",ut(n[12])),O(l,"keydown",ut(n[13])),O(l,"scroll",n[4]),O(rt,"change",n[19]),O(Qe,"change",n[20]),O(qe,"click",ut(n[10])),O(qe,"keydown",ut(n[11])),O(e,"click",n[7]),O(e,"keydown",n[7])],Nt=!0)},p(z,[ke]){z[2]?Me?(Me.p(z,ke),ke&4&&we(Me,1)):(Me=Gr(z),Me.c(),we(Me,1),Me.m(l,o)):Me&&(pl(),Ae(Me,1,1,()=>{Me=null}),gl()),(!$e||ke&1)&&p!==(p=z[0].turbineName+"")&&ge(g,p),z[0].turbineNumber?Re?Re.p(z,ke):(Re=Jr(z),Re.c(),Re.m(c,null)):Re&&(Re.d(1),Re=null);const ot={};if(ke&1&&(ot.power=z[0].power),I.$set(ot),z[0].creationDate?Ye?Ye.p(z,ke):(Ye=Qr(z),Ye.c(),Ye.m(i,D)):Ye&&(Ye.d(1),Ye=null),(!$e||ke&1)&&N!==(N=z[0].turbineState+"")&&ge(E,N),z[0].permittingDate!==void 0?Pe?Pe.p(z,ke):(Pe=Xr(z),Pe.c(),Pe.m(i,L)):Pe&&(Pe.d(1),Pe=null),z[0].priorNotification!==void 0?xe?xe.p(z,ke):(xe=Zr(z),xe.c(),xe.m(i,null)):xe&&(xe.d(1),xe=null),(!$e||ke&8&&ee!==(ee="hover:text-amber-400 "+(z[3]?"text-amber-400":"")))&&t(X,"class",ee),z[3]?Ge?Ge.p(z,ke):(Ge=$r(z),Ge.c(),Ge.m(K,null)):Ge&&(Ge.d(1),Ge=null),ke&1){Ct=z[0].operation;let Ee;for(Ee=0;Ee<Ct.length;Ee+=1){const Dt=Yr(z,Ct,Ee);Ue[Ee]?Ue[Ee].p(Dt,ke):(Ue[Ee]=eo(Dt),Ue[Ee].c(),Ue[Ee].m(ve,null))}for(;Ee<Ue.length;Ee+=1)Ue[Ee].d(1);Ue.length=Ct.length}(!$e||ke&1)&&He!==(He=(z[0].startingDateEEMM||"N/A")+"")&&ge(Te,He),(!$e||ke&1)&&ue!==(ue=(z[0].startingDateOOCC||"N/A")+"")&&ge(pe,ue);const Xe={};ke&1&&(Xe.turbine=z[0]),We.$set(Xe),(!$e||ke&2&&dt!==(dt=z[1]===0))&&(rt.checked=dt),(!$e||ke&2&&ct!==(ct=z[1]===1))&&(Qe.checked=ct)},i(z){$e||(we(Me),we(I.$$.fragment,z),we(We.$$.fragment,z),Et(()=>{at||(at=Il(l,St,{duration:150},!0)),at.run(1)}),$e=!0)},o(z){Ae(Me),Ae(I.$$.fragment,z),Ae(We.$$.fragment,z),at||(at=Il(l,St,{duration:150},!1)),at.run(0),$e=!1},d(z){z&&u(e),Me&&Me.d(),Re&&Re.d(),gt(I),Ye&&Ye.d(),Pe&&Pe.d(),xe&&xe.d(),Ge&&Ge.d(),so(Ue,z),gt(We),z&&at&&at.end(),Nt=!1,st(Ft)}}}function fn(n,e,l){let{windfarm:o={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In Marcia",creationDate:null,startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null,toNotDismantle:!1}}=e;const a=Zt();let i=0;const s=()=>{const A=document.getElementById("scrollable");A&&(A.scrollLeft<=10?l(1,i=0):l(1,i=1))},c=()=>{const A=document.getElementById("scrollable");A&&A.scrollTo({left:0,behavior:"smooth"})},p=()=>{const A=document.getElementById("scrollable");A&&A.scrollTo({left:A.scrollWidth,behavior:"smooth"})},g=()=>{a("close")};let v=!1;const k=()=>{l(2,v=!1),Co(o.id).then(()=>{a("deleted")})},I=()=>{a("editMode",o.id)};let m=!1;function D(A){Wt.call(this,n,A)}function C(A){Wt.call(this,n,A)}function M(A){Wt.call(this,n,A)}function _(A){Wt.call(this,n,A)}const N=()=>{l(2,v=!1)},E=()=>{l(2,v=!1)},x=()=>{l(2,v=!1)},L=()=>l(3,m=!m),le=()=>{l(2,v=!0)},j=()=>{c()},K=()=>{p()};return n.$$set=A=>{"windfarm"in A&&l(0,o=A.windfarm)},[o,i,v,m,s,c,p,g,k,I,D,C,M,_,N,E,x,L,le,j,K]}class hn extends vt{constructor(e){super(),mt(this,e,fn,dn,_t,{windfarm:0})}}function to(n,e,l){const o=n.slice();return o[7]=e[l],o}function lo(n){let e,l,o,a,i,s,c,p,g,v,k,I,m,D,C,M,_,N,E,x,L,le,j,K,A,U,$,X,B,fe,he,V;return{c(){e=f("div"),l=f("input"),o=b(),a=f("div"),i=f("select"),s=f("option"),c=S("Tutte le attività"),p=f("option"),g=S("In corso"),v=f("option"),k=S("Cantieri chiusi"),I=b(),m=f("div"),D=H("svg"),C=H("path"),M=b(),_=f("div"),N=f("select"),E=f("option"),x=S("Tutte le operazioni"),L=f("option"),le=S("Pale"),j=f("option"),K=S("Main components"),A=f("option"),U=S("Manutenzioni Ordinarie"),$=b(),X=f("div"),B=H("svg"),fe=H("path"),this.h()},l(ee){e=h(ee,"DIV",{class:!0});var R=d(e);l=h(R,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),o=w(R),a=h(R,"DIV",{class:!0});var G=d(a);i=h(G,"SELECT",{class:!0});var ne=d(i);s=h(ne,"OPTION",{});var ve=d(s);c=T(ve,"Tutte le attività"),ve.forEach(u),p=h(ne,"OPTION",{});var Ce=d(p);g=T(Ce,"In corso"),Ce.forEach(u),v=h(ne,"OPTION",{});var Y=d(v);k=T(Y,"Cantieri chiusi"),Y.forEach(u),ne.forEach(u),I=w(G),m=h(G,"DIV",{class:!0});var Q=d(m);D=q(Q,"svg",{class:!0,xmlns:!0,viewBox:!0});var y=d(D);C=q(y,"path",{d:!0}),d(C).forEach(u),y.forEach(u),Q.forEach(u),G.forEach(u),M=w(R),_=h(R,"DIV",{class:!0});var te=d(_);N=h(te,"SELECT",{class:!0});var Ve=d(N);E=h(Ve,"OPTION",{});var Ne=d(E);x=T(Ne,"Tutte le operazioni"),Ne.forEach(u),L=h(Ve,"OPTION",{});var _e=d(L);le=T(_e,"Pale"),_e.forEach(u),j=h(Ve,"OPTION",{});var De=d(j);K=T(De,"Main components"),De.forEach(u),A=h(Ve,"OPTION",{});var Ie=d(A);U=T(Ie,"Manutenzioni Ordinarie"),Ie.forEach(u),Ve.forEach(u),$=w(te),X=h(te,"DIV",{class:!0});var He=d(X);B=q(He,"svg",{class:!0,xmlns:!0,viewBox:!0});var Te=d(B);fe=q(Te,"path",{d:!0}),d(fe).forEach(u),Te.forEach(u),He.forEach(u),te.forEach(u),R.forEach(u),this.h()},h(){t(l,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(l,"type","text"),t(l,"id","turbineName"),t(l,"name","turbineName"),t(l,"placeholder","Anno"),s.__value="ALL",s.value=s.__value,p.__value="ONLY_INCOMPLETE",p.value=p.__value,v.__value="ONLY_COMPLETED",v.value=v.__value,t(i,"class","w-full min-w-1/2 min-w-[13rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[3]===void 0&&Et(()=>n[25].call(i)),t(C,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),t(D,"class","w-6 h-6 text-white fill-current"),t(D,"xmlns","http://www.w3.org/2000/svg"),t(D,"viewBox","0 0 20 20"),t(m,"class","absolute top-2 right-2 font-bold"),t(a,"class","relative"),E.__value="ALL",E.value=E.__value,L.__value="ONLY_BLADES",L.value=L.__value,j.__value="MAIN_COMPS",j.value=j.__value,A.__value="MAINTENANCE",A.value=A.__value,t(N,"class","w-full min-w-1/2 min-w-[15rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),n[4]===void 0&&Et(()=>n[26].call(N)),t(fe,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),t(B,"class","w-6 h-6 text-white fill-current"),t(B,"xmlns","http://www.w3.org/2000/svg"),t(B,"viewBox","0 0 20 20"),t(X,"class","absolute top-2 right-2 font-bold"),t(_,"class","relative"),t(e,"class","flex flex-col md:flex-row gap-2")},m(ee,R){ae(ee,e,R),r(e,l),Ql(l,n[2]),r(e,o),r(e,a),r(a,i),r(i,s),r(s,c),r(i,p),r(p,g),r(i,v),r(v,k),Jl(i,n[3]),r(a,I),r(a,m),r(m,D),r(D,C),r(e,M),r(e,_),r(_,N),r(N,E),r(E,x),r(N,L),r(L,le),r(N,j),r(j,K),r(N,A),r(A,U),Jl(N,n[4]),r(_,$),r(_,X),r(X,B),r(B,fe),he||(V=[O(l,"input",n[24]),O(i,"change",n[25]),O(N,"change",n[26])],he=!0)},p(ee,R){R&4&&l.value!==ee[2]&&Ql(l,ee[2]),R&8&&Jl(i,ee[3]),R&16&&Jl(N,ee[4])},d(ee){ee&&u(e),he=!1,st(V)}}}function pn(n){let e,l=[],o=new Map,a,i=n[6];const s=c=>c[7].id;for(let c=0;c<i.length;c+=1){let p=to(n,i,c),g=s(p);o.set(g,l[c]=ro(g,p))}return{c(){e=f("div");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=h(c,"DIV",{class:!0});var p=d(e);for(let g=0;g<l.length;g+=1)l[g].l(p);p.forEach(u),this.h()},h(){t(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(c,p){ae(c,e,p);for(let g=0;g<l.length;g+=1)l[g].m(e,null);a=!0},p(c,p){p&8256&&(i=c[6],pl(),l=nr(l,p,s,1,c,i,o,e,vo,ro,null,to),gl())},i(c){if(!a){for(let p=0;p<i.length;p+=1)we(l[p]);a=!0}},o(c){for(let p=0;p<l.length;p+=1)Ae(l[p]);a=!1},d(c){c&&u(e);for(let p=0;p<l.length;p+=1)l[p].d()}}}function gn(n){let e,l,o,a,i;return{c(){e=f("div"),l=f("div"),o=b(),a=f("p"),i=S("Caricamento in corso..."),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);l=h(c,"DIV",{class:!0}),d(l).forEach(u),o=w(c),a=h(c,"P",{class:!0});var p=d(a);i=T(p,"Caricamento in corso..."),p.forEach(u),c.forEach(u),this.h()},h(){t(l,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),t(a,"class","mt-4 text-xl font-bold font-mono"),t(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(s,c){ae(s,e,c),r(e,l),r(e,o),r(e,a),r(a,i)},p:Le,i:Le,o:Le,d(s){s&&u(e)}}}function ro(n,e){let l,o,a;return o=new Oo({props:{turbine:e[7]}}),o.$on("showDetails",e[13]),{key:n,first:null,c(){l=Dl(),ft(o.$$.fragment),this.h()},l(i){l=Dl(),ht(o.$$.fragment,i),this.h()},h(){this.first=l},m(i,s){ae(i,l,s),pt(o,i,s),a=!0},p(i,s){e=i;const c={};s&64&&(c.turbine=e[7]),o.$set(c)},i(i){a||(we(o.$$.fragment,i),a=!0)},o(i){Ae(o.$$.fragment,i),a=!1},d(i){i&&u(l),gt(o,i)}}}function oo(n){let e,l,o,a,i;return l=new hn({props:{windfarm:n[7]}}),l.$on("closeDetails",n[14]),l.$on("editMode",n[16]),l.$on("deleted",n[15]),{c(){e=f("div"),ft(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(l.$$.fragment,c),c.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){ae(s,e,c),pt(l,e,null),o=!0,a||(i=[O(e,"click",n[14]),O(e,"keydown",n[14])],a=!0)},p(s,c){const p={};c&128&&(p.windfarm=s[7]),l.$set(p)},i(s){o||(we(l.$$.fragment,s),o=!0)},o(s){Ae(l.$$.fragment,s),o=!1},d(s){s&&u(e),gt(l),a=!1,st(i)}}}function no(n){let e,l,o,a,i;return l=new Yo({props:{turbine:n[7]}}),l.$on("close",n[27]),l.$on("updated",n[19]),{c(){e=f("div"),ft(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(l.$$.fragment,c),c.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){ae(s,e,c),pt(l,e,null),o=!0,a||(i=[O(e,"click",n[14]),O(e,"keydown",n[14])],a=!0)},p(s,c){const p={};c&128&&(p.turbine=s[7]),l.$set(p)},i(s){o||(we(l.$$.fragment,s),o=!0)},o(s){Ae(l.$$.fragment,s),o=!1},d(s){s&&u(e),gt(l),a=!1,st(i)}}}function ao(n){let e,l,o,a,i;return l=new Qo({}),l.$on("close",n[28]),l.$on("created",n[18]),{c(){e=f("div"),ft(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);ht(l.$$.fragment,c),c.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){ae(s,e,c),pt(l,e,null),o=!0,a||(i=[O(e,"click",n[14]),O(e,"keydown",n[14])],a=!0)},p:Le,i(s){o||(we(l.$$.fragment,s),o=!0)},o(s){Ae(l.$$.fragment,s),o=!1},d(s){s&&u(e),gt(l),a=!1,st(i)}}}function vn(n){let e,l,o,a,i,s,c,p,g,v,k,I,m,D,C,M,_,N,E,x,L,le,j,K,A,U,$,X,B,fe,he,V,ee,R,G,ne,ve,Ce,Y,Q,y,te,Ve,Ne,_e,De,Ie,He,Te,me=n[11]&&lo(n);const je=[gn,pn],ce=[];function Be(W,se){return W[0].length===0?0:1}Q=Be(n),y=ce[Q]=je[Q](n);let ue=n[8]&&oo(n),pe=n[9]&&no(n),Z=n[10]&&ao(n);return{c(){e=f("div"),l=f("div"),o=f("section"),a=f("div"),i=f("input"),s=b(),c=f("button"),p=H("svg"),g=H("polygon"),k=b(),I=f("button"),m=H("svg"),D=H("polyline"),_=b(),me&&me.c(),N=b(),E=f("div"),x=f("p"),L=S(n[12]),le=S(" risultati"),j=b(),K=f("div"),A=f("button"),U=H("svg"),$=H("path"),X=H("polyline"),B=H("line"),fe=H("line"),he=H("polyline"),ee=b(),R=f("button"),G=H("svg"),ne=H("line"),ve=H("line"),Ce=b(),Y=f("section"),y.c(),te=b(),ue&&ue.c(),Ve=b(),pe&&pe.c(),Ne=b(),Z&&Z.c(),this.h()},l(W){e=h(W,"DIV",{});var se=d(e);l=h(se,"DIV",{id:!0,class:!0});var F=d(l);o=h(F,"SECTION",{class:!0,id:!0});var Fe=d(o);a=h(Fe,"DIV",{class:!0});var Ke=d(a);i=h(Ke,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),s=w(Ke),c=h(Ke,"BUTTON",{class:!0});var Oe=d(c);p=q(Oe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ie=d(p);g=q(ie,"polygon",{points:!0}),d(g).forEach(u),ie.forEach(u),Oe.forEach(u),k=w(Ke),I=h(Ke,"BUTTON",{class:!0});var it=d(I);m=q(it,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ze=d(m);D=q(Ze,"polyline",{points:!0}),d(D).forEach(u),Ze.forEach(u),it.forEach(u),Ke.forEach(u),_=w(Fe),me&&me.l(Fe),Fe.forEach(u),N=w(F),E=h(F,"DIV",{class:!0});var ye=d(E);x=h(ye,"P",{class:!0});var P=d(x);L=T(P,n[12]),le=T(P," risultati"),P.forEach(u),j=w(ye),K=h(ye,"DIV",{class:!0});var re=d(K);A=h(re,"BUTTON",{class:!0});var be=d(A);U=q(be,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var oe=d(U);$=q(oe,"path",{d:!0}),d($).forEach(u),X=q(oe,"polyline",{points:!0}),d(X).forEach(u),B=q(oe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(B).forEach(u),fe=q(oe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(fe).forEach(u),he=q(oe,"polyline",{points:!0}),d(he).forEach(u),oe.forEach(u),be.forEach(u),ee=w(re),R=h(re,"BUTTON",{class:!0});var nt=d(R);G=q(nt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var tt=d(G);ne=q(tt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ne).forEach(u),ve=q(tt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ve).forEach(u),tt.forEach(u),nt.forEach(u),re.forEach(u),ye.forEach(u),Ce=w(F),Y=h(F,"SECTION",{class:!0});var ze=d(Y);y.l(ze),te=w(ze),ue&&ue.l(ze),Ve=w(ze),pe&&pe.l(ze),Ne=w(ze),Z&&Z.l(ze),ze.forEach(u),F.forEach(u),se.forEach(u),this.h()},h(){t(i,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),t(i,"type","text"),t(i,"id","turbineName"),t(i,"name","turbineName"),t(i,"placeholder","Cerca"),t(g,"points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"),t(p,"xmlns","http://www.w3.org/2000/svg"),t(p,"width","24"),t(p,"height","24"),t(p,"viewBox","0 0 24 24"),t(p,"fill","none"),t(p,"stroke","currentColor"),t(p,"stroke-width","2"),t(p,"stroke-linecap","round"),t(p,"stroke-linejoin","round"),t(p,"class",v=n[11]?"text-blue-500 rotate-90":"text-white"),t(c,"class","py-2 px-2 hover:text-blue-500 bg-gray-700 rounded-sm md:rounded-md"),t(D,"points","18 15 12 9 6 15"),t(m,"xmlns","http://www.w3.org/2000/svg"),t(m,"width","24"),t(m,"height","24"),t(m,"viewBox","0 0 24 24"),t(m,"fill","none"),t(m,"stroke","currentColor"),t(m,"stroke-width","2"),t(m,"stroke-linecap","round"),t(m,"stroke-linejoin","round"),t(m,"class",C=n[5]==="ASC"?"text-white":"text-blue-500"),t(I,"class",M="py-2 px-2 hover:text-blue-500 bg-gray-700 rounded-sm md:rounded-md "+(n[5]==="ASC"?"text-white":"text-blue-500 rotate-180")),t(a,"class","items-center flex flex-row justify-between md:justify-start gap-2"),t(o,"class","mt-5 flex flex-col gap-3 font-mono h-min-[10vh]"),t(o,"id","filters"),t(x,"class","font-mono text-lg"),t($,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),t(X,"points","14 2 14 8 20 8"),t(B,"x1","16"),t(B,"y1","13"),t(B,"x2","8"),t(B,"y2","13"),t(fe,"x1","16"),t(fe,"y1","17"),t(fe,"x2","8"),t(fe,"y2","17"),t(he,"points","10 9 9 9 8 9"),t(U,"xmlns","http://www.w3.org/2000/svg"),t(U,"width","22"),t(U,"height","22"),t(U,"viewBox","0 0 24 24"),t(U,"fill","none"),t(U,"stroke","currentColor"),t(U,"stroke-width","2"),t(U,"stroke-linecap","round"),t(U,"stroke-linejoin","round"),t(U,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),t(A,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),A.disabled=V=n[0].length===0,t(ne,"x1","12"),t(ne,"y1","5"),t(ne,"x2","12"),t(ne,"y2","19"),t(ve,"x1","5"),t(ve,"y1","12"),t(ve,"x2","19"),t(ve,"y2","12"),t(G,"xmlns","http://www.w3.org/2000/svg"),t(G,"width","22"),t(G,"height","22"),t(G,"viewBox","0 0 24 24"),t(G,"fill","none"),t(G,"stroke","currentColor"),t(G,"stroke-width","2"),t(G,"stroke-linecap","round"),t(G,"stroke-linejoin","round"),t(G,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),t(R,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),t(K,"class","justify-end flex flex-row gap-4"),t(E,"class","flex flex-row justify-between items-center h-[10vh]"),t(Y,"class",_e="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(n[11]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"),t(l,"id","full-content"),t(l,"class","p-4")},m(W,se){ae(W,e,se),r(e,l),r(l,o),r(o,a),r(a,i),Ql(i,n[1]),r(a,s),r(a,c),r(c,p),r(p,g),r(a,k),r(a,I),r(I,m),r(m,D),r(o,_),me&&me.m(o,null),r(l,N),r(l,E),r(E,x),r(x,L),r(x,le),r(E,j),r(E,K),r(K,A),r(A,U),r(U,$),r(U,X),r(U,B),r(U,fe),r(U,he),r(K,ee),r(K,R),r(R,G),r(G,ne),r(G,ve),r(l,Ce),r(l,Y),ce[Q].m(Y,null),r(Y,te),ue&&ue.m(Y,null),r(Y,Ve),pe&&pe.m(Y,null),r(Y,Ne),Z&&Z.m(Y,null),Ie=!0,He||(Te=[O(i,"input",n[21]),O(c,"click",n[22]),O(I,"click",n[23]),O(A,"click",n[20]),O(R,"click",n[17])],He=!0)},p(W,[se]){se&2&&i.value!==W[1]&&Ql(i,W[1]),(!Ie||se&2048&&v!==(v=W[11]?"text-blue-500 rotate-90":"text-white"))&&t(p,"class",v),(!Ie||se&32&&C!==(C=W[5]==="ASC"?"text-white":"text-blue-500"))&&t(m,"class",C),(!Ie||se&32&&M!==(M="py-2 px-2 hover:text-blue-500 bg-gray-700 rounded-sm md:rounded-md "+(W[5]==="ASC"?"text-white":"text-blue-500 rotate-180")))&&t(I,"class",M),W[11]?me?me.p(W,se):(me=lo(W),me.c(),me.m(o,null)):me&&(me.d(1),me=null),(!Ie||se&4096)&&ge(L,W[12]),(!Ie||se&1&&V!==(V=W[0].length===0))&&(A.disabled=V);let F=Q;Q=Be(W),Q===F?ce[Q].p(W,se):(pl(),Ae(ce[F],1,1,()=>{ce[F]=null}),gl(),y=ce[Q],y?y.p(W,se):(y=ce[Q]=je[Q](W),y.c()),we(y,1),y.m(Y,te)),W[8]?ue?(ue.p(W,se),se&256&&we(ue,1)):(ue=oo(W),ue.c(),we(ue,1),ue.m(Y,Ve)):ue&&(pl(),Ae(ue,1,1,()=>{ue=null}),gl()),W[9]?pe?(pe.p(W,se),se&512&&we(pe,1)):(pe=no(W),pe.c(),we(pe,1),pe.m(Y,Ne)):pe&&(pl(),Ae(pe,1,1,()=>{pe=null}),gl()),W[10]?Z?(Z.p(W,se),se&1024&&we(Z,1)):(Z=ao(W),Z.c(),we(Z,1),Z.m(Y,null)):Z&&(pl(),Ae(Z,1,1,()=>{Z=null}),gl()),(!Ie||se&2048&&_e!==(_e="px-1 md:px-2 ring-2 overflow-y-scroll scrollable ring-gray-600 rounded-sm mt-2 "+(W[11]?"h-[42vh] md:h-[60vh]":"h-[65vh]")+" svelte-d0a6yq"))&&t(Y,"class",_e)},i(W){Ie||(we(y),we(ue),we(pe),we(Z),Et(()=>{De||(De=Il(e,St,{duration:200},!0)),De.run(1)}),Ie=!0)},o(W){Ae(y),Ae(ue),Ae(pe),Ae(Z),De||(De=Il(e,St,{duration:200},!1)),De.run(0),Ie=!1},d(W){W&&u(e),me&&me.d(),ce[Q].d(),ue&&ue.d(),pe&&pe.d(),Z&&Z.d(),W&&De&&De.end(),He=!1,st(Te)}}}function mn(n,e,l){let o,a,i=!1,s={},c=[];ar(()=>{Ol().then(V=>{l(0,c=V)})});const p=V=>{const ee=V.detail;l(7,s=c.find(R=>R.id===ee)),l(8,i=!0),l(9,k=!1)},g=()=>{Ol().then(V=>{l(0,c=V),l(8,i=!1)})},v=()=>{l(8,i=!1),Ol().then(V=>{l(0,c=V)})};let k=!1;const I=V=>{const ee=V.detail;l(7,s=c.find(R=>R.id===ee)),l(8,i=!1),l(9,k=!0)};let m=!1;const D=()=>{l(10,m=!0),l(8,i=!1),l(9,k=!1)},C=()=>{l(10,m=!1),l(8,i=!1),l(9,k=!1),Ol().then(V=>{console.log("Updating with: ",V),l(0,c=V)})},M=()=>{Ol().then(V=>{l(0,c=V),l(9,k=!1)})},_=()=>{c.length>0&&Vo().then(V=>{const ee=new Blob([V.data],{type:"text/csv"}),R=window.URL.createObjectURL(ee),G=document.createElement("a");G.href=R,G.download="export.csv",G.click()})};let N="",E="",x="ALL",L="ALL",le="ASC",j=!1;function K(){N=this.value,l(1,N)}const A=()=>{l(11,j=!j)},U=()=>{l(5,le=le==="ASC"?"DESC":"ASC")};function $(){E=this.value,l(2,E)}function X(){x=Lr(this),l(3,x)}function B(){L=Lr(this),l(4,L)}const fe=()=>l(9,k=!1),he=()=>l(10,m=!1);return n.$$.update=()=>{n.$$.dirty&63&&l(6,o=c.filter(V=>{const ee=N.toLowerCase(),R=V.description.toLowerCase().includes(ee),G=V.turbineName.toLowerCase().includes(ee),ne=V.turbineNumber.toLowerCase().includes(ee),ve=V.creationDate.includes(E),Ce=x==="ALL"||x==="ONLY_INCOMPLETE"&&!V.completionDate||x==="ONLY_COMPLETED"&&V.completionDate,Y=L==="ALL"||L==="MAINTENANCE"&&V.operation.some(Q=>Q.includes(kt[20])||Q.includes(kt[21])||Q.includes(kt[22])||Q.includes(kt[25])||Q.includes(kt[26]))||L==="ONLY_BLADES"&&V.operation.some(Q=>Q.includes(kt[2]))||L==="MAIN_COMPS"&&V.operation.some(Q=>!Q.includes(kt[20])&&!Q.includes(kt[21])&&!Q.includes(kt[22])&&!Q.includes(kt[25])&&!Q.includes(kt[26]));return(R||G||ne)&&ve&&Ce&&Y}).sort((V,ee)=>le==="ASC"?V.turbineName.localeCompare(ee.turbineName):ee.turbineName.localeCompare(V.turbineName))),n.$$.dirty&64&&l(12,a=o.length)},[c,N,E,x,L,le,o,s,i,k,m,j,a,p,g,v,I,D,C,M,_,K,A,U,$,X,B,fe,he]}class wn extends vt{constructor(e){super(),mt(this,e,mn,vn,_t,{})}}export{wn as default};
