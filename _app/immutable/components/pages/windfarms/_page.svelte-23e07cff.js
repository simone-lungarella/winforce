import{P as to,S as Xe,i as Ze,s as et,k as f,a as y,l as h,m as d,h as u,c as N,n as l,b as H,C as o,B as ve,Q as Jr,e as ut,q as I,r as T,u as ae,w as Ye,E as j,x as Ge,F as x,y as Je,G as M,O as Gl,f as ne,R as st,T as kt,t as ke,z as Qe,H as tt,D as pt,U as Nr,V as lo,o as Jl,W as Ql,X as Qr,Y as nt,g as Vt,d as Mt,Z as wt,_ as He,$ as Tl,a0 as Il,a1 as Dr,a2 as ro,a3 as oo}from"../../../chunks/index-38a06d27.js";import{a as Pt}from"../../../chunks/axios-67252f11.js";function no(a){const e=a-1;return e*e*e+1}function Xr(a,{delay:e=0,duration:t=400,easing:r=to}={}){const n=+getComputedStyle(a).opacity;return{delay:e,duration:t,easing:r,css:i=>`opacity: ${i*n}`}}function dt(a,{delay:e=0,duration:t=400,easing:r=no}={}){const n=getComputedStyle(a),i=+n.opacity,s=parseFloat(n.height),c=parseFloat(n.paddingTop),p=parseFloat(n.paddingBottom),g=parseFloat(n.marginTop),_=parseFloat(n.marginBottom),v=parseFloat(n.borderTopWidth),b=parseFloat(n.borderBottomWidth);return{delay:e,duration:t,easing:r,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*i};height: ${m*s}px;padding-top: ${m*c}px;padding-bottom: ${m*p}px;margin-top: ${m*g}px;margin-bottom: ${m*_}px;border-top-width: ${m*v}px;border-bottom-width: ${m*b}px;`}}const Yt={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Sr(a,e,t){const r=a.slice();return r[4]=e[t],r[6]=t,r}function ao(a){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-gray-500 h-full w-full")},m(t,r){H(t,e,r)},d(t){t&&u(e)}}}function so(a){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-green-800 h-full w-full")},m(t,r){H(t,e,r)},d(t){t&&u(e)}}}function io(a){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","border border-gray-400 bg-green-500 h-full w-full")},m(t,r){H(t,e,r)},d(t){t&&u(e)}}}function Ir(a){let e;function t(i,s){return i[6]<i[0]?io:i[6]===i[0]?so:ao}let r=t(a),n=r(a);return{c(){n.c(),e=ut()},l(i){n.l(i),e=ut()},m(i,s){n.m(i,s),H(i,e,s)},p(i,s){r!==(r=t(i))&&(n.d(1),n=r(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&u(e)}}}function co(a){let e,t;return{c(){e=f("span"),t=I("Cantiere chiuso"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);t=T(n,"Cantiere chiuso"),n.forEach(u),this.h()},h(){l(e,"class","absolute font-bold text-lg flex px-1")},m(r,n){H(r,e,n),o(e,t)},p:ve,d(r){r&&u(e)}}}function uo(a){let e,t;return{c(){e=f("span"),t=I(a[1]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);t=T(n,a[1]),n.forEach(u),this.h()},h(){l(e,"class","absolute font-bold text-lg flex px-1")},m(r,n){H(r,e,n),o(e,t)},p(r,n){n&2&&ae(t,r[1])},d(r){r&&u(e)}}}function fo(a){let e,t,r,n=Array(a[2]),i=[];for(let g=0;g<n.length;g+=1)i[g]=Ir(Sr(a,n,g));function s(g,_){return g[1]?uo:co}let c=s(a),p=c(a);return{c(){e=f("div"),t=f("div");for(let g=0;g<i.length;g+=1)i[g].c();r=y(),p.c(),this.h()},l(g){e=h(g,"DIV",{class:!0});var _=d(e);t=h(_,"DIV",{class:!0});var v=d(t);for(let b=0;b<i.length;b+=1)i[b].l(v);v.forEach(u),r=N(_),p.l(_),_.forEach(u),this.h()},h(){l(t,"class","transition duration-300 ease-in-out transform flex flex-row bg-gray-500 h-7 w-3/4"),l(e,"class","flex")},m(g,_){H(g,e,_),o(e,t);for(let v=0;v<i.length;v+=1)i[v].m(t,null);o(e,r),p.m(e,null)},p(g,[_]){if(_&1){n=Array(g[2]);let v;for(v=0;v<n.length;v+=1){const b=Sr(g,n,v);i[v]?i[v].p(b,_):(i[v]=Ir(b),i[v].c(),i[v].m(t,null))}for(;v<i.length;v+=1)i[v].d(1);i.length=n.length}c===(c=s(g))&&p?p.p(g,_):(p.d(1),p=c(g),p&&(p.c(),p.m(e,null)))},i:ve,o:ve,d(g){g&&u(e),Jr(i,g),p.d()}}}function ho(a,e,t){let r,{completedSteps:n=0}=e,{creationDate:i=""}=e,s=i.includes("2022")?7:8;return a.$$set=c=>{"completedSteps"in c&&t(0,n=c.completedSteps),"creationDate"in c&&t(3,i=c.creationDate)},a.$$.update=()=>{a.$$.dirty&9&&t(1,r=i.includes("2022")?Yt[n+2]:Yt[n+1])},[n,r,s,i]}class po extends Xe{constructor(e){super(),Ze(this,e,ho,fo,et,{completedSteps:0,creationDate:3})}}function Tr(a){let e,t,r=a[0].turbineNumber+"",n;return{c(){e=f("span"),t=I("- "),n=I(r),this.h()},l(i){e=h(i,"SPAN",{class:!0});var s=d(e);t=T(s,"- "),n=T(s,r),s.forEach(u),this.h()},h(){l(e,"class","hidden md:inline-block")},m(i,s){H(i,e,s),o(e,t),o(e,n)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&ae(n,r)},d(i){i&&u(e)}}}function go(a){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","hidden md:flex")},m(t,r){H(t,e,r)},p:ve,d(t){t&&u(e)}}}function mo(a){let e,t;return{c(){e=f("span"),t=I(a[4]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);t=T(n,a[4]),n.forEach(u),this.h()},h(){l(e,"class","flex md:justify-end md:mr-5")},m(r,n){H(r,e,n),o(e,t)},p(r,n){n&16&&ae(t,r[4])},d(r){r&&u(e)}}}function _o(a){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){l(e,"class","hidden md:flex col-span-2")},m(t,r){H(t,e,r)},p:ve,d(t){t&&u(e)}}}function vo(a){let e,t,r,n=a[0].odlNumber+"",i;return{c(){e=f("p"),t=I("ODL: "),r=f("span"),i=I(n),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);t=T(c,"ODL: "),r=h(c,"SPAN",{class:!0});var p=d(r);i=T(p,n),p.forEach(u),c.forEach(u),this.h()},h(){l(r,"class","text-blue-400"),l(e,"class","flex md:justify-end")},m(s,c){H(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&n!==(n=s[0].odlNumber+"")&&ae(i,n)},d(s){s&&u(e)}}}function Or(a){let e,t,r=a[0].operation[0]+"",n,i,s;return{c(){e=f("div"),t=f("p"),n=I(r),this.h()},l(c){e=h(c,"DIV",{class:!0});var p=d(e);t=h(p,"P",{});var g=d(t);n=T(g,r),g.forEach(u),p.forEach(u),this.h()},h(){l(e,"class","absolute z-10 bg-gray-400 text-white rounded-sm shadow-md p-2 left-10 cursor-default")},m(c,p){H(c,e,p),o(e,t),o(t,n),i||(s=[M(e,"mouseover",a[7]),M(e,"focus",a[8]),M(e,"mouseleave",a[9]),M(e,"focusout",a[10])],i=!0)},p(c,p){p&1&&r!==(r=c[0].operation[0]+"")&&ae(n,r)},d(c){c&&u(e),i=!1,tt(s)}}}function bo(a){let e,t;return{c(){e=f("span"),t=I("Non disponibile"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);t=T(n,"Non disponibile"),n.forEach(u),this.h()},h(){l(e,"class","hidden md:flex font-mono font-bold text-end")},m(r,n){H(r,e,n),o(e,t)},p:ve,d(r){r&&u(e)}}}function wo(a){let e,t;return{c(){e=f("span"),t=I(a[3]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var n=d(e);t=T(n,a[3]),n.forEach(u),this.h()},h(){l(e,"class","hidden md:flex font-mono font-bold text-end")},m(r,n){H(r,e,n),o(e,t)},p(r,n){n&8&&ae(t,r[3])},d(r){r&&u(e)}}}function ko(a){let e,t,r,n,i=a[0].turbineName+"",s,c,p,g,_,v,b,m,w,k,O,E,D,S,F,$=a[0].description+"",R,J,le,q,C,L,B,re,De,G,se,Le,V,ee=a[0].turbineState+"",Me,ge,ie,Oe,We,te,ce,be=(a[3]||"N/A")+"",xe,Pe,Se,me,Ae,fe,he,Be,Ee,we,Q,ue,z,A,K,W=a[0].turbineNumber&&Tr(a);_=new po({props:{completedSteps:a[0].completedSteps,creationDate:a[0].creationDate}});function P(U,pe){return U[4]!==null&&U[4]!==void 0?mo:go}let X=P(a),_e=X(a);function Ue(U,pe){return U[0].odlNumber!==void 0&&U[0].odlNumber!==0?vo:_o}let $e=Ue(a),Ie=$e(a),oe=a[1]&&Or(a);function lt(U,pe){return U[3]?wo:bo}let Ve=lt(a),Te=Ve(a);return{c(){e=f("div"),t=f("div"),r=f("div"),n=f("h1"),s=I(i),c=y(),W&&W.c(),p=y(),g=f("div"),Ye(_.$$.fragment),v=y(),b=f("div"),m=y(),_e.c(),w=y(),k=f("div"),O=j("svg"),E=j("path"),D=j("circle"),S=y(),F=f("span"),R=I($),J=y(),Ie.c(),le=y(),q=f("div"),C=j("svg"),L=j("path"),B=j("rect"),re=y(),oe&&oe.c(),De=y(),G=f("span"),se=I(a[2]),Le=y(),V=f("span"),Me=I(ee),ge=y(),ie=f("span"),Oe=I("Scadenza cantiere:"),We=y(),te=f("span"),ce=I("Scadenza: "),xe=I(be),Pe=y(),Te.c(),Se=y(),me=f("div"),Ae=f("div"),fe=f("button"),he=j("svg"),Be=j("polyline"),Ee=j("polyline"),we=j("line"),Q=j("line"),this.h()},l(U){e=h(U,"DIV",{class:!0});var pe=d(e);t=h(pe,"DIV",{class:!0});var ye=d(t);r=h(ye,"DIV",{class:!0});var Z=d(r);n=h(Z,"H1",{class:!0});var Ce=d(n);s=T(Ce,i),c=N(Ce),W&&W.l(Ce),Ce.forEach(u),p=N(Z),g=h(Z,"DIV",{class:!0});var je=d(g);Ge(_.$$.fragment,je),je.forEach(u),v=N(Z),b=h(Z,"DIV",{class:!0}),d(b).forEach(u),m=N(Z),_e.l(Z),w=N(Z),k=h(Z,"DIV",{class:!0});var Re=d(k);O=x(Re,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var qe=d(O);E=x(qe,"path",{d:!0}),d(E).forEach(u),D=x(qe,"circle",{cx:!0,cy:!0,r:!0}),d(D).forEach(u),qe.forEach(u),S=N(Re),F=h(Re,"SPAN",{});var ft=d(F);R=T(ft,$),ft.forEach(u),Re.forEach(u),J=N(Z),Ie.l(Z),le=N(Z),q=h(Z,"DIV",{class:!0});var Ke=d(q);C=x(Ke,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var it=d(C);L=x(it,"path",{d:!0}),d(L).forEach(u),B=x(it,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(B).forEach(u),it.forEach(u),re=N(Ke),oe&&oe.l(Ke),De=N(Ke),G=h(Ke,"SPAN",{class:!0});var gt=d(G);se=T(gt,a[2]),gt.forEach(u),Ke.forEach(u),Le=N(Z),V=h(Z,"SPAN",{class:!0});var Et=d(V);Me=T(Et,ee),Et.forEach(u),ge=N(Z),ie=h(Z,"SPAN",{class:!0});var At=d(ie);Oe=T(At,"Scadenza cantiere:"),At.forEach(u),We=N(Z),te=h(Z,"SPAN",{class:!0});var at=d(te);ce=T(at,"Scadenza: "),xe=T(at,be),at.forEach(u),Pe=N(Z),Te.l(Z),Z.forEach(u),Se=N(ye),me=h(ye,"DIV",{class:!0});var ht=d(me);Ae=h(ht,"DIV",{class:!0});var Bt=d(Ae);fe=h(Bt,"BUTTON",{class:!0});var zt=d(fe);he=x(zt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var rt=d(he);Be=x(rt,"polyline",{points:!0}),d(Be).forEach(u),Ee=x(rt,"polyline",{points:!0}),d(Ee).forEach(u),we=x(rt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(we).forEach(u),Q=x(rt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Q).forEach(u),rt.forEach(u),zt.forEach(u),Bt.forEach(u),ht.forEach(u),ye.forEach(u),pe.forEach(u),this.h()},h(){l(n,"class","font-bold text-4xl mt-3 col-span-1 md:col-span-2"),l(g,"class","col-span-1 md:col-span-2"),l(b,"class","col-span-1"),l(E,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),l(D,"cx","12"),l(D,"cy","10"),l(D,"r","3"),l(O,"xmlns","http://www.w3.org/2000/svg"),l(O,"width","24"),l(O,"height","24"),l(O,"viewBox","0 0 24 24"),l(O,"fill","none"),l(O,"stroke","currentColor"),l(O,"stroke-width","2"),l(O,"stroke-linecap","round"),l(O,"stroke-linejoin","round"),l(O,"class","feather feather-map-pin"),l(k,"class","flex gap-2 -mb-2"),l(L,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),l(B,"x","8"),l(B,"y","2"),l(B,"width","8"),l(B,"height","4"),l(B,"rx","1"),l(B,"ry","1"),l(C,"xmlns","http://www.w3.org/2000/svg"),l(C,"width","24"),l(C,"height","24"),l(C,"viewBox","0 0 24 24"),l(C,"fill","none"),l(C,"stroke","currentColor"),l(C,"stroke-width","2"),l(C,"stroke-linecap","round"),l(C,"stroke-linejoin","round"),l(C,"class","feather feather-clipboard"),l(G,"class","flex select-none"),l(q,"class","flex gap-2"),l(V,"class","flex md:justify-end font-bold"),l(ie,"class","font-mono hidden md:flex"),l(te,"class","font-mono flex md:hidden"),l(r,"class","grid grid-cols-1 text-white font-mono gap-3"),l(Be,"points","15 3 21 3 21 9"),l(Ee,"points","9 21 3 21 3 15"),l(we,"x1","21"),l(we,"y1","3"),l(we,"x2","14"),l(we,"y2","10"),l(Q,"x1","3"),l(Q,"y1","21"),l(Q,"x2","10"),l(Q,"y2","14"),l(he,"xmlns","http://www.w3.org/2000/svg"),l(he,"width","22"),l(he,"height","22"),l(he,"viewBox","0 0 24 24"),l(he,"fill","none"),l(he,"stroke","currentColor"),l(he,"stroke-width","2"),l(he,"stroke-linecap","round"),l(he,"stroke-linejoin","round"),l(he,"class","feather feather-maximize-2 group-hover:rotate-90 transition-all duration-300 ease-in-out"),l(fe,"class","py-2 px-2 hover:bg-gray-400 rounded-full group"),l(Ae,"class","flex flex-col md:flex-row gap-2 md:gap-0"),l(me,"class","absolute top-0 right-0 mr-2 mt-2"),l(t,"class","bg-gray-800 px-4 my-2 mx-2 md:mx-0 rounded-sm shadow-md hover:ring-2 ring-blue-500 transition duration-300 ease-in-out transform h-auto md:h-56 pb-5 content-start group"),l(e,"class","snap-start pt-1")},m(U,pe){H(U,e,pe),o(e,t),o(t,r),o(r,n),o(n,s),o(n,c),W&&W.m(n,null),o(r,p),o(r,g),Je(_,g,null),o(r,v),o(r,b),o(r,m),_e.m(r,null),o(r,w),o(r,k),o(k,O),o(O,E),o(O,D),o(k,S),o(k,F),o(F,R),o(r,J),Ie.m(r,null),o(r,le),o(r,q),o(q,C),o(C,L),o(C,B),o(q,re),oe&&oe.m(q,null),o(q,De),o(q,G),o(G,se),o(r,Le),o(r,V),o(V,Me),o(r,ge),o(r,ie),o(ie,Oe),o(r,We),o(r,te),o(te,ce),o(te,xe),o(r,Pe),Te.m(r,null),o(t,Se),o(t,me),o(me,Ae),o(Ae,fe),o(fe,he),o(he,Be),o(he,Ee),o(he,we),o(he,Q),z=!0,A||(K=[M(q,"mouseover",a[11]),M(q,"focus",a[12]),M(q,"mouseleave",a[13]),M(q,"focusout",a[14]),M(fe,"click",Gl(a[5]))],A=!0)},p(U,[pe]){(!z||pe&1)&&i!==(i=U[0].turbineName+"")&&ae(s,i),U[0].turbineNumber?W?W.p(U,pe):(W=Tr(U),W.c(),W.m(n,null)):W&&(W.d(1),W=null);const ye={};pe&1&&(ye.completedSteps=U[0].completedSteps),pe&1&&(ye.creationDate=U[0].creationDate),_.$set(ye),X===(X=P(U))&&_e?_e.p(U,pe):(_e.d(1),_e=X(U),_e&&(_e.c(),_e.m(r,w))),(!z||pe&1)&&$!==($=U[0].description+"")&&ae(R,$),$e===($e=Ue(U))&&Ie?Ie.p(U,pe):(Ie.d(1),Ie=$e(U),Ie&&(Ie.c(),Ie.m(r,le))),U[1]?oe?oe.p(U,pe):(oe=Or(U),oe.c(),oe.m(q,De)):oe&&(oe.d(1),oe=null),(!z||pe&4)&&ae(se,U[2]),(!z||pe&1)&&ee!==(ee=U[0].turbineState+"")&&ae(Me,ee),(!z||pe&8)&&be!==(be=(U[3]||"N/A")+"")&&ae(xe,be),Ve===(Ve=lt(U))&&Te?Te.p(U,pe):(Te.d(1),Te=Ve(U),Te&&(Te.c(),Te.m(r,null)))},i(U){z||(ne(_.$$.fragment,U),ue||st(()=>{ue=kt(t,dt,{duration:1e3}),ue.start()}),z=!0)},o(U){ke(_.$$.fragment,U),z=!1},d(U){U&&u(e),W&&W.d(),Qe(_),_e.d(),Ie.d(),oe&&oe.d(),Te.d(),A=!1,tt(K)}}}function Eo(a,e,t){let r,n,i,s,{turbine:c={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const p=pt(),g=()=>{p("showDetails",c.id)};let _=!1;const v=()=>t(1,_=!0),b=()=>t(1,_=!0),m=()=>t(1,_=!1),w=()=>t(1,_=!1),k=()=>t(1,_=!0),O=()=>t(1,_=!0),E=()=>t(1,_=!1),D=()=>t(1,_=!1);return a.$$set=S=>{"turbine"in S&&t(0,c=S.turbine)},a.$$.update=()=>{a.$$.dirty&1&&t(6,r=c.creationDate.includes("2022")?Yt[c.completedSteps+2]:Yt[c.completedSteps+1]),a.$$.dirty&65&&t(4,n=r===Yt[3]?c.priorNotification:r===Yt[4]?c.permittingDate:null),a.$$.dirty&1&&t(3,i=c.permittingDate?new Date(new Date(c.permittingDate).getTime()+90*24*60*60*1e3).toLocaleDateString("it-IT"):null),a.$$.dirty&1&&t(2,s=c.operation[0]?c.operation[0].length>16?c.operation[0].substring(0,14)+"...":c.operation[0]:"")},[c,_,s,i,n,g,r,v,b,m,w,k,O,E,D]}class yo extends Xe{constructor(e){super(),Ze(this,e,Eo,ko,et,{turbine:0})}}const rl="https://dockyard-handler.herokuapp.com/v1.0.0";async function ll(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Pt.get(rl+"/events?includeCompleted=true",e)).data}else console.log("Token not found in local storage")}async function No(a){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.delete(rl+"/event?eventId="+a,t)}else console.log("Token not found in local storage")}async function Do(a){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.post(rl+"/event",a,t)}else console.log("Token not found in local storage")}async function So(a){if(typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(a)),await Pt.put(rl+"/event",a,t)}else console.log("Token not found in local storage")}async function Io(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.get(rl+"/events/csv",e)}else console.log("Token not found in local storage")}function Cr(a){let e,t,r,n,i=(a[0].startingDateEEMM||"____/__/__")+"",s,c,p,g,_,v=(a[0].startingDateOOCC||"____/__/__")+"",b;return{c(){e=f("div"),t=f("p"),r=I("Inizio ATT EEMM: "),n=f("span"),s=I(i),c=y(),p=f("p"),g=I("Inizio ATT OOCC: "),_=f("span"),b=I(v),this.h()},l(m){e=h(m,"DIV",{class:!0});var w=d(e);t=h(w,"P",{class:!0});var k=d(t);r=T(k,"Inizio ATT EEMM: "),n=h(k,"SPAN",{class:!0});var O=d(n);s=T(O,i),O.forEach(u),k.forEach(u),c=N(w),p=h(w,"P",{class:!0});var E=d(p);g=T(E,"Inizio ATT OOCC: "),_=h(E,"SPAN",{class:!0});var D=d(_);b=T(D,v),D.forEach(u),E.forEach(u),w.forEach(u),this.h()},h(){l(n,"class","font-extralight"),l(t,"class","font-mono text-white text-lg"),l(_,"class","font-extralight"),l(p,"class","font-mono text-white text-lg"),l(e,"class","p-2 mb-2")},m(m,w){H(m,e,w),o(e,t),o(t,r),o(t,n),o(n,s),o(e,c),o(e,p),o(p,g),o(p,_),o(_,b)},p(m,w){w&1&&i!==(i=(m[0].startingDateEEMM||"____/__/__")+"")&&ae(s,i),w&1&&v!==(v=(m[0].startingDateOOCC||"____/__/__")+"")&&ae(b,v)},d(m){m&&u(e)}}}function To(a){let e,t,r,n,i,s,c,p,g,_,v,b=a[1]&&Cr(a);return{c(){e=f("button"),t=j("svg"),r=j("circle"),n=j("polyline"),i=y(),s=f("h1"),c=I("Tracciamento eventi"),p=y(),b&&b.c(),g=ut(),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var w=d(e);t=x(w,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var k=d(t);r=x(k,"circle",{cx:!0,cy:!0,r:!0}),d(r).forEach(u),n=x(k,"polyline",{points:!0}),d(n).forEach(u),k.forEach(u),i=N(w),s=h(w,"H1",{class:!0});var O=d(s);c=T(O,"Tracciamento eventi"),O.forEach(u),w.forEach(u),p=N(m),b&&b.l(m),g=ut(),this.h()},h(){l(r,"cx","12"),l(r,"cy","12"),l(r,"r","10"),l(n,"points","12 6 12 12 16 14"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-clock"),l(s,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(m,w){H(m,e,w),o(e,t),o(t,r),o(t,n),o(e,i),o(e,s),o(s,c),H(m,p,w),b&&b.m(m,w),H(m,g,w),_||(v=M(e,"click",Gl(a[2])),_=!0)},p(m,[w]){m[1]?b?b.p(m,w):(b=Cr(m),b.c(),b.m(g.parentNode,g)):b&&(b.d(1),b=null)},i:ve,o:ve,d(m){m&&u(e),m&&u(p),b&&b.d(m),m&&u(g),_=!1,v()}}}function Oo(a,e,t){let{turbine:r}=e,n=!1;const i=()=>t(1,n=!n);return a.$$set=s=>{"turbine"in s&&t(0,r=s.turbine)},[r,n,i]}class Co extends Xe{constructor(e){super(),Ze(this,e,Oo,To,et,{turbine:0})}}function Vr(a,e,t){const r=a.slice();return r[3]=e[t],r}function Mr(a){let e,t,r=a[0].operation,n=[];for(let i=0;i<r.length;i+=1)n[i]=Pr(Vr(a,r,i));return{c(){e=f("div"),t=f("ul");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=h(i,"DIV",{class:!0});var s=d(e);t=h(s,"UL",{class:!0});var c=d(t);for(let p=0;p<n.length;p+=1)n[p].l(c);c.forEach(u),s.forEach(u),this.h()},h(){l(t,"class","font-mono text-white text-lg"),l(e,"class","p-2")},m(i,s){H(i,e,s),o(e,t);for(let c=0;c<n.length;c+=1)n[c].m(t,null)},p(i,s){if(s&1){r=i[0].operation;let c;for(c=0;c<r.length;c+=1){const p=Vr(i,r,c);n[c]?n[c].p(p,s):(n[c]=Pr(p),n[c].c(),n[c].m(t,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=r.length}},d(i){i&&u(e),Jr(n,i)}}}function Pr(a){let e,t=a[3]+"",r,n;return{c(){e=f("li"),r=I(t),n=y(),this.h()},l(i){e=h(i,"LI",{class:!0});var s=d(e);r=T(s,t),n=N(s),s.forEach(u),this.h()},h(){l(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(i,s){H(i,e,s),o(e,r),o(e,n)},p(i,s){s&1&&t!==(t=i[3]+"")&&ae(r,t)},d(i){i&&u(e)}}}function Vo(a){let e,t,r,n,i,s,c,p,g,_,v=a[1]&&Mr(a);return{c(){e=f("button"),t=j("svg"),r=j("path"),n=y(),i=f("h1"),s=I("Operazioni"),c=y(),v&&v.c(),p=ut(),this.h()},l(b){e=h(b,"BUTTON",{class:!0});var m=d(e);t=x(m,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var w=d(t);r=x(w,"path",{d:!0}),d(r).forEach(u),w.forEach(u),n=N(m),i=h(m,"H1",{class:!0});var k=d(i);s=T(k,"Operazioni"),k.forEach(u),m.forEach(u),c=N(b),v&&v.l(b),p=ut(),this.h()},h(){l(r,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","22"),l(t,"height","22"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-width","2"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"class","feather feather-tool"),l(i,"class","font-mono text-xl"),l(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-blue-400 w-full")},m(b,m){H(b,e,m),o(e,t),o(t,r),o(e,n),o(e,i),o(i,s),H(b,c,m),v&&v.m(b,m),H(b,p,m),g||(_=M(e,"click",Gl(a[2])),g=!0)},p(b,[m]){b[1]?v?v.p(b,m):(v=Mr(b),v.c(),v.m(p.parentNode,p)):v&&(v.d(1),v=null)},i:ve,o:ve,d(b){b&&u(e),b&&u(c),v&&v.d(b),b&&u(p),g=!1,_()}}}function Mo(a,e,t){let{turbine:r}=e,n=!1;const i=()=>t(1,n=!n);return a.$$set=s=>{"turbine"in s&&t(0,r=s.turbine)},[r,n,i]}class Po extends Xe{constructor(e){super(),Ze(this,e,Mo,Vo,et,{turbine:0})}}const Zr="https://dockyard-handler.herokuapp.com/v1.0.0";async function Ar(a){if(console.log("Retrieving steps for event "+a),typeof localStorage<"u"){const t={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Pt.get(Zr+"/steps/"+a,t)).data}else console.log("Token not found in local storage")}async function Ao(a,e){if(typeof localStorage<"u"){const r={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Pt.put(Zr+"/step/complete?stepId="+a+"&isCompleted="+e,null,r)}else console.log("Token not found in local storage")}function Br(a,e,t){const r=a.slice();return r[6]=e[t],r}function Bo(a){return{c:ve,l:ve,m:ve,p:ve,d:ve}}function zo(a){let e=[],t=new Map,r,n=a[0];const i=s=>s[6].id;for(let s=0;s<n.length;s+=1){let c=Br(a,n,s),p=i(c);t.set(p,e[s]=Lr(p,c))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=ut()},l(s){for(let c=0;c<e.length;c+=1)e[c].l(s);r=ut()},m(s,c){for(let p=0;p<e.length;p+=1)e[p].m(s,c);H(s,r,c)},p(s,c){c&7&&(n=s[0],e=Ql(e,c,i,1,s,n,t,r.parentNode,Qr,Lr,r,Br))},d(s){for(let c=0;c<e.length;c+=1)e[c].d(s);s&&u(r)}}}function zr(a){let e,t,r,n,i,s,c;return{c(){e=f("div"),t=f("p"),r=I("Completato"),n=y(),i=j("svg"),s=j("path"),c=j("polyline"),this.h()},l(p){e=h(p,"DIV",{class:!0});var g=d(e);t=h(g,"P",{class:!0});var _=d(t);r=T(_,"Completato"),_.forEach(u),n=N(g),i=x(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var v=d(i);s=x(v,"path",{d:!0}),d(s).forEach(u),c=x(v,"polyline",{points:!0}),d(c).forEach(u),v.forEach(u),g.forEach(u),this.h()},h(){l(t,"class","font-bold uppercase"),l(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),l(c,"points","22 4 12 14.01 9 11.01"),l(i,"xmlns","http://www.w3.org/2000/svg"),l(i,"width","22"),l(i,"height","22"),l(i,"viewBox","0 0 24 24"),l(i,"fill","none"),l(i,"stroke","currentColor"),l(i,"stroke-width","2"),l(i,"stroke-linecap","round"),l(i,"stroke-linejoin","round"),l(i,"class","feather feather-check-circle text-green-500"),l(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(p,g){H(p,e,g),o(e,t),o(t,r),o(e,n),o(e,i),o(i,s),o(i,c)},d(p){p&&u(e)}}}function Lr(a,e){let t,r,n,i,s,c,p,g=e[6].name+"",_,v,b=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,m,w,k;function O(){return e[4](e[6])}let E=b&&zr();return{key:a,first:null,c(){t=f("div"),r=f("input"),s=y(),c=f("div"),p=f("p"),_=I(g),v=y(),E&&E.c(),m=y(),this.h()},l(D){t=h(D,"DIV",{class:!0});var S=d(t);r=h(S,"INPUT",{type:!0,class:!0}),s=N(S),c=h(S,"DIV",{class:!0});var F=d(c);p=h(F,"P",{});var $=d(p);_=T($,g),$.forEach(u),F.forEach(u),v=N(S),E&&E.l(S),m=N(S),S.forEach(u),this.h()},h(){l(r,"type","checkbox"),l(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 cursor-pointer disabled:cursor-not-allowed"),r.disabled=n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1,r.checked=i=e[6].complete,l(c,"class","col-span-6 text-left"),l(t,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-blue-200 items-center rounded-sm"),this.first=t},m(D,S){H(D,t,S),o(t,r),o(t,s),o(t,c),o(c,p),o(p,_),o(t,v),E&&E.m(t,null),o(t,m),w||(k=M(r,"click",O),w=!0)},p(D,S){e=D,S&3&&n!==(n=e[1]&&e[6].name!==e[1].name&&!e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1)&&(r.disabled=n),S&1&&i!==(i=e[6].complete)&&(r.checked=i),S&1&&g!==(g=e[6].name+"")&&ae(_,g),S&3&&(b=e[6].complete&&e[0].indexOf(e[6])!==e[0].indexOf(e[1])-1),b?E||(E=zr(),E.c(),E.m(t,m)):E&&(E.d(1),E=null)},d(D){D&&u(t),E&&E.d(),w=!1,k()}}}function Lo(a){let e,t;return{c(){e=f("div"),t=I("Caricamento..."),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=d(e);t=T(n,"Caricamento..."),n.forEach(u),this.h()},h(){l(e,"class","col-span-7 text-center")},m(r,n){H(r,e,n),o(e,t)},p:ve,d(r){r&&u(e)}}}function Uo(a){let e,t,r,n,i,s,c,p,g,_,v,b,m,w={ctx:a,current:null,token:null,hasCatch:!1,pending:Lo,then:zo,catch:Bo,value:0};return Nr(v=a[0],w),{c(){e=f("div"),t=f("div"),r=j("svg"),n=j("path"),i=j("path"),s=y(),c=f("h1"),p=I("Tracciamento fasi"),g=y(),_=f("div"),w.block.c(),this.h()},l(k){e=h(k,"DIV",{class:!0});var O=d(e);t=h(O,"DIV",{class:!0});var E=d(t);r=x(E,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(r);n=x(D,"path",{d:!0}),d(n).forEach(u),i=x(D,"path",{d:!0}),d(i).forEach(u),D.forEach(u),s=N(E),c=h(E,"H1",{class:!0});var S=d(c);p=T(S,"Tracciamento fasi"),S.forEach(u),E.forEach(u),g=N(O),_=h(O,"DIV",{id:!0,class:!0});var F=d(_);w.block.l(F),F.forEach(u),O.forEach(u),this.h()},h(){l(n,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),l(i,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),l(r,"xmlns","http://www.w3.org/2000/svg"),l(r,"width","24"),l(r,"height","24"),l(r,"viewBox","0 0 24 24"),l(r,"fill","none"),l(r,"stroke","currentColor"),l(r,"stroke-width","2"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"class","feather feather-link"),l(c,"class","text-center font-mono text-xl"),l(t,"class","grid justify-center place-content-center items-center grid-flow-col mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),l(_,"id","stepsContainer"),l(_,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-32 md:h-64 gap-2 scrollbar-none shadow-md mt-5 items-center"),l(e,"class","col-span-1 text-white md:ring-2 ring-gray-400 rounded-sm")},m(k,O){H(k,e,O),o(e,t),o(t,r),o(r,n),o(r,i),o(t,s),o(t,c),o(c,p),o(e,g),o(e,_),w.block.m(_,w.anchor=null),w.mount=()=>_,w.anchor=null},p(k,[O]){a=k,w.ctx=a,O&1&&v!==(v=a[0])&&Nr(v,w)||lo(w,a,O)},i(k){b||st(()=>{b=kt(_,dt,{delay:500,duration:1e3}),b.start()}),m||st(()=>{m=kt(e,Xr,{delay:400,duration:1e3}),m.start()})},o:ve,d(k){k&&u(e),w.block.d(),w.token=null,w=null}}}function jo(a,e,t){let r,{turbine:n}=e,i=[];Jl(()=>{Ar(n.id).then(g=>{t(0,i=g)}),setTimeout(()=>{c()},1500)});const s=(g,_)=>{Ao(g,_).then(()=>{Ar(n.id).then(v=>{t(0,i=v),_?t(3,n.completedSteps+=1,n):t(3,n.completedSteps-=1,n),c()})})};function c(){const g=document.getElementById("stepsContainer"),_=9;if(g){const v=window.innerWidth<768?2:4,b=n.completedSteps-v;if(b>=0&&n.completedSteps<_){g.scrollTo({top:g.scrollHeight/_*(b+1),behavior:"smooth"});return}else if(n.completedSteps===_){setTimeout(()=>{g.scrollTo({top:0,behavior:"smooth"})},500);return}}}const p=g=>s(g.id,!g.complete);return a.$$set=g=>{"turbine"in g&&t(3,n=g.turbine)},a.$$.update=()=>{a.$$.dirty&9&&t(1,r=i[n.completedSteps])},[i,r,s,n,p]}class xo extends Xe{constructor(e){super(),Ze(this,e,jo,Uo,et,{turbine:3})}}function $o(a){let e,t,r,n,i,s,c,p,g,_,v,b,m;return{c(){e=f("div"),t=f("p"),r=I("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),n=y(),i=f("div"),s=f("button"),c=I("Annulla"),p=y(),g=f("button"),_=I("Conferma"),this.h()},l(w){e=h(w,"DIV",{class:!0});var k=d(e);t=h(k,"P",{class:!0});var O=d(t);r=T(O,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),O.forEach(u),n=N(k),i=h(k,"DIV",{class:!0});var E=d(i);s=h(E,"BUTTON",{class:!0});var D=d(s);c=T(D,"Annulla"),D.forEach(u),p=N(E),g=h(E,"BUTTON",{class:!0});var S=d(g);_=T(S,"Conferma"),S.forEach(u),E.forEach(u),k.forEach(u),this.h()},h(){l(t,"class","font-bold text-lg"),l(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),l(g,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),l(i,"class","flex justify-end mt-5 text-sm"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(w,k){H(w,e,k),o(e,t),o(t,r),o(e,n),o(e,i),o(i,s),o(s,c),o(i,p),o(i,g),o(g,_),b||(m=[M(s,"click",a[1]),M(g,"click",a[0]),M(e,"click",a[2]),M(e,"keydown",a[2])],b=!0)},p:ve,i(w){v||st(()=>{v=kt(e,dt,{duration:300}),v.start()})},o:ve,d(w){w&&u(e),b=!1,tt(m)}}}function Fo(a){const e=pt();return[()=>{e("confirm")},()=>{e("cancel")},i=>{i.stopPropagation()}]}class Wo extends Xe{constructor(e){super(),Ze(this,e,Fo,$o,et,{})}}function Ur(a){let e,t,r=a[0].turbineNumber+"",n;return{c(){e=f("span"),t=I("- "),n=I(r)},l(i){e=h(i,"SPAN",{});var s=d(e);t=T(s,"- "),n=T(s,r),s.forEach(u)},m(i,s){H(i,e,s),o(e,t),o(e,n)},p(i,s){s&1&&r!==(r=i[0].turbineNumber+"")&&ae(n,r)},d(i){i&&u(e)}}}function jr(a){let e,t,r,n,i;return t=new Wo({}),t.$on("confirm",a[4]),t.$on("cancel",a[7]),{c(){e=f("div"),Ye(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);Ge(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,c){H(s,e,c),Je(t,e,null),r=!0,n||(i=[M(e,"click",a[8]),M(e,"keydown",a[9])],n=!0)},p:ve,i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ke(t.$$.fragment,s),r=!1},d(s){s&&u(e),Qe(t),n=!1,tt(i)}}}function xr(a){let e,t,r,n=a[0].permittingDate+"",i;return{c(){e=f("p"),t=I("Valdità permitting: "),r=f("span"),i=I(n),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);t=T(c,"Valdità permitting: "),r=h(c,"SPAN",{});var p=d(r);i=T(p,n),p.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(s,c){H(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&n!==(n=s[0].permittingDate+"")&&ae(i,n)},d(s){s&&u(e)}}}function $r(a){let e,t,r,n=a[0].priorNotification+"",i;return{c(){e=f("p"),t=I("Valdità notifica: "),r=f("span"),i=I(n),this.h()},l(s){e=h(s,"P",{class:!0});var c=d(e);t=T(c,"Valdità notifica: "),r=h(c,"SPAN",{});var p=d(r);i=T(p,n),p.forEach(u),c.forEach(u),this.h()},h(){l(e,"class","font-mono text-white text-lg")},m(s,c){H(s,e,c),o(e,t),o(e,r),o(r,i)},p(s,c){c&1&&n!==(n=s[0].priorNotification+"")&&ae(i,n)},d(s){s&&u(e)}}}function Ho(a){let e,t,r,n=a[0].turbineName+"",i,s,c,p,g,_,v,b,m,w,k,O,E,D,S,F,$,R,J,le,q,C,L,B,re,De,G,se,Le,V,ee=a[0].creationDate+"",Me,ge,ie,Oe,We,te=a[0].turbineState+"",ce,be,xe,Pe,Se,me,Ae,fe,he,Be,Ee,we,Q,ue,z=a[0].turbineNumber&&Ur(a),A=a[1]&&jr(a),K=a[0].permittingDate!==void 0&&xr(a),W=a[0].priorNotification!==void 0&&$r(a);return me=new Co({props:{turbine:a[0]}}),fe=new Po({props:{turbine:a[0]}}),Be=new xo({props:{turbine:a[0]}}),{c(){e=f("div"),t=f("div"),r=f("h1"),i=I(n),s=y(),z&&z.c(),c=y(),p=f("div"),g=f("div"),_=f("div"),v=y(),A&&A.c(),b=y(),m=f("div"),w=f("button"),k=j("svg"),O=j("polyline"),E=j("path"),D=j("line"),S=j("line"),F=y(),$=f("button"),R=j("svg"),J=j("path"),le=y(),q=f("button"),C=j("svg"),L=j("line"),B=j("line"),re=y(),De=f("div"),G=f("div"),se=f("p"),Le=I("Creazione: "),V=f("span"),Me=I(ee),ge=y(),ie=f("p"),Oe=I("Stato turbina: "),We=f("span"),ce=I(te),be=y(),K&&K.c(),xe=y(),W&&W.c(),Pe=y(),Se=f("div"),Ye(me.$$.fragment),Ae=y(),Ye(fe.$$.fragment),he=y(),Ye(Be.$$.fragment),this.h()},l(P){e=h(P,"DIV",{class:!0});var X=d(e);t=h(X,"DIV",{class:!0});var _e=d(t);r=h(_e,"H1",{class:!0});var Ue=d(r);i=T(Ue,n),s=N(Ue),z&&z.l(Ue),Ue.forEach(u),c=N(_e),p=h(_e,"DIV",{class:!0});var $e=d(p);g=h($e,"DIV",{class:!0});var Ie=d(g);_=h(Ie,"DIV",{class:!0}),d(_).forEach(u),v=N(Ie),A&&A.l(Ie),b=N(Ie),m=h(Ie,"DIV",{class:!0});var oe=d(m);w=h(oe,"BUTTON",{class:!0});var lt=d(w);k=x(lt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ve=d(k);O=x(Ve,"polyline",{points:!0}),d(O).forEach(u),E=x(Ve,"path",{d:!0}),d(E).forEach(u),D=x(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(u),S=x(Ve,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(S).forEach(u),Ve.forEach(u),lt.forEach(u),F=N(oe),$=h(oe,"BUTTON",{class:!0});var Te=d($);R=x(Te,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var U=d(R);J=x(U,"path",{d:!0}),d(J).forEach(u),U.forEach(u),Te.forEach(u),le=N(oe),q=h(oe,"BUTTON",{class:!0});var pe=d(q);C=x(pe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ye=d(C);L=x(ye,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(L).forEach(u),B=x(ye,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(B).forEach(u),ye.forEach(u),pe.forEach(u),oe.forEach(u),Ie.forEach(u),$e.forEach(u),_e.forEach(u),re=N(X),De=h(X,"DIV",{class:!0});var Z=d(De);G=h(Z,"DIV",{class:!0});var Ce=d(G);se=h(Ce,"P",{class:!0});var je=d(se);Le=T(je,"Creazione: "),V=h(je,"SPAN",{});var Re=d(V);Me=T(Re,ee),Re.forEach(u),je.forEach(u),ge=N(Ce),ie=h(Ce,"P",{class:!0});var qe=d(ie);Oe=T(qe,"Stato turbina: "),We=h(qe,"SPAN",{});var ft=d(We);ce=T(ft,te),ft.forEach(u),qe.forEach(u),be=N(Ce),K&&K.l(Ce),xe=N(Ce),W&&W.l(Ce),Pe=N(Ce),Se=h(Ce,"DIV",{class:!0});var Ke=d(Se);Ge(me.$$.fragment,Ke),Ae=N(Ke),Ge(fe.$$.fragment,Ke),Ke.forEach(u),Ce.forEach(u),he=N(Z),Ge(Be.$$.fragment,Z),Z.forEach(u),X.forEach(u),this.h()},h(){l(r,"class","font-mono font-bold text-2xl md:text-4xl"),l(_,"class","col-span-3"),l(O,"points","3 6 5 6 21 6"),l(E,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),l(D,"x1","10"),l(D,"y1","11"),l(D,"x2","10"),l(D,"y2","17"),l(S,"x1","14"),l(S,"y1","11"),l(S,"x2","14"),l(S,"y2","17"),l(k,"xmlns","http://www.w3.org/2000/svg"),l(k,"width","20"),l(k,"height","20"),l(k,"viewBox","0 0 24 24"),l(k,"fill","none"),l(k,"stroke","currentColor"),l(k,"stroke-width","2"),l(k,"stroke-linecap","round"),l(k,"stroke-linejoin","round"),l(k,"class","feather feather-trash-2"),l(w,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(J,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),l(R,"xmlns","http://www.w3.org/2000/svg"),l(R,"width","20"),l(R,"height","20"),l(R,"viewBox","0 0 24 24"),l(R,"fill","none"),l(R,"stroke","currentColor"),l(R,"stroke-width","2"),l(R,"stroke-linecap","round"),l(R,"stroke-linejoin","round"),l(R,"class","feather feather-edit-2"),l($,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),l(L,"x1","18"),l(L,"y1","6"),l(L,"x2","6"),l(L,"y2","18"),l(B,"x1","6"),l(B,"y1","6"),l(B,"x2","18"),l(B,"y2","18"),l(C,"xmlns","http://www.w3.org/2000/svg"),l(C,"width","24"),l(C,"height","24"),l(C,"viewBox","0 0 24 24"),l(C,"fill","none"),l(C,"stroke","currentColor"),l(C,"stroke-width","2"),l(C,"stroke-linecap","round"),l(C,"stroke-linejoin","round"),l(C,"class","feather feather-x"),l(q,"class","text-red-500 hover:scale-110 hover:shadow-sm"),l(m,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),l(g,"class","grid grid-cols-6"),l(p,"class","flex flex-row justify-end"),l(t,"class","w-full h-20 grid grid-cols-2 items-start"),l(se,"class","font-mono text-white text-lg"),l(ie,"class","font-mono text-white text-lg"),l(Se,"class","w-full mt-5"),l(G,"class","col-span-1"),l(De,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start gap-0 md:gap-4"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 md:min-w-min md:max-w-4xl z-50 h-[32rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(P,X){H(P,e,X),o(e,t),o(t,r),o(r,i),o(r,s),z&&z.m(r,null),o(t,c),o(t,p),o(p,g),o(g,_),o(g,v),A&&A.m(g,null),o(g,b),o(g,m),o(m,w),o(w,k),o(k,O),o(k,E),o(k,D),o(k,S),o(m,F),o(m,$),o($,R),o(R,J),o(m,le),o(m,q),o(q,C),o(C,L),o(C,B),o(e,re),o(e,De),o(De,G),o(G,se),o(se,Le),o(se,V),o(V,Me),o(G,ge),o(G,ie),o(ie,Oe),o(ie,We),o(We,ce),o(G,be),K&&K.m(G,null),o(G,xe),W&&W.m(G,null),o(G,Pe),o(G,Se),Je(me,Se,null),o(Se,Ae),Je(fe,Se,null),o(De,he),Je(Be,De,null),we=!0,Q||(ue=[M(w,"click",a[10]),M($,"click",a[3]),M(q,"click",a[2]),M(e,"click",nt(a[5])),M(e,"keydown",nt(a[6]))],Q=!0)},p(P,[X]){(!we||X&1)&&n!==(n=P[0].turbineName+"")&&ae(i,n),P[0].turbineNumber?z?z.p(P,X):(z=Ur(P),z.c(),z.m(r,null)):z&&(z.d(1),z=null),P[1]?A?(A.p(P,X),X&2&&ne(A,1)):(A=jr(P),A.c(),ne(A,1),A.m(g,b)):A&&(Vt(),ke(A,1,1,()=>{A=null}),Mt()),(!we||X&1)&&ee!==(ee=P[0].creationDate+"")&&ae(Me,ee),(!we||X&1)&&te!==(te=P[0].turbineState+"")&&ae(ce,te),P[0].permittingDate!==void 0?K?K.p(P,X):(K=xr(P),K.c(),K.m(G,xe)):K&&(K.d(1),K=null),P[0].priorNotification!==void 0?W?W.p(P,X):(W=$r(P),W.c(),W.m(G,Pe)):W&&(W.d(1),W=null);const _e={};X&1&&(_e.turbine=P[0]),me.$set(_e);const Ue={};X&1&&(Ue.turbine=P[0]),fe.$set(Ue);const $e={};X&1&&($e.turbine=P[0]),Be.$set($e)},i(P){we||(ne(A),ne(me.$$.fragment,P),ne(fe.$$.fragment,P),ne(Be.$$.fragment,P),Ee||st(()=>{Ee=kt(e,dt,{duration:150}),Ee.start()}),we=!0)},o(P){ke(A),ke(me.$$.fragment,P),ke(fe.$$.fragment,P),ke(Be.$$.fragment,P),we=!1},d(P){P&&u(e),z&&z.d(),A&&A.d(),K&&K.d(),W&&W.d(),Qe(me),Qe(fe),Qe(Be),Q=!1,tt(ue)}}}function Ro(a,e,t){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const n=pt(),i=()=>{n("closeDetails")},s=()=>{n("editMode",r.id)};let c=!1;const p=()=>{t(1,c=!1),No(r.id).then(()=>{n("deleted")})};function g(k){wt.call(this,a,k)}function _(k){wt.call(this,a,k)}const v=()=>{t(1,c=!1)},b=()=>{t(1,c=!1)},m=()=>{t(1,c=!1)},w=()=>{t(1,c=!0)};return a.$$set=k=>{"turbine"in k&&t(0,r=k.turbine)},[r,c,i,s,p,g,_,v,b,m,w]}class Ko extends Xe{constructor(e){super(),Ze(this,e,Ro,Ho,et,{turbine:0})}}const qo={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale",23:"Sostituzione Pala",24:"Sostituzione Pitch Gear"};function Fr(a,e,t){const r=a.slice();return r[7]=e[t],r[8]=e,r[9]=t,r}function Wr(a,e){let t,r,n,i,s,c=e[7].name+"",p,g,_,v;function b(...m){return e[5](e[7],e[8],e[9],...m)}return{key:a,first:null,c(){t=f("div"),r=f("input"),i=y(),s=f("p"),p=I(c),g=y(),this.h()},l(m){t=h(m,"DIV",{class:!0});var w=d(t);r=h(w,"INPUT",{class:!0,type:!0}),i=N(w),s=h(w,"P",{class:!0});var k=d(s);p=T(k,c),k.forEach(u),g=N(w),w.forEach(u),this.h()},h(){l(r,"class","checkbox"),r.checked=n=e[7].isSelected,l(r,"type","checkbox"),l(s,"class","font-mono"),l(t,"class","flex flex-row gap-4"),this.first=t},m(m,w){H(m,t,w),o(t,r),o(t,i),o(t,s),o(s,p),o(t,g),_||(v=M(r,"change",b),_=!0)},p(m,w){e=m,w&1&&n!==(n=e[7].isSelected)&&(r.checked=n),w&1&&c!==(c=e[7].name+"")&&ae(p,c)},d(m){m&&u(t),_=!1,v()}}}function Yo(a){let e,t,r=[],n=new Map,i,s,c,p,g,_,v,b,m,w,k=a[0];const O=E=>E[7].name;for(let E=0;E<k.length;E+=1){let D=Fr(a,k,E),S=O(D);n.set(S,r[E]=Wr(S,D))}return{c(){e=f("div"),t=f("div");for(let E=0;E<r.length;E+=1)r[E].c();i=y(),s=f("div"),c=f("button"),p=I("Conferma"),g=y(),_=f("button"),v=I("Chiudi"),this.h()},l(E){e=h(E,"DIV",{class:!0});var D=d(e);t=h(D,"DIV",{class:!0});var S=d(t);for(let J=0;J<r.length;J+=1)r[J].l(S);S.forEach(u),i=N(D),s=h(D,"DIV",{class:!0});var F=d(s);c=h(F,"BUTTON",{class:!0});var $=d(c);p=T($,"Conferma"),$.forEach(u),g=N(F),_=h(F,"BUTTON",{class:!0});var R=d(_);v=T(R,"Chiudi"),R.forEach(u),F.forEach(u),D.forEach(u),this.h()},h(){l(t,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),l(c,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),l(_,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),l(s,"class","flex flex-row mt-5 gap-2 justify-center"),l(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(E,D){H(E,e,D),o(e,t);for(let S=0;S<r.length;S+=1)r[S].m(t,null);o(e,i),o(e,s),o(s,c),o(c,p),o(s,g),o(s,_),o(_,v),m||(w=[M(c,"click",nt(a[1])),M(_,"click",nt(a[2])),M(e,"click",nt(a[3])),M(e,"keydown",nt(a[4]))],m=!0)},p(E,[D]){D&1&&(k=E[0],r=Ql(r,D,O,1,E,k,n,t,Qr,Wr,null,Fr))},i(E){b||st(()=>{b=kt(e,dt,{duration:300}),b.start()})},o:ve,d(E){E&&u(e);for(let D=0;D<r.length;D+=1)r[D].d();m=!1,tt(w)}}}function Go(a,e,t){let{operations:r=[]}=e;const n=pt(),i=()=>{n("confirm",r)},s=()=>{n("cancel")};function c(_){wt.call(this,a,_)}function p(_){wt.call(this,a,_)}const g=(_,v,b,m)=>{t(0,v[b].isSelected=m.target.checked,r)};return a.$$set=_=>{"operations"in _&&t(0,r=_.operations)},[r,i,s,c,p,g]}class Jo extends Xe{constructor(e){super(),Ze(this,e,Go,Yo,et,{operations:0})}}function Qo(a){let e,t,r,n,i,s,c,p,g,_,v,b,m,w,k,O,E,D,S,F,$,R;return{c(){e=f("div"),t=f("div"),r=f("button"),n=j("svg"),i=j("path"),s=j("line"),c=j("polyline"),g=I("Kilowatt"),v=y(),b=f("button"),m=j("svg"),w=j("path"),k=j("line"),O=j("polyline"),D=I("Megawatt"),this.h()},l(J){e=h(J,"DIV",{class:!0});var le=d(e);t=h(le,"DIV",{class:!0});var q=d(t);r=h(q,"BUTTON",{class:!0,type:!0});var C=d(r);n=x(C,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var L=d(n);i=x(L,"path",{d:!0}),d(i).forEach(u),s=x(L,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),c=x(L,"polyline",{points:!0}),d(c).forEach(u),L.forEach(u),g=T(C,"Kilowatt"),C.forEach(u),v=N(q),b=h(q,"BUTTON",{class:!0,type:!0});var B=d(b);m=x(B,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var re=d(m);w=x(re,"path",{d:!0}),d(w).forEach(u),k=x(re,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(k).forEach(u),O=x(re,"polyline",{points:!0}),d(O).forEach(u),re.forEach(u),D=T(B,"Megawatt"),B.forEach(u),q.forEach(u),le.forEach(u),this.h()},h(){l(i,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(s,"x1","23"),l(s,"y1","13"),l(s,"x2","23"),l(s,"y2","11"),l(c,"points","11 6 7 12 13 12 9 18"),l(n,"xmlns","http://www.w3.org/2000/svg"),l(n,"width","24"),l(n,"height","24"),l(n,"viewBox","0 0 24 24"),l(n,"fill","none"),l(n,"stroke","currentColor"),l(n,"stroke-width","2"),l(n,"stroke-linecap","round"),l(n,"stroke-linejoin","round"),l(n,"class",p=a[0]?"text-green-500":""),l(r,"class",_=He(a[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(w,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),l(k,"x1","23"),l(k,"y1","13"),l(k,"x2","23"),l(k,"y2","11"),l(O,"points","11 6 7 12 13 12 9 18"),l(m,"xmlns","http://www.w3.org/2000/svg"),l(m,"width","24"),l(m,"height","24"),l(m,"viewBox","0 0 24 24"),l(m,"fill","none"),l(m,"stroke","currentColor"),l(m,"stroke-width","2"),l(m,"stroke-linecap","round"),l(m,"stroke-linejoin","round"),l(m,"class",E=a[0]?"":"text-blue-500"),l(b,"class",S=He(a[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4"),l(b,"type","button"),l(t,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(J,le){H(J,e,le),o(e,t),o(t,r),o(r,n),o(n,i),o(n,s),o(n,c),o(r,g),o(t,v),o(t,b),o(b,m),o(m,w),o(m,k),o(m,O),o(b,D),$||(R=[M(r,"click",a[2]),M(b,"click",a[3])],$=!0)},p(J,[le]){le&1&&p!==(p=J[0]?"text-green-500":"")&&l(n,"class",p),le&1&&_!==(_=He(J[0]?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",_),le&1&&E!==(E=J[0]?"":"text-blue-500")&&l(m,"class",E),le&1&&S!==(S=He(J[0]?"button":"button ring-2 ring-blue-500")+" svelte-brr1w4")&&l(b,"class",S)},i(J){F||st(()=>{F=kt(e,Xr,{duration:300}),F.start()})},o:ve,d(J){J&&u(e),$=!1,tt(R)}}}function Xo(a,e,t){const r=pt();let n=!0;const i=()=>{r("change",n?"KILOWATT":"MEGAWATT")};return[n,i,()=>{t(0,n=!0),i()},()=>{t(0,n=!1),i()}]}class Zo extends Xe{constructor(e){super(),Ze(this,e,Xo,Qo,et,{})}}function en(a){let e,t,r,n,i,s,c,p,g,_,v,b,m,w,k,O;return{c(){e=f("div"),t=f("div"),r=f("button"),n=I("In Marcia"),s=y(),c=f("button"),p=I("Limitata"),_=y(),v=f("button"),b=I("Ferma"),this.h()},l(E){e=h(E,"DIV",{class:!0});var D=d(e);t=h(D,"DIV",{class:!0});var S=d(t);r=h(S,"BUTTON",{class:!0,type:!0});var F=d(r);n=T(F,"In Marcia"),F.forEach(u),s=N(S),c=h(S,"BUTTON",{class:!0,type:!0});var $=d(c);p=T($,"Limitata"),$.forEach(u),_=N(S),v=h(S,"BUTTON",{class:!0,type:!0});var R=d(v);b=T(R,"Ferma"),R.forEach(u),S.forEach(u),D.forEach(u),this.h()},h(){l(r,"class",i=He(a[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4"),l(r,"type","button"),l(c,"class",g=He(a[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4"),l(c,"type","button"),l(v,"class",m=He(a[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4"),l(v,"type","button"),l(t,"class","flex flex-row justify-center gap-3 md:gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),l(e,"class","p-4 h-full")},m(E,D){H(E,e,D),o(e,t),o(t,r),o(r,n),o(t,s),o(t,c),o(c,p),o(t,_),o(t,v),o(v,b),k||(O=[M(r,"click",a[2]),M(c,"click",a[3]),M(v,"click",a[4])],k=!0)},p(E,[D]){D&1&&i!==(i=He(E[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-brr1w4")&&l(r,"class",i),D&1&&g!==(g=He(E[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-brr1w4")&&l(c,"class",g),D&1&&m!==(m=He(E[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-brr1w4")&&l(v,"class",m)},i(E){w||st(()=>{w=kt(e,dt,{duration:300,delay:300}),w.start()})},o:ve,d(E){E&&u(e),k=!1,tt(O)}}}function tn(a,e,t){const r=pt();let n="In Marcia";const i=()=>{r("change",n)};return[n,i,()=>{t(0,n="In Marcia"),i()},()=>{t(0,n="Limitata"),i()},()=>{t(0,n="Ferma"),i()}]}class ln extends Xe{constructor(e){super(),Ze(this,e,tn,en,et,{})}}function Hr(a){let e,t,r,n,i;return t=new Jo({props:{operations:a[3]}}),t.$on("cancel",a[12]),t.$on("confirm",a[13]),{c(){e=f("div"),Ye(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);Ge(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){H(s,e,c),Je(t,e,null),r=!0,n||(i=[M(e,"click",nt(a[14])),M(e,"keydown",nt(a[15]))],n=!0)},p(s,c){const p={};c&8&&(p.operations=s[3]),t.$set(p)},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ke(t.$$.fragment,s),r=!1},d(s){s&&u(e),Qe(t),n=!1,tt(i)}}}function rn(a){let e,t,r,n,i,s,c,p,g,_,v,b,m,w,k,O,E,D,S,F,$,R,J,le,q,C,L,B,re,De,G,se,Le,V,ee,Me,ge,ie,Oe,We,te,ce,be,xe,Pe,Se,me,Ae,fe,he,Be,Ee,we,Q,ue,z,A,K,W,P,X,_e,Ue=a[1]?"modifica":"creazione",$e,Ie,oe,lt,Ve,Te,U,pe,ye,Z=a[0].turbineNumber+"",Ce,je,Re,qe,ft,Ke,it,gt=a[0].turbineName+"",Et,At,at,ht,Bt,zt,rt,Gt=a[0].description+"",ol,Ol,yt,Lt,Cl,Vl,Ut,Jt=(a[0].odlNumber||"N/A")+"",nl,Ml,Nt,jt,Pl,Al,xt,Qt=a[0].operation+"",al,Bl,Dt,$t,zl,Ll,Ft,Xt=a[0].power+"",sl,Ul,St,Wt,jl,xl,Ht,Zt=a[0].turbineState+"",il,$l,mt,_t,Fl,Wl,It,el,tl=a[1]?"Modifica":"Crea",cl,vt,Hl,ot,Tt,ul,Rl,Ot,dl,Kl,Ct,fl,Ne,ql,Xl,ze=a[2]&&Hr(a);return q=new Zo({}),q.$on("change",a[21]),re=new ln({}),re.$on("change",a[22]),{c(){e=f("div"),ze&&ze.c(),t=y(),r=f("form"),n=f("div"),i=f("div"),s=f("div"),c=f("input"),g=y(),_=f("input"),b=y(),m=f("input"),k=y(),O=f("input"),D=y(),S=f("div"),F=f("button"),$=f("input"),J=y(),le=f("div"),Ye(q.$$.fragment),C=y(),L=f("div"),B=f("div"),Ye(re.$$.fragment),De=y(),G=f("div"),se=f("label"),Le=I("Data Inizio EEMM"),V=y(),ee=f("input"),ge=y(),ie=f("div"),Oe=f("label"),We=I("Data Inizio OOCC"),te=y(),ce=f("input"),xe=y(),Pe=f("div"),Se=f("label"),me=I("Validità permitting"),Ae=y(),fe=f("input"),Be=y(),Ee=f("div"),we=f("label"),Q=I("Validità notifica"),ue=y(),z=f("input"),K=y(),W=f("div"),P=f("div"),X=f("h2"),_e=I("Riepilogo "),$e=I(Ue),Ie=y(),oe=f("div"),lt=y(),Ve=f("p"),Te=f("span"),U=I("Numero cantiere:"),pe=y(),ye=f("span"),Ce=I(Z),je=y(),Re=f("p"),qe=f("span"),ft=I("Aerogeneratore:"),Ke=y(),it=f("span"),Et=I(gt),At=y(),at=f("p"),ht=f("span"),Bt=I("Impianto eolico:"),zt=y(),rt=f("span"),ol=I(Gt),Ol=y(),yt=f("p"),Lt=f("span"),Cl=I("Numero ODL:"),Vl=y(),Ut=f("span"),nl=I(Jt),Ml=y(),Nt=f("p"),jt=f("span"),Pl=I("Operazioni:"),Al=y(),xt=f("span"),al=I(Qt),Bl=y(),Dt=f("p"),$t=f("span"),zl=I("Tipologia:"),Ll=y(),Ft=f("span"),sl=I(Xt),Ul=y(),St=f("p"),Wt=f("span"),jl=I("Stato:"),xl=y(),Ht=f("span"),il=I(Zt),$l=y(),mt=f("div"),_t=f("button"),Fl=I("Annulla"),Wl=y(),It=f("button"),el=f("p"),cl=I(tl),Hl=y(),ot=f("div"),Tt=f("input"),Rl=y(),Ot=f("input"),Kl=y(),Ct=f("input"),this.h()},l(Y){e=h(Y,"DIV",{class:!0});var de=d(e);ze&&ze.l(de),t=N(de),r=h(de,"FORM",{});var hl=d(r);n=h(hl,"DIV",{id:!0,class:!0});var Rt=d(n);i=h(Rt,"DIV",{class:!0});var Kt=d(i);s=h(Kt,"DIV",{class:!0});var bt=d(s);c=h(bt,"INPUT",{class:!0,type:!0,placeholder:!0}),g=N(bt),_=h(bt,"INPUT",{class:!0,type:!0,placeholder:!0}),b=N(bt),m=h(bt,"INPUT",{class:!0,type:!0,placeholder:!0}),k=N(bt),O=h(bt,"INPUT",{class:!0,type:!0,placeholder:!0}),bt.forEach(u),D=N(Kt),S=h(Kt,"DIV",{class:!0});var Zl=d(S);F=h(Zl,"BUTTON",{type:!0,class:!0});var er=d(F);$=h(er,"INPUT",{class:!0,placeholder:!0}),er.forEach(u),Zl.forEach(u),J=N(Kt),le=h(Kt,"DIV",{class:!0});var tr=d(le);Ge(q.$$.fragment,tr),tr.forEach(u),Kt.forEach(u),C=N(Rt),L=h(Rt,"DIV",{class:!0});var ct=d(L);B=h(ct,"DIV",{class:!0});var lr=d(B);Ge(re.$$.fragment,lr),lr.forEach(u),De=N(ct),G=h(ct,"DIV",{});var pl=d(G);se=h(pl,"LABEL",{for:!0,class:!0});var rr=d(se);Le=T(rr,"Data Inizio EEMM"),rr.forEach(u),V=N(pl),ee=h(pl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),pl.forEach(u),ge=N(ct),ie=h(ct,"DIV",{});var gl=d(ie);Oe=h(gl,"LABEL",{for:!0,class:!0});var or=d(Oe);We=T(or,"Data Inizio OOCC"),or.forEach(u),te=N(gl),ce=h(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(u),xe=N(ct),Pe=h(ct,"DIV",{});var ml=d(Pe);Se=h(ml,"LABEL",{for:!0,class:!0});var nr=d(Se);me=T(nr,"Validità permitting"),nr.forEach(u),Ae=N(ml),fe=h(ml,"INPUT",{class:!0,type:!0,placeholder:!0}),ml.forEach(u),Be=N(ct),Ee=h(ct,"DIV",{});var _l=d(Ee);we=h(_l,"LABEL",{for:!0,class:!0});var ar=d(we);Q=T(ar,"Validità notifica"),ar.forEach(u),ue=N(_l),z=h(_l,"INPUT",{class:!0,type:!0,placeholder:!0}),_l.forEach(u),ct.forEach(u),K=N(Rt),W=h(Rt,"DIV",{class:!0});var vl=d(W);P=h(vl,"DIV",{class:!0});var Fe=d(P);X=h(Fe,"H2",{class:!0});var Yl=d(X);_e=T(Yl,"Riepilogo "),$e=T(Yl,Ue),Yl.forEach(u),Ie=N(Fe),oe=h(Fe,"DIV",{class:!0}),d(oe).forEach(u),lt=N(Fe),Ve=h(Fe,"P",{});var bl=d(Ve);Te=h(bl,"SPAN",{class:!0});var sr=d(Te);U=T(sr,"Numero cantiere:"),sr.forEach(u),pe=N(bl),ye=h(bl,"SPAN",{class:!0});var ir=d(ye);Ce=T(ir,Z),ir.forEach(u),bl.forEach(u),je=N(Fe),Re=h(Fe,"P",{});var wl=d(Re);qe=h(wl,"SPAN",{class:!0});var cr=d(qe);ft=T(cr,"Aerogeneratore:"),cr.forEach(u),Ke=N(wl),it=h(wl,"SPAN",{class:!0});var ur=d(it);Et=T(ur,gt),ur.forEach(u),wl.forEach(u),At=N(Fe),at=h(Fe,"P",{});var kl=d(at);ht=h(kl,"SPAN",{class:!0});var dr=d(ht);Bt=T(dr,"Impianto eolico:"),dr.forEach(u),zt=N(kl),rt=h(kl,"SPAN",{class:!0});var fr=d(rt);ol=T(fr,Gt),fr.forEach(u),kl.forEach(u),Ol=N(Fe),yt=h(Fe,"P",{});var El=d(yt);Lt=h(El,"SPAN",{class:!0});var hr=d(Lt);Cl=T(hr,"Numero ODL:"),hr.forEach(u),Vl=N(El),Ut=h(El,"SPAN",{class:!0});var pr=d(Ut);nl=T(pr,Jt),pr.forEach(u),El.forEach(u),Ml=N(Fe),Nt=h(Fe,"P",{});var yl=d(Nt);jt=h(yl,"SPAN",{class:!0});var gr=d(jt);Pl=T(gr,"Operazioni:"),gr.forEach(u),Al=N(yl),xt=h(yl,"SPAN",{class:!0});var mr=d(xt);al=T(mr,Qt),mr.forEach(u),yl.forEach(u),Bl=N(Fe),Dt=h(Fe,"P",{});var Nl=d(Dt);$t=h(Nl,"SPAN",{class:!0});var _r=d($t);zl=T(_r,"Tipologia:"),_r.forEach(u),Ll=N(Nl),Ft=h(Nl,"SPAN",{class:!0});var vr=d(Ft);sl=T(vr,Xt),vr.forEach(u),Nl.forEach(u),Ul=N(Fe),St=h(Fe,"P",{});var Dl=d(St);Wt=h(Dl,"SPAN",{class:!0});var br=d(Wt);jl=T(br,"Stato:"),br.forEach(u),xl=N(Dl),Ht=h(Dl,"SPAN",{class:!0});var wr=d(Ht);il=T(wr,Zt),wr.forEach(u),Dl.forEach(u),Fe.forEach(u),$l=N(vl),mt=h(vl,"DIV",{class:!0});var Sl=d(mt);_t=h(Sl,"BUTTON",{type:!0,class:!0});var kr=d(_t);Fl=T(kr,"Annulla"),kr.forEach(u),Wl=N(Sl),It=h(Sl,"BUTTON",{class:!0});var Er=d(It);el=h(Er,"P",{});var yr=d(el);cl=T(yr,tl),yr.forEach(u),Er.forEach(u),Sl.forEach(u),vl.forEach(u),Rt.forEach(u),Hl=N(hl),ot=h(hl,"DIV",{class:!0});var qt=d(ot);Tt=h(qt,"INPUT",{type:!0,class:!0}),Rl=N(qt),Ot=h(qt,"INPUT",{type:!0,class:!0}),Kl=N(qt),Ct=h(qt,"INPUT",{type:!0,class:!0}),qt.forEach(u),hl.forEach(u),de.forEach(u),this.h()},h(){l(c,"class","input"),l(c,"type","text"),c.value=p=a[0].turbineName,l(c,"placeholder","Aerogeneratore*"),c.required=!0,c.disabled=a[1],l(_,"class","input"),l(_,"type","text"),_.value=v=a[0].turbineNumber,l(_,"placeholder","Numero cantiere"),l(m,"class","input"),l(m,"type","text"),m.value=w=a[0].description,l(m,"placeholder","Impianto Eolico*"),m.required=!0,l(O,"class","input"),l(O,"type","number"),O.value=E=a[0].odlNumber,l(O,"placeholder","Numero ODL"),l(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l($,"class","w-full"),$.value=R=a[0].operation.length>0?a[0].operation.join(", "):"",$.disabled=!0,l($,"placeholder","Operazioni*"),$.required=!0,l(F,"type","button"),l(F,"class","input hover:bg-gray-200 text-start transition ease-in-out"),l(S,"class","col-span-full mt-5"),l(le,"class","col-span-full mt-auto"),l(i,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(B,"class","col-span-full"),l(se,"for","dateEEMM"),l(se,"class","font-mono text-white"),l(ee,"id","dateEEMM"),l(ee,"class","input"),l(ee,"type","date"),ee.value=Me=a[0].startingDateEEMM!==void 0?a[0].startingDateEEMM:"",l(ee,"placeholder","Data inizio EEMM"),l(Oe,"for","dateEEMM"),l(Oe,"class","font-mono text-white"),l(ce,"class","input"),l(ce,"type","date"),ce.value=be=a[0].startingDateOOCC!==void 0?a[0].startingDateOOCC:"",l(ce,"placeholder","Data inizio OOCC"),l(Se,"for","dateEEMM"),l(Se,"class","font-mono text-white"),l(fe,"class","input"),l(fe,"type","date"),fe.value=he=a[0].permittingDate!==void 0?a[0].permittingDate:"",l(fe,"placeholder","Validità permitting"),l(we,"for","dateEEMM"),l(we,"class","font-mono text-white"),l(z,"class","input"),l(z,"type","date"),z.value=A=a[0].priorNotification!==void 0?a[0].priorNotification:"",l(z,"placeholder","Validità notifica"),l(L,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(X,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),l(oe,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),l(Te,"class","font-mono font-bold text-gray-300"),l(ye,"class","font-mono text-gray-300"),l(qe,"class","font-mono font-bold text-gray-300"),l(it,"class","font-mono text-gray-300"),l(ht,"class","font-mono font-bold text-gray-300"),l(rt,"class","font-mono text-gray-300"),l(Lt,"class","font-mono font-bold text-gray-300"),l(Ut,"class","font-mono text-gray-300"),l(jt,"class","font-mono font-bold text-gray-300"),l(xt,"class","font-mono text-gray-300"),l($t,"class","font-mono font-bold text-gray-300"),l(Ft,"class","font-mono text-gray-300"),l(Wt,"class","font-mono font-bold text-gray-300"),l(Ht,"class","font-mono text-gray-300"),l(P,"class","w-[15rem] md:w-[29rem] h-3/4"),l(_t,"type","button"),l(_t,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),l(It,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),l(mt,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),l(W,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),l(n,"id","scrollable"),l(n,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),l(Tt,"type","checkbox"),l(Tt,"class",ul=He(a[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(Ot,"type","checkbox"),l(Ot,"class",dl=He(a[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(Ct,"type","checkbox"),l(Ct,"class",fl=He(a[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"),l(ot,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),l(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(Y,de){H(Y,e,de),ze&&ze.m(e,null),o(e,t),o(e,r),o(r,n),o(n,i),o(i,s),o(s,c),o(s,g),o(s,_),o(s,b),o(s,m),o(s,k),o(s,O),o(i,D),o(i,S),o(S,F),o(F,$),o(i,J),o(i,le),Je(q,le,null),o(n,C),o(n,L),o(L,B),Je(re,B,null),o(L,De),o(L,G),o(G,se),o(se,Le),o(G,V),o(G,ee),o(L,ge),o(L,ie),o(ie,Oe),o(Oe,We),o(ie,te),o(ie,ce),o(L,xe),o(L,Pe),o(Pe,Se),o(Se,me),o(Pe,Ae),o(Pe,fe),o(L,Be),o(L,Ee),o(Ee,we),o(we,Q),o(Ee,ue),o(Ee,z),o(n,K),o(n,W),o(W,P),o(P,X),o(X,_e),o(X,$e),o(P,Ie),o(P,oe),o(P,lt),o(P,Ve),o(Ve,Te),o(Te,U),o(Ve,pe),o(Ve,ye),o(ye,Ce),o(P,je),o(P,Re),o(Re,qe),o(qe,ft),o(Re,Ke),o(Re,it),o(it,Et),o(P,At),o(P,at),o(at,ht),o(ht,Bt),o(at,zt),o(at,rt),o(rt,ol),o(P,Ol),o(P,yt),o(yt,Lt),o(Lt,Cl),o(yt,Vl),o(yt,Ut),o(Ut,nl),o(P,Ml),o(P,Nt),o(Nt,jt),o(jt,Pl),o(Nt,Al),o(Nt,xt),o(xt,al),o(P,Bl),o(P,Dt),o(Dt,$t),o($t,zl),o(Dt,Ll),o(Dt,Ft),o(Ft,sl),o(P,Ul),o(P,St),o(St,Wt),o(Wt,jl),o(St,xl),o(St,Ht),o(Ht,il),o(W,$l),o(W,mt),o(mt,_t),o(_t,Fl),o(mt,Wl),o(mt,It),o(It,el),o(el,cl),o(r,Hl),o(r,ot),o(ot,Tt),o(ot,Rl),o(ot,Ot),o(ot,Kl),o(ot,Ct),Ne=!0,ql||(Xl=[M(c,"change",a[16]),M(_,"change",a[17]),M(m,"change",a[18]),M(O,"change",a[19]),M(F,"click",a[20]),M(ee,"change",a[23]),M(ce,"change",a[24]),M(fe,"change",a[25]),M(z,"change",a[26]),M(_t,"click",a[6]),M(It,"click",a[7]),M(n,"click",nt(a[10])),M(n,"keydown",nt(a[11])),M(Tt,"change",a[27]),M(Ot,"change",a[28]),M(Ct,"change",a[29]),M(ot,"click",nt(a[8])),M(ot,"keydown",nt(a[9])),M(e,"click",a[6]),M(e,"keydown",a[6])],ql=!0)},p(Y,[de]){Y[2]?ze?(ze.p(Y,de),de&4&&ne(ze,1)):(ze=Hr(Y),ze.c(),ne(ze,1),ze.m(e,t)):ze&&(Vt(),ke(ze,1,1,()=>{ze=null}),Mt()),(!Ne||de&1&&p!==(p=Y[0].turbineName)&&c.value!==p)&&(c.value=p),(!Ne||de&2)&&(c.disabled=Y[1]),(!Ne||de&1&&v!==(v=Y[0].turbineNumber)&&_.value!==v)&&(_.value=v),(!Ne||de&1&&w!==(w=Y[0].description)&&m.value!==w)&&(m.value=w),(!Ne||de&1&&E!==(E=Y[0].odlNumber)&&O.value!==E)&&(O.value=E),(!Ne||de&1&&R!==(R=Y[0].operation.length>0?Y[0].operation.join(", "):"")&&$.value!==R)&&($.value=R),(!Ne||de&1&&Me!==(Me=Y[0].startingDateEEMM!==void 0?Y[0].startingDateEEMM:""))&&(ee.value=Me),(!Ne||de&1&&be!==(be=Y[0].startingDateOOCC!==void 0?Y[0].startingDateOOCC:""))&&(ce.value=be),(!Ne||de&1&&he!==(he=Y[0].permittingDate!==void 0?Y[0].permittingDate:""))&&(fe.value=he),(!Ne||de&1&&A!==(A=Y[0].priorNotification!==void 0?Y[0].priorNotification:""))&&(z.value=A),(!Ne||de&2)&&Ue!==(Ue=Y[1]?"modifica":"creazione")&&ae($e,Ue),(!Ne||de&1)&&Z!==(Z=Y[0].turbineNumber+"")&&ae(Ce,Z),(!Ne||de&1)&&gt!==(gt=Y[0].turbineName+"")&&ae(Et,gt),(!Ne||de&1)&&Gt!==(Gt=Y[0].description+"")&&ae(ol,Gt),(!Ne||de&1)&&Jt!==(Jt=(Y[0].odlNumber||"N/A")+"")&&ae(nl,Jt),(!Ne||de&1)&&Qt!==(Qt=Y[0].operation+"")&&ae(al,Qt),(!Ne||de&1)&&Xt!==(Xt=Y[0].power+"")&&ae(sl,Xt),(!Ne||de&1)&&Zt!==(Zt=Y[0].turbineState+"")&&ae(il,Zt),(!Ne||de&2)&&tl!==(tl=Y[1]?"Modifica":"Crea")&&ae(cl,tl),(!Ne||de&16&&ul!==(ul=He(Y[4]===0?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Tt,"class",ul),(!Ne||de&16&&dl!==(dl=He(Y[4]===1?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Ot,"class",dl),(!Ne||de&16&&fl!==(fl=He(Y[4]===2?"dot bg-blue-400":"dot bg-gray-300")+" svelte-1kr4p0s"))&&l(Ct,"class",fl)},i(Y){Ne||(ne(ze),ne(q.$$.fragment,Y),ne(re.$$.fragment,Y),st(()=>{vt||(vt=Tl(n,dt,{duration:150},!0)),vt.run(1)}),Ne=!0)},o(Y){ke(ze),ke(q.$$.fragment,Y),ke(re.$$.fragment,Y),vt||(vt=Tl(n,dt,{duration:150},!1)),vt.run(0),Ne=!1},d(Y){Y&&u(e),ze&&ze.d(),Qe(q),Qe(re),Y&&vt&&vt.end(),ql=!1,tt(Xl)}}}function on(a,e,t){let{isEditMode:r=!1}=e,{windfarm:n={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const i=pt();let s=!1,c=[];Jl(()=>{t(3,c=Object.values(qo).map(V=>({name:V,isSelected:!1})))});let p=0;function g(){const V=document.getElementById("scrollable");let ee=0;V!=null&&(p===1?window.innerWidth<768?ee=V.scrollWidth/3:ee=V.scrollWidth/2:p===2&&(ee=V.scrollWidth),V.scrollTo({left:ee,behavior:"smooth"}))}const _=()=>{i("close")},v=()=>{r?So(n).then(V=>{V!==void 0&&V.status===200&&i("updated")}):Do(n).then(V=>{V!==void 0&&V.status===200&&i("created")})};function b(V){wt.call(this,a,V)}function m(V){wt.call(this,a,V)}function w(V){wt.call(this,a,V)}function k(V){wt.call(this,a,V)}const O=()=>{t(2,s=!1)},E=V=>{t(3,c=V.detail),t(0,n.operation=c.filter(ee=>ee.isSelected).map(ee=>ee.name),n),t(2,s=!1)},D=()=>{t(2,s=!1)},S=()=>{t(2,s=!1)},F=V=>{t(0,n.turbineName=V.target.value,n)},$=V=>{t(0,n.turbineNumber=V.target.value,n)},R=V=>{t(0,n.description=V.target.value,n)},J=V=>{t(0,n.odlNumber=V.target.value,n)},le=()=>{t(2,s=!s)},q=V=>t(0,n.power=V.detail,n),C=V=>t(0,n.turbineState=V.detail,n),L=V=>{t(0,n.startingDateEEMM=V.target.value,n)},B=V=>{t(0,n.startingDateOOCC=V.target.value,n)},re=V=>{t(0,n.permittingDate=V.target.value,n)},De=V=>{t(0,n.priorNotification=V.target.value,n)},G=()=>{t(4,p=0),g()},se=()=>{t(4,p=1),g()},Le=()=>{t(4,p=2),g()};return a.$$set=V=>{"isEditMode"in V&&t(1,r=V.isEditMode),"windfarm"in V&&t(0,n=V.windfarm)},[n,r,s,c,p,g,_,v,b,m,w,k,O,E,D,S,F,$,R,J,le,q,C,L,B,re,De,G,se,Le]}class eo extends Xe{constructor(e){super(),Ze(this,e,on,rn,et,{isEditMode:1,windfarm:0})}}function nn(a){let e,t;return e=new eo({props:{windfarm:a[0],isEditMode:!0}}),e.$on("close",a[1]),e.$on("updated",a[2]),{c(){Ye(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){Je(e,r,n),t=!0},p(r,[n]){const i={};n&1&&(i.windfarm=r[0]),e.$set(i)},i(r){t||(ne(e.$$.fragment,r),t=!0)},o(r){ke(e.$$.fragment,r),t=!1},d(r){Qe(e,r)}}}function an(a,e,t){let{turbine:r}=e;const n=pt(),i=()=>{n("close")},s=()=>{n("updated")};return a.$$set=c=>{"turbine"in c&&t(0,r=c.turbine)},[r,i,s]}class sn extends Xe{constructor(e){super(),Ze(this,e,an,nn,et,{turbine:0})}}function cn(a){let e,t;return e=new eo({props:{isEditMode:!1}}),e.$on("close",a[0]),e.$on("created",a[1]),{c(){Ye(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){Je(e,r,n),t=!0},p:ve,i(r){t||(ne(e.$$.fragment,r),t=!0)},o(r){ke(e.$$.fragment,r),t=!1},d(r){Qe(e,r)}}}function un(a){const e=pt();return[()=>{e("close")},()=>{e("created")}]}class dn extends Xe{constructor(e){super(),Ze(this,e,un,cn,et,{})}}function Rr(a,e,t){const r=a.slice();return r[5]=e[t],r}function fn(a){let e,t=[],r=new Map,n,i=a[4];const s=c=>c[5].id;for(let c=0;c<i.length;c+=1){let p=Rr(a,i,c),g=s(p);r.set(g,t[c]=Kr(g,p))}return{c(){e=f("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=h(c,"DIV",{class:!0});var p=d(e);for(let g=0;g<t.length;g+=1)t[g].l(p);p.forEach(u),this.h()},h(){l(e,"class","grid grid-cols-1 md:grid-cols-3 gap-4")},m(c,p){H(c,e,p);for(let g=0;g<t.length;g+=1)t[g].m(e,null);n=!0},p(c,p){p&1040&&(i=c[4],Vt(),t=Ql(t,p,s,1,c,i,r,e,oo,Kr,null,Rr),Mt())},i(c){if(!n){for(let p=0;p<i.length;p+=1)ne(t[p]);n=!0}},o(c){for(let p=0;p<t.length;p+=1)ke(t[p]);n=!1},d(c){c&&u(e);for(let p=0;p<t.length;p+=1)t[p].d()}}}function hn(a){let e,t,r,n,i;return{c(){e=f("div"),t=f("div"),r=y(),n=f("p"),i=I("Caricamento in corso..."),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);t=h(c,"DIV",{class:!0}),d(t).forEach(u),r=N(c),n=h(c,"P",{class:!0});var p=d(n);i=T(p,"Caricamento in corso..."),p.forEach(u),c.forEach(u),this.h()},h(){l(t,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-300 border"),l(n,"class","mt-4 text-xl font-bold font-mono"),l(e,"class","flex flex-col items-center justify-center h-full w-full mt-24")},m(s,c){H(s,e,c),o(e,t),o(e,r),o(e,n),o(n,i)},p:ve,i:ve,o:ve,d(s){s&&u(e)}}}function Kr(a,e){let t,r,n;return r=new yo({props:{turbine:e[5]}}),r.$on("showDetails",e[10]),{key:a,first:null,c(){t=ut(),Ye(r.$$.fragment),this.h()},l(i){t=ut(),Ge(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){H(i,t,s),Je(r,i,s),n=!0},p(i,s){e=i;const c={};s&16&&(c.turbine=e[5]),r.$set(c)},i(i){n||(ne(r.$$.fragment,i),n=!0)},o(i){ke(r.$$.fragment,i),n=!1},d(i){i&&u(t),Qe(r,i)}}}function qr(a){let e,t,r,n,i;return t=new Ko({props:{turbine:a[5]}}),t.$on("closeDetails",a[11]),t.$on("editMode",a[13]),t.$on("deleted",a[12]),{c(){e=f("div"),Ye(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);Ge(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){H(s,e,c),Je(t,e,null),r=!0,n||(i=[M(e,"click",a[11]),M(e,"keydown",a[11])],n=!0)},p(s,c){const p={};c&32&&(p.turbine=s[5]),t.$set(p)},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ke(t.$$.fragment,s),r=!1},d(s){s&&u(e),Qe(t),n=!1,tt(i)}}}function Yr(a){let e,t,r,n,i;return t=new sn({props:{turbine:a[5]}}),t.$on("close",a[21]),t.$on("updated",a[16]),{c(){e=f("div"),Ye(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);Ge(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){H(s,e,c),Je(t,e,null),r=!0,n||(i=[M(e,"click",a[11]),M(e,"keydown",a[11])],n=!0)},p(s,c){const p={};c&32&&(p.turbine=s[5]),t.$set(p)},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ke(t.$$.fragment,s),r=!1},d(s){s&&u(e),Qe(t),n=!1,tt(i)}}}function Gr(a){let e,t,r,n,i;return t=new dn({}),t.$on("close",a[22]),t.$on("created",a[15]),{c(){e=f("div"),Ye(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var c=d(e);Ge(t.$$.fragment,c),c.forEach(u),this.h()},h(){l(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,c){H(s,e,c),Je(t,e,null),r=!0,n||(i=[M(e,"click",a[11]),M(e,"keydown",a[11])],n=!0)},p:ve,i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ke(t.$$.fragment,s),r=!1},d(s){s&&u(e),Qe(t),n=!1,tt(i)}}}function pn(a){let e,t,r,n,i,s,c,p,g,_,v,b,m,w,k,O,E,D,S,F,$,R,J,le,q,C,L,B,re,De,G,se,Le,V,ee,Me,ge,ie,Oe,We,te,ce,be,xe,Pe,Se,me,Ae,fe,he;const Be=[hn,fn],Ee=[];function we(A,K){return A[0].length===0?0:1}ce=we(a),be=Ee[ce]=Be[ce](a);let Q=a[6]&&qr(a),ue=a[7]&&Yr(a),z=a[8]&&Gr(a);return{c(){e=f("div"),t=f("section"),r=f("div"),n=f("input"),i=y(),s=f("input"),c=y(),p=f("div"),g=f("select"),_=f("option"),v=I("Tutte"),b=f("option"),m=I("In corso"),w=f("option"),k=I("Cantieri chiusi"),O=y(),E=f("div"),D=j("svg"),S=j("path"),F=y(),$=f("div"),R=f("p"),J=I(a[9]),le=I(" risultati"),q=y(),C=f("div"),L=f("button"),B=j("svg"),re=j("path"),De=j("polyline"),G=j("line"),se=j("line"),Le=j("polyline"),ee=y(),Me=f("button"),ge=j("svg"),ie=j("line"),Oe=j("line"),We=y(),te=f("section"),be.c(),xe=y(),Q&&Q.c(),Pe=y(),ue&&ue.c(),Se=y(),z&&z.c(),this.h()},l(A){e=h(A,"DIV",{});var K=d(e);t=h(K,"SECTION",{class:!0});var W=d(t);r=h(W,"DIV",{class:!0});var P=d(r);n=h(P,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=N(P),s=h(P,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),c=N(P),p=h(P,"DIV",{class:!0});var X=d(p);g=h(X,"SELECT",{class:!0});var _e=d(g);_=h(_e,"OPTION",{});var Ue=d(_);v=T(Ue,"Tutte"),Ue.forEach(u),b=h(_e,"OPTION",{});var $e=d(b);m=T($e,"In corso"),$e.forEach(u),w=h(_e,"OPTION",{});var Ie=d(w);k=T(Ie,"Cantieri chiusi"),Ie.forEach(u),_e.forEach(u),O=N(X),E=h(X,"DIV",{class:!0});var oe=d(E);D=x(oe,"svg",{class:!0,xmlns:!0,viewBox:!0});var lt=d(D);S=x(lt,"path",{d:!0}),d(S).forEach(u),lt.forEach(u),oe.forEach(u),X.forEach(u),P.forEach(u),W.forEach(u),F=N(K),$=h(K,"DIV",{class:!0});var Ve=d($);R=h(Ve,"P",{class:!0});var Te=d(R);J=T(Te,a[9]),le=T(Te," risultati"),Te.forEach(u),q=N(Ve),C=h(Ve,"DIV",{class:!0});var U=d(C);L=h(U,"BUTTON",{class:!0});var pe=d(L);B=x(pe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ye=d(B);re=x(ye,"path",{d:!0}),d(re).forEach(u),De=x(ye,"polyline",{points:!0}),d(De).forEach(u),G=x(ye,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(G).forEach(u),se=x(ye,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(se).forEach(u),Le=x(ye,"polyline",{points:!0}),d(Le).forEach(u),ye.forEach(u),pe.forEach(u),ee=N(U),Me=h(U,"BUTTON",{class:!0});var Z=d(Me);ge=x(Z,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ce=d(ge);ie=x(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(ie).forEach(u),Oe=x(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(Oe).forEach(u),Ce.forEach(u),Z.forEach(u),U.forEach(u),Ve.forEach(u),We=N(K),te=h(K,"SECTION",{class:!0});var je=d(te);be.l(je),xe=N(je),Q&&Q.l(je),Pe=N(je),ue&&ue.l(je),Se=N(je),z&&z.l(je),je.forEach(u),K.forEach(u),this.h()},h(){l(n,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(n,"type","text"),l(n,"id","turbineName"),l(n,"name","turbineName"),l(n,"placeholder","Cerca"),l(s,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-blue-400 focus:shadow-outline"),l(s,"type","text"),l(s,"id","turbineName"),l(s,"name","turbineName"),l(s,"placeholder","Anno"),_.__value="ALL",_.value=_.__value,b.__value="ONLY_INCOMPLETE",b.value=b.__value,w.__value="ONLY_COMPLETED",w.value=w.__value,l(g,"class","w-full min-w-1/2 min-w-[12rem] appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none hover:ring-2 ring-blue-400 focus:shadow-outline hover:cursor-pointer"),a[3]===void 0&&st(()=>a[20].call(g)),l(S,"d","M7.293 7.293a1 1 0 0 1 1.414 0L12 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z"),l(D,"class","w-6 h-6 text-white fill-current"),l(D,"xmlns","http://www.w3.org/2000/svg"),l(D,"viewBox","0 0 20 20"),l(E,"class","absolute top-2 right-2 font-bold"),l(p,"class","relative"),l(r,"class","flex flex-col md:flex-row gap-3 md:items-center font-mono"),l(t,"class","mt-5 md:ml-5"),l(R,"class","font-mono text-lg"),l(re,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),l(De,"points","14 2 14 8 20 8"),l(G,"x1","16"),l(G,"y1","13"),l(G,"x2","8"),l(G,"y2","13"),l(se,"x1","16"),l(se,"y1","17"),l(se,"x2","8"),l(se,"y2","17"),l(Le,"points","10 9 9 9 8 9"),l(B,"xmlns","http://www.w3.org/2000/svg"),l(B,"width","22"),l(B,"height","22"),l(B,"viewBox","0 0 24 24"),l(B,"fill","none"),l(B,"stroke","currentColor"),l(B,"stroke-width","2"),l(B,"stroke-linecap","round"),l(B,"stroke-linejoin","round"),l(B,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),l(L,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group disabled:opacity-50 disabled:cursor-not-allowed"),L.disabled=V=a[0].length===0,l(ie,"x1","12"),l(ie,"y1","5"),l(ie,"x2","12"),l(ie,"y2","19"),l(Oe,"x1","5"),l(Oe,"y1","12"),l(Oe,"x2","19"),l(Oe,"y2","12"),l(ge,"xmlns","http://www.w3.org/2000/svg"),l(ge,"width","22"),l(ge,"height","22"),l(ge,"viewBox","0 0 24 24"),l(ge,"fill","none"),l(ge,"stroke","currentColor"),l(ge,"stroke-width","2"),l(ge,"stroke-linecap","round"),l(ge,"stroke-linejoin","round"),l(ge,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),l(Me,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),l(C,"class","justify-end flex flex-row gap-4"),l($,"class","flex flex-row justify-between items-center mt-6 mb-4 mx-1 md:mx-6"),l(te,"class","min-h-[20rem] max-h-[20rem] md:min-h-[32rem] md:max-h-[32rem] px-2 overflow-y-scroll scrollable ring-2 ring-gray-600 rounded-sm svelte-d0a6yq")},m(A,K){H(A,e,K),o(e,t),o(t,r),o(r,n),Il(n,a[1]),o(r,i),o(r,s),Il(s,a[2]),o(r,c),o(r,p),o(p,g),o(g,_),o(_,v),o(g,b),o(b,m),o(g,w),o(w,k),Dr(g,a[3]),o(p,O),o(p,E),o(E,D),o(D,S),o(e,F),o(e,$),o($,R),o(R,J),o(R,le),o($,q),o($,C),o(C,L),o(L,B),o(B,re),o(B,De),o(B,G),o(B,se),o(B,Le),o(C,ee),o(C,Me),o(Me,ge),o(ge,ie),o(ge,Oe),o(e,We),o(e,te),Ee[ce].m(te,null),o(te,xe),Q&&Q.m(te,null),o(te,Pe),ue&&ue.m(te,null),o(te,Se),z&&z.m(te,null),Ae=!0,fe||(he=[M(n,"input",a[18]),M(s,"input",a[19]),M(g,"change",a[20]),M(L,"click",a[17]),M(Me,"click",a[14])],fe=!0)},p(A,[K]){K&2&&n.value!==A[1]&&Il(n,A[1]),K&4&&s.value!==A[2]&&Il(s,A[2]),K&8&&Dr(g,A[3]),(!Ae||K&512)&&ae(J,A[9]),(!Ae||K&1&&V!==(V=A[0].length===0))&&(L.disabled=V);let W=ce;ce=we(A),ce===W?Ee[ce].p(A,K):(Vt(),ke(Ee[W],1,1,()=>{Ee[W]=null}),Mt(),be=Ee[ce],be?be.p(A,K):(be=Ee[ce]=Be[ce](A),be.c()),ne(be,1),be.m(te,xe)),A[6]?Q?(Q.p(A,K),K&64&&ne(Q,1)):(Q=qr(A),Q.c(),ne(Q,1),Q.m(te,Pe)):Q&&(Vt(),ke(Q,1,1,()=>{Q=null}),Mt()),A[7]?ue?(ue.p(A,K),K&128&&ne(ue,1)):(ue=Yr(A),ue.c(),ne(ue,1),ue.m(te,Se)):ue&&(Vt(),ke(ue,1,1,()=>{ue=null}),Mt()),A[8]?z?(z.p(A,K),K&256&&ne(z,1)):(z=Gr(A),z.c(),ne(z,1),z.m(te,null)):z&&(Vt(),ke(z,1,1,()=>{z=null}),Mt())},i(A){Ae||(ne(be),ne(Q),ne(ue),ne(z),st(()=>{me||(me=Tl(e,dt,{duration:200},!0)),me.run(1)}),Ae=!0)},o(A){ke(be),ke(Q),ke(ue),ke(z),me||(me=Tl(e,dt,{duration:200},!1)),me.run(0),Ae=!1},d(A){A&&u(e),Ee[ce].d(),Q&&Q.d(),ue&&ue.d(),z&&z.d(),A&&me&&me.end(),fe=!1,tt(he)}}}function gn(a,e,t){let r,n,i=!1,s={},c=[];Jl(()=>{ll().then(C=>{t(0,c=C)})});const p=C=>{const L=C.detail;t(5,s=c.find(B=>B.id===L)),t(6,i=!0),t(7,v=!1)},g=()=>{ll().then(C=>{t(0,c=C),t(6,i=!1)})},_=()=>{t(6,i=!1),ll().then(C=>{t(0,c=C)})};let v=!1;const b=C=>{const L=C.detail;t(5,s=c.find(B=>B.id===L)),t(6,i=!1),t(7,v=!0)};let m=!1;const w=()=>{t(8,m=!0),t(6,i=!1),t(7,v=!1)},k=()=>{t(8,m=!1),t(6,i=!1),t(7,v=!1),ll().then(C=>{console.log("Updating with: ",C),t(0,c=C)})},O=()=>{ll().then(C=>{t(0,c=C),t(7,v=!1)})},E=()=>{c.length>0&&Io().then(C=>{const L=new Blob([C.data],{type:"text/csv"}),B=window.URL.createObjectURL(L),re=document.createElement("a");re.href=B,re.download="export.csv",re.click()})};let D="",S="",F="ALL";function $(){D=this.value,t(1,D)}function R(){S=this.value,t(2,S)}function J(){F=ro(this),t(3,F)}const le=()=>t(7,v=!1),q=()=>t(8,m=!1);return a.$$.update=()=>{a.$$.dirty&15&&t(4,r=c.filter(C=>(C.description.toLowerCase().includes(D.toLowerCase())||C.turbineName.toLowerCase().includes(D.toLowerCase())||C.turbineNumber.toLowerCase().includes(D.toLowerCase()))&&C.creationDate.includes(S)&&(F==="ALL"||F==="ONLY_INCOMPLETE"&&!C.completionDate||F==="ONLY_COMPLETED"&&C.completionDate))),a.$$.dirty&16&&t(9,n=r.length)},[c,D,S,F,r,s,i,v,m,n,p,g,_,b,w,k,O,E,$,R,J,le,q]}class vn extends Xe{constructor(e){super(),Ze(this,e,gn,pn,et,{})}}export{vn as default};
