import{N as Qr,S as Fe,i as We,s as Re,k as f,q as T,a as y,E as U,l as h,m as d,r as C,c as N,h as u,F as z,n as t,b as q,C as o,G as P,O as Zl,u as de,P as Ge,Q as nt,B as re,o as Sl,D as at,e as lt,R as Xr,T as Il,U as qr,f as le,V as er,W as Gr,X as Ye,w as je,x as Ue,y as ze,Y as qe,g as Wt,t as me,d as Rt,z as Le,Z as ht,_ as Ve,$ as Ft,a0 as Dl,a1 as Zr}from"../../../chunks/index-c557abc7.js";import{a as Nt}from"../../../chunks/axios-67252f11.js";function eo(n){const e=n-1;return e*e*e+1}function Xl(n,{delay:e=0,duration:l=400,easing:r=Qr}={}){const a=+getComputedStyle(n).opacity;return{delay:e,duration:l,easing:r,css:c=>`opacity: ${c*a}`}}function Je(n,{delay:e=0,duration:l=400,easing:r=eo}={}){const a=getComputedStyle(n),c=+a.opacity,s=parseFloat(a.height),i=parseFloat(a.paddingTop),p=parseFloat(a.paddingBottom),m=parseFloat(a.marginTop),_=parseFloat(a.marginBottom),w=parseFloat(a.borderTopWidth),b=parseFloat(a.borderBottomWidth);return{delay:e,duration:l,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*c};height: ${g*s}px;padding-top: ${g*i}px;padding-bottom: ${g*p}px;margin-top: ${g*m}px;margin-bottom: ${g*_}px;border-top-width: ${g*w}px;border-bottom-width: ${g*b}px;`}}const Ql={1:"Sopralluogo",2:"Redazione report",3:"Notifica preliminare",4:"Permitting",5:"Fine attività OOCC",6:"Fine attività EEMM",7:"Smontaggio piazzola",8:"Chiusura permitting"};function Sr(n){let e,l,r=n[0].turbineNumber+"",a;return{c(){e=f("span"),l=T("- "),a=T(r),this.h()},l(c){e=h(c,"SPAN",{class:!0});var s=d(e);l=C(s,"- "),a=C(s,r),s.forEach(u),this.h()},h(){t(e,"class","hidden md:inline-block")},m(c,s){q(c,e,s),o(e,l),o(e,a)},p(c,s){s&1&&r!==(r=c[0].turbineNumber+"")&&de(a,r)},d(c){c&&u(e)}}}function to(n){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2 md:col-span-1")},m(l,r){q(l,e,r)},p:re,d(l){l&&u(e)}}}function lo(n){let e,l;return{c(){e=f("span"),l=T(n[1]),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=d(e);l=C(a,n[1]),a.forEach(u),this.h()},h(){t(e,"class","col-span-2 md:col-span-1 flex md:justify-end md:mr-5")},m(r,a){q(r,e,a),o(e,l)},p(r,a){a&2&&de(l,r[1])},d(r){r&&u(e)}}}function ro(n){let e;return{c(){e=f("div"),this.h()},l(l){e=h(l,"DIV",{class:!0}),d(e).forEach(u),this.h()},h(){t(e,"class","hidden md:flex col-span-2 md:col-span-1")},m(l,r){q(l,e,r)},p:re,d(l){l&&u(e)}}}function oo(n){let e,l,r,a=n[0].odlNumber+"",c;return{c(){e=f("p"),l=T("ODL: "),r=f("span"),c=T(a),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=C(i,"ODL: "),r=h(i,"SPAN",{class:!0});var p=d(r);c=C(p,a),p.forEach(u),i.forEach(u),this.h()},h(){t(r,"class","text-amber-400"),t(e,"class","hidden md:group-hover:flex justify-end mr-5 col-span-1")},m(s,i){q(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&a!==(a=s[0].odlNumber+"")&&de(c,a)},d(s){s&&u(e)}}}function no(n){let e,l,r,a,c=n[0].turbineName+"",s,i,p,m,_,w,b,g,v,E,I,k,D,M=n[0].description+"",$,L,F,R,O,B,A,j,oe,H=n[0].operation[0]+"",ve,ee,ie,ye=n[0].turbineState+"",S,te,Ne,Te,G,x,Q,J,ce,X,Oe,Z=n[0].turbineNumber&&Sr(n);function _e(K,Y){return K[1]!==null&&K[1]!==void 0?lo:to}let ke=_e(n),be=ke(n);function we(K,Y){return K[0].odlNumber!==void 0&&K[0].odlNumber!==0?oo:ro}let De=we(n),he=De(n);return{c(){e=f("div"),l=f("div"),r=f("div"),a=f("h1"),s=T(c),i=y(),Z&&Z.c(),p=y(),m=f("span"),_=T(n[2]),w=y(),be.c(),b=y(),g=f("div"),v=U("svg"),E=U("path"),I=U("circle"),k=y(),D=f("span"),$=T(M),L=y(),he.c(),F=y(),R=f("div"),O=U("svg"),B=U("path"),A=U("rect"),j=y(),oe=f("span"),ve=T(H),ee=y(),ie=f("span"),S=T(ye),te=y(),Ne=f("div"),Te=f("div"),G=f("button"),x=U("svg"),Q=U("circle"),J=U("line"),this.h()},l(K){e=h(K,"DIV",{class:!0});var Y=d(e);l=h(Y,"DIV",{class:!0});var He=d(l);r=h(He,"DIV",{class:!0});var Ee=d(r);a=h(Ee,"H1",{class:!0});var ne=d(a);s=C(ne,c),i=N(ne),Z&&Z.l(ne),ne.forEach(u),p=N(Ee),m=h(Ee,"SPAN",{class:!0});var fe=d(m);_=C(fe,n[2]),fe.forEach(u),w=N(Ee),be.l(Ee),b=N(Ee),g=h(Ee,"DIV",{class:!0});var ge=d(g);v=z(ge,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var ue=d(v);E=z(ue,"path",{d:!0}),d(E).forEach(u),I=z(ue,"circle",{cx:!0,cy:!0,r:!0}),d(I).forEach(u),ue.forEach(u),k=N(ge),D=h(ge,"SPAN",{});var V=d(D);$=C(V,M),V.forEach(u),ge.forEach(u),L=N(Ee),he.l(Ee),F=N(Ee),R=h(Ee,"DIV",{class:!0});var ae=d(R);O=z(ae,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Pe=d(O);B=z(Pe,"path",{d:!0}),d(B).forEach(u),A=z(Pe,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),d(A).forEach(u),Pe.forEach(u),j=N(ae),oe=h(ae,"SPAN",{class:!0});var Me=d(oe);ve=C(Me,H),Me.forEach(u),ae.forEach(u),ee=N(Ee),ie=h(Ee,"SPAN",{class:!0});var xe=d(ie);S=C(xe,ye),xe.forEach(u),Ee.forEach(u),te=N(He),Ne=h(He,"DIV",{class:!0});var $e=d(Ne);Te=h($e,"DIV",{class:!0});var Be=d(Te);G=h(Be,"BUTTON",{class:!0});var rt=d(G);x=z(rt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ce=d(x);Q=z(Ce,"circle",{cx:!0,cy:!0,r:!0}),d(Q).forEach(u),J=z(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(J).forEach(u),Ce.forEach(u),rt.forEach(u),Be.forEach(u),$e.forEach(u),He.forEach(u),Y.forEach(u),this.h()},h(){t(a,"class","font-bold text-4xl mt-5 col-span-1 md:col-span-2"),t(m,"class","col-span-2 md:col-span-1 font-bold flex"),t(E,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),t(I,"cx","12"),t(I,"cy","10"),t(I,"r","3"),t(v,"xmlns","http://www.w3.org/2000/svg"),t(v,"width","24"),t(v,"height","24"),t(v,"viewBox","0 0 24 24"),t(v,"fill","none"),t(v,"stroke","currentColor"),t(v,"stroke-width","2"),t(v,"stroke-linecap","round"),t(v,"stroke-linejoin","round"),t(v,"class","feather feather-map-pin col-span-1"),t(g,"class","col-span-2 md:col-span-1 hidden group-hover:flex gap-2"),t(B,"d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"),t(A,"x","8"),t(A,"y","2"),t(A,"width","8"),t(A,"height","4"),t(A,"rx","1"),t(A,"ry","1"),t(O,"xmlns","http://www.w3.org/2000/svg"),t(O,"width","24"),t(O,"height","24"),t(O,"viewBox","0 0 24 24"),t(O,"fill","none"),t(O,"stroke","currentColor"),t(O,"stroke-width","2"),t(O,"stroke-linecap","round"),t(O,"stroke-linejoin","round"),t(O,"class","feather feather-clipboard"),t(oe,"class","col-span-2 md:col-span-1 hidden group-hover:flex"),t(R,"class","hidden group-hover:flex gap-2"),t(ie,"class","col-span-2 md:col-span-1 hidden group-hover:flex md:justify-end md:mr-5 font-bold"),t(r,"class","grid grid-cols-1 md:grid-cols-2 text-white font-mono gap-4"),t(Q,"cx","11"),t(Q,"cy","11"),t(Q,"r","8"),t(J,"x1","21"),t(J,"y1","21"),t(J,"x2","16.65"),t(J,"y2","16.65"),t(x,"xmlns","http://www.w3.org/2000/svg"),t(x,"width","20"),t(x,"height","20"),t(x,"viewBox","0 0 24 24"),t(x,"fill","none"),t(x,"stroke","currentColor"),t(x,"stroke-width","2"),t(x,"stroke-linecap","round"),t(x,"stroke-linejoin","round"),t(x,"class","feather feather-search"),t(G,"class","bg-gray-700 hover:bg-gray-600 py-2 px-4 rounded-sm"),t(Te,"class","flex flex-col md:flex-row gap-2 md:gap-0"),t(Ne,"class","absolute top-0 right-0 mr-5 mt-5"),t(l,"class","bg-gray-800 md:h-32 px-4 my-3 mx-2 md:mx-0 rounded-sm shadow-md content-center hover:ring-2 ring-amber-500 transition duration-300 ease-in-out transform h-auto pb-5 md:hover:h-48 hover:content-start group"),t(e,"class","snap-start pt-1")},m(K,Y){q(K,e,Y),o(e,l),o(l,r),o(r,a),o(a,s),o(a,i),Z&&Z.m(a,null),o(r,p),o(r,m),o(m,_),o(r,w),be.m(r,null),o(r,b),o(r,g),o(g,v),o(v,E),o(v,I),o(g,k),o(g,D),o(D,$),o(r,L),he.m(r,null),o(r,F),o(r,R),o(R,O),o(O,B),o(O,A),o(R,j),o(R,oe),o(oe,ve),o(r,ee),o(r,ie),o(ie,S),o(l,te),o(l,Ne),o(Ne,Te),o(Te,G),o(G,x),o(x,Q),o(x,J),X||(Oe=P(G,"click",Zl(n[3])),X=!0)},p(K,[Y]){Y&1&&c!==(c=K[0].turbineName+"")&&de(s,c),K[0].turbineNumber?Z?Z.p(K,Y):(Z=Sr(K),Z.c(),Z.m(a,null)):Z&&(Z.d(1),Z=null),ke===(ke=_e(K))&&be?be.p(K,Y):(be.d(1),be=ke(K),be&&(be.c(),be.m(r,b))),Y&1&&M!==(M=K[0].description+"")&&de($,M),De===(De=we(K))&&he?he.p(K,Y):(he.d(1),he=De(K),he&&(he.c(),he.m(r,F))),Y&1&&H!==(H=K[0].operation[0]+"")&&de(ve,H),Y&1&&ye!==(ye=K[0].turbineState+"")&&de(S,ye)},i(K){ce||Ge(()=>{ce=nt(l,Je,{duration:1e3}),ce.start()})},o:re,d(K){K&&u(e),Z&&Z.d(),be.d(),he.d(),X=!1,Oe()}}}function ao(n,e,l){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e,a=Ql[r.completedSteps+1],c=null;Sl(()=>{a===Ql[4]?l(1,c=r.priorNotification):a===Ql[5]&&l(1,c=r.permittingDate)});const s=at(),i=()=>{s("showDetails",r.id)};return n.$$set=p=>{"turbine"in p&&l(0,r=p.turbine)},[r,c,a,i]}class so extends Fe{constructor(e){super(),We(this,e,ao,no,Re,{turbine:0})}}const el="http://localhost:8080/v1.0.0";async function Zt(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Nt.get(el+"/events",e)).data}else console.log("Token not found in local storage")}async function io(n){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Nt.delete(el+"/event?eventId="+n,l)}else console.log("Token not found in local storage")}async function co(n){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Nt.post(el+"/event",n,l)}else console.log("Token not found in local storage")}async function uo(n){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return console.log("Updating windfarm: "+JSON.stringify(n)),await Nt.put(el+"/event",n,l)}else console.log("Token not found in local storage")}async function fo(){if(typeof localStorage<"u"){const e={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Nt.get(el+"/events/csv",e)}else console.log("Token not found in local storage")}function Tr(n){let e,l,r,a,c=(n[0].startingDateEEMM||"____/__/__")+"",s,i,p,m,_,w=(n[0].startingDateOOCC||"____/__/__")+"",b;return{c(){e=f("div"),l=f("p"),r=T("Inizio ATT EEMM: "),a=f("span"),s=T(c),i=y(),p=f("p"),m=T("Inizio ATT OOCC: "),_=f("span"),b=T(w),this.h()},l(g){e=h(g,"DIV",{class:!0});var v=d(e);l=h(v,"P",{class:!0});var E=d(l);r=C(E,"Inizio ATT EEMM: "),a=h(E,"SPAN",{class:!0});var I=d(a);s=C(I,c),I.forEach(u),E.forEach(u),i=N(v),p=h(v,"P",{class:!0});var k=d(p);m=C(k,"Inizio ATT OOCC: "),_=h(k,"SPAN",{class:!0});var D=d(_);b=C(D,w),D.forEach(u),k.forEach(u),v.forEach(u),this.h()},h(){t(a,"class","font-extralight"),t(l,"class","prose font-mono text-white"),t(_,"class","font-extralight"),t(p,"class","prose font-mono text-white"),t(e,"class","p-2 mb-2")},m(g,v){q(g,e,v),o(e,l),o(l,r),o(l,a),o(a,s),o(e,i),o(e,p),o(p,m),o(p,_),o(_,b)},p(g,v){v&1&&c!==(c=(g[0].startingDateEEMM||"____/__/__")+"")&&de(s,c),v&1&&w!==(w=(g[0].startingDateOOCC||"____/__/__")+"")&&de(b,w)},d(g){g&&u(e)}}}function ho(n){let e,l,r,a,c,s,i,p,m,_,w,b=n[1]&&Tr(n);return{c(){e=f("button"),l=U("svg"),r=U("circle"),a=U("polyline"),c=y(),s=f("h1"),i=T("Tracciamento eventi"),p=y(),b&&b.c(),m=lt(),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var v=d(e);l=z(v,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var E=d(l);r=z(E,"circle",{cx:!0,cy:!0,r:!0}),d(r).forEach(u),a=z(E,"polyline",{points:!0}),d(a).forEach(u),E.forEach(u),c=N(v),s=h(v,"H1",{class:!0});var I=d(s);i=C(I,"Tracciamento eventi"),I.forEach(u),v.forEach(u),p=N(g),b&&b.l(g),m=lt(),this.h()},h(){t(r,"cx","12"),t(r,"cy","12"),t(r,"r","10"),t(a,"points","12 6 12 12 16 14"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"width","22"),t(l,"height","22"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(l,"stroke-linecap","round"),t(l,"stroke-linejoin","round"),t(l,"class","feather feather-clock"),t(s,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-amber-400 w-full")},m(g,v){q(g,e,v),o(e,l),o(l,r),o(l,a),o(e,c),o(e,s),o(s,i),q(g,p,v),b&&b.m(g,v),q(g,m,v),_||(w=P(e,"click",Zl(n[2])),_=!0)},p(g,[v]){g[1]?b?b.p(g,v):(b=Tr(g),b.c(),b.m(m.parentNode,m)):b&&(b.d(1),b=null)},i:re,o:re,d(g){g&&u(e),g&&u(p),b&&b.d(g),g&&u(m),_=!1,w()}}}function po(n,e,l){let{turbine:r}=e,a=!1;const c=()=>l(1,a=!a);return n.$$set=s=>{"turbine"in s&&l(0,r=s.turbine)},[r,a,c]}class go extends Fe{constructor(e){super(),We(this,e,po,ho,Re,{turbine:0})}}function Cr(n,e,l){const r=n.slice();return r[3]=e[l],r}function Or(n){let e,l,r=n[0].operation,a=[];for(let c=0;c<r.length;c+=1)a[c]=Mr(Cr(n,r,c));return{c(){e=f("div"),l=f("ul");for(let c=0;c<a.length;c+=1)a[c].c();this.h()},l(c){e=h(c,"DIV",{class:!0});var s=d(e);l=h(s,"UL",{class:!0});var i=d(l);for(let p=0;p<a.length;p+=1)a[p].l(i);i.forEach(u),s.forEach(u),this.h()},h(){t(l,"class","prose font-mono text-white"),t(e,"class","p-2")},m(c,s){q(c,e,s),o(e,l);for(let i=0;i<a.length;i+=1)a[i].m(l,null)},p(c,s){if(s&1){r=c[0].operation;let i;for(i=0;i<r.length;i+=1){const p=Cr(c,r,i);a[i]?a[i].p(p,s):(a[i]=Mr(p),a[i].c(),a[i].m(l,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}},d(c){c&&u(e),Xr(a,c)}}}function Mr(n){let e,l=n[3]+"",r,a;return{c(){e=f("li"),r=T(l),a=y(),this.h()},l(c){e=h(c,"LI",{class:!0});var s=d(e);r=C(s,l),a=N(s),s.forEach(u),this.h()},h(){t(e,"class","text-sm list-disc ml-5 font-bold uppercase")},m(c,s){q(c,e,s),o(e,r),o(e,a)},p(c,s){s&1&&l!==(l=c[3]+"")&&de(r,l)},d(c){c&&u(e)}}}function mo(n){let e,l,r,a,c,s,i,p,m,_,w=n[1]&&Or(n);return{c(){e=f("button"),l=U("svg"),r=U("path"),a=y(),c=f("h1"),s=T("Operazioni"),i=y(),w&&w.c(),p=lt(),this.h()},l(b){e=h(b,"BUTTON",{class:!0});var g=d(e);l=z(g,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var v=d(l);r=z(v,"path",{d:!0}),d(r).forEach(u),v.forEach(u),a=N(g),c=h(g,"H1",{class:!0});var E=d(c);s=C(E,"Operazioni"),E.forEach(u),g.forEach(u),i=N(b),w&&w.l(b),p=lt(),this.h()},h(){t(r,"d","M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"width","22"),t(l,"height","22"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(l,"stroke-linecap","round"),t(l,"stroke-linejoin","round"),t(l,"class","feather feather-tool"),t(c,"class","font-mono text-xl"),t(e,"class","grid place-content-start gap-2 grid-flow-col items-center font-bold mb-3 bg-gray-600 p-3 rounded-sm hover:bg-gray-700 hover:shadow-sm hover:border border-amber-400 w-full")},m(b,g){q(b,e,g),o(e,l),o(l,r),o(e,a),o(e,c),o(c,s),q(b,i,g),w&&w.m(b,g),q(b,p,g),m||(_=P(e,"click",Zl(n[2])),m=!0)},p(b,[g]){b[1]?w?w.p(b,g):(w=Or(b),w.c(),w.m(p.parentNode,p)):w&&(w.d(1),w=null)},i:re,o:re,d(b){b&&u(e),b&&u(i),w&&w.d(b),b&&u(p),m=!1,_()}}}function vo(n,e,l){let{turbine:r}=e,a=!1;const c=()=>l(1,a=!a);return n.$$set=s=>{"turbine"in s&&l(0,r=s.turbine)},[r,a,c]}class _o extends Fe{constructor(e){super(),We(this,e,vo,mo,Re,{turbine:0})}}const Jr="http://localhost:8080/v1.0.0";async function bo(n){if(console.log("Retrieving steps for event "+n),typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await(await Nt.get(Jr+"/steps/"+n,l)).data}else console.log("Token not found in local storage")}async function wo(n){if(typeof localStorage<"u"){const l={headers:{Authorization:"bearer "+localStorage.getItem("token")}};return await Nt.put(Jr+"/step/complete?stepId="+n+"&isCompleted="+!0,null,l)}else console.log("Token not found in local storage")}function Vr(n,e,l){const r=n.slice();return r[6]=e[l],r}function ko(n){return{c:re,l:re,m:re,p:re,i:re,o:re,d:re}}function Eo(n){let e=[],l=new Map,r,a=n[1];const c=s=>s[6].id;for(let s=0;s<a.length;s+=1){let i=Vr(n,a,s),p=c(i);l.set(p,e[s]=Br(p,i))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=lt()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);r=lt()},m(s,i){for(let p=0;p<e.length;p+=1)e[p].m(s,i);q(s,r,i)},p(s,i){i&7&&(a=s[1],e=er(e,i,c,1,s,a,l,r.parentNode,Gr,Br,r,Vr))},i(s){for(let i=0;i<a.length;i+=1)le(e[i])},o:re,d(s){for(let i=0;i<e.length;i+=1)e[i].d(s);s&&u(r)}}}function Pr(n){let e,l,r,a,c,s,i,p;return{c(){e=f("div"),l=f("p"),r=T("Completato"),a=y(),c=U("svg"),s=U("path"),i=U("polyline"),this.h()},l(m){e=h(m,"DIV",{class:!0});var _=d(e);l=h(_,"P",{class:!0});var w=d(l);r=C(w,"Completato"),w.forEach(u),a=N(_),c=z(_,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var b=d(c);s=z(b,"path",{d:!0}),d(s).forEach(u),i=z(b,"polyline",{points:!0}),d(i).forEach(u),b.forEach(u),_.forEach(u),this.h()},h(){t(l,"class","font-bold uppercase"),t(s,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),t(i,"points","22 4 12 14.01 9 11.01"),t(c,"xmlns","http://www.w3.org/2000/svg"),t(c,"width","22"),t(c,"height","22"),t(c,"viewBox","0 0 24 24"),t(c,"fill","none"),t(c,"stroke","currentColor"),t(c,"stroke-width","2"),t(c,"stroke-linecap","round"),t(c,"stroke-linejoin","round"),t(c,"class","feather feather-check-circle text-green-500"),t(e,"class","absolute h-full w-full bg-gray-600 bg-opacity-70 flex items-center justify-end p-5 rounded-sm hover:text-green-400 gap-2 backdrop-filter backdrop-blur-md")},m(m,_){q(m,e,_),o(e,l),o(l,r),o(e,a),o(e,c),o(c,s),o(c,i)},i(m){p||Ge(()=>{p=nt(e,Je,{delay:1200,duration:1e3}),p.start()})},o:re,d(m){m&&u(e)}}}function Br(n,e){let l,r,a,c,s,i,p,m=e[6].name+"",_,w,b,g,v;function E(){return e[4](e[6])}let I=e[6].complete&&Pr();return{key:n,first:null,c(){l=f("div"),r=f("input"),s=y(),i=f("div"),p=f("p"),_=T(m),w=y(),I&&I.c(),b=y(),this.h()},l(k){l=h(k,"DIV",{class:!0});var D=d(l);r=h(D,"INPUT",{type:!0,class:!0}),s=N(D),i=h(D,"DIV",{class:!0});var M=d(i);p=h(M,"P",{});var $=d(p);_=C($,m),$.forEach(u),M.forEach(u),w=N(D),I&&I.l(D),b=N(D),D.forEach(u),this.h()},h(){t(r,"type","checkbox"),t(r,"class","col-span-1 h-5 w-5 border-gray-300 rounded accent-green-600 disabled:cursor-not-allowed"),r.disabled=a=e[6].name!==e[0].name&&!e[6].complete,r.checked=c=e[6].complete,t(i,"class","col-span-6 text-left"),t(l,"class","col-span-7 relative grid grid-cols-7 hover:bg-gray-700/60 transition duration-500 ease-in-out p-3 hover:border hover:shadow-md hover:border-amber-200 items-center rounded-sm"),this.first=l},m(k,D){q(k,l,D),o(l,r),o(l,s),o(l,i),o(i,p),o(p,_),o(l,w),I&&I.m(l,null),o(l,b),g||(v=P(r,"click",E),g=!0)},p(k,D){e=k,D&3&&a!==(a=e[6].name!==e[0].name&&!e[6].complete)&&(r.disabled=a),D&2&&c!==(c=e[6].complete)&&(r.checked=c),D&2&&m!==(m=e[6].name+"")&&de(_,m),e[6].complete?I?D&2&&le(I,1):(I=Pr(),I.c(),le(I,1),I.m(l,b)):I&&(I.d(1),I=null)},i(k){le(I)},o:re,d(k){k&&u(l),I&&I.d(),g=!1,v()}}}function yo(n){let e,l;return{c(){e=f("div"),l=T("Caricamento..."),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=d(e);l=C(a,"Caricamento..."),a.forEach(u),this.h()},h(){t(e,"class","col-span-7 text-center")},m(r,a){q(r,e,a),o(e,l)},p:re,i:re,o:re,d(r){r&&u(e)}}}function No(n){let e,l,r,a,c,s,i,p,m,_,w,b,g,v={ctx:n,current:null,token:null,hasCatch:!1,pending:yo,then:Eo,catch:ko,value:1};return Il(w=n[1],v),{c(){e=f("div"),l=f("div"),r=U("svg"),a=U("path"),c=U("path"),s=y(),i=f("h1"),p=T("Tracciamento fasi"),m=y(),_=f("div"),v.block.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=d(e);l=h(I,"DIV",{class:!0});var k=d(l);r=z(k,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var D=d(r);a=z(D,"path",{d:!0}),d(a).forEach(u),c=z(D,"path",{d:!0}),d(c).forEach(u),D.forEach(u),s=N(k),i=h(k,"H1",{class:!0});var M=d(i);p=C(M,"Tracciamento fasi"),M.forEach(u),k.forEach(u),m=N(I),_=h(I,"DIV",{id:!0,class:!0});var $=d(_);v.block.l($),$.forEach(u),I.forEach(u),this.h()},h(){t(a,"d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"),t(c,"d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"),t(r,"xmlns","http://www.w3.org/2000/svg"),t(r,"width","24"),t(r,"height","24"),t(r,"viewBox","0 0 24 24"),t(r,"fill","none"),t(r,"stroke","currentColor"),t(r,"stroke-width","2"),t(r,"stroke-linecap","round"),t(r,"stroke-linejoin","round"),t(r,"class","feather feather-link"),t(i,"class","text-center font-mono text-xl"),t(l,"class","grid justify-center place-content-center items-center grid-flow-col mb-3 mt-5 md:mt-0 md:border-b w-11/12 mx-auto md:py-2 gap-2 font-bold"),t(_,"id","stepsContainer"),t(_,"class","grid grid-cols-7 md:p-5 text-lg text-left overflow-scroll h-32 md:h-64 gap-2 scrollbar-none shadow-md mt-5 items-center"),t(e,"class","col-span-1 text-white md:ring-2 ring-gray-400 rounded-sm")},m(E,I){q(E,e,I),o(e,l),o(l,r),o(r,a),o(r,c),o(l,s),o(l,i),o(i,p),o(e,m),o(e,_),v.block.m(_,v.anchor=null),v.mount=()=>_,v.anchor=null},p(E,[I]){n=E,v.ctx=n,I&2&&w!==(w=n[1])&&Il(w,v)||qr(v,n,I)},i(E){le(v.block),b||Ge(()=>{b=nt(_,Je,{delay:500,duration:1e3}),b.start()}),g||Ge(()=>{g=nt(e,Xl,{delay:400,duration:1e3}),g.start()})},o:re,d(E){E&&u(e),v.block.d(),v.token=null,v=null}}}function Do(n,e,l){let{turbine:r}=e,a=[],c=0;Sl(()=>{bo(r.id).then(m=>{l(1,a=m),l(0,c=a[r.completedSteps])}),setTimeout(()=>{i()},1500)});const s=m=>{wo(m).then(()=>{l(3,r.completedSteps+=1,r),r.completedSteps<9&&l(0,c=a[r.completedSteps]),i()})};function i(){const m=document.getElementById("stepsContainer"),_=9;if(m){const w=window.innerWidth<768?2:4,b=r.completedSteps-w;if(b>=0&&r.completedSteps<_){m.scrollTo({top:m.scrollHeight/_*(b+1),behavior:"smooth"});return}else if(r.completedSteps===_){setTimeout(()=>{m.scrollTo({top:0,behavior:"smooth"})},500);return}}}const p=m=>s(m.id);return n.$$set=m=>{"turbine"in m&&l(3,r=m.turbine)},[c,a,s,r,p]}class Io extends Fe{constructor(e){super(),We(this,e,Do,No,Re,{turbine:3})}}function So(n){let e,l,r,a,c,s,i,p,m,_,w,b,g;return{c(){e=f("div"),l=f("p"),r=T("L'eliminazione è irreversibile, sei sicuro di voler procedere?"),a=y(),c=f("div"),s=f("button"),i=T("Annulla"),p=y(),m=f("button"),_=T("Conferma"),this.h()},l(v){e=h(v,"DIV",{class:!0});var E=d(e);l=h(E,"P",{class:!0});var I=d(l);r=C(I,"L'eliminazione è irreversibile, sei sicuro di voler procedere?"),I.forEach(u),a=N(E),c=h(E,"DIV",{class:!0});var k=d(c);s=h(k,"BUTTON",{class:!0});var D=d(s);i=C(D,"Annulla"),D.forEach(u),p=N(k),m=h(k,"BUTTON",{class:!0});var M=d(m);_=C(M,"Conferma"),M.forEach(u),k.forEach(u),E.forEach(u),this.h()},h(){t(l,"class","font-bold text-lg"),t(s,"class","bg-red-500 hover:bg-red-600 py-2 px-4 rounded"),t(m,"class","bg-green-500 hover:bg-green-600 py-2 px-4 rounded ml-2"),t(c,"class","flex justify-end mt-5 text-sm"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute w-5/6 md:w-1/2 top-0 transform translate-y-1/2 left-1/2 -translate-x-1/2 z-50")},m(v,E){q(v,e,E),o(e,l),o(l,r),o(e,a),o(e,c),o(c,s),o(s,i),o(c,p),o(c,m),o(m,_),b||(g=[P(s,"click",n[1]),P(m,"click",n[0]),P(e,"click",n[2]),P(e,"keydown",n[2])],b=!0)},p:re,i(v){w||Ge(()=>{w=nt(e,Je,{duration:300}),w.start()})},o:re,d(v){v&&u(e),b=!1,Ye(g)}}}function To(n){const e=at();return[()=>{e("confirm")},()=>{e("cancel")},c=>{c.stopPropagation()}]}class Co extends Fe{constructor(e){super(),We(this,e,To,So,Re,{})}}function Ar(n){let e,l,r=n[0].turbineNumber+"",a;return{c(){e=f("span"),l=T("- "),a=T(r)},l(c){e=h(c,"SPAN",{});var s=d(e);l=C(s,"- "),a=C(s,r),s.forEach(u)},m(c,s){q(c,e,s),o(e,l),o(e,a)},p(c,s){s&1&&r!==(r=c[0].turbineNumber+"")&&de(a,r)},d(c){c&&u(e)}}}function xr(n){let e,l,r,a,c;return l=new Co({}),l.$on("confirm",n[4]),l.$on("cancel",n[7]),{c(){e=f("div"),je(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);Ue(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm z-50")},m(s,i){q(s,e,i),ze(l,e,null),r=!0,a||(c=[P(e,"click",n[8]),P(e,"keydown",n[9])],a=!0)},p:re,i(s){r||(le(l.$$.fragment,s),r=!0)},o(s){me(l.$$.fragment,s),r=!1},d(s){s&&u(e),Le(l),a=!1,Ye(c)}}}function $r(n){let e,l,r,a=n[0].permittingDate+"",c;return{c(){e=f("p"),l=T("Valdità permitting: "),r=f("span"),c=T(a),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=C(i,"Valdità permitting: "),r=h(i,"SPAN",{});var p=d(r);c=C(p,a),p.forEach(u),i.forEach(u),this.h()},h(){t(e,"class","prose font-mono text-white")},m(s,i){q(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&a!==(a=s[0].permittingDate+"")&&de(c,a)},d(s){s&&u(e)}}}function jr(n){let e,l,r,a=n[0].priorNotification+"",c;return{c(){e=f("p"),l=T("Valdità notifica: "),r=f("span"),c=T(a),this.h()},l(s){e=h(s,"P",{class:!0});var i=d(e);l=C(i,"Valdità notifica: "),r=h(i,"SPAN",{});var p=d(r);c=C(p,a),p.forEach(u),i.forEach(u),this.h()},h(){t(e,"class","prose font-mono text-white")},m(s,i){q(s,e,i),o(e,l),o(e,r),o(r,c)},p(s,i){i&1&&a!==(a=s[0].priorNotification+"")&&de(c,a)},d(s){s&&u(e)}}}function Oo(n){let e,l,r,a=n[0].turbineName+"",c,s,i,p,m,_,w,b,g,v,E,I,k,D,M,$,L,F,R,O,B,A,j,oe,H,ve,ee,ie,ye,S,te=n[0].creationDate+"",Ne,Te,G,x,Q,J=n[0].turbineState+"",ce,X,Oe,Z,_e,ke,be,we,De,he,K,Y,He,Ee,ne=n[0].turbineNumber&&Ar(n),fe=n[1]&&xr(n),ge=n[0].permittingDate!==void 0&&$r(n),ue=n[0].priorNotification!==void 0&&jr(n);return ke=new go({props:{turbine:n[0]}}),we=new _o({props:{turbine:n[0]}}),he=new Io({props:{turbine:n[0]}}),{c(){e=f("div"),l=f("div"),r=f("h1"),c=T(a),s=y(),ne&&ne.c(),i=y(),p=f("div"),m=f("div"),_=f("div"),w=y(),fe&&fe.c(),b=y(),g=f("div"),v=f("button"),E=U("svg"),I=U("polyline"),k=U("path"),D=U("line"),M=U("line"),$=y(),L=f("button"),F=U("svg"),R=U("path"),O=y(),B=f("button"),A=U("svg"),j=U("line"),oe=U("line"),H=y(),ve=f("div"),ee=f("div"),ie=f("p"),ye=T("Creazione: "),S=f("span"),Ne=T(te),Te=y(),G=f("p"),x=T("Stato turbina: "),Q=f("span"),ce=T(J),X=y(),ge&&ge.c(),Oe=y(),ue&&ue.c(),Z=y(),_e=f("div"),je(ke.$$.fragment),be=y(),je(we.$$.fragment),De=y(),je(he.$$.fragment),this.h()},l(V){e=h(V,"DIV",{class:!0});var ae=d(e);l=h(ae,"DIV",{class:!0});var Pe=d(l);r=h(Pe,"H1",{class:!0});var Me=d(r);c=C(Me,a),s=N(Me),ne&&ne.l(Me),Me.forEach(u),i=N(Pe),p=h(Pe,"DIV",{class:!0});var xe=d(p);m=h(xe,"DIV",{class:!0});var $e=d(m);_=h($e,"DIV",{class:!0}),d(_).forEach(u),w=N($e),fe&&fe.l($e),b=N($e),g=h($e,"DIV",{class:!0});var Be=d(g);v=h(Be,"BUTTON",{class:!0});var rt=d(v);E=z(rt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Ce=d(E);I=z(Ce,"polyline",{points:!0}),d(I).forEach(u),k=z(Ce,"path",{d:!0}),d(k).forEach(u),D=z(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(D).forEach(u),M=z(Ce,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(M).forEach(u),Ce.forEach(u),rt.forEach(u),$=N(Be),L=h(Be,"BUTTON",{class:!0});var ot=d(L);F=z(ot,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Dt=d(F);R=z(Dt,"path",{d:!0}),d(R).forEach(u),Dt.forEach(u),ot.forEach(u),O=N(Be),B=h(Be,"BUTTON",{class:!0});var It=d(B);A=z(It,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var Qe=d(A);j=z(Qe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(j).forEach(u),oe=z(Qe,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(oe).forEach(u),Qe.forEach(u),It.forEach(u),Be.forEach(u),$e.forEach(u),xe.forEach(u),Pe.forEach(u),H=N(ae),ve=h(ae,"DIV",{class:!0});var Xe=d(ve);ee=h(Xe,"DIV",{class:!0});var Ae=d(ee);ie=h(Ae,"P",{class:!0});var pt=d(ie);ye=C(pt,"Creazione: "),S=h(pt,"SPAN",{});var Ze=d(S);Ne=C(Ze,te),Ze.forEach(u),pt.forEach(u),Te=N(Ae),G=h(Ae,"P",{class:!0});var et=d(G);x=C(et,"Stato turbina: "),Q=h(et,"SPAN",{});var St=d(Q);ce=C(St,J),St.forEach(u),et.forEach(u),X=N(Ae),ge&&ge.l(Ae),Oe=N(Ae),ue&&ue.l(Ae),Z=N(Ae),_e=h(Ae,"DIV",{class:!0});var st=d(_e);Ue(ke.$$.fragment,st),be=N(st),Ue(we.$$.fragment,st),st.forEach(u),Ae.forEach(u),De=N(Xe),Ue(he.$$.fragment,Xe),Xe.forEach(u),ae.forEach(u),this.h()},h(){t(r,"class","font-mono font-bold text-2xl md:text-4xl"),t(_,"class","col-span-3"),t(I,"points","3 6 5 6 21 6"),t(k,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),t(D,"x1","10"),t(D,"y1","11"),t(D,"x2","10"),t(D,"y2","17"),t(M,"x1","14"),t(M,"y1","11"),t(M,"x2","14"),t(M,"y2","17"),t(E,"xmlns","http://www.w3.org/2000/svg"),t(E,"width","20"),t(E,"height","20"),t(E,"viewBox","0 0 24 24"),t(E,"fill","none"),t(E,"stroke","currentColor"),t(E,"stroke-width","2"),t(E,"stroke-linecap","round"),t(E,"stroke-linejoin","round"),t(E,"class","feather feather-trash-2"),t(v,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(R,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),t(F,"xmlns","http://www.w3.org/2000/svg"),t(F,"width","20"),t(F,"height","20"),t(F,"viewBox","0 0 24 24"),t(F,"fill","none"),t(F,"stroke","currentColor"),t(F,"stroke-width","2"),t(F,"stroke-linecap","round"),t(F,"stroke-linejoin","round"),t(F,"class","feather feather-edit-2"),t(L,"class","text-blue-500 hover:scale-110 hover:shadow-sm"),t(j,"x1","18"),t(j,"y1","6"),t(j,"x2","6"),t(j,"y2","18"),t(oe,"x1","6"),t(oe,"y1","6"),t(oe,"x2","18"),t(oe,"y2","18"),t(A,"xmlns","http://www.w3.org/2000/svg"),t(A,"width","24"),t(A,"height","24"),t(A,"viewBox","0 0 24 24"),t(A,"fill","none"),t(A,"stroke","currentColor"),t(A,"stroke-width","2"),t(A,"stroke-linecap","round"),t(A,"stroke-linejoin","round"),t(A,"class","feather feather-x"),t(B,"class","text-red-500 hover:scale-110 hover:shadow-sm"),t(g,"class","flex flex-row col-span-3 gap-2 items-center font-bold py-2"),t(m,"class","grid grid-cols-6"),t(p,"class","flex flex-row justify-end"),t(l,"class","w-full h-20 grid grid-cols-2 items-start"),t(ie,"class","prose font-mono text-white"),t(G,"class","prose font-mono text-white"),t(_e,"class","w-full md:w-3/4 mt-5"),t(ee,"class","col-span-1"),t(ve,"class","w-full grid grid-cols-1 md:grid-cols-2 items-start"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-400 p-4 backdrop-filter backdrop-blur-sm bg-opacity-75 text-white font-mono text-2xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 z-50 h-[32rem] overflow-y-scroll scrollbar-none md:h-auto md:min-h-[28rem]")},m(V,ae){q(V,e,ae),o(e,l),o(l,r),o(r,c),o(r,s),ne&&ne.m(r,null),o(l,i),o(l,p),o(p,m),o(m,_),o(m,w),fe&&fe.m(m,null),o(m,b),o(m,g),o(g,v),o(v,E),o(E,I),o(E,k),o(E,D),o(E,M),o(g,$),o(g,L),o(L,F),o(F,R),o(g,O),o(g,B),o(B,A),o(A,j),o(A,oe),o(e,H),o(e,ve),o(ve,ee),o(ee,ie),o(ie,ye),o(ie,S),o(S,Ne),o(ee,Te),o(ee,G),o(G,x),o(G,Q),o(Q,ce),o(ee,X),ge&&ge.m(ee,null),o(ee,Oe),ue&&ue.m(ee,null),o(ee,Z),o(ee,_e),ze(ke,_e,null),o(_e,be),ze(we,_e,null),o(ve,De),ze(he,ve,null),Y=!0,He||(Ee=[P(v,"click",n[10]),P(L,"click",n[3]),P(B,"click",n[2]),P(e,"click",qe(n[5])),P(e,"keydown",qe(n[6]))],He=!0)},p(V,[ae]){(!Y||ae&1)&&a!==(a=V[0].turbineName+"")&&de(c,a),V[0].turbineNumber?ne?ne.p(V,ae):(ne=Ar(V),ne.c(),ne.m(r,null)):ne&&(ne.d(1),ne=null),V[1]?fe?(fe.p(V,ae),ae&2&&le(fe,1)):(fe=xr(V),fe.c(),le(fe,1),fe.m(m,b)):fe&&(Wt(),me(fe,1,1,()=>{fe=null}),Rt()),(!Y||ae&1)&&te!==(te=V[0].creationDate+"")&&de(Ne,te),(!Y||ae&1)&&J!==(J=V[0].turbineState+"")&&de(ce,J),V[0].permittingDate!==void 0?ge?ge.p(V,ae):(ge=$r(V),ge.c(),ge.m(ee,Oe)):ge&&(ge.d(1),ge=null),V[0].priorNotification!==void 0?ue?ue.p(V,ae):(ue=jr(V),ue.c(),ue.m(ee,Z)):ue&&(ue.d(1),ue=null);const Pe={};ae&1&&(Pe.turbine=V[0]),ke.$set(Pe);const Me={};ae&1&&(Me.turbine=V[0]),we.$set(Me);const xe={};ae&1&&(xe.turbine=V[0]),he.$set(xe)},i(V){Y||(le(fe),le(ke.$$.fragment,V),le(we.$$.fragment,V),le(he.$$.fragment,V),K||Ge(()=>{K=nt(e,Je,{duration:1e3}),K.start()}),Y=!0)},o(V){me(fe),me(ke.$$.fragment,V),me(we.$$.fragment,V),me(he.$$.fragment,V),Y=!1},d(V){V&&u(e),ne&&ne.d(),fe&&fe.d(),ge&&ge.d(),ue&&ue.d(),Le(ke),Le(we),Le(he),He=!1,Ye(Ee)}}}function Mo(n,e,l){let{turbine:r={id:0,turbineName:"",turbineNumber:"",description:"",odlNumber:0,power:"KILOWATT",operation:[],creationDate:"",turbineState:"",completedSteps:0,startingDateOOCC:"",permittingDate:"",priorNotification:"",mailSent:!1}}=e;const a=at(),c=()=>{a("closeDetails")},s=()=>{a("editMode",r.id)};let i=!1;const p=()=>{l(1,i=!1),io(r.id).then(()=>{a("deleted")})};function m(E){ht.call(this,n,E)}function _(E){ht.call(this,n,E)}const w=()=>{l(1,i=!1)},b=()=>{l(1,i=!1)},g=()=>{l(1,i=!1)},v=()=>{l(1,i=!0)};return n.$$set=E=>{"turbine"in E&&l(0,r=E.turbine)},[r,i,c,s,p,m,_,w,b,g,v]}class Vo extends Fe{constructor(e){super(),We(this,e,Mo,Oo,Re,{turbine:0})}}const Po={1:"Sost. Traversa",2:"Riparazione pale",3:"Sost. trafo",4:"Sost. generatore",5:"Sost. Ralla",6:"Pulizia tubolare",7:"Sost. IMS",8:"Serraggio Nose Cone",9:"Sost. Stella HUB",10:"Sost. Pala discesa rotore",11:"Sost. cuscinetto",12:"Sost. Asta Pitch",13:"Sost. Yaw Gear",14:"Sost. Gearbox",15:"Sost. Pala RJ",16:"Sost. Albero lento",17:"Ispezione RJ",18:"Sostituzione Blade Bearing",19:"Sostituzione Main Bearing",20:"Manutenzione ordinaria viabilità",21:"Attività Varie",22:"Bonifica Ambientale"};function Ur(n,e,l){const r=n.slice();return r[7]=e[l],r[8]=e,r[9]=l,r}function zr(n,e){let l,r,a,c,s,i=e[7].name+"",p,m,_,w;function b(...g){return e[5](e[7],e[8],e[9],...g)}return{key:n,first:null,c(){l=f("div"),r=f("input"),c=y(),s=f("p"),p=T(i),m=y(),this.h()},l(g){l=h(g,"DIV",{class:!0});var v=d(l);r=h(v,"INPUT",{class:!0,type:!0}),c=N(v),s=h(v,"P",{class:!0});var E=d(s);p=C(E,i),E.forEach(u),m=N(v),v.forEach(u),this.h()},h(){t(r,"class","checkbox"),r.checked=a=e[7].isSelected,t(r,"type","checkbox"),t(s,"class","font-mono"),t(l,"class","flex flex-row gap-4"),this.first=l},m(g,v){q(g,l,v),o(l,r),o(l,c),o(l,s),o(s,p),o(l,m),_||(w=P(r,"change",b),_=!0)},p(g,v){e=g,v&1&&a!==(a=e[7].isSelected)&&(r.checked=a),v&1&&i!==(i=e[7].name+"")&&de(p,i)},d(g){g&&u(l),_=!1,w()}}}function Bo(n){let e,l,r=[],a=new Map,c,s,i,p,m,_,w,b,g,v,E=n[0];const I=k=>k[7].name;for(let k=0;k<E.length;k+=1){let D=Ur(n,E,k),M=I(D);a.set(M,r[k]=zr(M,D))}return{c(){e=f("div"),l=f("div");for(let k=0;k<r.length;k+=1)r[k].c();c=y(),s=f("div"),i=f("button"),p=T("Conferma"),m=y(),_=f("button"),w=T("Chiudi"),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=d(e);l=h(D,"DIV",{class:!0});var M=d(l);for(let R=0;R<r.length;R+=1)r[R].l(M);M.forEach(u),c=N(D),s=h(D,"DIV",{class:!0});var $=d(s);i=h($,"BUTTON",{class:!0});var L=d(i);p=C(L,"Conferma"),L.forEach(u),m=N($),_=h($,"BUTTON",{class:!0});var F=d(_);w=C(F,"Chiudi"),F.forEach(u),$.forEach(u),D.forEach(u),this.h()},h(){t(l,"class","grid grid-cols-1 gap-2 h-96 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800"),t(i,"class","font-bold font-mono bg-green-500 hover:bg-green-600 py-2 px-4 rounded w-24"),t(_,"class","font-bold font-mono bg-red-500 hover:bg-red-600 py-2 px-4 rounded w-24"),t(s,"class","flex flex-row mt-5 gap-2 justify-center"),t(e,"class","bg-gray-800 rounded border-2 border-gray-800 ring-2 ring-gray-500 p-4 overflow-y-hidden w-80 md:w-96 backdrop-filter backdrop-blur-md bg-opacity-75 text-white font-mono absolute top-16 transform left-1/2 -translate-x-1/2 z-50")},m(k,D){q(k,e,D),o(e,l);for(let M=0;M<r.length;M+=1)r[M].m(l,null);o(e,c),o(e,s),o(s,i),o(i,p),o(s,m),o(s,_),o(_,w),g||(v=[P(i,"click",qe(n[1])),P(_,"click",qe(n[2])),P(e,"click",qe(n[3])),P(e,"keydown",qe(n[4]))],g=!0)},p(k,[D]){D&1&&(E=k[0],r=er(r,D,I,1,k,E,a,l,Gr,zr,null,Ur))},i(k){b||Ge(()=>{b=nt(e,Je,{duration:300}),b.start()})},o:re,d(k){k&&u(e);for(let D=0;D<r.length;D+=1)r[D].d();g=!1,Ye(v)}}}function Ao(n,e,l){let{operations:r=[]}=e;const a=at(),c=()=>{a("confirm",r)},s=()=>{a("cancel")};function i(_){ht.call(this,n,_)}function p(_){ht.call(this,n,_)}const m=(_,w,b,g)=>{l(0,w[b].isSelected=g.target.checked,r)};return n.$$set=_=>{"operations"in _&&l(0,r=_.operations)},[r,c,s,i,p,m]}class xo extends Fe{constructor(e){super(),We(this,e,Ao,Bo,Re,{operations:0})}}function $o(n){let e,l,r,a,c,s,i,p,m,_,w,b,g,v,E,I,k,D,M,$,L,F;return{c(){e=f("div"),l=f("div"),r=f("button"),a=U("svg"),c=U("path"),s=U("line"),i=U("polyline"),m=T("Kilowatt"),w=y(),b=f("button"),g=U("svg"),v=U("path"),E=U("line"),I=U("polyline"),D=T("Megawatt"),this.h()},l(R){e=h(R,"DIV",{class:!0});var O=d(e);l=h(O,"DIV",{class:!0});var B=d(l);r=h(B,"BUTTON",{class:!0,type:!0});var A=d(r);a=z(A,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var j=d(a);c=z(j,"path",{d:!0}),d(c).forEach(u),s=z(j,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(s).forEach(u),i=z(j,"polyline",{points:!0}),d(i).forEach(u),j.forEach(u),m=C(A,"Kilowatt"),A.forEach(u),w=N(B),b=h(B,"BUTTON",{class:!0,type:!0});var oe=d(b);g=z(oe,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var H=d(g);v=z(H,"path",{d:!0}),d(v).forEach(u),E=z(H,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(E).forEach(u),I=z(H,"polyline",{points:!0}),d(I).forEach(u),H.forEach(u),D=C(oe,"Megawatt"),oe.forEach(u),B.forEach(u),O.forEach(u),this.h()},h(){t(c,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(s,"x1","23"),t(s,"y1","13"),t(s,"x2","23"),t(s,"y2","11"),t(i,"points","11 6 7 12 13 12 9 18"),t(a,"xmlns","http://www.w3.org/2000/svg"),t(a,"width","24"),t(a,"height","24"),t(a,"viewBox","0 0 24 24"),t(a,"fill","none"),t(a,"stroke","currentColor"),t(a,"stroke-width","2"),t(a,"stroke-linecap","round"),t(a,"stroke-linejoin","round"),t(a,"class",p=n[0]?"text-green-500":""),t(r,"class",_=Ve(n[0]?"button ring-2 ring-green-500":"button")+" svelte-1stm7rw"),t(r,"type","button"),t(v,"d","M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"),t(E,"x1","23"),t(E,"y1","13"),t(E,"x2","23"),t(E,"y2","11"),t(I,"points","11 6 7 12 13 12 9 18"),t(g,"xmlns","http://www.w3.org/2000/svg"),t(g,"width","24"),t(g,"height","24"),t(g,"viewBox","0 0 24 24"),t(g,"fill","none"),t(g,"stroke","currentColor"),t(g,"stroke-width","2"),t(g,"stroke-linecap","round"),t(g,"stroke-linejoin","round"),t(g,"class",k=n[0]?"":"text-blue-500"),t(b,"class",M=Ve(n[0]?"button":"button ring-2 ring-blue-500")+" svelte-1stm7rw"),t(b,"type","button"),t(l,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(R,O){q(R,e,O),o(e,l),o(l,r),o(r,a),o(a,c),o(a,s),o(a,i),o(r,m),o(l,w),o(l,b),o(b,g),o(g,v),o(g,E),o(g,I),o(b,D),L||(F=[P(r,"click",n[2]),P(b,"click",n[3])],L=!0)},p(R,[O]){O&1&&p!==(p=R[0]?"text-green-500":"")&&t(a,"class",p),O&1&&_!==(_=Ve(R[0]?"button ring-2 ring-green-500":"button")+" svelte-1stm7rw")&&t(r,"class",_),O&1&&k!==(k=R[0]?"":"text-blue-500")&&t(g,"class",k),O&1&&M!==(M=Ve(R[0]?"button":"button ring-2 ring-blue-500")+" svelte-1stm7rw")&&t(b,"class",M)},i(R){$||Ge(()=>{$=nt(e,Je,{duration:300,delay:300}),$.start()})},o:re,d(R){R&&u(e),L=!1,Ye(F)}}}function jo(n,e,l){const r=at();let a=!0;const c=()=>{r("change",a?"KILOWATT":"MEGAWATT")};return[a,c,()=>{l(0,a=!0),c()},()=>{l(0,a=!1),c()}]}class Uo extends Fe{constructor(e){super(),We(this,e,jo,$o,Re,{})}}function zo(n){let e,l,r,a,c,s,i,p,m,_,w,b,g,v,E,I;return{c(){e=f("div"),l=f("div"),r=f("button"),a=T("In Marcia"),s=y(),i=f("button"),p=T("Limitata"),_=y(),w=f("button"),b=T("Ferma"),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=d(e);l=h(D,"DIV",{class:!0});var M=d(l);r=h(M,"BUTTON",{class:!0,type:!0});var $=d(r);a=C($,"In Marcia"),$.forEach(u),s=N(M),i=h(M,"BUTTON",{class:!0,type:!0});var L=d(i);p=C(L,"Limitata"),L.forEach(u),_=N(M),w=h(M,"BUTTON",{class:!0,type:!0});var F=d(w);b=C(F,"Ferma"),F.forEach(u),M.forEach(u),D.forEach(u),this.h()},h(){t(r,"class",c=Ve(n[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-1stm7rw"),t(r,"type","button"),t(i,"class",m=Ve(n[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-1stm7rw"),t(i,"type","button"),t(w,"class",g=Ve(n[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-1stm7rw"),t(w,"type","button"),t(l,"class","flex flex-row justify-center gap-4 font-bold font-mono h-full w-[13rem] md:w-[27rem]"),t(e,"class","p-4 h-full")},m(k,D){q(k,e,D),o(e,l),o(l,r),o(r,a),o(l,s),o(l,i),o(i,p),o(l,_),o(l,w),o(w,b),E||(I=[P(r,"click",n[2]),P(i,"click",n[3]),P(w,"click",n[4])],E=!0)},p(k,[D]){D&1&&c!==(c=Ve(k[0]==="In Marcia"?"button ring-2 ring-green-500":"button")+" svelte-1stm7rw")&&t(r,"class",c),D&1&&m!==(m=Ve(k[0]==="Limitata"?"button ring-2 ring-orange-500":"button")+" svelte-1stm7rw")&&t(i,"class",m),D&1&&g!==(g=Ve(k[0]==="Ferma"?"button ring-2 ring-red-500":"button")+" svelte-1stm7rw")&&t(w,"class",g)},i(k){v||Ge(()=>{v=nt(e,Je,{duration:300,delay:300}),v.start()})},o:re,d(k){k&&u(e),E=!1,Ye(I)}}}function Lo(n,e,l){const r=at();let a="In Marcia";const c=()=>{r("change",a)};return[a,c,()=>{l(0,a="In Marcia"),c()},()=>{l(0,a="Limitata"),c()},()=>{l(0,a="Ferma"),c()}]}class Fo extends Fe{constructor(e){super(),We(this,e,Lo,zo,Re,{})}}function Lr(n){let e,l,r,a,c;return l=new xo({props:{operations:n[3]}}),l.$on("cancel",n[12]),l.$on("confirm",n[13]),{c(){e=f("div"),je(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);Ue(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","w-full h-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){q(s,e,i),ze(l,e,null),r=!0,a||(c=[P(e,"click",qe(n[14])),P(e,"keydown",qe(n[15]))],a=!0)},p(s,i){const p={};i&8&&(p.operations=s[3]),l.$set(p)},i(s){r||(le(l.$$.fragment,s),r=!0)},o(s){me(l.$$.fragment,s),r=!1},d(s){s&&u(e),Le(l),a=!1,Ye(c)}}}function Wo(n){let e,l,r,a,c,s,i,p,m,_,w,b,g,v,E,I,k,D,M,$,L,F,R,O,B,A,j,oe,H,ve,ee,ie,ye,S,te,Ne,Te,G,x,Q,J,ce,X,Oe,Z,_e,ke,be,we,De,he,K,Y,He,Ee,ne,fe,ge,ue,V,ae,Pe,Me=n[1]?"modifica":"creazione",xe,$e,Be,rt,Ce,ot,Dt,It,Qe,Xe=n[0].turbineNumber+"",Ae,pt,Ze,et,St,st,Tt,Ht=n[0].turbineName+"",tl,Tl,gt,Ct,Cl,Ol,Ot,Kt=n[0].description+"",ll,Ml,mt,Mt,Vl,Pl,Vt,qt=(n[0].odlNumber||"N/A")+"",rl,Bl,vt,Pt,Al,xl,Bt,Gt=n[0].operation+"",ol,$l,_t,At,jl,Ul,xt,Jt=n[0].power+"",nl,zl,bt,$t,Ll,Fl,jt,Yt=n[0].turbineState+"",al,Wl,it,ct,Rl,Hl,wt,Qt,Xt=n[1]?"Modifica":"Crea",sl,ut,Kl,Ke,kt,il,ql,Et,cl,Gl,yt,ul,dt,pe,Jl,tr,Ie=n[2]&&Lr(n);return B=new Uo({}),B.$on("change",n[21]),H=new Fo({}),H.$on("change",n[22]),{c(){e=f("div"),Ie&&Ie.c(),l=y(),r=f("form"),a=f("div"),c=f("div"),s=f("div"),i=f("input"),m=y(),_=f("input"),b=y(),g=f("input"),E=y(),I=f("input"),D=y(),M=f("div"),$=f("button"),L=f("input"),R=y(),O=f("div"),je(B.$$.fragment),A=y(),j=f("div"),oe=f("div"),je(H.$$.fragment),ve=y(),ee=f("div"),ie=f("label"),ye=T("Data Inizio EEMM"),S=y(),te=f("input"),Te=y(),G=f("div"),x=f("label"),Q=T("Data Inizio OOCC"),J=y(),ce=f("input"),Oe=y(),Z=f("div"),_e=f("label"),ke=T("Validità permitting"),be=y(),we=f("input"),he=y(),K=f("div"),Y=f("label"),He=T("Validità notifica"),Ee=y(),ne=f("input"),ge=y(),ue=f("div"),V=f("div"),ae=f("h2"),Pe=T("Riepilogo "),xe=T(Me),$e=y(),Be=f("div"),rt=y(),Ce=f("p"),ot=f("span"),Dt=T("Numero cantiere:"),It=y(),Qe=f("span"),Ae=T(Xe),pt=y(),Ze=f("p"),et=f("span"),St=T("Aerogeneratore:"),st=y(),Tt=f("span"),tl=T(Ht),Tl=y(),gt=f("p"),Ct=f("span"),Cl=T("Impianto eolico:"),Ol=y(),Ot=f("span"),ll=T(Kt),Ml=y(),mt=f("p"),Mt=f("span"),Vl=T("Numero ODL:"),Pl=y(),Vt=f("span"),rl=T(qt),Bl=y(),vt=f("p"),Pt=f("span"),Al=T("Operazioni:"),xl=y(),Bt=f("span"),ol=T(Gt),$l=y(),_t=f("p"),At=f("span"),jl=T("Tipologia:"),Ul=y(),xt=f("span"),nl=T(Jt),zl=y(),bt=f("p"),$t=f("span"),Ll=T("Stato:"),Fl=y(),jt=f("span"),al=T(Yt),Wl=y(),it=f("div"),ct=f("button"),Rl=T("Annulla"),Hl=y(),wt=f("button"),Qt=f("p"),sl=T(Xt),Kl=y(),Ke=f("div"),kt=f("input"),ql=y(),Et=f("input"),Gl=y(),yt=f("input"),this.h()},l(W){e=h(W,"DIV",{class:!0});var se=d(e);Ie&&Ie.l(se),l=N(se),r=h(se,"FORM",{});var dl=d(r);a=h(dl,"DIV",{id:!0,class:!0});var Ut=d(a);c=h(Ut,"DIV",{class:!0});var zt=d(c);s=h(zt,"DIV",{class:!0});var ft=d(s);i=h(ft,"INPUT",{class:!0,type:!0,placeholder:!0}),m=N(ft),_=h(ft,"INPUT",{class:!0,type:!0,placeholder:!0}),b=N(ft),g=h(ft,"INPUT",{class:!0,type:!0,placeholder:!0}),E=N(ft),I=h(ft,"INPUT",{class:!0,type:!0,placeholder:!0}),ft.forEach(u),D=N(zt),M=h(zt,"DIV",{class:!0});var lr=d(M);$=h(lr,"BUTTON",{type:!0,class:!0});var rr=d($);L=h(rr,"INPUT",{class:!0,placeholder:!0}),rr.forEach(u),lr.forEach(u),R=N(zt),O=h(zt,"DIV",{class:!0});var or=d(O);Ue(B.$$.fragment,or),or.forEach(u),zt.forEach(u),A=N(Ut),j=h(Ut,"DIV",{class:!0});var tt=d(j);oe=h(tt,"DIV",{class:!0});var nr=d(oe);Ue(H.$$.fragment,nr),nr.forEach(u),ve=N(tt),ee=h(tt,"DIV",{});var fl=d(ee);ie=h(fl,"LABEL",{for:!0,class:!0});var ar=d(ie);ye=C(ar,"Data Inizio EEMM"),ar.forEach(u),S=N(fl),te=h(fl,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),fl.forEach(u),Te=N(tt),G=h(tt,"DIV",{});var hl=d(G);x=h(hl,"LABEL",{for:!0,class:!0});var sr=d(x);Q=C(sr,"Data Inizio OOCC"),sr.forEach(u),J=N(hl),ce=h(hl,"INPUT",{class:!0,type:!0,placeholder:!0}),hl.forEach(u),Oe=N(tt),Z=h(tt,"DIV",{});var pl=d(Z);_e=h(pl,"LABEL",{for:!0,class:!0});var ir=d(_e);ke=C(ir,"Validità permitting"),ir.forEach(u),be=N(pl),we=h(pl,"INPUT",{class:!0,type:!0,placeholder:!0}),pl.forEach(u),he=N(tt),K=h(tt,"DIV",{});var gl=d(K);Y=h(gl,"LABEL",{for:!0,class:!0});var cr=d(Y);He=C(cr,"Validità notifica"),cr.forEach(u),Ee=N(gl),ne=h(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(u),tt.forEach(u),ge=N(Ut),ue=h(Ut,"DIV",{class:!0});var ml=d(ue);V=h(ml,"DIV",{class:!0});var Se=d(V);ae=h(Se,"H2",{class:!0});var Yl=d(ae);Pe=C(Yl,"Riepilogo "),xe=C(Yl,Me),Yl.forEach(u),$e=N(Se),Be=h(Se,"DIV",{class:!0}),d(Be).forEach(u),rt=N(Se),Ce=h(Se,"P",{});var vl=d(Ce);ot=h(vl,"SPAN",{class:!0});var ur=d(ot);Dt=C(ur,"Numero cantiere:"),ur.forEach(u),It=N(vl),Qe=h(vl,"SPAN",{class:!0});var dr=d(Qe);Ae=C(dr,Xe),dr.forEach(u),vl.forEach(u),pt=N(Se),Ze=h(Se,"P",{});var _l=d(Ze);et=h(_l,"SPAN",{class:!0});var fr=d(et);St=C(fr,"Aerogeneratore:"),fr.forEach(u),st=N(_l),Tt=h(_l,"SPAN",{class:!0});var hr=d(Tt);tl=C(hr,Ht),hr.forEach(u),_l.forEach(u),Tl=N(Se),gt=h(Se,"P",{});var bl=d(gt);Ct=h(bl,"SPAN",{class:!0});var pr=d(Ct);Cl=C(pr,"Impianto eolico:"),pr.forEach(u),Ol=N(bl),Ot=h(bl,"SPAN",{class:!0});var gr=d(Ot);ll=C(gr,Kt),gr.forEach(u),bl.forEach(u),Ml=N(Se),mt=h(Se,"P",{});var wl=d(mt);Mt=h(wl,"SPAN",{class:!0});var mr=d(Mt);Vl=C(mr,"Numero ODL:"),mr.forEach(u),Pl=N(wl),Vt=h(wl,"SPAN",{class:!0});var vr=d(Vt);rl=C(vr,qt),vr.forEach(u),wl.forEach(u),Bl=N(Se),vt=h(Se,"P",{});var kl=d(vt);Pt=h(kl,"SPAN",{class:!0});var _r=d(Pt);Al=C(_r,"Operazioni:"),_r.forEach(u),xl=N(kl),Bt=h(kl,"SPAN",{class:!0});var br=d(Bt);ol=C(br,Gt),br.forEach(u),kl.forEach(u),$l=N(Se),_t=h(Se,"P",{});var El=d(_t);At=h(El,"SPAN",{class:!0});var wr=d(At);jl=C(wr,"Tipologia:"),wr.forEach(u),Ul=N(El),xt=h(El,"SPAN",{class:!0});var kr=d(xt);nl=C(kr,Jt),kr.forEach(u),El.forEach(u),zl=N(Se),bt=h(Se,"P",{});var yl=d(bt);$t=h(yl,"SPAN",{class:!0});var Er=d($t);Ll=C(Er,"Stato:"),Er.forEach(u),Fl=N(yl),jt=h(yl,"SPAN",{class:!0});var yr=d(jt);al=C(yr,Yt),yr.forEach(u),yl.forEach(u),Se.forEach(u),Wl=N(ml),it=h(ml,"DIV",{class:!0});var Nl=d(it);ct=h(Nl,"BUTTON",{type:!0,class:!0});var Nr=d(ct);Rl=C(Nr,"Annulla"),Nr.forEach(u),Hl=N(Nl),wt=h(Nl,"BUTTON",{class:!0});var Dr=d(wt);Qt=h(Dr,"P",{});var Ir=d(Qt);sl=C(Ir,Xt),Ir.forEach(u),Dr.forEach(u),Nl.forEach(u),ml.forEach(u),Ut.forEach(u),Kl=N(dl),Ke=h(dl,"DIV",{class:!0});var Lt=d(Ke);kt=h(Lt,"INPUT",{type:!0,class:!0}),ql=N(Lt),Et=h(Lt,"INPUT",{type:!0,class:!0}),Gl=N(Lt),yt=h(Lt,"INPUT",{type:!0,class:!0}),Lt.forEach(u),dl.forEach(u),se.forEach(u),this.h()},h(){t(i,"class","input"),t(i,"type","text"),i.value=p=n[0].turbineName,t(i,"placeholder","Aerogeneratore*"),i.required=!0,i.disabled=n[1],t(_,"class","input"),t(_,"type","text"),_.value=w=n[0].turbineNumber,t(_,"placeholder","Numero cantiere"),t(g,"class","input"),t(g,"type","text"),g.value=v=n[0].description,t(g,"placeholder","Impianto Eolico*"),g.required=!0,t(I,"class","input"),t(I,"type","number"),I.value=k=n[0].odlNumber,t(I,"placeholder","Numero ODL"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),t(L,"class","w-full"),L.value=F=n[0].operation.length>0?n[0].operation.join(", "):"",L.disabled=!0,t(L,"placeholder","Operazioni*"),L.required=!0,t($,"type","button"),t($,"class","input hover:bg-gray-200 text-start transition ease-in-out"),t(M,"class","col-span-full mt-5"),t(O,"class","col-span-full mt-auto"),t(c,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(oe,"class","col-span-full"),t(ie,"for","dateEEMM"),t(ie,"class","font-mono text-white"),t(te,"id","dateEEMM"),t(te,"class","input"),t(te,"type","date"),te.value=Ne=n[0].startingDateEEMM!==void 0?n[0].startingDateEEMM:"",t(te,"placeholder","Data inizio EEMM"),t(x,"for","dateEEMM"),t(x,"class","font-mono text-white"),t(ce,"class","input"),t(ce,"type","date"),ce.value=X=n[0].startingDateOOCC!==void 0?n[0].startingDateOOCC:"",t(ce,"placeholder","Data inizio OOCC"),t(_e,"for","dateEEMM"),t(_e,"class","font-mono text-white"),t(we,"class","input"),t(we,"type","date"),we.value=De=n[0].permittingDate!==void 0?n[0].permittingDate:"",t(we,"placeholder","Validità permitting"),t(Y,"for","dateEEMM"),t(Y,"class","font-mono text-white"),t(ne,"class","input"),t(ne,"type","date"),ne.value=fe=n[0].priorNotification!==void 0?n[0].priorNotification:"",t(ne,"placeholder","Validità notifica"),t(j,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(ae,"class","font-mono font-extrabold text-gray-300 text-2xl mb-2"),t(Be,"class","h-1 w-3/4 bg-gray-500 my-1 rounded"),t(ot,"class","font-mono font-bold text-gray-300"),t(Qe,"class","font-mono text-gray-300"),t(et,"class","font-mono font-bold text-gray-300"),t(Tt,"class","font-mono text-gray-300"),t(Ct,"class","font-mono font-bold text-gray-300"),t(Ot,"class","font-mono text-gray-300"),t(Mt,"class","font-mono font-bold text-gray-300"),t(Vt,"class","font-mono text-gray-300"),t(Pt,"class","font-mono font-bold text-gray-300"),t(Bt,"class","font-mono text-gray-300"),t(At,"class","font-mono font-bold text-gray-300"),t(xt,"class","font-mono text-gray-300"),t($t,"class","font-mono font-bold text-gray-300"),t(jt,"class","font-mono text-gray-300"),t(V,"class","w-[15rem] md:w-[29rem] h-3/4"),t(ct,"type","button"),t(ct,"class","font-bold font-mono bg-red-500 py-2 rounded w-24"),t(wt,"class","font-bold font-mono bg-green-500 py-2 rounded w-24"),t(it,"class","grid grid-flow-col place-content-center w-full mt-5 gap-2"),t(ue,"class","flex flex-col gap-3 bg-gray-800 p-5 rounded ring-2 ring-gray-500 snap-center"),t(a,"id","scrollable"),t(a,"class","flex flex-row gap-5 text-black p-2 w-[19rem] md:w-[32.5rem] scrollbar-none overflow-scroll snap-x snap-mandatory"),t(kt,"type","checkbox"),t(kt,"class",il=Ve(n[4]===0?"dot bg-amber-400":"dot bg-gray-300")+" svelte-1e1npes"),t(Et,"type","checkbox"),t(Et,"class",cl=Ve(n[4]===1?"dot bg-amber-400":"dot bg-gray-300")+" svelte-1e1npes"),t(yt,"type","checkbox"),t(yt,"class",ul=Ve(n[4]===2?"dot bg-amber-400":"dot bg-gray-300")+" svelte-1e1npes"),t(Ke,"class","grid grid-flow-col place-content-center w-full gap-2 h-10"),t(e,"class","h-full w-full flex flex-col items-center justify-center md:min-h-screen scrollbar-none overflow-x-hidden")},m(W,se){q(W,e,se),Ie&&Ie.m(e,null),o(e,l),o(e,r),o(r,a),o(a,c),o(c,s),o(s,i),o(s,m),o(s,_),o(s,b),o(s,g),o(s,E),o(s,I),o(c,D),o(c,M),o(M,$),o($,L),o(c,R),o(c,O),ze(B,O,null),o(a,A),o(a,j),o(j,oe),ze(H,oe,null),o(j,ve),o(j,ee),o(ee,ie),o(ie,ye),o(ee,S),o(ee,te),o(j,Te),o(j,G),o(G,x),o(x,Q),o(G,J),o(G,ce),o(j,Oe),o(j,Z),o(Z,_e),o(_e,ke),o(Z,be),o(Z,we),o(j,he),o(j,K),o(K,Y),o(Y,He),o(K,Ee),o(K,ne),o(a,ge),o(a,ue),o(ue,V),o(V,ae),o(ae,Pe),o(ae,xe),o(V,$e),o(V,Be),o(V,rt),o(V,Ce),o(Ce,ot),o(ot,Dt),o(Ce,It),o(Ce,Qe),o(Qe,Ae),o(V,pt),o(V,Ze),o(Ze,et),o(et,St),o(Ze,st),o(Ze,Tt),o(Tt,tl),o(V,Tl),o(V,gt),o(gt,Ct),o(Ct,Cl),o(gt,Ol),o(gt,Ot),o(Ot,ll),o(V,Ml),o(V,mt),o(mt,Mt),o(Mt,Vl),o(mt,Pl),o(mt,Vt),o(Vt,rl),o(V,Bl),o(V,vt),o(vt,Pt),o(Pt,Al),o(vt,xl),o(vt,Bt),o(Bt,ol),o(V,$l),o(V,_t),o(_t,At),o(At,jl),o(_t,Ul),o(_t,xt),o(xt,nl),o(V,zl),o(V,bt),o(bt,$t),o($t,Ll),o(bt,Fl),o(bt,jt),o(jt,al),o(ue,Wl),o(ue,it),o(it,ct),o(ct,Rl),o(it,Hl),o(it,wt),o(wt,Qt),o(Qt,sl),o(r,Kl),o(r,Ke),o(Ke,kt),o(Ke,ql),o(Ke,Et),o(Ke,Gl),o(Ke,yt),pe=!0,Jl||(tr=[P(i,"change",n[16]),P(_,"change",n[17]),P(g,"change",n[18]),P(I,"change",n[19]),P($,"click",n[20]),P(te,"change",n[23]),P(ce,"change",n[24]),P(we,"change",n[25]),P(ne,"change",n[26]),P(ct,"click",n[6]),P(wt,"click",n[7]),P(a,"click",qe(n[10])),P(a,"keydown",qe(n[11])),P(kt,"change",n[27]),P(Et,"change",n[28]),P(yt,"change",n[29]),P(Ke,"click",qe(n[8])),P(Ke,"keydown",qe(n[9]))],Jl=!0)},p(W,[se]){W[2]?Ie?(Ie.p(W,se),se&4&&le(Ie,1)):(Ie=Lr(W),Ie.c(),le(Ie,1),Ie.m(e,l)):Ie&&(Wt(),me(Ie,1,1,()=>{Ie=null}),Rt()),(!pe||se&1&&p!==(p=W[0].turbineName)&&i.value!==p)&&(i.value=p),(!pe||se&2)&&(i.disabled=W[1]),(!pe||se&1&&w!==(w=W[0].turbineNumber)&&_.value!==w)&&(_.value=w),(!pe||se&1&&v!==(v=W[0].description)&&g.value!==v)&&(g.value=v),(!pe||se&1&&k!==(k=W[0].odlNumber)&&I.value!==k)&&(I.value=k),(!pe||se&1&&F!==(F=W[0].operation.length>0?W[0].operation.join(", "):"")&&L.value!==F)&&(L.value=F),(!pe||se&1&&Ne!==(Ne=W[0].startingDateEEMM!==void 0?W[0].startingDateEEMM:""))&&(te.value=Ne),(!pe||se&1&&X!==(X=W[0].startingDateOOCC!==void 0?W[0].startingDateOOCC:""))&&(ce.value=X),(!pe||se&1&&De!==(De=W[0].permittingDate!==void 0?W[0].permittingDate:""))&&(we.value=De),(!pe||se&1&&fe!==(fe=W[0].priorNotification!==void 0?W[0].priorNotification:""))&&(ne.value=fe),(!pe||se&2)&&Me!==(Me=W[1]?"modifica":"creazione")&&de(xe,Me),(!pe||se&1)&&Xe!==(Xe=W[0].turbineNumber+"")&&de(Ae,Xe),(!pe||se&1)&&Ht!==(Ht=W[0].turbineName+"")&&de(tl,Ht),(!pe||se&1)&&Kt!==(Kt=W[0].description+"")&&de(ll,Kt),(!pe||se&1)&&qt!==(qt=(W[0].odlNumber||"N/A")+"")&&de(rl,qt),(!pe||se&1)&&Gt!==(Gt=W[0].operation+"")&&de(ol,Gt),(!pe||se&1)&&Jt!==(Jt=W[0].power+"")&&de(nl,Jt),(!pe||se&1)&&Yt!==(Yt=W[0].turbineState+"")&&de(al,Yt),(!pe||se&2)&&Xt!==(Xt=W[1]?"Modifica":"Crea")&&de(sl,Xt),(!pe||se&16&&il!==(il=Ve(W[4]===0?"dot bg-amber-400":"dot bg-gray-300")+" svelte-1e1npes"))&&t(kt,"class",il),(!pe||se&16&&cl!==(cl=Ve(W[4]===1?"dot bg-amber-400":"dot bg-gray-300")+" svelte-1e1npes"))&&t(Et,"class",cl),(!pe||se&16&&ul!==(ul=Ve(W[4]===2?"dot bg-amber-400":"dot bg-gray-300")+" svelte-1e1npes"))&&t(yt,"class",ul)},i(W){pe||(le(Ie),le(B.$$.fragment,W),le(H.$$.fragment,W),Ge(()=>{ut||(ut=Ft(a,Xl,{duration:150},!0)),ut.run(1)}),Ge(()=>{dt||(dt=Ft(e,Je,{duration:200},!0)),dt.run(1)}),pe=!0)},o(W){me(Ie),me(B.$$.fragment,W),me(H.$$.fragment,W),ut||(ut=Ft(a,Xl,{duration:150},!1)),ut.run(0),dt||(dt=Ft(e,Je,{duration:200},!1)),dt.run(0),pe=!1},d(W){W&&u(e),Ie&&Ie.d(),Le(B),Le(H),W&&ut&&ut.end(),W&&dt&&dt.end(),Jl=!1,Ye(tr)}}}function Ro(n,e,l){let{isEditMode:r=!1}=e,{windfarm:a={turbineName:"",turbineNumber:"",description:"",odlNumber:null,power:"KILOWATT",operation:[],turbineState:"In marcia",startingDateEEMM:null,startingDateOOCC:null,permittingDate:null,priorNotification:null}}=e;const c=at();let s=!1,i=[];Sl(()=>{l(3,i=Object.values(Po).map(S=>({name:S,isSelected:!1})))});let p=0;function m(){const S=document.getElementById("scrollable");let te=0;S!=null&&(p===1?window.innerWidth<768?te=S.scrollWidth/3:te=S.scrollWidth/2:p===2&&(te=S.scrollWidth),S.scrollTo({left:te,behavior:"smooth"}))}const _=()=>{c("close")},w=()=>{r?uo(a).then(S=>{S!==void 0&&S.status===200&&c("updated")}):co(a).then(S=>{S!==void 0&&S.status===200&&c("created")})};function b(S){ht.call(this,n,S)}function g(S){ht.call(this,n,S)}function v(S){ht.call(this,n,S)}function E(S){ht.call(this,n,S)}const I=()=>{l(2,s=!1)},k=S=>{l(3,i=S.detail),l(0,a.operation=i.filter(te=>te.isSelected).map(te=>te.name),a),l(2,s=!1)},D=()=>{l(2,s=!1)},M=()=>{l(2,s=!1)},$=S=>{l(0,a.turbineName=S.target.value,a)},L=S=>{l(0,a.turbineNumber=S.target.value,a)},F=S=>{l(0,a.description=S.target.value,a)},R=S=>{l(0,a.odlNumber=S.target.value,a)},O=()=>{l(2,s=!s)},B=S=>l(0,a.power=S.detail,a),A=S=>l(0,a.turbineState=S.detail,a),j=S=>{l(0,a.startingDateEEMM=S.target.value,a)},oe=S=>{l(0,a.startingDateOOCC=S.target.value,a)},H=S=>{l(0,a.permittingDate=S.target.value,a)},ve=S=>{l(0,a.priorNotification=S.target.value,a)},ee=()=>{l(4,p=0),m()},ie=()=>{l(4,p=1),m()},ye=()=>{l(4,p=2),m()};return n.$$set=S=>{"isEditMode"in S&&l(1,r=S.isEditMode),"windfarm"in S&&l(0,a=S.windfarm)},[a,r,s,i,p,m,_,w,b,g,v,E,I,k,D,M,$,L,F,R,O,B,A,j,oe,H,ve,ee,ie,ye]}class Yr extends Fe{constructor(e){super(),We(this,e,Ro,Wo,Re,{isEditMode:1,windfarm:0})}}function Ho(n){let e,l;return e=new Yr({props:{windfarm:n[0],isEditMode:!0}}),e.$on("close",n[1]),e.$on("updated",n[2]),{c(){je(e.$$.fragment)},l(r){Ue(e.$$.fragment,r)},m(r,a){ze(e,r,a),l=!0},p(r,[a]){const c={};a&1&&(c.windfarm=r[0]),e.$set(c)},i(r){l||(le(e.$$.fragment,r),l=!0)},o(r){me(e.$$.fragment,r),l=!1},d(r){Le(e,r)}}}function Ko(n,e,l){let{turbine:r}=e;const a=at(),c=()=>{a("close")},s=()=>{a("updated")};return n.$$set=i=>{"turbine"in i&&l(0,r=i.turbine)},[r,c,s]}class qo extends Fe{constructor(e){super(),We(this,e,Ko,Ho,Re,{turbine:0})}}function Go(n){let e,l;return e=new Yr({props:{isEditMode:!1}}),e.$on("close",n[0]),e.$on("created",n[1]),{c(){je(e.$$.fragment)},l(r){Ue(e.$$.fragment,r)},m(r,a){ze(e,r,a),l=!0},p:re,i(r){l||(le(e.$$.fragment,r),l=!0)},o(r){me(e.$$.fragment,r),l=!1},d(r){Le(e,r)}}}function Jo(n){const e=at();return[()=>{e("close")},()=>{e("created")}]}class Yo extends Fe{constructor(e){super(),We(this,e,Jo,Go,Re,{})}}function Fr(n,e,l){const r=n.slice();return r[2]=e[l],r}function Qo(n){let e,l,r,a=n[23]+"",c;return{c(){e=f("div"),l=f("p"),r=T("Errore nel caricamento: "),c=T(a),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);l=h(i,"P",{class:!0});var p=d(l);r=C(p,"Errore nel caricamento: "),c=C(p,a),p.forEach(u),i.forEach(u),this.h()},h(){t(l,"class","text-2xl font-bold font-mono"),t(e,"class","flex flex-col items-center justify-center h-full")},m(s,i){q(s,e,i),o(e,l),o(l,r),o(l,c)},p(s,i){i&8&&a!==(a=s[23]+"")&&de(c,a)},i:re,o:re,d(s){s&&u(e)}}}function Xo(n){let e=[],l=new Map,r,a,c=n[3];const s=i=>i[2].id;for(let i=0;i<c.length;i+=1){let p=Fr(n,c,i),m=s(p);l.set(m,e[i]=Wr(m,p))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=lt()},l(i){for(let p=0;p<e.length;p+=1)e[p].l(i);r=lt()},m(i,p){for(let m=0;m<e.length;m+=1)e[m].m(i,p);q(i,r,p),a=!0},p(i,p){p&264&&(c=i[3],Wt(),e=er(e,p,s,1,i,c,l,r.parentNode,Zr,Wr,r,Fr),Rt())},i(i){if(!a){for(let p=0;p<c.length;p+=1)le(e[p]);a=!0}},o(i){for(let p=0;p<e.length;p+=1)me(e[p]);a=!1},d(i){for(let p=0;p<e.length;p+=1)e[p].d(i);i&&u(r)}}}function Wr(n,e){let l,r,a;return r=new so({props:{turbine:e[2]}}),r.$on("showDetails",e[8]),{key:n,first:null,c(){l=lt(),je(r.$$.fragment),this.h()},l(c){l=lt(),Ue(r.$$.fragment,c),this.h()},h(){this.first=l},m(c,s){q(c,l,s),ze(r,c,s),a=!0},p(c,s){e=c;const i={};s&8&&(i.turbine=e[2]),r.$set(i)},i(c){a||(le(r.$$.fragment,c),a=!0)},o(c){me(r.$$.fragment,c),a=!1},d(c){c&&u(l),Le(r,c)}}}function Zo(n){let e,l,r,a,c;return{c(){e=f("div"),l=f("div"),r=y(),a=f("p"),c=T("Caricamento..."),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);l=h(i,"DIV",{class:!0}),d(l).forEach(u),r=N(i),a=h(i,"P",{class:!0});var p=d(a);c=C(p,"Caricamento..."),p.forEach(u),i.forEach(u),this.h()},h(){t(l,"class","animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"),t(a,"class","text-2xl font-bold font-mono"),t(e,"class","flex flex-col items-center justify-center h-full")},m(s,i){q(s,e,i),o(e,l),o(e,r),o(e,a),o(a,c)},p:re,i:re,o:re,d(s){s&&u(e)}}}function Rr(n){let e,l,r,a,c;return l=new Vo({props:{turbine:n[2]}}),l.$on("closeDetails",n[9]),l.$on("editMode",n[11]),l.$on("deleted",n[10]),{c(){e=f("div"),je(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);Ue(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){q(s,e,i),ze(l,e,null),r=!0,a||(c=[P(e,"click",n[9]),P(e,"keydown",n[9])],a=!0)},p(s,i){const p={};i&4&&(p.turbine=s[2]),l.$set(p)},i(s){r||(le(l.$$.fragment,s),r=!0)},o(s){me(l.$$.fragment,s),r=!1},d(s){s&&u(e),Le(l),a=!1,Ye(c)}}}function Hr(n){let e,l,r,a,c;return l=new qo({props:{turbine:n[2]}}),l.$on("close",n[19]),l.$on("updated",n[14]),{c(){e=f("div"),je(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);Ue(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){q(s,e,i),ze(l,e,null),r=!0,a||(c=[P(e,"click",n[9]),P(e,"keydown",n[9])],a=!0)},p(s,i){const p={};i&4&&(p.turbine=s[2]),l.$set(p)},i(s){r||(le(l.$$.fragment,s),r=!0)},o(s){me(l.$$.fragment,s),r=!1},d(s){s&&u(e),Le(l),a=!1,Ye(c)}}}function Kr(n){let e,l,r,a,c;return l=new Yo({}),l.$on("close",n[20]),l.$on("created",n[13]),{c(){e=f("div"),je(l.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var i=d(e);Ue(l.$$.fragment,i),i.forEach(u),this.h()},h(){t(e,"class","h-full w-full absolute top-0 left-0 bg-gray-800 backdrop-filter bg-opacity-75 backdrop-blur-sm")},m(s,i){q(s,e,i),ze(l,e,null),r=!0,a||(c=[P(e,"click",n[9]),P(e,"keydown",n[9])],a=!0)},p:re,i(s){r||(le(l.$$.fragment,s),r=!0)},o(s){me(l.$$.fragment,s),r=!1},d(s){s&&u(e),Le(l),a=!1,Ye(c)}}}function en(n){let e,l,r,a,c,s,i,p,m,_,w,b,g,v,E,I,k,D,M,$,L,F,R,O,B,A,j,oe,H,ve,ee,ie,ye,S,te,Ne,Te,G={ctx:n,current:null,token:null,hasCatch:!0,pending:Zo,then:Xo,catch:Qo,value:3,error:23,blocks:[,,,]};Il(ve=n[3],G);let x=n[4]&&Rr(n),Q=n[5]&&Hr(n),J=n[6]&&Kr(n);return{c(){e=f("div"),l=f("section"),r=f("div"),a=f("input"),c=y(),s=f("input"),i=y(),p=f("div"),m=y(),_=f("div"),w=f("p"),b=T(n[7]),g=T(" risultati"),v=y(),E=f("div"),I=f("button"),k=U("svg"),D=U("path"),M=U("polyline"),$=U("line"),L=U("line"),F=U("polyline"),R=y(),O=f("button"),B=U("svg"),A=U("line"),j=U("line"),oe=y(),H=f("section"),G.block.c(),ee=y(),x&&x.c(),ie=y(),Q&&Q.c(),ye=y(),J&&J.c(),this.h()},l(ce){e=h(ce,"DIV",{class:!0});var X=d(e);l=h(X,"SECTION",{class:!0});var Oe=d(l);r=h(Oe,"DIV",{class:!0});var Z=d(r);a=h(Z,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),c=N(Z),s=h(Z,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0}),i=N(Z),p=h(Z,"DIV",{class:!0}),d(p).forEach(u),Z.forEach(u),Oe.forEach(u),m=N(X),_=h(X,"DIV",{class:!0});var _e=d(_);w=h(_e,"P",{class:!0});var ke=d(w);b=C(ke,n[7]),g=C(ke," risultati"),ke.forEach(u),v=N(_e),E=h(_e,"DIV",{class:!0});var be=d(E);I=h(be,"BUTTON",{class:!0});var we=d(I);k=z(we,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var De=d(k);D=z(De,"path",{d:!0}),d(D).forEach(u),M=z(De,"polyline",{points:!0}),d(M).forEach(u),$=z(De,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d($).forEach(u),L=z(De,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(L).forEach(u),F=z(De,"polyline",{points:!0}),d(F).forEach(u),De.forEach(u),we.forEach(u),R=N(be),O=h(be,"BUTTON",{class:!0});var he=d(O);B=z(he,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var K=d(B);A=z(K,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(A).forEach(u),j=z(K,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),d(j).forEach(u),K.forEach(u),he.forEach(u),be.forEach(u),_e.forEach(u),oe=N(X),H=h(X,"SECTION",{class:!0});var Y=d(H);G.block.l(Y),ee=N(Y),x&&x.l(Y),ie=N(Y),Q&&Q.l(Y),ye=N(Y),J&&J.l(Y),Y.forEach(u),X.forEach(u),this.h()},h(){t(a,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-amber-400 focus:shadow-outline"),t(a,"type","text"),t(a,"id","turbineName"),t(a,"name","turbineName"),t(a,"placeholder","Cerca"),t(s,"class","appearance-none bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-sm md:rounded-md focus:outline-none focus:ring-2 ring-amber-400 focus:shadow-outline"),t(s,"type","text"),t(s,"id","turbineName"),t(s,"name","turbineName"),t(s,"placeholder","Anno"),t(p,"class","hidden md:flex justify-end w-full text-end text-2xl font-bold font-mono"),t(r,"class","flex flex-col md:flex-row gap-2"),t(l,"class","mt-5 md:ml-5"),t(w,"class","font-mono text-lg"),t(D,"d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"),t(M,"points","14 2 14 8 20 8"),t($,"x1","16"),t($,"y1","13"),t($,"x2","8"),t($,"y2","13"),t(L,"x1","16"),t(L,"y1","17"),t(L,"x2","8"),t(L,"y2","17"),t(F,"points","10 9 9 9 8 9"),t(k,"xmlns","http://www.w3.org/2000/svg"),t(k,"width","22"),t(k,"height","22"),t(k,"viewBox","0 0 24 24"),t(k,"fill","none"),t(k,"stroke","currentColor"),t(k,"stroke-width","2"),t(k,"stroke-linecap","round"),t(k,"stroke-linejoin","round"),t(k,"class","feather feather-file-text group-hover:rotate-12 group-hover:transition-transform group-hover:duration-500"),t(I,"class","bg-blue-500 rounded p-2 ring-2 ring-gray-300 hover:bg-blue-400 hover:ring-gray-200 group"),t(A,"x1","12"),t(A,"y1","5"),t(A,"x2","12"),t(A,"y2","19"),t(j,"x1","5"),t(j,"y1","12"),t(j,"x2","19"),t(j,"y2","12"),t(B,"xmlns","http://www.w3.org/2000/svg"),t(B,"width","22"),t(B,"height","22"),t(B,"viewBox","0 0 24 24"),t(B,"fill","none"),t(B,"stroke","currentColor"),t(B,"stroke-width","2"),t(B,"stroke-linecap","round"),t(B,"stroke-linejoin","round"),t(B,"class","feather feather-plus group-hover:rotate-90 transition-all duration-300 ease-in-out"),t(O,"class","bg-green-500 rounded p-2 ring-2 ring-gray-300 hover:bg-green-400 hover:ring-gray-200 group"),t(E,"class","justify-end flex flex-row gap-4"),t(_,"class","flex flex-row justify-between items-center my-4 mx-4 md:mx-6"),t(H,"class","max-h-[24rem] md:max-h-[36rem] md:p-4 overflow-y-scroll overflow-x-hidden scrollbar-none snap-mandatory snap-y"),t(e,"class","md:mt-16")},m(ce,X){q(ce,e,X),o(e,l),o(l,r),o(r,a),Dl(a,n[0]),o(r,c),o(r,s),Dl(s,n[1]),o(r,i),o(r,p),o(e,m),o(e,_),o(_,w),o(w,b),o(w,g),o(_,v),o(_,E),o(E,I),o(I,k),o(k,D),o(k,M),o(k,$),o(k,L),o(k,F),o(E,R),o(E,O),o(O,B),o(B,A),o(B,j),o(e,oe),o(e,H),G.block.m(H,G.anchor=null),G.mount=()=>H,G.anchor=ee,o(H,ee),x&&x.m(H,null),o(H,ie),Q&&Q.m(H,null),o(H,ye),J&&J.m(H,null),te=!0,Ne||(Te=[P(a,"input",n[17]),P(s,"input",n[18]),P(I,"click",n[15]),P(O,"click",n[12])],Ne=!0)},p(ce,[X]){n=ce,X&1&&a.value!==n[0]&&Dl(a,n[0]),X&2&&s.value!==n[1]&&Dl(s,n[1]),(!te||X&128)&&de(b,n[7]),G.ctx=n,X&8&&ve!==(ve=n[3])&&Il(ve,G)||qr(G,n,X),n[4]?x?(x.p(n,X),X&16&&le(x,1)):(x=Rr(n),x.c(),le(x,1),x.m(H,ie)):x&&(Wt(),me(x,1,1,()=>{x=null}),Rt()),n[5]?Q?(Q.p(n,X),X&32&&le(Q,1)):(Q=Hr(n),Q.c(),le(Q,1),Q.m(H,ye)):Q&&(Wt(),me(Q,1,1,()=>{Q=null}),Rt()),n[6]?J?(J.p(n,X),X&64&&le(J,1)):(J=Kr(n),J.c(),le(J,1),J.m(H,null)):J&&(Wt(),me(J,1,1,()=>{J=null}),Rt())},i(ce){te||(le(G.block),le(x),le(Q),le(J),Ge(()=>{S||(S=Ft(e,Je,{duration:200},!0)),S.run(1)}),te=!0)},o(ce){for(let X=0;X<3;X+=1){const Oe=G.blocks[X];me(Oe)}me(x),me(Q),me(J),S||(S=Ft(e,Je,{duration:200},!1)),S.run(0),te=!1},d(ce){ce&&u(e),G.block.d(),G.token=null,G=null,x&&x.d(),Q&&Q.d(),J&&J.d(),ce&&S&&S.end(),Ne=!1,Ye(Te)}}}function tn(n,e,l){let r,a,c=!1,s={},i=[];Sl(()=>{Zt().then(O=>{l(16,i=O)})});const p=O=>{const B=O.detail;l(2,s=i.find(A=>A.id===B)),l(4,c=!0),l(5,w=!1)},m=()=>{Zt().then(O=>{l(16,i=O),l(4,c=!1)})},_=()=>{l(4,c=!1),Zt().then(O=>{l(16,i=O)})};let w=!1;const b=O=>{const B=O.detail;l(2,s=i.find(A=>A.id===B)),l(4,c=!1),l(5,w=!0)};let g=!1;const v=()=>{l(6,g=!0),l(4,c=!1),l(5,w=!1)},E=()=>{l(6,g=!1),l(4,c=!1),l(5,w=!1),Zt().then(O=>{console.log("Updating with: ",O),l(16,i=O)})},I=()=>{Zt().then(O=>{l(16,i=O),l(5,w=!1)})},k=()=>{fo().then(O=>{const B=new Blob([O.data],{type:"text/csv"}),A=window.URL.createObjectURL(B),j=document.createElement("a");j.href=A,j.download="export.csv",j.click()})};let D="",M=new Date().getFullYear().toString();function $(){D=this.value,l(0,D)}function L(){M=this.value,l(1,M)}const F=()=>l(5,w=!1),R=()=>l(6,g=!1);return n.$$.update=()=>{n.$$.dirty&65539&&l(3,r=i.filter(O=>(O.description.toLowerCase().includes(D.toLowerCase())||O.turbineName.toLowerCase().includes(D.toLowerCase())||O.turbineNumber.toLowerCase().includes(D.toLowerCase()))&&O.creationDate.includes(M))),n.$$.dirty&8&&l(7,a=r.length)},[D,M,s,r,c,w,g,a,p,m,_,b,v,E,I,k,i,$,L,F,R]}class on extends Fe{constructor(e){super(),We(this,e,tn,en,Re,{})}}export{on as default};
